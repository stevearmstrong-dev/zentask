var s_=Object.defineProperty;var o_=(n,e,t)=>e in n?s_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var be=(n,e,t)=>o_(n,typeof e!="symbol"?e+"":e,t);function a_(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Nd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function l_(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Cu={exports:{}},qs={},ju={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function c_(){if(Up)return Ce;Up=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function x(R,W,Q){this.props=R,this.context=W,this.refs=S,this.updater=Q||_}x.prototype.isReactComponent={},x.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},x.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=x.prototype;function N(R,W,Q){this.props=R,this.context=W,this.refs=S,this.updater=Q||_}var j=N.prototype=new E;j.constructor=N,b(j,x.prototype),j.isPureReactComponent=!0;var O=Array.isArray,D=Object.prototype.hasOwnProperty,I={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function $(R,W,Q){var me,de={},Te=null,he=null;if(W!=null)for(me in W.ref!==void 0&&(he=W.ref),W.key!==void 0&&(Te=""+W.key),W)D.call(W,me)&&!P.hasOwnProperty(me)&&(de[me]=W[me]);var je=arguments.length-2;if(je===1)de.children=Q;else if(1<je){for(var Ee=Array(je),ze=0;ze<je;ze++)Ee[ze]=arguments[ze+2];de.children=Ee}if(R&&R.defaultProps)for(me in je=R.defaultProps,je)de[me]===void 0&&(de[me]=je[me]);return{$$typeof:n,type:R,key:Te,ref:he,props:de,_owner:I.current}}function L(R,W){return{$$typeof:n,type:R.type,key:W,ref:R.ref,props:R.props,_owner:R._owner}}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function B(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return W[Q]})}var V=/\/+/g;function ne(R,W){return typeof R=="object"&&R!==null&&R.key!=null?B(""+R.key):W.toString(36)}function ae(R,W,Q,me,de){var Te=typeof R;(Te==="undefined"||Te==="boolean")&&(R=null);var he=!1;if(R===null)he=!0;else switch(Te){case"string":case"number":he=!0;break;case"object":switch(R.$$typeof){case n:case e:he=!0}}if(he)return he=R,de=de(he),R=me===""?"."+ne(he,0):me,O(de)?(Q="",R!=null&&(Q=R.replace(V,"$&/")+"/"),ae(de,W,Q,"",function(ze){return ze})):de!=null&&(F(de)&&(de=L(de,Q+(!de.key||he&&he.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+R)),W.push(de)),1;if(he=0,me=me===""?".":me+":",O(R))for(var je=0;je<R.length;je++){Te=R[je];var Ee=me+ne(Te,je);he+=ae(Te,W,Q,Ee,de)}else if(Ee=v(R),typeof Ee=="function")for(R=Ee.call(R),je=0;!(Te=R.next()).done;)Te=Te.value,Ee=me+ne(Te,je++),he+=ae(Te,W,Q,Ee,de);else if(Te==="object")throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return he}function oe(R,W,Q){if(R==null)return R;var me=[],de=0;return ae(R,me,"","",function(Te){return W.call(Q,Te,de++)}),me}function fe(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var le={current:null},G={transition:null},Z={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:G,ReactCurrentOwner:I};return Ce.Children={map:oe,forEach:function(R,W,Q){oe(R,function(){W.apply(this,arguments)},Q)},count:function(R){var W=0;return oe(R,function(){W++}),W},toArray:function(R){return oe(R,function(W){return W})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ce.Component=x,Ce.Fragment=t,Ce.Profiler=s,Ce.PureComponent=N,Ce.StrictMode=r,Ce.Suspense=d,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ce.cloneElement=function(R,W,Q){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var me=b({},R.props),de=R.key,Te=R.ref,he=R._owner;if(W!=null){if(W.ref!==void 0&&(Te=W.ref,he=I.current),W.key!==void 0&&(de=""+W.key),R.type&&R.type.defaultProps)var je=R.type.defaultProps;for(Ee in W)D.call(W,Ee)&&!P.hasOwnProperty(Ee)&&(me[Ee]=W[Ee]===void 0&&je!==void 0?je[Ee]:W[Ee])}var Ee=arguments.length-2;if(Ee===1)me.children=Q;else if(1<Ee){je=Array(Ee);for(var ze=0;ze<Ee;ze++)je[ze]=arguments[ze+2];me.children=je}return{$$typeof:n,type:R.type,key:de,ref:Te,props:me,_owner:he}},Ce.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},Ce.createElement=$,Ce.createFactory=function(R){var W=$.bind(null,R);return W.type=R,W},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(R){return{$$typeof:c,render:R}},Ce.isValidElement=F,Ce.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:fe}},Ce.memo=function(R,W){return{$$typeof:h,type:R,compare:W===void 0?null:W}},Ce.startTransition=function(R){var W=G.transition;G.transition={};try{R()}finally{G.transition=W}},Ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.useCallback=function(R,W){return le.current.useCallback(R,W)},Ce.useContext=function(R){return le.current.useContext(R)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(R){return le.current.useDeferredValue(R)},Ce.useEffect=function(R,W){return le.current.useEffect(R,W)},Ce.useId=function(){return le.current.useId()},Ce.useImperativeHandle=function(R,W,Q){return le.current.useImperativeHandle(R,W,Q)},Ce.useInsertionEffect=function(R,W){return le.current.useInsertionEffect(R,W)},Ce.useLayoutEffect=function(R,W){return le.current.useLayoutEffect(R,W)},Ce.useMemo=function(R,W){return le.current.useMemo(R,W)},Ce.useReducer=function(R,W,Q){return le.current.useReducer(R,W,Q)},Ce.useRef=function(R){return le.current.useRef(R)},Ce.useState=function(R){return le.current.useState(R)},Ce.useSyncExternalStore=function(R,W,Q){return le.current.useSyncExternalStore(R,W,Q)},Ce.useTransition=function(){return le.current.useTransition()},Ce.version="18.0.0-fc46dba67-20220329",Ce}var Hp;function Od(){return Hp||(Hp=1,ju.exports=c_()),ju.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function u_(){if(Wp)return qs;Wp=1;var n=Od(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var p,y={},v=null,_=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(_=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(y[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)y[p]===void 0&&(y[p]=d[p]);return{$$typeof:e,type:c,key:v,ref:_,props:y,_owner:s.current}}return qs.Fragment=t,qs.jsx=l,qs.jsxs=l,qs}var Vp;function d_(){return Vp||(Vp=1,Cu.exports=u_()),Cu.exports}var m=d_(),T=Od();const Ye=Nd(T);var Ha={},Nu={exports:{}},Wt={},Ou={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function h_(){return qp||(qp=1,(function(n){function e(G,Z){var R=G.length;G.push(Z);e:for(;0<R;){var W=R-1>>>1,Q=G[W];if(0<s(Q,Z))G[W]=Z,G[R]=Q,R=W;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Z=G[0],R=G.pop();if(R!==Z){G[0]=R;e:for(var W=0,Q=G.length,me=Q>>>1;W<me;){var de=2*(W+1)-1,Te=G[de],he=de+1,je=G[he];if(0>s(Te,R))he<Q&&0>s(je,Te)?(G[W]=je,G[he]=R,W=he):(G[W]=Te,G[de]=R,W=de);else if(he<Q&&0>s(je,R))G[W]=je,G[he]=R,W=he;else break e}}return Z}function s(G,Z){var R=G.sortIndex-Z.sortIndex;return R!==0?R:G.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,y=null,v=3,_=!1,b=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var Z=t(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=G)r(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(h)}}function O(G){if(S=!1,j(G),!b)if(t(d)!==null)b=!0,fe(D);else{var Z=t(h);Z!==null&&le(O,Z.startTime-G)}}function D(G,Z){b=!1,S&&(S=!1,E($),$=-1),_=!0;var R=v;try{for(j(Z),y=t(d);y!==null&&(!(y.expirationTime>Z)||G&&!B());){var W=y.callback;if(typeof W=="function"){y.callback=null,v=y.priorityLevel;var Q=W(y.expirationTime<=Z);Z=n.unstable_now(),typeof Q=="function"?y.callback=Q:y===t(d)&&r(d),j(Z)}else r(d);y=t(d)}if(y!==null)var me=!0;else{var de=t(h);de!==null&&le(O,de.startTime-Z),me=!1}return me}finally{y=null,v=R,_=!1}}var I=!1,P=null,$=-1,L=5,F=-1;function B(){return!(n.unstable_now()-F<L)}function V(){if(P!==null){var G=n.unstable_now();F=G;var Z=!0;try{Z=P(!0,G)}finally{Z?ne():(I=!1,P=null)}}else I=!1}var ne;if(typeof N=="function")ne=function(){N(V)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=V,ne=function(){oe.postMessage(null)}}else ne=function(){x(V,0)};function fe(G){P=G,I||(I=!0,ne())}function le(G,Z){$=x(function(){G(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){b||_||(b=!0,fe(D))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var R=v;v=Z;try{return G()}finally{v=R}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var R=v;v=G;try{return Z()}finally{v=R}},n.unstable_scheduleCallback=function(G,Z,R){var W=n.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?W+R:W):R=W,G){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=R+Q,G={id:p++,callback:Z,priorityLevel:G,startTime:R,expirationTime:Q,sortIndex:-1},R>W?(G.sortIndex=R,e(h,G),t(d)===null&&G===t(h)&&(S?(E($),$=-1):S=!0,le(O,R-W))):(G.sortIndex=Q,e(d,G),b||_||(b=!0,fe(D))),G},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(G){var Z=v;return function(){var R=v;v=Z;try{return G.apply(this,arguments)}finally{v=R}}}})(Ru)),Ru}var Kp;function f_(){return Kp||(Kp=1,Ou.exports=h_()),Ou.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function p_(){if(Yp)return Wt;Yp=1;var n=Od(),e=f_();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function v(i){return d.call(y,i)?!0:d.call(p,i)?!1:h.test(i)?y[i]=!0:(p[i]=!0,!1)}function _(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,u,f){if(o===null||typeof o>"u"||_(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(i,o,u,f,g,w,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=k}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];x[o]=new S(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(E,N);x[o]=new S(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(E,N);x[o]=new S(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(E,N);x[o]=new S(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,o,u,f){var g=x.hasOwnProperty(o)?x[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,g,f)&&(u=null),f||g===null?v(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),B=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),G=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var R=Object.assign,W;function Q(i){if(W===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+i}var me=!1;function de(i,o){if(!i||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var f=H}Reflect.construct(i,[],o)}else{try{o.call()}catch(H){f=H}i.call(o.prototype)}else{try{throw Error()}catch(H){f=H}i()}}catch(H){if(H&&f&&typeof H.stack=="string"){for(var g=H.stack.split(`
`),w=f.stack.split(`
`),k=g.length-1,C=w.length-1;1<=k&&0<=C&&g[k]!==w[C];)C--;for(;1<=k&&0<=C;k--,C--)if(g[k]!==w[C]){if(k!==1||C!==1)do if(k--,C--,0>C||g[k]!==w[C]){var A=`
`+g[k].replace(" at new "," at ");return i.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",i.displayName)),A}while(1<=k&&0<=C);break}}}finally{me=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Q(i):""}function Te(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=de(i.type,!1),i;case 11:return i=de(i.type.render,!1),i;case 1:return i=de(i.type,!0),i;default:return""}}function he(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case I:return"Portal";case L:return"Profiler";case $:return"StrictMode";case ne:return"Suspense";case ae:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case B:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case V:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case oe:return o=i.displayName||null,o!==null?o:he(i.type)||"Memo";case fe:o=i._payload,i=i._init;try{return he(i(o))}catch{}}return null}function je(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(o);case 8:return o===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ze(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function De(i){var o=ze(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(k){f=""+k,w.call(this,k)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function mn(i){i._valueTracker||(i._valueTracker=De(i))}function yt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=ze(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function Mt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function q(i,o){var u=o.checked;return R({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ee(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ee(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function _e(i,o){o=o.checked,o!=null&&j(i,"checked",o,!1)}function re(i,o){_e(i,o);var u=Ee(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?we(i,o.type,u):o.hasOwnProperty("defaultValue")&&we(i,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ke(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function we(i,o,u){(o!=="number"||Mt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Oe=Array.isArray;function nt(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Ee(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function vt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return R({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function On(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Oe(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ee(u)}}function Wn(i,o){var u=Ee(o.value),f=Ee(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Fr(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ro(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ro(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var yn,lr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(yn=yn||document.createElement("div"),yn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=yn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function cr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Po=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(i){Po.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),It[o]=It[i]})});function Do(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||It.hasOwnProperty(i)&&It[i]?(""+o).trim():o+"px"}function Ao(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=Do(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var as=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fi(i,o){if(o){if(as[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ls(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function cs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var us=null,ur=null,Ge=null;function wt(i){if(i=Os(i)){if(typeof us!="function")throw Error(t(280));var o=i.stateNode;o&&(o=ea(o),us(i.stateNode,i.type,o))}}function _t(i){ur?Ge?Ge.push(i):Ge=[i]:ur=i}function vn(){if(ur){var i=ur,o=Ge;if(Ge=ur=null,wt(i),o)for(i=0;i<o.length;i++)wt(o[i])}}function Ot(i,o){return i(o)}function bt(){}var Lt=!1;function Vn(i,o,u){if(Lt)return i(o,u);Lt=!0;try{return Ot(i,o,u)}finally{Lt=!1,(ur!==null||Ge!==null)&&(bt(),vn())}}function Je(i,o){var u=i.stateNode;if(u===null)return null;var f=ea(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var tn=!1;if(c)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){tn=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{tn=!1}function wn(i,o,u,f,g,w,k,C,A){var H=Array.prototype.slice.call(arguments,3);try{o.apply(u,H)}catch(K){this.onError(K)}}var _n=!1,Pn=null,Yt=!1,qn=null,ds={onError:function(i){_n=!0,Pn=i}};function f0(i,o,u,f,g,w,k,C,A){_n=!1,Pn=null,wn.apply(ds,arguments)}function p0(i,o,u,f,g,w,k,C,A){if(f0.apply(this,arguments),_n){if(_n){var H=Pn;_n=!1,Pn=null}else throw Error(t(198));Yt||(Yt=!0,qn=H)}}function zr(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function hh(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function fh(i){if(zr(i)!==i)throw Error(t(188))}function g0(i){var o=i.alternate;if(!o){if(o=zr(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return fh(g),i;if(w===f)return fh(g),o;w=w.sibling}throw Error(t(188))}if(u.return!==f.return)u=g,f=w;else{for(var k=!1,C=g.child;C;){if(C===u){k=!0,u=g,f=w;break}if(C===f){k=!0,f=g,u=w;break}C=C.sibling}if(!k){for(C=w.child;C;){if(C===u){k=!0,u=w,f=g;break}if(C===f){k=!0,f=w,u=g;break}C=C.sibling}if(!k)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function ph(i){return i=g0(i),i!==null?gh(i):null}function gh(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=gh(i);if(o!==null)return o;i=i.sibling}return null}var mh=e.unstable_scheduleCallback,yh=e.unstable_cancelCallback,m0=e.unstable_shouldYield,y0=e.unstable_requestPaint,et=e.unstable_now,v0=e.unstable_getCurrentPriorityLevel,Ql=e.unstable_ImmediatePriority,vh=e.unstable_UserBlockingPriority,Mo=e.unstable_NormalPriority,w0=e.unstable_LowPriority,wh=e.unstable_IdlePriority,Io=null,Dn=null;function _0(i){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Io,i,void 0,(i.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:S0,b0=Math.log,x0=Math.LN2;function S0(i){return i>>>=0,i===0?32:31-(b0(i)/x0|0)|0}var Lo=64,$o=4194304;function hs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Fo(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,w=i.pingedLanes,k=u&268435455;if(k!==0){var C=k&~g;C!==0?f=hs(C):(w&=k,w!==0&&(f=hs(w)))}else k=u&~g,k!==0?f=hs(k):w!==0&&(f=hs(w));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-bn(o),g=1<<u,f|=i[u],o&=~g;return f}function k0(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E0(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes;0<w;){var k=31-bn(w),C=1<<k,A=g[k];A===-1?((C&u)===0||(C&f)!==0)&&(g[k]=k0(C,o)):A<=o&&(i.expiredLanes|=C),w&=~C}}function Zl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ec(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function fs(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-bn(o),i[o]=u}function T0(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-bn(u),w=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~w}}function tc(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-bn(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Ie=0;function _h(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var bh,nc,xh,Sh,kh,rc=!1,zo=[],dr=null,hr=null,fr=null,ps=new Map,gs=new Map,pr=[],C0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eh(i,o){switch(i){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":ps.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(o.pointerId)}}function ms(i,o,u,f,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},o!==null&&(o=Os(o),o!==null&&nc(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function j0(i,o,u,f,g){switch(o){case"focusin":return dr=ms(dr,i,o,u,f,g),!0;case"dragenter":return hr=ms(hr,i,o,u,f,g),!0;case"mouseover":return fr=ms(fr,i,o,u,f,g),!0;case"pointerover":var w=g.pointerId;return ps.set(w,ms(ps.get(w)||null,i,o,u,f,g)),!0;case"gotpointercapture":return w=g.pointerId,gs.set(w,ms(gs.get(w)||null,i,o,u,f,g)),!0}return!1}function Th(i){var o=Br(i.target);if(o!==null){var u=zr(o);if(u!==null){if(o=u.tag,o===13){if(o=hh(u),o!==null){i.blockedOn=o,kh(i.priority,function(){xh(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bo(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=sc(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);pi=f,u.target.dispatchEvent(f),pi=null}else return o=Os(u),o!==null&&nc(o),i.blockedOn=u,!1;o.shift()}return!0}function Ch(i,o,u){Bo(i)&&u.delete(o)}function N0(){rc=!1,dr!==null&&Bo(dr)&&(dr=null),hr!==null&&Bo(hr)&&(hr=null),fr!==null&&Bo(fr)&&(fr=null),ps.forEach(Ch),gs.forEach(Ch)}function ys(i,o){i.blockedOn===o&&(i.blockedOn=null,rc||(rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,N0)))}function vs(i){function o(g){return ys(g,i)}if(0<zo.length){ys(zo[0],i);for(var u=1;u<zo.length;u++){var f=zo[u];f.blockedOn===i&&(f.blockedOn=null)}}for(dr!==null&&ys(dr,i),hr!==null&&ys(hr,i),fr!==null&&ys(fr,i),ps.forEach(o),gs.forEach(o),u=0;u<pr.length;u++)f=pr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<pr.length&&(u=pr[0],u.blockedOn===null);)Th(u),u.blockedOn===null&&pr.shift()}var gi=O.ReactCurrentBatchConfig;function O0(i,o,u,f){var g=Ie,w=gi.transition;gi.transition=null;try{Ie=1,ic(i,o,u,f)}finally{Ie=g,gi.transition=w}}function R0(i,o,u,f){var g=Ie,w=gi.transition;gi.transition=null;try{Ie=4,ic(i,o,u,f)}finally{Ie=g,gi.transition=w}}function ic(i,o,u,f){var g=sc(i,o,u,f);if(g===null)xc(i,o,f,Uo,u),Eh(i,f);else if(j0(g,i,o,u,f))f.stopPropagation();else if(Eh(i,f),o&4&&-1<C0.indexOf(i)){for(;g!==null;){var w=Os(g);if(w!==null&&bh(w),w=sc(i,o,u,f),w===null&&xc(i,o,f,Uo,u),w===g)break;g=w}g!==null&&f.stopPropagation()}else xc(i,o,f,null,u)}var Uo=null;function sc(i,o,u,f){if(Uo=null,i=cs(f),i=Br(i),i!==null)if(o=zr(i),o===null)i=null;else if(u=o.tag,u===13){if(i=hh(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Uo=i,null}function jh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v0()){case Ql:return 1;case vh:return 4;case Mo:case w0:return 16;case wh:return 536870912;default:return 16}default:return 16}}var gr=null,oc=null,Ho=null;function Nh(){if(Ho)return Ho;var i,o=oc,u=o.length,f,g="value"in gr?gr.value:gr.textContent,w=g.length;for(i=0;i<u&&o[i]===g[i];i++);var k=u-i;for(f=1;f<=k&&o[u-f]===g[w-f];f++);return Ho=g.slice(i,1<f?1-f:void 0)}function Wo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Vo(){return!0}function Oh(){return!1}function Gt(i){function o(u,f,g,w,k){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(w):w[C]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Vo:Oh,this.isPropagationStopped=Oh,this}return R(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),o}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=Gt(mi),ws=R({},mi,{view:0,detail:0}),P0=Gt(ws),lc,cc,_s,qo=R({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_s&&(_s&&i.type==="mousemove"?(lc=i.screenX-_s.screenX,cc=i.screenY-_s.screenY):cc=lc=0,_s=i),lc)},movementY:function(i){return"movementY"in i?i.movementY:cc}}),Rh=Gt(qo),D0=R({},qo,{dataTransfer:0}),A0=Gt(D0),M0=R({},ws,{relatedTarget:0}),uc=Gt(M0),I0=R({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=Gt(I0),$0=R({},mi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),F0=Gt($0),z0=R({},mi,{data:0}),Ph=Gt(z0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=H0[i])?!!o[i]:!1}function dc(){return W0}var V0=R({},ws,{key:function(i){if(i.key){var o=B0[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Wo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?U0[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(i){return i.type==="keypress"?Wo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),q0=Gt(V0),K0=R({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=Gt(K0),Y0=R({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),G0=Gt(Y0),J0=R({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),X0=Gt(J0),Q0=R({},qo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=Gt(Q0),ew=[9,13,27,32],hc=c&&"CompositionEvent"in window,bs=null;c&&"documentMode"in document&&(bs=document.documentMode);var tw=c&&"TextEvent"in window&&!bs,Ah=c&&(!hc||bs&&8<bs&&11>=bs),Mh=" ",Ih=!1;function Lh(i,o){switch(i){case"keyup":return ew.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $h(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yi=!1;function nw(i,o){switch(i){case"compositionend":return $h(o);case"keypress":return o.which!==32?null:(Ih=!0,Mh);case"textInput":return i=o.data,i===Mh&&Ih?null:i;default:return null}}function rw(i,o){if(yi)return i==="compositionend"||!hc&&Lh(i,o)?(i=Nh(),Ho=oc=gr=null,yi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ah&&o.locale!=="ko"?null:o.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!iw[i.type]:o==="textarea"}function zh(i,o,u,f){_t(f),o=Xo(o,"onChange"),0<o.length&&(u=new ac("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var xs=null,Ss=null;function sw(i){sf(i,0)}function Ko(i){var o=xi(i);if(yt(o))return i}function ow(i,o){if(i==="change")return o}var Bh=!1;if(c){var fc;if(c){var pc="oninput"in document;if(!pc){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),pc=typeof Uh.oninput=="function"}fc=pc}else fc=!1;Bh=fc&&(!document.documentMode||9<document.documentMode)}function Hh(){xs&&(xs.detachEvent("onpropertychange",Wh),Ss=xs=null)}function Wh(i){if(i.propertyName==="value"&&Ko(Ss)){var o=[];zh(o,Ss,i,cs(i)),Vn(sw,o)}}function aw(i,o,u){i==="focusin"?(Hh(),xs=o,Ss=u,xs.attachEvent("onpropertychange",Wh)):i==="focusout"&&Hh()}function lw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ko(Ss)}function cw(i,o){if(i==="click")return Ko(o)}function uw(i,o){if(i==="input"||i==="change")return Ko(o)}function dw(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var An=typeof Object.is=="function"?Object.is:dw;function ks(i,o){if(An(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!d.call(o,g)||!An(i[g],o[g]))return!1}return!0}function Vh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qh(i,o){var u=Vh(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Vh(u)}}function Kh(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Kh(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Yh(){for(var i=window,o=Mt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Mt(i.document)}return o}function gc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function hw(i){var o=Yh(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Kh(u.ownerDocument.documentElement,u)){if(f!==null&&gc(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!i.extend&&w>f&&(g=f,f=w,w=g),g=qh(u,w);var k=qh(u,f);g&&k&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),w>f?(i.addRange(o),i.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var fw=c&&"documentMode"in document&&11>=document.documentMode,vi=null,mc=null,Es=null,yc=!1;function Gh(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;yc||vi==null||vi!==Mt(f)||(f=vi,"selectionStart"in f&&gc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Es&&ks(Es,f)||(Es=f,f=Xo(mc,"onSelect"),0<f.length&&(o=new ac("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=vi)))}function Yo(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var wi={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionend:Yo("Transition","TransitionEnd")},vc={},Jh={};c&&(Jh=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Go(i){if(vc[i])return vc[i];if(!wi[i])return i;var o=wi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Jh)return vc[i]=o[u];return i}var Xh=Go("animationend"),Qh=Go("animationiteration"),Zh=Go("animationstart"),ef=Go("transitionend"),tf=new Map,nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(i,o){tf.set(i,o),a(o,[i])}for(var wc=0;wc<nf.length;wc++){var _c=nf[wc],pw=_c.toLowerCase(),gw=_c[0].toUpperCase()+_c.slice(1);mr(pw,"on"+gw)}mr(Xh,"onAnimationEnd"),mr(Qh,"onAnimationIteration"),mr(Zh,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(ef,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function rf(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,p0(f,o,void 0,i),i.currentTarget=null}function sf(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var k=f.length-1;0<=k;k--){var C=f[k],A=C.instance,H=C.currentTarget;if(C=C.listener,A!==w&&g.isPropagationStopped())break e;rf(g,C,H),w=A}else for(k=0;k<f.length;k++){if(C=f[k],A=C.instance,H=C.currentTarget,C=C.listener,A!==w&&g.isPropagationStopped())break e;rf(g,C,H),w=A}}}if(Yt)throw i=qn,Yt=!1,qn=null,i}function He(i,o){var u=o[Cc];u===void 0&&(u=o[Cc]=new Set);var f=i+"__bubble";u.has(f)||(of(o,i,2,!1),u.add(f))}function bc(i,o,u){var f=0;o&&(f|=4),of(u,i,f,o)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function Cs(i){if(!i[Jo]){i[Jo]=!0,r.forEach(function(u){u!=="selectionchange"&&(mw.has(u)||bc(u,!1,i),bc(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Jo]||(o[Jo]=!0,bc("selectionchange",!1,o))}}function of(i,o,u,f){switch(jh(o)){case 1:var g=O0;break;case 4:g=R0;break;default:g=ic}u=g.bind(null,o,u,i),g=void 0,!tn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function xc(i,o,u,f,g){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var C=f.stateNode.containerInfo;if(C===g||C.nodeType===8&&C.parentNode===g)break;if(k===4)for(k=f.return;k!==null;){var A=k.tag;if((A===3||A===4)&&(A=k.stateNode.containerInfo,A===g||A.nodeType===8&&A.parentNode===g))return;k=k.return}for(;C!==null;){if(k=Br(C),k===null)return;if(A=k.tag,A===5||A===6){f=w=k;continue e}C=C.parentNode}}f=f.return}Vn(function(){var H=w,K=cs(u),ce=[];e:{var J=tf.get(i);if(J!==void 0){var ie=ac,X=i;switch(i){case"keypress":if(Wo(u)===0)break e;case"keydown":case"keyup":ie=q0;break;case"focusin":X="focus",ie=uc;break;case"focusout":X="blur",ie=uc;break;case"beforeblur":case"afterblur":ie=uc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=A0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=G0;break;case Xh:case Qh:case Zh:ie=L0;break;case ef:ie=X0;break;case"scroll":ie=P0;break;case"wheel":ie=Z0;break;case"copy":case"cut":case"paste":ie=F0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Dh}var Se=(o&4)!==0,Ve=!Se&&i==="scroll",z=Se?J!==null?J+"Capture":null:J;Se=[];for(var M=H,U;M!==null;){U=M;var Y=U.stateNode;if(U.tag===5&&Y!==null&&(U=Y,z!==null&&(Y=Je(M,z),Y!=null&&Se.push(js(M,Y,U)))),Ve)break;M=M.return}0<Se.length&&(J=new ie(J,X,null,u,K),ce.push({event:J,listeners:Se}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",J&&u!==pi&&(X=u.relatedTarget||u.fromElement)&&(Br(X)||X[Yn]))break e;if((ie||J)&&(J=K.window===K?K:(J=K.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(X=u.relatedTarget||u.toElement,ie=H,X=X?Br(X):null,X!==null&&(Ve=zr(X),X!==Ve||X.tag!==5&&X.tag!==6)&&(X=null)):(ie=null,X=H),ie!==X)){if(Se=Rh,Y="onMouseLeave",z="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Dh,Y="onPointerLeave",z="onPointerEnter",M="pointer"),Ve=ie==null?J:xi(ie),U=X==null?J:xi(X),J=new Se(Y,M+"leave",ie,u,K),J.target=Ve,J.relatedTarget=U,Y=null,Br(K)===H&&(Se=new Se(z,M+"enter",X,u,K),Se.target=U,Se.relatedTarget=Ve,Y=Se),Ve=Y,ie&&X)t:{for(Se=ie,z=X,M=0,U=Se;U;U=_i(U))M++;for(U=0,Y=z;Y;Y=_i(Y))U++;for(;0<M-U;)Se=_i(Se),M--;for(;0<U-M;)z=_i(z),U--;for(;M--;){if(Se===z||z!==null&&Se===z.alternate)break t;Se=_i(Se),z=_i(z)}Se=null}else Se=null;ie!==null&&af(ce,J,ie,Se,!1),X!==null&&Ve!==null&&af(ce,Ve,X,Se,!0)}}e:{if(J=H?xi(H):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var se=ow;else if(Fh(J))if(Bh)se=uw;else{se=lw;var pe=aw}else(ie=J.nodeName)&&ie.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(se=cw);if(se&&(se=se(i,H))){zh(ce,se,u,K);break e}pe&&pe(i,J,H),i==="focusout"&&(pe=J._wrapperState)&&pe.controlled&&J.type==="number"&&we(J,"number",J.value)}switch(pe=H?xi(H):window,i){case"focusin":(Fh(pe)||pe.contentEditable==="true")&&(vi=pe,mc=H,Es=null);break;case"focusout":Es=mc=vi=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Gh(ce,u,K);break;case"selectionchange":if(fw)break;case"keydown":case"keyup":Gh(ce,u,K)}var ye;if(hc)e:{switch(i){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else yi?Lh(i,u)&&(ve="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ve="onCompositionStart");ve&&(Ah&&u.locale!=="ko"&&(yi||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&yi&&(ye=Nh()):(gr=K,oc="value"in gr?gr.value:gr.textContent,yi=!0)),pe=Xo(H,ve),0<pe.length&&(ve=new Ph(ve,i,null,u,K),ce.push({event:ve,listeners:pe}),ye?ve.data=ye:(ye=$h(u),ye!==null&&(ve.data=ye)))),(ye=tw?nw(i,u):rw(i,u))&&(H=Xo(H,"onBeforeInput"),0<H.length&&(K=new Ph("onBeforeInput","beforeinput",null,u,K),ce.push({event:K,listeners:H}),K.data=ye))}sf(ce,o)})}function js(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Xo(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Je(i,u),w!=null&&f.unshift(js(i,w,g)),w=Je(i,o),w!=null&&f.push(js(i,w,g))),i=i.return}return f}function _i(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function af(i,o,u,f,g){for(var w=o._reactName,k=[];u!==null&&u!==f;){var C=u,A=C.alternate,H=C.stateNode;if(A!==null&&A===f)break;C.tag===5&&H!==null&&(C=H,g?(A=Je(u,w),A!=null&&k.unshift(js(u,A,C))):g||(A=Je(u,w),A!=null&&k.push(js(u,A,C)))),u=u.return}k.length!==0&&i.push({event:o,listeners:k})}var yw=/\r\n?/g,vw=/\u0000|\uFFFD/g;function lf(i){return(typeof i=="string"?i:""+i).replace(yw,`
`).replace(vw,"")}function Qo(i,o,u){if(o=lf(o),lf(i)!==o&&u)throw Error(t(425))}function Zo(){}var Sc=null;function kc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ec=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(i){return cf.resolve(null).then(i).catch(bw)}:Ec;function bw(i){setTimeout(function(){throw i})}function Tc(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),vs(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);vs(o)}function Kn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function uf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var bi=Math.random().toString(36).slice(2),Mn="__reactFiber$"+bi,Ns="__reactProps$"+bi,Yn="__reactContainer$"+bi,Cc="__reactEvents$"+bi,xw="__reactListeners$"+bi,Sw="__reactHandles$"+bi;function Br(i){var o=i[Mn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Yn]||u[Mn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=uf(i);i!==null;){if(u=i[Mn])return u;i=uf(i)}return o}i=u,u=i.parentNode}return null}function Os(i){return i=i[Mn]||i[Yn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ea(i){return i[Ns]||null}var jc=[],Si=-1;function yr(i){return{current:i}}function We(i){0>Si||(i.current=jc[Si],jc[Si]=null,Si--)}function Be(i,o){Si++,jc[Si]=i.current,i.current=o}var vr={},St=yr(vr),$t=yr(!1),Ur=vr;function ki(i,o){var u=i.type.contextTypes;if(!u)return vr;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=o[w];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Ft(i){return i=i.childContextTypes,i!=null}function ta(){We($t),We(St)}function df(i,o,u){if(St.current!==vr)throw Error(t(168));Be(St,o),Be($t,u)}function hf(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,je(i)||"Unknown",g));return R({},u,f)}function na(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||vr,Ur=St.current,Be(St,i),Be($t,$t.current),!0}function ff(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=hf(i,o,Ur),f.__reactInternalMemoizedMergedChildContext=i,We($t),We(St),Be(St,i)):We($t),Be($t,u)}var Gn=null,ra=!1,Nc=!1;function pf(i){Gn===null?Gn=[i]:Gn.push(i)}function kw(i){ra=!0,pf(i)}function wr(){if(!Nc&&Gn!==null){Nc=!0;var i=0,o=Ie;try{var u=Gn;for(Ie=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Gn=null,ra=!1}catch(g){throw Gn!==null&&(Gn=Gn.slice(i+1)),mh(Ql,wr),g}finally{Ie=o,Nc=!1}}return null}var Ew=O.ReactCurrentBatchConfig;function xn(i,o){if(i&&i.defaultProps){o=R({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}var ia=yr(null),sa=null,Ei=null,Oc=null;function Rc(){Oc=Ei=sa=null}function Pc(i){var o=ia.current;We(ia),i._currentValue=o}function Dc(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Ti(i,o){sa=i,Oc=Ei=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Xt=!0),i.firstContext=null)}function nn(i){var o=i._currentValue;if(Oc!==i)if(i={context:i,memoizedValue:o,next:null},Ei===null){if(sa===null)throw Error(t(308));Ei=i,sa.dependencies={lanes:0,firstContext:i}}else Ei=Ei.next=i;return o}var In=null,_r=!1;function Ac(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gf(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Jn(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function br(i,o){var u=i.updateQueue;u!==null&&(u=u.shared,rt!==null&&(i.mode&1)!==0&&(Ne&2)===0?(i=u.interleaved,i===null?(o.next=o,In===null?In=[u]:In.push(u)):(o.next=i.next,i.next=o),u.interleaved=o):(i=u.pending,i===null?o.next=o:(o.next=i.next,i.next=o),u.pending=o))}function oa(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,tc(i,u)}}function mf(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=k:w=w.next=k,u=u.next}while(u!==null);w===null?g=w=o:w=w.next=o}else g=w=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function aa(i,o,u,f){var g=i.updateQueue;_r=!1;var w=g.firstBaseUpdate,k=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var A=C,H=A.next;A.next=null,k===null?w=H:k.next=H,k=A;var K=i.alternate;K!==null&&(K=K.updateQueue,C=K.lastBaseUpdate,C!==k&&(C===null?K.firstBaseUpdate=H:C.next=H,K.lastBaseUpdate=A))}if(w!==null){var ce=g.baseState;k=0,K=H=A=null,C=w;do{var J=C.lane,ie=C.eventTime;if((f&J)===J){K!==null&&(K=K.next={eventTime:ie,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var X=i,Se=C;switch(J=o,ie=u,Se.tag){case 1:if(X=Se.payload,typeof X=="function"){ce=X.call(ie,ce,J);break e}ce=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=Se.payload,J=typeof X=="function"?X.call(ie,ce,J):X,J==null)break e;ce=R({},ce,J);break e;case 2:_r=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,J=g.effects,J===null?g.effects=[C]:J.push(C))}else ie={eventTime:ie,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},K===null?(H=K=ie,A=ce):K=K.next=ie,k|=J;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;J=C,C=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);if(K===null&&(A=ce),g.baseState=A,g.firstBaseUpdate=H,g.lastBaseUpdate=K,o=g.shared.interleaved,o!==null){g=o;do k|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);Ai|=k,i.lanes=k,i.memoizedState=ce}}function yf(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var vf=new n.Component().refs;function Mc(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:R({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var la={isMounted:function(i){return(i=i._reactInternals)?zr(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Pt(),g=kr(i),w=Jn(f,g);w.payload=o,u!=null&&(w.callback=u),br(i,w),o=ln(i,g,f),o!==null&&oa(o,i,g)},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Pt(),g=kr(i),w=Jn(f,g);w.tag=1,w.payload=o,u!=null&&(w.callback=u),br(i,w),o=ln(i,g,f),o!==null&&oa(o,i,g)},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Pt(),f=kr(i),g=Jn(u,f);g.tag=2,o!=null&&(g.callback=o),br(i,g),o=ln(i,f,u),o!==null&&oa(o,i,f)}};function wf(i,o,u,f,g,w,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,w,k):o.prototype&&o.prototype.isPureReactComponent?!ks(u,f)||!ks(g,w):!0}function _f(i,o,u){var f=!1,g=vr,w=o.contextType;return typeof w=="object"&&w!==null?w=nn(w):(g=Ft(o)?Ur:St.current,f=o.contextTypes,w=(f=f!=null)?ki(i,g):vr),o=new o(u,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=la,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=w),o}function bf(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&la.enqueueReplaceState(o,o.state,null)}function Ic(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs=vf,Ac(i);var w=o.contextType;typeof w=="object"&&w!==null?g.context=nn(w):(w=Ft(o)?Ur:St.current,g.context=ki(i,w)),g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Mc(i,o,w,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&la.enqueueReplaceState(g,g.state,null),aa(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}var Ci=[],ji=0,ca=null,ua=0,rn=[],sn=0,Hr=null,Xn=1,Qn="";function Wr(i,o){Ci[ji++]=ua,Ci[ji++]=ca,ca=i,ua=o}function xf(i,o,u){rn[sn++]=Xn,rn[sn++]=Qn,rn[sn++]=Hr,Hr=i;var f=Xn;i=Qn;var g=32-bn(f)-1;f&=~(1<<g),u+=1;var w=32-bn(o)+g;if(30<w){var k=g-g%5;w=(f&(1<<k)-1).toString(32),f>>=k,g-=k,Xn=1<<32-bn(o)+g|u<<g|f,Qn=w+i}else Xn=1<<w|u<<g|f,Qn=i}function Lc(i){i.return!==null&&(Wr(i,1),xf(i,1,0))}function $c(i){for(;i===ca;)ca=Ci[--ji],Ci[ji]=null,ua=Ci[--ji],Ci[ji]=null;for(;i===Hr;)Hr=rn[--sn],rn[sn]=null,Qn=rn[--sn],rn[sn]=null,Xn=rn[--sn],rn[sn]=null}var Jt=null,zt=null,Ke=!1,Sn=null;function Sf(i,o){var u=cn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function kf(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Jt=i,zt=Kn(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Jt=i,zt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Hr!==null?{id:Xn,overflow:Qn}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=cn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Jt=i,zt=null,!0):!1;default:return!1}}function Fc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function zc(i){if(Ke){var o=zt;if(o){var u=o;if(!kf(i,o)){if(Fc(i))throw Error(t(418));o=Kn(u.nextSibling);var f=Jt;o&&kf(i,o)?Sf(f,u):(i.flags=i.flags&-4097|2,Ke=!1,Jt=i)}}else{if(Fc(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ke=!1,Jt=i}}}function Ef(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Jt=i}function Rs(i){if(i!==Jt)return!1;if(!Ke)return Ef(i),Ke=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!kc(i.type,i.memoizedProps)),o&&(o=zt)){if(Fc(i)){for(i=zt;i;)i=Kn(i.nextSibling);throw Error(t(418))}for(;o;)Sf(i,o),o=Kn(o.nextSibling)}if(Ef(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){zt=Kn(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}zt=null}}else zt=Jt?Kn(i.stateNode.nextSibling):null;return!0}function Ni(){zt=Jt=null,Ke=!1}function Bc(i){Sn===null?Sn=[i]:Sn.push(i)}function Ps(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var g=f,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(k){var C=g.refs;C===vf&&(C=g.refs={}),k===null?delete C[w]:C[w]=k},o._stringRef=w,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function da(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Tf(i){var o=i._init;return o(i._payload)}function Cf(i){function o(z,M){if(i){var U=z.deletions;U===null?(z.deletions=[M],z.flags|=16):U.push(M)}}function u(z,M){if(!i)return null;for(;M!==null;)o(z,M),M=M.sibling;return null}function f(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function g(z,M){return z=Tr(z,M),z.index=0,z.sibling=null,z}function w(z,M,U){return z.index=U,i?(U=z.alternate,U!==null?(U=U.index,U<M?(z.flags|=2,M):U):(z.flags|=2,M)):(z.flags|=1048576,M)}function k(z){return i&&z.alternate===null&&(z.flags|=2),z}function C(z,M,U,Y){return M===null||M.tag!==6?(M=bu(U,z.mode,Y),M.return=z,M):(M=g(M,U),M.return=z,M)}function A(z,M,U,Y){var se=U.type;return se===P?K(z,M,U.props.children,Y,U.key):M!==null&&(M.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===fe&&Tf(se)===M.type)?(Y=g(M,U.props),Y.ref=Ps(z,M,U),Y.return=z,Y):(Y=Ma(U.type,U.key,U.props,null,z.mode,Y),Y.ref=Ps(z,M,U),Y.return=z,Y)}function H(z,M,U,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=xu(U,z.mode,Y),M.return=z,M):(M=g(M,U.children||[]),M.return=z,M)}function K(z,M,U,Y,se){return M===null||M.tag!==7?(M=Xr(U,z.mode,Y,se),M.return=z,M):(M=g(M,U),M.return=z,M)}function ce(z,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return M=bu(""+M,z.mode,U),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return U=Ma(M.type,M.key,M.props,null,z.mode,U),U.ref=Ps(z,null,M),U.return=z,U;case I:return M=xu(M,z.mode,U),M.return=z,M;case fe:var Y=M._init;return ce(z,Y(M._payload),U)}if(Oe(M)||Z(M))return M=Xr(M,z.mode,U,null),M.return=z,M;da(z,M)}return null}function J(z,M,U,Y){var se=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return se!==null?null:C(z,M,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return U.key===se?A(z,M,U,Y):null;case I:return U.key===se?H(z,M,U,Y):null;case fe:return se=U._init,J(z,M,se(U._payload),Y)}if(Oe(U)||Z(U))return se!==null?null:K(z,M,U,Y,null);da(z,U)}return null}function ie(z,M,U,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return z=z.get(U)||null,C(M,z,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return z=z.get(Y.key===null?U:Y.key)||null,A(M,z,Y,se);case I:return z=z.get(Y.key===null?U:Y.key)||null,H(M,z,Y,se);case fe:var pe=Y._init;return ie(z,M,U,pe(Y._payload),se)}if(Oe(Y)||Z(Y))return z=z.get(U)||null,K(M,z,Y,se,null);da(M,Y)}return null}function X(z,M,U,Y){for(var se=null,pe=null,ye=M,ve=M=0,ft=null;ye!==null&&ve<U.length;ve++){ye.index>ve?(ft=ye,ye=null):ft=ye.sibling;var Ae=J(z,ye,U[ve],Y);if(Ae===null){ye===null&&(ye=ft);break}i&&ye&&Ae.alternate===null&&o(z,ye),M=w(Ae,M,ve),pe===null?se=Ae:pe.sibling=Ae,pe=Ae,ye=ft}if(ve===U.length)return u(z,ye),Ke&&Wr(z,ve),se;if(ye===null){for(;ve<U.length;ve++)ye=ce(z,U[ve],Y),ye!==null&&(M=w(ye,M,ve),pe===null?se=ye:pe.sibling=ye,pe=ye);return Ke&&Wr(z,ve),se}for(ye=f(z,ye);ve<U.length;ve++)ft=ie(ye,z,ve,U[ve],Y),ft!==null&&(i&&ft.alternate!==null&&ye.delete(ft.key===null?ve:ft.key),M=w(ft,M,ve),pe===null?se=ft:pe.sibling=ft,pe=ft);return i&&ye.forEach(function(Cr){return o(z,Cr)}),Ke&&Wr(z,ve),se}function Se(z,M,U,Y){var se=Z(U);if(typeof se!="function")throw Error(t(150));if(U=se.call(U),U==null)throw Error(t(151));for(var pe=se=null,ye=M,ve=M=0,ft=null,Ae=U.next();ye!==null&&!Ae.done;ve++,Ae=U.next()){ye.index>ve?(ft=ye,ye=null):ft=ye.sibling;var Cr=J(z,ye,Ae.value,Y);if(Cr===null){ye===null&&(ye=ft);break}i&&ye&&Cr.alternate===null&&o(z,ye),M=w(Cr,M,ve),pe===null?se=Cr:pe.sibling=Cr,pe=Cr,ye=ft}if(Ae.done)return u(z,ye),Ke&&Wr(z,ve),se;if(ye===null){for(;!Ae.done;ve++,Ae=U.next())Ae=ce(z,Ae.value,Y),Ae!==null&&(M=w(Ae,M,ve),pe===null?se=Ae:pe.sibling=Ae,pe=Ae);return Ke&&Wr(z,ve),se}for(ye=f(z,ye);!Ae.done;ve++,Ae=U.next())Ae=ie(ye,z,ve,Ae.value,Y),Ae!==null&&(i&&Ae.alternate!==null&&ye.delete(Ae.key===null?ve:Ae.key),M=w(Ae,M,ve),pe===null?se=Ae:pe.sibling=Ae,pe=Ae);return i&&ye.forEach(function(i_){return o(z,i_)}),Ke&&Wr(z,ve),se}function Ve(z,M,U,Y){if(typeof U=="object"&&U!==null&&U.type===P&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case D:e:{for(var se=U.key,pe=M;pe!==null;){if(pe.key===se){if(se=U.type,se===P){if(pe.tag===7){u(z,pe.sibling),M=g(pe,U.props.children),M.return=z,z=M;break e}}else if(pe.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===fe&&Tf(se)===pe.type){u(z,pe.sibling),M=g(pe,U.props),M.ref=Ps(z,pe,U),M.return=z,z=M;break e}u(z,pe);break}else o(z,pe);pe=pe.sibling}U.type===P?(M=Xr(U.props.children,z.mode,Y,U.key),M.return=z,z=M):(Y=Ma(U.type,U.key,U.props,null,z.mode,Y),Y.ref=Ps(z,M,U),Y.return=z,z=Y)}return k(z);case I:e:{for(pe=U.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){u(z,M.sibling),M=g(M,U.children||[]),M.return=z,z=M;break e}else{u(z,M);break}else o(z,M);M=M.sibling}M=xu(U,z.mode,Y),M.return=z,z=M}return k(z);case fe:return pe=U._init,Ve(z,M,pe(U._payload),Y)}if(Oe(U))return X(z,M,U,Y);if(Z(U))return Se(z,M,U,Y);da(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,M!==null&&M.tag===6?(u(z,M.sibling),M=g(M,U),M.return=z,z=M):(u(z,M),M=bu(U,z.mode,Y),M.return=z,z=M),k(z)):u(z,M)}return Ve}var Oi=Cf(!0),jf=Cf(!1),Ds={},Ln=yr(Ds),As=yr(Ds),Ms=yr(Ds);function Vr(i){if(i===Ds)throw Error(t(174));return i}function Uc(i,o){switch(Be(Ms,o),Be(As,i),Be(Ln,Ds),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Rn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Rn(o,i)}We(Ln),Be(Ln,o)}function Ri(){We(Ln),We(As),We(Ms)}function Nf(i){Vr(Ms.current);var o=Vr(Ln.current),u=Rn(o,i.type);o!==u&&(Be(As,i),Be(Ln,u))}function Hc(i){As.current===i&&(We(Ln),We(As))}var Xe=yr(0);function ha(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Wc=[];function Vc(){for(var i=0;i<Wc.length;i++)Wc[i]._workInProgressVersionPrimary=null;Wc.length=0}var fa=O.ReactCurrentDispatcher,on=O.ReactCurrentBatchConfig,Pi=0,Ze=null,kt=null,ht=null,pa=!1,Is=!1,Ls=0,Tw=0;function Et(){throw Error(t(321))}function qc(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!An(i[u],o[u]))return!1;return!0}function Kc(i,o,u,f,g,w){if(Pi=w,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,fa.current=i===null||i.memoizedState===null?Ow:Rw,i=u(f,g),Is){w=0;do{if(Is=!1,Ls=0,25<=w)throw Error(t(301));w+=1,ht=kt=null,o.updateQueue=null,fa.current=Pw,i=u(f,g)}while(Is)}if(fa.current=wa,o=kt!==null&&kt.next!==null,Pi=0,ht=kt=Ze=null,pa=!1,o)throw Error(t(300));return i}function Yc(){var i=Ls!==0;return Ls=0,i}function Zn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ze.memoizedState=ht=i:ht=ht.next=i,ht}function $n(){if(kt===null){var i=Ze.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var o=ht===null?Ze.memoizedState:ht.next;if(o!==null)ht=o,kt=i;else{if(i===null)throw Error(t(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},ht===null?Ze.memoizedState=ht=i:ht=ht.next=i}return ht}function qr(i,o){return typeof o=="function"?o(i):o}function ga(i){var o=$n(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=kt,g=f.baseQueue,w=u.pending;if(w!==null){if(g!==null){var k=g.next;g.next=w.next,w.next=k}f.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,f=f.baseState;var C=k=null,A=null,H=w;do{var K=H.lane;if((Pi&K)===K)A!==null&&(A=A.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),f=H.hasEagerState?H.eagerState:i(f,H.action);else{var ce={lane:K,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};A===null?(C=A=ce,k=f):A=A.next=ce,Ze.lanes|=K,Ai|=K}H=H.next}while(H!==null&&H!==w);A===null?k=f:A.next=C,An(f,o.memoizedState)||(Xt=!0),o.memoizedState=f,o.baseState=k,o.baseQueue=A,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do w=g.lane,Ze.lanes|=w,Ai|=w,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function ma(i){var o=$n(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,w=o.memoizedState;if(g!==null){u.pending=null;var k=g=g.next;do w=i(w,k.action),k=k.next;while(k!==g);An(w,o.memoizedState)||(Xt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,f]}function Of(){}function Rf(i,o){var u=Ze,f=$n(),g=o(),w=!An(f.memoizedState,g);if(w&&(f.memoizedState=g,Xt=!0),f=f.queue,Fs(Af.bind(null,u,f,i),[i]),f.getSnapshot!==o||w||ht!==null&&ht.memoizedState.tag&1){if(u.flags|=2048,$s(9,Df.bind(null,u,f,g,o),void 0,null),rt===null)throw Error(t(349));(Pi&30)!==0||Pf(u,o,g)}return g}function Pf(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Df(i,o,u,f){o.value=u,o.getSnapshot=f,Mf(o)&&ln(i,1,-1)}function Af(i,o,u){return u(function(){Mf(o)&&ln(i,1,-1)})}function Mf(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!An(i,u)}catch{return!0}}function Gc(i){var o=Zn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:i},o.queue=i,i=i.dispatch=Nw.bind(null,Ze,i),[o.memoizedState,i]}function $s(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function If(){return $n().memoizedState}function ya(i,o,u,f){var g=Zn();Ze.flags|=i,g.memoizedState=$s(1|o,u,void 0,f===void 0?null:f)}function va(i,o,u,f){var g=$n();f=f===void 0?null:f;var w=void 0;if(kt!==null){var k=kt.memoizedState;if(w=k.destroy,f!==null&&qc(f,k.deps)){g.memoizedState=$s(o,u,w,f);return}}Ze.flags|=i,g.memoizedState=$s(1|o,u,w,f)}function Jc(i,o){return ya(8390656,8,i,o)}function Fs(i,o){return va(2048,8,i,o)}function Lf(i,o){return va(4,2,i,o)}function $f(i,o){return va(4,4,i,o)}function Ff(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zf(i,o,u){return u=u!=null?u.concat([i]):null,va(4,4,Ff.bind(null,o,i),u)}function Xc(){}function Bf(i,o){var u=$n();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&qc(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function Uf(i,o){var u=$n();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&qc(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function Cw(i,o){var u=Ie;Ie=u!==0&&4>u?u:4,i(!0);var f=on.transition;on.transition={};try{i(!1),o()}finally{Ie=u,on.transition=f}}function Hf(){return $n().memoizedState}function jw(i,o,u){var f=kr(i);u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Wf(i)?Vf(o,u):(qf(i,o,u),u=Pt(),i=ln(i,f,u),i!==null&&Kf(i,o,f))}function Nw(i,o,u){var f=kr(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Wf(i))Vf(o,g);else{qf(i,o,g);var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var k=o.lastRenderedState,C=w(k,u);if(g.hasEagerState=!0,g.eagerState=C,An(C,k))return}catch{}finally{}u=Pt(),i=ln(i,f,u),i!==null&&Kf(i,o,f)}}function Wf(i){var o=i.alternate;return i===Ze||o!==null&&o===Ze}function Vf(i,o){Is=pa=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function qf(i,o,u){rt!==null&&(i.mode&1)!==0&&(Ne&2)===0?(i=o.interleaved,i===null?(u.next=u,In===null?In=[o]:In.push(o)):(u.next=i.next,i.next=u),o.interleaved=u):(i=o.pending,i===null?u.next=u:(u.next=i.next,i.next=u),o.pending=u)}function Kf(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,tc(i,u)}}var wa={readContext:nn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Ow={readContext:nn,useCallback:function(i,o){return Zn().memoizedState=[i,o===void 0?null:o],i},useContext:nn,useEffect:Jc,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,ya(4194308,4,Ff.bind(null,o,i),u)},useLayoutEffect:function(i,o){return ya(4194308,4,i,o)},useInsertionEffect:function(i,o){return ya(4,2,i,o)},useMemo:function(i,o){var u=Zn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Zn();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=jw.bind(null,Ze,i),[f.memoizedState,i]},useRef:function(i){var o=Zn();return i={current:i},o.memoizedState=i},useState:Gc,useDebugValue:Xc,useDeferredValue:function(i){var o=Gc(i),u=o[0],f=o[1];return Jc(function(){var g=on.transition;on.transition={};try{f(i)}finally{on.transition=g}},[i]),u},useTransition:function(){var i=Gc(!1),o=i[0];return i=Cw.bind(null,i[1]),Zn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=Ze,g=Zn();if(Ke){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),rt===null)throw Error(t(349));(Pi&30)!==0||Pf(f,o,u)}g.memoizedState=u;var w={value:u,getSnapshot:o};return g.queue=w,Jc(Af.bind(null,f,w,i),[i]),f.flags|=2048,$s(9,Df.bind(null,f,w,u,o),void 0,null),u},useId:function(){var i=Zn(),o=rt.identifierPrefix;if(Ke){var u=Qn,f=Xn;u=(f&~(1<<32-bn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ls++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Tw++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Rw={readContext:nn,useCallback:Bf,useContext:nn,useEffect:Fs,useImperativeHandle:zf,useInsertionEffect:Lf,useLayoutEffect:$f,useMemo:Uf,useReducer:ga,useRef:If,useState:function(){return ga(qr)},useDebugValue:Xc,useDeferredValue:function(i){var o=ga(qr),u=o[0],f=o[1];return Fs(function(){var g=on.transition;on.transition={};try{f(i)}finally{on.transition=g}},[i]),u},useTransition:function(){var i=ga(qr)[0],o=$n().memoizedState;return[i,o]},useMutableSource:Of,useSyncExternalStore:Rf,useId:Hf,unstable_isNewReconciler:!1},Pw={readContext:nn,useCallback:Bf,useContext:nn,useEffect:Fs,useImperativeHandle:zf,useInsertionEffect:Lf,useLayoutEffect:$f,useMemo:Uf,useReducer:ma,useRef:If,useState:function(){return ma(qr)},useDebugValue:Xc,useDeferredValue:function(i){var o=ma(qr),u=o[0],f=o[1];return Fs(function(){var g=on.transition;on.transition={};try{f(i)}finally{on.transition=g}},[i]),u},useTransition:function(){var i=ma(qr)[0],o=$n().memoizedState;return[i,o]},useMutableSource:Of,useSyncExternalStore:Rf,useId:Hf,unstable_isNewReconciler:!1};function Qc(i,o){try{var u="",f=o;do u+=Te(f),f=f.return;while(f);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:g}}function Zc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Dw=typeof WeakMap=="function"?WeakMap:Map;function Yf(i,o,u){u=Jn(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){ja||(ja=!0,fu=f),Zc(i,o)},u}function Gf(i,o,u){u=Jn(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){Zc(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Zc(i,o),typeof f!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),u}function Jf(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Dw;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=Kw.bind(null,i,o,u),o.then(i,i))}function Xf(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Qf(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Jn(-1,1),o.tag=2,br(u,o))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var Zf,eu,ep,tp;Zf=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},eu=function(){},ep=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,Vr(Ln.current);var w=null;switch(u){case"input":g=q(i,g),f=q(i,f),w=[];break;case"select":g=R({},g,{value:void 0}),f=R({},f,{value:void 0}),w=[];break;case"textarea":g=vt(i,g),f=vt(i,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Zo)}fi(u,f);var k;u=null;for(H in g)if(!f.hasOwnProperty(H)&&g.hasOwnProperty(H)&&g[H]!=null)if(H==="style"){var C=g[H];for(k in C)C.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?w||(w=[]):(w=w||[]).push(H,null));for(H in f){var A=f[H];if(C=g!=null?g[H]:void 0,f.hasOwnProperty(H)&&A!==C&&(A!=null||C!=null))if(H==="style")if(C){for(k in C)!C.hasOwnProperty(k)||A&&A.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in A)A.hasOwnProperty(k)&&C[k]!==A[k]&&(u||(u={}),u[k]=A[k])}else u||(w||(w=[]),w.push(H,u)),u=A;else H==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,C=C?C.__html:void 0,A!=null&&C!==A&&(w=w||[]).push(H,A)):H==="children"?typeof A!="string"&&typeof A!="number"||(w=w||[]).push(H,""+A):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(A!=null&&H==="onScroll"&&He("scroll",i),w||C===A||(w=[])):(w=w||[]).push(H,A))}u&&(w=w||[]).push("style",u);var H=w;(o.updateQueue=H)&&(o.flags|=4)}},tp=function(i,o,u,f){u!==f&&(o.flags|=4)};function zs(i,o){if(!Ke)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Tt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function Aw(i,o,u){var f=o.pendingProps;switch($c(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(o),null;case 1:return Ft(o.type)&&ta(),Tt(o),null;case 3:return f=o.stateNode,Ri(),We($t),We(St),Vc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Rs(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sn!==null&&(mu(Sn),Sn=null))),eu(i,o),Tt(o),null;case 5:Hc(o);var g=Vr(Ms.current);if(u=o.type,i!==null&&o.stateNode!=null)ep(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Tt(o),null}if(i=Vr(Ln.current),Rs(o)){f=o.stateNode,u=o.type;var w=o.memoizedProps;switch(f[Mn]=o,f[Ns]=w,i=(o.mode&1)!==0,u){case"dialog":He("cancel",f),He("close",f);break;case"iframe":case"object":case"embed":He("load",f);break;case"video":case"audio":for(g=0;g<Ts.length;g++)He(Ts[g],f);break;case"source":He("error",f);break;case"img":case"image":case"link":He("error",f),He("load",f);break;case"details":He("toggle",f);break;case"input":ee(f,w),He("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},He("invalid",f);break;case"textarea":On(f,w),He("invalid",f)}fi(u,w),g=null;for(var k in w)if(w.hasOwnProperty(k)){var C=w[k];k==="children"?typeof C=="string"?f.textContent!==C&&(Qo(f.textContent,C,i),g=["children",C]):typeof C=="number"&&f.textContent!==""+C&&(Qo(f.textContent,C,i),g=["children",""+C]):s.hasOwnProperty(k)&&C!=null&&k==="onScroll"&&He("scroll",f)}switch(u){case"input":mn(f),ke(f,w,!0);break;case"textarea":mn(f),Fr(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=Zo)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{k=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ro(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=k.createElement(u,{is:f.is}):(i=k.createElement(u),u==="select"&&(k=i,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):i=k.createElementNS(i,u),i[Mn]=o,i[Ns]=f,Zf(i,o,!1,!1),o.stateNode=i;e:{switch(k=ls(u,f),u){case"dialog":He("cancel",i),He("close",i),g=f;break;case"iframe":case"object":case"embed":He("load",i),g=f;break;case"video":case"audio":for(g=0;g<Ts.length;g++)He(Ts[g],i);g=f;break;case"source":He("error",i),g=f;break;case"img":case"image":case"link":He("error",i),He("load",i),g=f;break;case"details":He("toggle",i),g=f;break;case"input":ee(i,f),g=q(i,f),He("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=R({},f,{value:void 0}),He("invalid",i);break;case"textarea":On(i,f),g=vt(i,f),He("invalid",i);break;default:g=f}fi(u,g),C=g;for(w in C)if(C.hasOwnProperty(w)){var A=C[w];w==="style"?Ao(i,A):w==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&lr(i,A)):w==="children"?typeof A=="string"?(u!=="textarea"||A!=="")&&cr(i,A):typeof A=="number"&&cr(i,""+A):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?A!=null&&w==="onScroll"&&He("scroll",i):A!=null&&j(i,w,A,k))}switch(u){case"input":mn(i),ke(i,f,!1);break;case"textarea":mn(i),Fr(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ee(f.value));break;case"select":i.multiple=!!f.multiple,w=f.value,w!=null?nt(i,!!f.multiple,w,!1):f.defaultValue!=null&&nt(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Zo)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Tt(o),null;case 6:if(i&&o.stateNode!=null)tp(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Vr(Ms.current),Vr(Ln.current),Rs(o)){if(f=o.stateNode,u=o.memoizedProps,f[Mn]=o,(w=f.nodeValue!==u)&&(i=Jt,i!==null))switch(k=(i.mode&1)!==0,i.tag){case 3:Qo(f.nodeValue,u,k);break;case 5:i.memoizedProps[void 0]!==!0&&Qo(f.nodeValue,u,k)}w&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Mn]=o,o.stateNode=f}return Tt(o),null;case 13:if(We(Xe),f=o.memoizedState,Ke&&zt!==null&&(o.mode&1)!==0&&(o.flags&128)===0){for(f=zt;f;)f=Kn(f.nextSibling);return Ni(),o.flags|=98560,o}if(f!==null&&f.dehydrated!==null){if(f=Rs(o),i===null){if(!f)throw Error(t(318));if(f=o.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Mn]=o}else Ni(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;return Tt(o),null}return Sn!==null&&(mu(Sn),Sn=null),(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,u=!1,i===null?Rs(o):u=i.memoizedState!==null,f&&!u&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Xe.current&1)!==0?at===0&&(at=3):wu())),o.updateQueue!==null&&(o.flags|=4),Tt(o),null);case 4:return Ri(),eu(i,o),i===null&&Cs(o.stateNode.containerInfo),Tt(o),null;case 10:return Pc(o.type._context),Tt(o),null;case 17:return Ft(o.type)&&ta(),Tt(o),null;case 19:if(We(Xe),w=o.memoizedState,w===null)return Tt(o),null;if(f=(o.flags&128)!==0,k=w.rendering,k===null)if(f)zs(w,!1);else{if(at!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(k=ha(i),k!==null){for(o.flags|=128,zs(w,!1),f=k.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)w=u,i=f,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,i=k.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Be(Xe,Xe.current&1|2),o.child}i=i.sibling}w.tail!==null&&et()>Mi&&(o.flags|=128,f=!0,zs(w,!1),o.lanes=4194304)}else{if(!f)if(i=ha(k),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),zs(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!Ke)return Tt(o),null}else 2*et()-w.renderingStartTime>Mi&&u!==1073741824&&(o.flags|=128,f=!0,zs(w,!1),o.lanes=4194304);w.isBackwards?(k.sibling=o.child,o.child=k):(u=w.last,u!==null?u.sibling=k:o.child=k,w.last=k)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=et(),o.sibling=null,u=Xe.current,Be(Xe,f?u&1|2:u&1),o):(Tt(o),null);case 22:case 23:return vu(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Qt&1073741824)!==0&&(Tt(o),o.subtreeFlags&6&&(o.flags|=8192)):Tt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}var Mw=O.ReactCurrentOwner,Xt=!1;function Rt(i,o,u,f){o.child=i===null?jf(o,null,u,f):Oi(o,i.child,u,f)}function np(i,o,u,f,g){u=u.render;var w=o.ref;return Ti(o,g),f=Kc(i,o,u,f,w,g),u=Yc(),i!==null&&!Xt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,er(i,o,g)):(Ke&&u&&Lc(o),o.flags|=1,Rt(i,o,f,g),o.child)}function rp(i,o,u,f,g){if(i===null){var w=u.type;return typeof w=="function"&&!_u(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,ip(i,o,w,f,g)):(i=Ma(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&g)===0){var k=w.memoizedProps;if(u=u.compare,u=u!==null?u:ks,u(k,f)&&i.ref===o.ref)return er(i,o,g)}return o.flags|=1,i=Tr(w,f),i.ref=o.ref,i.return=o,o.child=i}function ip(i,o,u,f,g){if(i!==null&&ks(i.memoizedProps,f)&&i.ref===o.ref)if(Xt=!1,(i.lanes&g)!==0)(i.flags&131072)!==0&&(Xt=!0);else return o.lanes=i.lanes,er(i,o,g);return tu(i,o,u,f,g)}function sp(i,o,u){var f=o.pendingProps,g=f.children,w=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null},Be(Di,Qt),Qt|=u;else if((u&1073741824)!==0)o.memoizedState={baseLanes:0,cachePool:null},f=w!==null?w.baseLanes:u,Be(Di,Qt),Qt|=f;else return i=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null},o.updateQueue=null,Be(Di,Qt),Qt|=i,null;else w!==null?(f=w.baseLanes|u,o.memoizedState=null):f=u,Be(Di,Qt),Qt|=f;return Rt(i,o,g,u),o.child}function op(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function tu(i,o,u,f,g){var w=Ft(u)?Ur:St.current;return w=ki(o,w),Ti(o,g),u=Kc(i,o,u,f,w,g),f=Yc(),i!==null&&!Xt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,er(i,o,g)):(Ke&&f&&Lc(o),o.flags|=1,Rt(i,o,u,g),o.child)}function ap(i,o,u,f,g){if(Ft(u)){var w=!0;na(o)}else w=!1;if(Ti(o,g),o.stateNode===null)i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2),_f(o,u,f),Ic(o,u,f,g),f=!0;else if(i===null){var k=o.stateNode,C=o.memoizedProps;k.props=C;var A=k.context,H=u.contextType;typeof H=="object"&&H!==null?H=nn(H):(H=Ft(u)?Ur:St.current,H=ki(o,H));var K=u.getDerivedStateFromProps,ce=typeof K=="function"||typeof k.getSnapshotBeforeUpdate=="function";ce||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(C!==f||A!==H)&&bf(o,k,f,H),_r=!1;var J=o.memoizedState;k.state=J,aa(o,f,k,g),A=o.memoizedState,C!==f||J!==A||$t.current||_r?(typeof K=="function"&&(Mc(o,u,K,f),A=o.memoizedState),(C=_r||wf(o,u,C,f,J,A,H))?(ce||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=A),k.props=f,k.state=A,k.context=H,f=C):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{k=o.stateNode,gf(i,o),C=o.memoizedProps,H=o.type===o.elementType?C:xn(o.type,C),k.props=H,ce=o.pendingProps,J=k.context,A=u.contextType,typeof A=="object"&&A!==null?A=nn(A):(A=Ft(u)?Ur:St.current,A=ki(o,A));var ie=u.getDerivedStateFromProps;(K=typeof ie=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(C!==ce||J!==A)&&bf(o,k,f,A),_r=!1,J=o.memoizedState,k.state=J,aa(o,f,k,g);var X=o.memoizedState;C!==ce||J!==X||$t.current||_r?(typeof ie=="function"&&(Mc(o,u,ie,f),X=o.memoizedState),(H=_r||wf(o,u,H,f,J,X,A)||!1)?(K||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,X,A),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,X,A)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=X),k.props=f,k.state=X,k.context=A,f=H):(typeof k.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),f=!1)}return nu(i,o,u,f,w,g)}function nu(i,o,u,f,g,w){op(i,o);var k=(o.flags&128)!==0;if(!f&&!k)return g&&ff(o,u,!1),er(i,o,w);f=o.stateNode,Mw.current=o;var C=k&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&k?(o.child=Oi(o,i.child,null,w),o.child=Oi(o,null,C,w)):Rt(i,o,C,w),o.memoizedState=f.state,g&&ff(o,u,!0),o.child}function lp(i){var o=i.stateNode;o.pendingContext?df(i,o.pendingContext,o.pendingContext!==o.context):o.context&&df(i,o.context,!1),Uc(i,o.containerInfo)}function cp(i,o,u,f,g){return Ni(),Bc(g),o.flags|=256,Rt(i,o,u,f),o.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function ba(i){return{baseLanes:i,cachePool:null}}function up(i,o,u){var f=o.pendingProps,g=Xe.current,w=!1,k=(o.flags&128)!==0,C;if((C=k)||(C=i!==null&&i.memoizedState===null?!1:(g&2)!==0),C?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Be(Xe,g&1),i===null)return zc(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(g=f.children,i=f.fallback,w?(f=o.mode,w=o.child,g={mode:"hidden",children:g},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=g):w=Ia(g,f,0,null),i=Xr(i,f,u,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=ba(u),o.memoizedState=_a,i):ru(o,g));if(g=i.memoizedState,g!==null){if(C=g.dehydrated,C!==null){if(k)return o.flags&256?(o.flags&=-257,xa(i,o,u,Error(t(422)))):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=f.fallback,g=o.mode,f=Ia({mode:"visible",children:f.children},g,0,null),w=Xr(w,g,u,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,(o.mode&1)!==0&&Oi(o,i.child,null,u),o.child.memoizedState=ba(u),o.memoizedState=_a,w);if((o.mode&1)===0)o=xa(i,o,u,null);else if(C.data==="$!")o=xa(i,o,u,Error(t(419)));else if(f=(u&i.childLanes)!==0,Xt||f){if(f=rt,f!==null){switch(u&-u){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}f=(w&(f.suspendedLanes|u))!==0?0:w,f!==0&&f!==g.retryLane&&(g.retryLane=f,ln(i,f,-1))}wu(),o=xa(i,o,u,Error(t(421)))}else C.data==="$?"?(o.flags|=128,o.child=i.child,o=Yw.bind(null,i),C._reactRetry=o,o=null):(u=g.treeContext,zt=Kn(C.nextSibling),Jt=o,Ke=!0,Sn=null,u!==null&&(rn[sn++]=Xn,rn[sn++]=Qn,rn[sn++]=Hr,Xn=u.id,Qn=u.overflow,Hr=o),o=ru(o,o.pendingProps.children),o.flags|=4096);return o}return w?(f=hp(i,o,f.children,f.fallback,u),w=o.child,g=i.child.memoizedState,w.memoizedState=g===null?ba(u):{baseLanes:g.baseLanes|u,cachePool:null},w.childLanes=i.childLanes&~u,o.memoizedState=_a,f):(u=dp(i,o,f.children,u),o.memoizedState=null,u)}return w?(f=hp(i,o,f.children,f.fallback,u),w=o.child,g=i.child.memoizedState,w.memoizedState=g===null?ba(u):{baseLanes:g.baseLanes|u,cachePool:null},w.childLanes=i.childLanes&~u,o.memoizedState=_a,f):(u=dp(i,o,f.children,u),o.memoizedState=null,u)}function ru(i,o){return o=Ia({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function dp(i,o,u,f){var g=i.child;return i=g.sibling,u=Tr(g,{mode:"visible",children:u}),(o.mode&1)===0&&(u.lanes=f),u.return=o,u.sibling=null,i!==null&&(f=o.deletions,f===null?(o.deletions=[i],o.flags|=16):f.push(i)),o.child=u}function hp(i,o,u,f,g){var w=o.mode;i=i.child;var k=i.sibling,C={mode:"hidden",children:u};return(w&1)===0&&o.child!==i?(u=o.child,u.childLanes=0,u.pendingProps=C,o.deletions=null):(u=Tr(i,C),u.subtreeFlags=i.subtreeFlags&14680064),k!==null?f=Tr(k,f):(f=Xr(f,w,g,null),f.flags|=2),f.return=o,u.return=o,u.sibling=f,o.child=u,f}function xa(i,o,u,f){return f!==null&&Bc(f),Oi(o,i.child,null,u),i=ru(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function fp(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Dc(i.return,o,u)}function iu(i,o,u,f,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=u,w.tailMode=g)}function pp(i,o,u){var f=o.pendingProps,g=f.revealOrder,w=f.tail;if(Rt(i,o,f.children,u),f=Xe.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&fp(i,u,o);else if(i.tag===19)fp(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Be(Xe,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&ha(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),iu(o,!1,g,u,w);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&ha(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}iu(o,!0,u,null,w);break;case"together":iu(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function er(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ai|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Tr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Tr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Iw(i,o,u){switch(o.tag){case 3:lp(o),Ni();break;case 5:Nf(o);break;case 1:Ft(o.type)&&na(o);break;case 4:Uc(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;Be(ia,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Be(Xe,Xe.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?up(i,o,u):(Be(Xe,Xe.current&1),i=er(i,o,u),i!==null?i.sibling:null);Be(Xe,Xe.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return pp(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Be(Xe,Xe.current),f)break;return null;case 22:case 23:return o.lanes=0,sp(i,o,u)}return er(i,o,u)}function Lw(i,o){switch($c(o),o.tag){case 1:return Ft(o.type)&&ta(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ri(),We($t),We(St),Vc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Hc(o),null;case 13:if(We(Xe),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ni()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return We(Xe),null;case 4:return Ri(),null;case 10:return Pc(o.type._context),null;case 22:case 23:return vu(),null;case 24:return null;default:return null}}var Sa=!1,Kr=!1,$w=typeof WeakSet=="function"?WeakSet:Set,te=null;function ka(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Ht(i,o,f)}else u.current=null}function su(i,o,u){try{u()}catch(f){Ht(i,o,f)}}var gp=!1;function Fw(i,o){if(i=Yh(),gc(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var k=0,C=-1,A=-1,H=0,K=0,ce=i,J=null;t:for(;;){for(var ie;ce!==u||g!==0&&ce.nodeType!==3||(C=k+g),ce!==w||f!==0&&ce.nodeType!==3||(A=k+f),ce.nodeType===3&&(k+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)J=ce,ce=ie;for(;;){if(ce===i)break t;if(J===u&&++H===g&&(C=k),J===w&&++K===f&&(A=k),(ie=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=ie}u=C===-1||A===-1?null:{start:C,end:A}}else u=null}u=u||{start:0,end:0}}else u=null;for(Sc={focusedElem:i,selectionRange:u},te=o;te!==null;)if(o=te,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,te=i;else for(;te!==null;){o=te;try{var X=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var Se=X.memoizedProps,Ve=X.memoizedState,z=o.stateNode,M=z.getSnapshotBeforeUpdate(o.elementType===o.type?Se:xn(o.type,Se),Ve);z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var U=o.stateNode.containerInfo;if(U.nodeType===1)U.textContent="";else if(U.nodeType===9){var Y=U.body;Y!=null&&(Y.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){Ht(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,te=i;break}te=o.return}return X=gp,gp=!1,X}function Bs(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var w=g.destroy;g.destroy=void 0,w!==void 0&&su(o,u,w)}g=g.next}while(g!==f)}}function Ea(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function ou(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function mp(i,o,u){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Io,o)}catch{}switch(o.tag){case 0:case 11:case 14:case 15:if(i=o.updateQueue,i!==null&&(i=i.lastEffect,i!==null)){var f=i=i.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&su(o,u,w),f=f.next}while(f!==i)}break;case 1:if(ka(o,u),i=o.stateNode,typeof i.componentWillUnmount=="function")try{i.props=o.memoizedProps,i.state=o.memoizedState,i.componentWillUnmount()}catch(k){Ht(o,u,k)}break;case 5:ka(o,u);break;case 4:bp(i,o,u)}}function yp(i){var o=i.alternate;o!==null&&(i.alternate=null,yp(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Mn],delete o[Ns],delete o[Cc],delete o[xw],delete o[Sw])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function vp(i){return i.tag===5||i.tag===3||i.tag===4}function wp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||vp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _p(i){e:{for(var o=i.return;o!==null;){if(vp(o))break e;o=o.return}throw Error(t(160))}var u=o;switch(u.tag){case 5:o=u.stateNode,u.flags&32&&(cr(o,""),u.flags&=-33),u=wp(i),lu(i,u,o);break;case 3:case 4:o=u.stateNode.containerInfo,u=wp(i),au(i,u,o);break;default:throw Error(t(161))}}function au(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Zo));else if(f!==4&&(i=i.child,i!==null))for(au(i,o,u),i=i.sibling;i!==null;)au(i,o,u),i=i.sibling}function lu(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(lu(i,o,u),i=i.sibling;i!==null;)lu(i,o,u),i=i.sibling}function bp(i,o,u){for(var f=o,g=!1,w,k;;){if(!g){g=f.return;e:for(;;){if(g===null)throw Error(t(160));switch(w=g.stateNode,g.tag){case 5:k=!1;break e;case 3:w=w.containerInfo,k=!0;break e;case 4:w=w.containerInfo,k=!0;break e}g=g.return}g=!0}if(f.tag===5||f.tag===6){e:for(var C=i,A=f,H=u,K=A;;)if(mp(C,K,H),K.child!==null&&K.tag!==4)K.child.return=K,K=K.child;else{if(K===A)break e;for(;K.sibling===null;){if(K.return===null||K.return===A)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}k?(C=w,A=f.stateNode,C.nodeType===8?C.parentNode.removeChild(A):C.removeChild(A)):w.removeChild(f.stateNode)}else if(f.tag===18)k?(C=w,A=f.stateNode,C.nodeType===8?Tc(C.parentNode,A):C.nodeType===1&&Tc(C,A),vs(C)):Tc(w,f.stateNode);else if(f.tag===4){if(f.child!==null){w=f.stateNode.containerInfo,k=!0,f.child.return=f,f=f.child;continue}}else if(mp(i,f,u),f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return;f=f.return,f.tag===4&&(g=!1)}f.sibling.return=f.return,f=f.sibling}}function cu(i,o){switch(o.tag){case 0:case 11:case 14:case 15:Bs(3,o,o.return),Ea(3,o),Bs(5,o,o.return);return;case 1:return;case 5:var u=o.stateNode;if(u!=null){var f=o.memoizedProps,g=i!==null?i.memoizedProps:f;i=o.type;var w=o.updateQueue;if(o.updateQueue=null,w!==null){for(i==="input"&&f.type==="radio"&&f.name!=null&&_e(u,f),ls(i,g),o=ls(i,f),g=0;g<w.length;g+=2){var k=w[g],C=w[g+1];k==="style"?Ao(u,C):k==="dangerouslySetInnerHTML"?lr(u,C):k==="children"?cr(u,C):j(u,k,C,o)}switch(i){case"input":re(u,f);break;case"textarea":Wn(u,f);break;case"select":i=u._wrapperState.wasMultiple,u._wrapperState.wasMultiple=!!f.multiple,w=f.value,w!=null?nt(u,!!f.multiple,w,!1):i!==!!f.multiple&&(f.defaultValue!=null?nt(u,!!f.multiple,f.defaultValue,!0):nt(u,!!f.multiple,f.multiple?[]:"",!1))}u[Ns]=f}}return;case 6:if(o.stateNode===null)throw Error(t(162));o.stateNode.nodeValue=o.memoizedProps;return;case 3:i!==null&&i.memoizedState.isDehydrated&&vs(o.stateNode.containerInfo);return;case 12:return;case 13:xp(o);return;case 19:xp(o);return;case 17:return}throw Error(t(163))}function xp(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new $w),o.forEach(function(f){var g=Gw.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function zw(i,o){for(te=o;te!==null;){o=te;var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{bp(i,g,o);var w=g.alternate;w!==null&&(w.return=null),g.return=null}catch(ve){Ht(g,o,ve)}}if(u=o.child,(o.subtreeFlags&12854)!==0&&u!==null)u.return=o,te=u;else for(;te!==null;){o=te;try{var k=o.flags;if(k&32&&cr(o.stateNode,""),k&512){var C=o.alternate;if(C!==null){var A=C.ref;A!==null&&(typeof A=="function"?A(null):A.current=null)}}if(k&8192)switch(o.tag){case 13:if(o.memoizedState!==null){var H=o.alternate;(H===null||H.memoizedState===null)&&(hu=et())}break;case 22:var K=o.memoizedState!==null,ce=o.alternate,J=ce!==null&&ce.memoizedState!==null;u=o;e:{f=u,g=K;for(var ie=null,X=f;;){if(X.tag===5){if(ie===null){ie=X;var Se=X.stateNode;if(g){var Ve=Se.style;typeof Ve.setProperty=="function"?Ve.setProperty("display","none","important"):Ve.display="none"}else{var z=X.stateNode,M=X.memoizedProps.style,U=M!=null&&M.hasOwnProperty("display")?M.display:null;z.style.display=Do("display",U)}}}else if(X.tag===6)ie===null&&(X.stateNode.nodeValue=g?"":X.memoizedProps);else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===f)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===f)break;for(;X.sibling===null;){if(X.return===null||X.return===f)break e;ie===X&&(ie=null),X=X.return}ie===X&&(ie=null),X.sibling.return=X.return,X=X.sibling}}if(K&&!J&&(u.mode&1)!==0){te=u;for(var Y=u.child;Y!==null;){for(u=te=Y;te!==null;){f=te;var se=f.child;switch(f.tag){case 0:case 11:case 14:case 15:Bs(4,f,f.return);break;case 1:ka(f,f.return);var pe=f.stateNode;if(typeof pe.componentWillUnmount=="function"){var ye=f.return;try{pe.props=f.memoizedProps,pe.state=f.memoizedState,pe.componentWillUnmount()}catch(ve){Ht(f,ye,ve)}}break;case 5:ka(f,f.return);break;case 22:if(f.memoizedState!==null){Ep(u);continue}}se!==null?(se.return=f,te=se):Ep(u)}Y=Y.sibling}}}switch(k&4102){case 2:_p(o),o.flags&=-3;break;case 6:_p(o),o.flags&=-3,cu(o.alternate,o);break;case 4096:o.flags&=-4097;break;case 4100:o.flags&=-4097,cu(o.alternate,o);break;case 4:cu(o.alternate,o)}}catch(ve){Ht(o,o.return,ve)}if(u=o.sibling,u!==null){u.return=o.return,te=u;break}te=o.return}}}function Bw(i,o,u){te=i,Sp(i)}function Sp(i,o,u){for(var f=(i.mode&1)!==0;te!==null;){var g=te,w=g.child;if(g.tag===22&&f){var k=g.memoizedState!==null||Sa;if(!k){var C=g.alternate,A=C!==null&&C.memoizedState!==null||Kr;C=Sa;var H=Kr;if(Sa=k,(Kr=A)&&!H)for(te=g;te!==null;)k=te,A=k.child,k.tag===22&&k.memoizedState!==null?Tp(g):A!==null?(A.return=k,te=A):Tp(g);for(;w!==null;)te=w,Sp(w),w=w.sibling;te=g,Sa=C,Kr=H}kp(i)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,te=w):kp(i)}}function kp(i){for(;te!==null;){var o=te;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kr||Ea(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Kr)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:xn(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&yf(o,w,f);break;case 3:var k=o.updateQueue;if(k!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}yf(o,k,u)}break;case 5:var C=o.stateNode;if(u===null&&o.flags&4){u=C;var A=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&u.focus();break;case"img":A.src&&(u.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var K=H.memoizedState;if(K!==null){var ce=K.dehydrated;ce!==null&&vs(ce)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(t(163))}Kr||o.flags&512&&ou(o)}catch(J){Ht(o,o.return,J)}}if(o===i){te=null;break}if(u=o.sibling,u!==null){u.return=o.return,te=u;break}te=o.return}}function Ep(i){for(;te!==null;){var o=te;if(o===i){te=null;break}var u=o.sibling;if(u!==null){u.return=o.return,te=u;break}te=o.return}}function Tp(i){for(;te!==null;){var o=te;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ea(4,o)}catch(A){Ht(o,u,A)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(A){Ht(o,g,A)}}var w=o.return;try{ou(o)}catch(A){Ht(o,w,A)}break;case 5:var k=o.return;try{ou(o)}catch(A){Ht(o,k,A)}}}catch(A){Ht(o,o.return,A)}if(o===i){te=null;break}var C=o.sibling;if(C!==null){C.return=o.return,te=C;break}te=o.return}}var Uw=Math.ceil,Ta=O.ReactCurrentDispatcher,uu=O.ReactCurrentOwner,an=O.ReactCurrentBatchConfig,Ne=0,rt=null,it=null,gt=0,Qt=0,Di=yr(0),at=0,Us=null,Ai=0,Ca=0,du=0,Hs=null,Bt=null,hu=0,Mi=1/0,ja=!1,fu=null,xr=null,Na=!1,Sr=null,Oa=0,Ws=0,pu=null,Ra=-1,Pa=0;function Pt(){return(Ne&6)!==0?et():Ra!==-1?Ra:Ra=et()}function kr(i){return(i.mode&1)===0?1:(Ne&2)!==0&&gt!==0?gt&-gt:Ew.transition!==null?(Pa===0&&(i=Lo,Lo<<=1,(Lo&4194240)===0&&(Lo=64),Pa=i),Pa):(i=Ie,i!==0||(i=window.event,i=i===void 0?16:jh(i.type)),i)}function ln(i,o,u){if(50<Ws)throw Ws=0,pu=null,Error(t(185));var f=Da(i,o);return f===null?null:(fs(f,o,u),((Ne&2)===0||f!==rt)&&(f===rt&&((Ne&2)===0&&(Ca|=o),at===4&&Er(f,gt)),Ut(f,u),o===1&&Ne===0&&(i.mode&1)===0&&(Mi=et()+500,ra&&wr())),f)}function Da(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}function Ut(i,o){var u=i.callbackNode;E0(i,o);var f=Fo(i,i===rt?gt:0);if(f===0)u!==null&&yh(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&yh(u),o===1)i.tag===0?kw(jp.bind(null,i)):pf(jp.bind(null,i)),_w(function(){Ne===0&&wr()}),u=null;else{switch(_h(f)){case 1:u=Ql;break;case 4:u=vh;break;case 16:u=Mo;break;case 536870912:u=wh;break;default:u=Mo}u=Ip(u,Cp.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Cp(i,o){if(Ra=-1,Pa=0,(Ne&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Ii()&&i.callbackNode!==u)return null;var f=Fo(i,i===rt?gt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Aa(i,f);else{o=f;var g=Ne;Ne|=2;var w=Op();(rt!==i||gt!==o)&&(Mi=et()+500,Gr(i,o));do try{Vw();break}catch(C){Np(i,C)}while(!0);Rc(),Ta.current=w,Ne=g,it!==null?o=0:(rt=null,gt=0,o=at)}if(o!==0){if(o===2&&(g=Zl(i),g!==0&&(f=g,o=gu(i,g))),o===1)throw u=Us,Gr(i,0),Er(i,f),Ut(i,et()),u;if(o===6)Er(i,f);else{if(g=i.current.alternate,(f&30)===0&&!Hw(g)&&(o=Aa(i,f),o===2&&(w=Zl(i),w!==0&&(f=w,o=gu(i,w))),o===1))throw u=Us,Gr(i,0),Er(i,f),Ut(i,et()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Jr(i,Bt);break;case 3:if(Er(i,f),(f&130023424)===f&&(o=hu+500-et(),10<o)){if(Fo(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){Pt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Ec(Jr.bind(null,i,Bt),o);break}Jr(i,Bt);break;case 4:if(Er(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var k=31-bn(f);w=1<<k,k=o[k],k>g&&(g=k),f&=~w}if(f=g,f=et()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Uw(f/1960))-f,10<f){i.timeoutHandle=Ec(Jr.bind(null,i,Bt),f);break}Jr(i,Bt);break;case 5:Jr(i,Bt);break;default:throw Error(t(329))}}}return Ut(i,et()),i.callbackNode===u?Cp.bind(null,i):null}function gu(i,o){var u=Hs;return i.current.memoizedState.isDehydrated&&(Gr(i,o).flags|=256),i=Aa(i,o),i!==2&&(o=Bt,Bt=u,o!==null&&mu(o)),i}function mu(i){Bt===null?Bt=i:Bt.push.apply(Bt,i)}function Hw(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],w=g.getSnapshot;g=g.value;try{if(!An(w(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Er(i,o){for(o&=~du,o&=~Ca,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-bn(o),f=1<<u;i[u]=-1,o&=~f}}function jp(i){if((Ne&6)!==0)throw Error(t(327));Ii();var o=Fo(i,0);if((o&1)===0)return Ut(i,et()),null;var u=Aa(i,o);if(i.tag!==0&&u===2){var f=Zl(i);f!==0&&(o=f,u=gu(i,f))}if(u===1)throw u=Us,Gr(i,0),Er(i,o),Ut(i,et()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Jr(i,Bt),Ut(i,et()),null}function yu(i,o){var u=Ne;Ne|=1;try{return i(o)}finally{Ne=u,Ne===0&&(Mi=et()+500,ra&&wr())}}function Yr(i){Sr!==null&&Sr.tag===0&&(Ne&6)===0&&Ii();var o=Ne;Ne|=1;var u=an.transition,f=Ie;try{if(an.transition=null,Ie=1,i)return i()}finally{Ie=f,an.transition=u,Ne=o,(Ne&6)===0&&wr()}}function vu(){Qt=Di.current,We(Di)}function Gr(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,ww(u)),it!==null)for(u=it.return;u!==null;){var f=u;switch($c(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ta();break;case 3:Ri(),We($t),We(St),Vc();break;case 5:Hc(f);break;case 4:Ri();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Pc(f.type._context);break;case 22:case 23:vu()}u=u.return}if(rt=i,it=i=Tr(i.current,null),gt=Qt=o,at=0,Us=null,du=Ca=Ai=0,Bt=Hs=null,In!==null){for(o=0;o<In.length;o++)if(u=In[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,w=u.pending;if(w!==null){var k=w.next;w.next=g,f.next=k}u.pending=f}In=null}return i}function Np(i,o){do{var u=it;try{if(Rc(),fa.current=wa,pa){for(var f=Ze.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}pa=!1}if(Pi=0,ht=kt=Ze=null,Is=!1,Ls=0,uu.current=null,u===null||u.return===null){at=1,Us=o,it=null;break}e:{var w=i,k=u.return,C=u,A=o;if(o=gt,C.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=A,K=C,ce=K.tag;if((K.mode&1)===0&&(ce===0||ce===11||ce===15)){var J=K.alternate;J?(K.updateQueue=J.updateQueue,K.memoizedState=J.memoizedState,K.lanes=J.lanes):(K.updateQueue=null,K.memoizedState=null)}var ie=Xf(k);if(ie!==null){ie.flags&=-257,Qf(ie,k,C,w,o),ie.mode&1&&Jf(w,H,o),o=ie,A=H;var X=o.updateQueue;if(X===null){var Se=new Set;Se.add(A),o.updateQueue=Se}else X.add(A);break e}else{if((o&1)===0){Jf(w,H,o),wu();break e}A=Error(t(426))}}else if(Ke&&C.mode&1){var Ve=Xf(k);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),Qf(Ve,k,C,w,o),Bc(A);break e}}w=A,at!==4&&(at=2),Hs===null?Hs=[w]:Hs.push(w),A=Qc(A,C),C=k;do{switch(C.tag){case 3:C.flags|=65536,o&=-o,C.lanes|=o;var z=Yf(C,A,o);mf(C,z);break e;case 1:w=A;var M=C.type,U=C.stateNode;if((C.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(xr===null||!xr.has(U)))){C.flags|=65536,o&=-o,C.lanes|=o;var Y=Gf(C,w,o);mf(C,Y);break e}}C=C.return}while(C!==null)}Pp(u)}catch(se){o=se,it===u&&u!==null&&(it=u=u.return);continue}break}while(!0)}function Op(){var i=Ta.current;return Ta.current=wa,i===null?wa:i}function wu(){(at===0||at===3||at===2)&&(at=4),rt===null||(Ai&268435455)===0&&(Ca&268435455)===0||Er(rt,gt)}function Aa(i,o){var u=Ne;Ne|=2;var f=Op();rt===i&&gt===o||Gr(i,o);do try{Ww();break}catch(g){Np(i,g)}while(!0);if(Rc(),Ne=u,Ta.current=f,it!==null)throw Error(t(261));return rt=null,gt=0,at}function Ww(){for(;it!==null;)Rp(it)}function Vw(){for(;it!==null&&!m0();)Rp(it)}function Rp(i){var o=Mp(i.alternate,i,Qt);i.memoizedProps=i.pendingProps,o===null?Pp(i):it=o,uu.current=null}function Pp(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Aw(u,o,Qt),u!==null){it=u;return}}else{if(u=Lw(u,o),u!==null){u.flags&=32767,it=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{at=6,it=null;return}}if(o=o.sibling,o!==null){it=o;return}it=o=i}while(o!==null);at===0&&(at=5)}function Jr(i,o){var u=Ie,f=an.transition;try{an.transition=null,Ie=1,qw(i,o,u)}finally{an.transition=f,Ie=u}return null}function qw(i,o,u){do Ii();while(Sr!==null);if((Ne&6)!==0)throw Error(t(327));var f=i.finishedWork,g=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var w=f.lanes|f.childLanes;if(T0(i,w),i===rt&&(it=rt=null,gt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Na||(Na=!0,Ip(Mo,function(){return Ii(),null})),w=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||w){w=an.transition,an.transition=null;var k=Ie;Ie=1;var C=Ne;Ne|=4,uu.current=null,Fw(i,f),zw(i,f),hw(Sc),Sc=null,i.current=f,Bw(f),y0(),Ne=C,Ie=k,an.transition=w}else i.current=f;if(Na&&(Na=!1,Sr=i,Oa=g),w=i.pendingLanes,w===0&&(xr=null),_0(f.stateNode),Ut(i,et()),o!==null)for(u=i.onRecoverableError,f=0;f<o.length;f++)u(o[f]);if(ja)throw ja=!1,i=fu,fu=null,i;return(Oa&1)!==0&&i.tag!==0&&Ii(),w=i.pendingLanes,(w&1)!==0?i===pu?Ws++:(Ws=0,pu=i):Ws=0,wr(),null}function Ii(){if(Sr!==null){var i=_h(Oa),o=an.transition,u=Ie;try{if(an.transition=null,Ie=16>i?16:i,Sr===null)var f=!1;else{if(i=Sr,Sr=null,Oa=0,(Ne&6)!==0)throw Error(t(331));var g=Ne;for(Ne|=4,te=i.current;te!==null;){var w=te,k=w.child;if((te.flags&16)!==0){var C=w.deletions;if(C!==null){for(var A=0;A<C.length;A++){var H=C[A];for(te=H;te!==null;){var K=te;switch(K.tag){case 0:case 11:case 15:Bs(8,K,w)}var ce=K.child;if(ce!==null)ce.return=K,te=ce;else for(;te!==null;){K=te;var J=K.sibling,ie=K.return;if(yp(K),K===H){te=null;break}if(J!==null){J.return=ie,te=J;break}te=ie}}}var X=w.alternate;if(X!==null){var Se=X.child;if(Se!==null){X.child=null;do{var Ve=Se.sibling;Se.sibling=null,Se=Ve}while(Se!==null)}}te=w}}if((w.subtreeFlags&2064)!==0&&k!==null)k.return=w,te=k;else e:for(;te!==null;){if(w=te,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Bs(9,w,w.return)}var z=w.sibling;if(z!==null){z.return=w.return,te=z;break e}te=w.return}}var M=i.current;for(te=M;te!==null;){k=te;var U=k.child;if((k.subtreeFlags&2064)!==0&&U!==null)U.return=k,te=U;else e:for(k=M;te!==null;){if(C=te,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Ea(9,C)}}catch(se){Ht(C,C.return,se)}if(C===k){te=null;break e}var Y=C.sibling;if(Y!==null){Y.return=C.return,te=Y;break e}te=C.return}}if(Ne=g,wr(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Io,i)}catch{}f=!0}return f}finally{Ie=u,an.transition=o}}return!1}function Dp(i,o,u){o=Qc(u,o),o=Yf(i,o,1),br(i,o),o=Pt(),i=Da(i,1),i!==null&&(fs(i,1,o),Ut(i,o))}function Ht(i,o,u){if(i.tag===3)Dp(i,i,u);else for(;o!==null;){if(o.tag===3){Dp(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(xr===null||!xr.has(f))){i=Qc(u,i),i=Gf(o,i,1),br(o,i),i=Pt(),o=Da(o,1),o!==null&&(fs(o,1,i),Ut(o,i));break}}o=o.return}}function Kw(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=Pt(),i.pingedLanes|=i.suspendedLanes&u,rt===i&&(gt&u)===u&&(at===4||at===3&&(gt&130023424)===gt&&500>et()-hu?Gr(i,0):du|=u),Ut(i,o)}function Ap(i,o){o===0&&((i.mode&1)===0?o=1:(o=$o,$o<<=1,($o&130023424)===0&&($o=4194304)));var u=Pt();i=Da(i,o),i!==null&&(fs(i,o,u),Ut(i,u))}function Yw(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Ap(i,u)}function Gw(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),Ap(i,u)}var Mp;Mp=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||$t.current)Xt=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Xt=!1,Iw(i,o,u);Xt=(i.flags&131072)!==0}else Xt=!1,Ke&&(o.flags&1048576)!==0&&xf(o,ua,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2),i=o.pendingProps;var g=ki(o,St.current);Ti(o,u),g=Kc(null,o,f,i,g,u);var w=Yc();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Ft(f)?(w=!0,na(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ac(o),g.updater=la,o.stateNode=g,g._reactInternals=o,Ic(o,f,i,u),o=nu(null,o,f,!0,w,u)):(o.tag=0,Ke&&w&&Lc(o),Rt(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=Xw(f),i=xn(f,i),g){case 0:o=tu(null,o,f,i,u);break e;case 1:o=ap(null,o,f,i,u);break e;case 11:o=np(null,o,f,i,u);break e;case 14:o=rp(null,o,f,xn(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xn(f,g),tu(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xn(f,g),ap(i,o,f,g,u);case 3:e:{if(lp(o),i===null)throw Error(t(387));f=o.pendingProps,w=o.memoizedState,g=w.element,gf(i,o),aa(o,f,null,u);var k=o.memoizedState;if(f=k.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:k.cache,transitions:k.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=Error(t(423)),o=cp(i,o,f,u,g);break e}else if(f!==g){g=Error(t(424)),o=cp(i,o,f,u,g);break e}else for(zt=Kn(o.stateNode.containerInfo.firstChild),Jt=o,Ke=!0,Sn=null,u=jf(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ni(),f===g){o=er(i,o,u);break e}Rt(i,o,f,u)}o=o.child}return o;case 5:return Nf(o),i===null&&zc(o),f=o.type,g=o.pendingProps,w=i!==null?i.memoizedProps:null,k=g.children,kc(f,g)?k=null:w!==null&&kc(f,w)&&(o.flags|=32),op(i,o),Rt(i,o,k,u),o.child;case 6:return i===null&&zc(o),null;case 13:return up(i,o,u);case 4:return Uc(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Oi(o,null,f,u):Rt(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xn(f,g),np(i,o,f,g,u);case 7:return Rt(i,o,o.pendingProps,u),o.child;case 8:return Rt(i,o,o.pendingProps.children,u),o.child;case 12:return Rt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,w=o.memoizedProps,k=g.value,Be(ia,f._currentValue),f._currentValue=k,w!==null)if(An(w.value,k)){if(w.children===g.children&&!$t.current){o=er(i,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var C=w.dependencies;if(C!==null){k=w.child;for(var A=C.firstContext;A!==null;){if(A.context===f){if(w.tag===1){A=Jn(-1,u&-u),A.tag=2;var H=w.updateQueue;if(H!==null){H=H.shared;var K=H.pending;K===null?A.next=A:(A.next=K.next,K.next=A),H.pending=A}}w.lanes|=u,A=w.alternate,A!==null&&(A.lanes|=u),Dc(w.return,u,o),C.lanes|=u;break}A=A.next}}else if(w.tag===10)k=w.type===o.type?null:w.child;else if(w.tag===18){if(k=w.return,k===null)throw Error(t(341));k.lanes|=u,C=k.alternate,C!==null&&(C.lanes|=u),Dc(k,u,o),k=w.sibling}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===o){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}Rt(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Ti(o,u),g=nn(g),f=f(g),o.flags|=1,Rt(i,o,f,u),o.child;case 14:return f=o.type,g=xn(f,o.pendingProps),g=xn(f.type,g),rp(i,o,f,g,u);case 15:return ip(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xn(f,g),i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2),o.tag=1,Ft(f)?(i=!0,na(o)):i=!1,Ti(o,u),_f(o,f,g),Ic(o,f,g,u),nu(null,o,f,!0,i,u);case 19:return pp(i,o,u);case 22:return sp(i,o,u)}throw Error(t(156,o.tag))};function Ip(i,o){return mh(i,o)}function Jw(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(i,o,u,f){return new Jw(i,o,u,f)}function _u(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xw(i){if(typeof i=="function")return _u(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===oe)return 14}return 2}function Tr(i,o){var u=i.alternate;return u===null?(u=cn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Ma(i,o,u,f,g,w){var k=2;if(f=i,typeof i=="function")_u(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case P:return Xr(u.children,g,w,o);case $:k=8,g|=8;break;case L:return i=cn(12,u,o,g|2),i.elementType=L,i.lanes=w,i;case ne:return i=cn(13,u,o,g),i.elementType=ne,i.lanes=w,i;case ae:return i=cn(19,u,o,g),i.elementType=ae,i.lanes=w,i;case le:return Ia(u,g,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:k=10;break e;case B:k=9;break e;case V:k=11;break e;case oe:k=14;break e;case fe:k=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=cn(k,u,o,g),o.elementType=i,o.type=f,o.lanes=w,o}function Xr(i,o,u,f){return i=cn(7,i,f,o),i.lanes=u,i}function Ia(i,o,u,f){return i=cn(22,i,f,o),i.elementType=le,i.lanes=u,i.stateNode={},i}function bu(i,o,u){return i=cn(6,i,null,o),i.lanes=u,i}function xu(i,o,u){return o=cn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Qw(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Su(i,o,u,f,g,w,k,C,A){return i=new Qw(i,o,u,C,A),o===1?(o=1,w===!0&&(o|=8)):o=0,w=cn(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null},Ac(w),i}function Zw(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function Lp(i){if(!i)return vr;i=i._reactInternals;e:{if(zr(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Ft(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(Ft(u))return hf(i,u,o)}return o}function $p(i,o,u,f,g,w,k,C,A){return i=Su(u,f,!0,i,g,w,k,C,A),i.context=Lp(null),u=i.current,f=Pt(),g=kr(u),w=Jn(f,g),w.callback=o??null,br(u,w),i.current.lanes=g,fs(i,g,f),Ut(i,f),i}function La(i,o,u,f){var g=o.current,w=Pt(),k=kr(g);return u=Lp(u),o.context===null?o.context=u:o.pendingContext=u,o=Jn(w,k),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),br(g,o),i=ln(g,k,w),i!==null&&oa(i,g,k),k}function $a(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Fp(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function ku(i,o){Fp(i,o),(i=i.alternate)&&Fp(i,o)}function e_(){return null}var zp=typeof reportError=="function"?reportError:function(i){console.error(i)};function Eu(i){this._internalRoot=i}Fa.prototype.render=Eu.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));La(i,o,null,null)},Fa.prototype.unmount=Eu.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Yr(function(){La(null,i,null,null)}),o[Yn]=null}};function Fa(i){this._internalRoot=i}Fa.prototype.unstable_scheduleHydration=function(i){if(i){var o=Sh();i={blockedOn:null,target:i,priority:o};for(var u=0;u<pr.length&&o!==0&&o<pr[u].priority;u++);pr.splice(u,0,i),u===0&&Th(i)}};function Tu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function za(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Bp(){}function t_(i,o,u,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var H=$a(k);w.call(H)}}var k=$p(o,f,i,0,null,!1,!1,"",Bp);return i._reactRootContainer=k,i[Yn]=k.current,Cs(i.nodeType===8?i.parentNode:i),Yr(),k}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var C=f;f=function(){var H=$a(A);C.call(H)}}var A=Su(i,0,!1,null,null,!1,!1,"",Bp);return i._reactRootContainer=A,i[Yn]=A.current,Cs(i.nodeType===8?i.parentNode:i),Yr(function(){La(o,A,u,f)}),A}function Ba(i,o,u,f,g){var w=u._reactRootContainer;if(w){var k=w;if(typeof g=="function"){var C=g;g=function(){var A=$a(k);C.call(A)}}La(o,k,i,g)}else k=t_(u,o,i,g,f);return $a(k)}bh=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=hs(o.pendingLanes);u!==0&&(tc(o,u|1),Ut(o,et()),(Ne&6)===0&&(Mi=et()+500,wr()))}break;case 13:var f=Pt();Yr(function(){return ln(i,1,f)}),ku(i,1)}},nc=function(i){if(i.tag===13){var o=Pt();ln(i,134217728,o),ku(i,134217728)}},xh=function(i){if(i.tag===13){var o=Pt(),u=kr(i);ln(i,u,o),ku(i,u)}},Sh=function(){return Ie},kh=function(i,o){var u=Ie;try{return Ie=i,o()}finally{Ie=u}},us=function(i,o,u){switch(o){case"input":if(re(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=ea(f);if(!g)throw Error(t(90));yt(f),re(f,g)}}}break;case"textarea":Wn(i,u);break;case"select":o=u.value,o!=null&&nt(i,!!u.multiple,o,!1)}},Ot=yu,bt=Yr;var n_={usingClientEntryPoint:!1,Events:[Os,xi,ea,_t,vn,yu]},Vs={findFiberByHostInstance:Br,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},r_={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ph(i),i===null?null:i.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||e_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{Io=Ua.inject(r_),Dn=Ua}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n_,Wt.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(o))throw Error(t(200));return Zw(i,o,null,u)},Wt.createRoot=function(i,o){if(!Tu(i))throw Error(t(299));var u=!1,f="",g=zp;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Su(i,1,!1,null,null,u,!1,f,g),i[Yn]=o.current,Cs(i.nodeType===8?i.parentNode:i),new Eu(o)},Wt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ph(o),i=i===null?null:i.stateNode,i},Wt.flushSync=function(i){return Yr(i)},Wt.hydrate=function(i,o,u){if(!za(o))throw Error(t(200));return Ba(null,i,o,!0,u)},Wt.hydrateRoot=function(i,o,u){if(!Tu(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,g=!1,w="",k=zp;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),o=$p(o,null,i,1,u??null,g,!1,w,k),i[Yn]=o.current,Cs(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new Fa(o)},Wt.render=function(i,o,u){if(!za(o))throw Error(t(200));return Ba(null,i,o,!1,u)},Wt.unmountComponentAtNode=function(i){if(!za(i))throw Error(t(40));return i._reactRootContainer?(Yr(function(){Ba(null,null,i,!1,function(){i._reactRootContainer=null,i[Yn]=null})}),!0):!1},Wt.unstable_batchedUpdates=yu,Wt.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!za(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ba(i,o,u,!1,f)},Wt.version="18.0.0-fc46dba67-20220329",Wt}var Gp;function Zm(){if(Gp)return Nu.exports;Gp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nu.exports=p_(),Nu.exports}var Jp;function g_(){if(Jp)return Ha;Jp=1;var n=Zm();return Ha.createRoot=n.createRoot,Ha.hydrateRoot=n.hydrateRoot,Ha}var m_=g_();const y_=Nd(m_);function ey({selectedDate:n,onSelectDate:e,minDate:t}){const[r,s]=T.useState(!1),[a,l]=T.useState(new Date),c=T.useRef(null);T.useEffect(()=>{const L=F=>{c.current&&!c.current.contains(F.target)&&s(!1)};return r&&document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[r]);const d=L=>{if(!L)return"Select date";const[F,B,V]=L.split("-").map(Number);return new Date(F,B-1,V).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},h=L=>{const F=L.getFullYear(),B=L.getMonth(),V=new Date(F,B,1),ae=new Date(F,B+1,0).getDate(),oe=V.getDay();return{daysInMonth:ae,startingDayOfWeek:oe,year:F,month:B}},{daysInMonth:p,startingDayOfWeek:y,year:v,month:_}=h(a),b=()=>{l(new Date(a.getFullYear(),a.getMonth()-1))},S=()=>{l(new Date(a.getFullYear(),a.getMonth()+1))},x=L=>{const F=a.getFullYear(),B=String(a.getMonth()+1).padStart(2,"0"),V=String(L).padStart(2,"0"),ne=`${F}-${B}-${V}`;e(ne),s(!1)},E=L=>{if(!t)return!1;const F=new Date(v,_,L),[B,V,ne]=t.split("-").map(Number),ae=new Date(B,V-1,ne);return F<ae},N=L=>{if(!n)return!1;const[F,B,V]=n.split("-").map(Number);return v===F&&_===B-1&&L===V},j=L=>{const F=new Date;return v===F.getFullYear()&&_===F.getMonth()&&L===F.getDate()},O=[],D=42,I=new Date(v,_,0).getDate();for(let L=y-1;L>=0;L--)O.push({day:I-L,isCurrentMonth:!1,isNextMonth:!1});for(let L=1;L<=p;L++)O.push({day:L,isCurrentMonth:!0,isNextMonth:!1});const P=D-O.length;for(let L=1;L<=P;L++)O.push({day:L,isCurrentMonth:!1,isNextMonth:!0});const $=["January","February","March","April","May","June","July","August","September","October","November","December"];return m.jsxs("div",{className:"calendar-picker-wrapper",ref:c,children:[m.jsxs("button",{type:"button",className:"calendar-trigger",onClick:()=>s(!r),children:[m.jsx("span",{className:"calendar-icon",children:""}),m.jsx("span",{className:"calendar-display-date",children:d(n)}),m.jsx("span",{className:"calendar-arrow",children:r?"":""})]}),r&&m.jsxs("div",{className:"calendar-dropdown",children:[m.jsxs("div",{className:"calendar-header",children:[m.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:b,children:""}),m.jsxs("div",{className:"calendar-month-year",children:[$[_]," ",v]}),m.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:S,children:""})]}),m.jsx("div",{className:"calendar-weekdays",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(L=>m.jsx("div",{className:"calendar-weekday",children:L},L))}),m.jsx("div",{className:"calendar-days-grid",children:O.map((L,F)=>m.jsx("button",{type:"button",className:`calendar-day ${L.isCurrentMonth?"":"other-month"} ${N(L.day)&&L.isCurrentMonth?"selected":""} ${j(L.day)&&L.isCurrentMonth?"today":""} ${E(L.day)&&L.isCurrentMonth?"disabled":""}`,onClick:()=>L.isCurrentMonth&&!E(L.day)&&x(L.day),disabled:!L.isCurrentMonth||E(L.day),children:L.day},F))})]})]})}function ty({selectedCategory:n,onSelectCategory:e}){const[t,r]=T.useState(!1),[s,a]=T.useState(""),[l,c]=T.useState(!1),d=T.useRef(null),h=[{value:"",label:"No Category"},{value:"Work",label:"Work"},{value:"Personal",label:"Personal"},{value:"Coding",label:"Coding"},{value:"Shopping",label:"Shopping"},{value:"Health",label:"Health"},{value:"Hydration",label:"Hydration"},{value:"Food",label:"Food"},{value:"Finance",label:"Finance"},{value:"Education",label:"Education"},{value:"Relationship",label:"Relationship"},{value:"Travel",label:"Travel"},{value:"Home",label:"Home"},{value:"Social",label:"Social"}];T.useEffect(()=>{const b=S=>{d.current&&!d.current.contains(S.target)&&(r(!1),c(!1),a(""))};return t&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[t]);const p=b=>{e(b),r(!1),c(!1),a("")},y=()=>{s.trim()&&(e(s.trim()),r(!1),c(!1),a(""))},v=b=>{b.key==="Enter"?y():b.key==="Escape"&&(c(!1),a(""))},_=n||"Category";return h.some(b=>b.value===n),m.jsxs("div",{className:"category-picker-wrapper",ref:d,children:[m.jsxs("button",{type:"button",className:"category-trigger",onClick:()=>r(!t),children:[m.jsx("span",{className:"category-icon",children:""}),m.jsx("span",{className:"category-display-text",children:_}),m.jsx("span",{className:"category-arrow",children:t?"":""})]}),t&&m.jsx("div",{className:"category-dropdown",children:l?m.jsxs("div",{className:"category-custom-input-wrapper",children:[m.jsx("input",{type:"text",className:"category-custom-input",placeholder:"Enter custom category...",value:s,onChange:b=>a(b.target.value),onKeyDown:v,autoFocus:!0}),m.jsxs("div",{className:"category-custom-actions",children:[m.jsx("button",{type:"button",className:"category-custom-save",onClick:y,children:"Save"}),m.jsx("button",{type:"button",className:"category-custom-cancel",onClick:()=>{c(!1),a("")},children:"Cancel"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"category-list",children:h.map(b=>m.jsxs("button",{type:"button",className:`category-option ${n===b.value?"selected":""}`,onClick:()=>p(b.value),children:[m.jsx("span",{className:"category-check",children:n===b.value?"":""}),m.jsx("span",{className:"category-label",children:b.label})]},b.value))}),m.jsx("div",{className:"category-divider"}),m.jsxs("button",{type:"button",className:"category-custom-btn",onClick:()=>c(!0),children:[m.jsx("span",{className:"category-plus",children:"+"}),m.jsx("span",{children:"Custom Category"})]})]})})]})}const v_=Array.from({length:12},(n,e)=>e+1),w_=[0,5,10,15,20,25,30,35,40,45,50,55],Rd=({selectedTime:n,onSelectTime:e})=>{const[t,r]=T.useState(!1),[s,a]=T.useState(12),[l,c]=T.useState(0),[d,h]=T.useState("AM"),p=T.useRef(null);T.useEffect(()=>{if(!n)return;const[b,S]=n.split(":").map(Number),x=b>=12?"PM":"AM",E=b%12||12;a(E),c(S||0),h(x)},[n]),T.useEffect(()=>{const b=S=>{p.current&&!p.current.contains(S.target)&&r(!1)};return t&&document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[t]);const y=()=>`${s%12||12}:${String(l).padStart(2,"0")} ${d}`,v=()=>{let b=s%12;d==="PM"&&(b+=12);const S=`${String(b).padStart(2,"0")}:${String(l).padStart(2,"0")}`;e(S),r(!1)},_=()=>{e(""),r(!1)};return m.jsxs("div",{className:"time-picker-wrapper",ref:p,children:[m.jsxs("button",{className:"time-trigger",type:"button",onClick:()=>r(b=>!b),children:[m.jsx("span",{className:"time-icon",children:""}),m.jsx("span",{className:"time-display",children:n?y():"Select time"}),m.jsx("span",{className:"time-arrow",children:t?"":""})]}),t&&m.jsxs("div",{className:"time-dropdown compact",children:[m.jsx("div",{className:"time-picker-header",children:m.jsx("span",{className:"time-picker-title",children:"Pick a time"})}),m.jsxs("div",{className:"time-picker-body",children:[m.jsxs("div",{className:"compact-clock",children:[m.jsxs("svg",{className:"clock-face",viewBox:"0 0 160 160",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"clockGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[m.jsx("stop",{offset:"0%",style:{stopColor:"#73ABFF",stopOpacity:1}}),m.jsx("stop",{offset:"100%",style:{stopColor:"#5A8FE6",stopOpacity:1}})]})}),m.jsx("circle",{cx:"80",cy:"80",r:"70",fill:"none",stroke:"rgba(115, 171, 255, 0.2)",strokeWidth:"2"}),v_.map(b=>{const S=b%12/12*2*Math.PI-Math.PI/2,x=52,E=80+x*Math.cos(S),N=80+x*Math.sin(S),j=s===b;return m.jsxs("g",{children:[m.jsx("circle",{cx:E,cy:N,r:"13",className:`clock-number ${j?"selected":""}`,onClick:()=>a(b)}),m.jsx("text",{x:E,y:N,textAnchor:"middle",dominantBaseline:"middle",className:`clock-text ${j?"selected":""}`,pointerEvents:"none",children:b})]},b)})]}),m.jsxs("div",{className:"period-toggle-clock",children:[m.jsx("button",{type:"button",className:`period-btn ${d==="AM"?"selected":""}`,onClick:()=>h("AM"),children:"AM"}),m.jsx("button",{type:"button",className:`period-btn ${d==="PM"?"selected":""}`,onClick:()=>h("PM"),children:"PM"})]})]}),m.jsxs("div",{className:"minute-stack",children:[m.jsx("span",{className:"minute-label",children:"Minutes"}),m.jsx("div",{className:"minute-grid compact",children:w_.map(b=>m.jsx("button",{type:"button",className:`minute-btn ${l===b?"selected":""}`,onClick:()=>c(b),children:String(b).padStart(2,"0")},b))}),m.jsxs("div",{className:"time-current-selection",children:[s,":",String(l).padStart(2,"0")," ",d]})]})]}),m.jsxs("div",{className:"time-picker-actions",children:[m.jsx("button",{type:"button",className:"time-clear-btn",onClick:_,children:"Clear"}),m.jsx("button",{type:"button",className:"time-apply-btn",onClick:v,children:"Apply"})]})]})]})};function __({selectedDuration:n,onSelectDuration:e}){const[t,r]=T.useState(!1),s=T.useRef(null);T.useEffect(()=>{const h=p=>{s.current&&!s.current.contains(p.target)&&r(!1)};return t&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[t]);const a=h=>{if(!h)return"Duration";if(h<60)return`${h} min`;if(h===60)return"1 hour";if(h%60===0)return`${h/60} hours`;const p=Math.floor(h/60),y=h%60;return`${p}h ${y}m`},l=[{label:"15 min",value:15},{label:"30 min",value:30},{label:"45 min",value:45},{label:"1 hour",value:60},{label:"1.5 hours",value:90},{label:"2 hours",value:120},{label:"3 hours",value:180},{label:"4 hours",value:240}],c=h=>{e(h),r(!1)},d=()=>{e(void 0),r(!1)};return m.jsxs("div",{className:"duration-picker-wrapper",ref:s,children:[m.jsxs("button",{type:"button",className:"duration-trigger",onClick:()=>r(!t),children:[m.jsx("span",{className:"duration-icon",children:""}),m.jsx("span",{className:"duration-display",children:a(n)}),m.jsx("span",{className:"duration-arrow",children:t?"":""})]}),t&&m.jsxs("div",{className:"duration-dropdown",children:[m.jsx("div",{className:"duration-picker-header",children:m.jsx("span",{className:"duration-picker-title",children:"Task Duration"})}),m.jsx("div",{className:"duration-presets-grid",children:l.map(h=>m.jsx("button",{type:"button",className:`duration-preset-btn ${n===h.value?"selected":""}`,onClick:()=>c(h.value),children:h.label},h.value))}),m.jsx("div",{className:"duration-picker-actions",children:m.jsx("button",{type:"button",className:"duration-clear-btn",onClick:d,children:"Clear"})})]})]})}function ny({selectedPriority:n,onSelectPriority:e}){const[t,r]=T.useState(!1),s=T.useRef(null),a=[{value:"low",label:"Low",icon:"",description:"No rush"},{value:"medium",label:"Medium",icon:"",description:"Moderate importance"},{value:"high",label:"High",icon:"",description:"Urgent"}];T.useEffect(()=>{const h=p=>{s.current&&!s.current.contains(p.target)&&r(!1)};return t&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[t]);const l=h=>{e(h),r(!1)},d=a.find(p=>p.value===n)||a[1];return m.jsxs("div",{className:"priority-picker-wrapper",ref:s,children:[m.jsxs("button",{type:"button",className:`priority-trigger priority-trigger-${n}`,onClick:()=>r(!t),children:[m.jsx("span",{className:"priority-trigger-icon",children:d.icon}),m.jsxs("span",{className:"priority-trigger-text",children:[d.label," Priority"]}),m.jsx("span",{className:"priority-arrow",children:t?"":""})]}),t&&m.jsxs("div",{className:"priority-dropdown",children:[m.jsx("div",{className:"priority-header",children:m.jsx("span",{className:"priority-title",children:"Select Priority"})}),m.jsx("div",{className:"priority-options",children:a.map(h=>m.jsxs("button",{type:"button",className:`priority-option priority-option-${h.value} ${n===h.value?"selected":""}`,onClick:()=>l(h.value),children:[m.jsx("span",{className:"priority-option-icon",children:h.icon}),m.jsxs("div",{className:"priority-option-content",children:[m.jsx("span",{className:"priority-option-label",children:h.label}),m.jsx("span",{className:"priority-option-description",children:h.description})]}),n===h.value&&m.jsx("span",{className:"priority-check",children:""})]},h.value))})]})]})}function ry({selectedReminder:n,onSelectReminder:e}){const[t,r]=T.useState(!1),s=T.useRef(null),a=[{value:"",label:"No Reminder",icon:"",description:"No notification"},{value:"5",label:"5 minutes",icon:"",description:"5 min before"},{value:"15",label:"15 minutes",icon:"",description:"15 min before"},{value:"30",label:"30 minutes",icon:"",description:"30 min before"},{value:"60",label:"1 hour",icon:"",description:"1 hour before"},{value:"1440",label:"1 day",icon:"",description:"1 day before"}];T.useEffect(()=>{const h=p=>{s.current&&!s.current.contains(p.target)&&r(!1)};return t&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[t]);const l=h=>{e(h),r(!1)},d=a.find(p=>String(p.value)===String(n))||a[0];return m.jsxs("div",{className:"reminder-picker-wrapper",ref:s,children:[m.jsxs("button",{type:"button",className:"reminder-trigger",onClick:()=>r(!t),children:[m.jsx("span",{className:"reminder-trigger-icon",children:d.icon}),m.jsx("span",{className:"reminder-trigger-text",children:d.label}),m.jsx("span",{className:"reminder-arrow",children:t?"":""})]}),t&&m.jsxs("div",{className:"reminder-dropdown",children:[m.jsx("div",{className:"reminder-header",children:m.jsx("span",{className:"reminder-title",children:"Set Reminder"})}),m.jsx("div",{className:"reminder-options",children:a.map(h=>m.jsxs("button",{type:"button",className:`reminder-option ${String(n)===String(h.value)?"selected":""}`,onClick:()=>l(h.value),children:[m.jsx("span",{className:"reminder-option-icon",children:h.icon}),m.jsxs("div",{className:"reminder-option-content",children:[m.jsx("span",{className:"reminder-option-label",children:h.label}),m.jsx("span",{className:"reminder-option-description",children:h.description})]}),String(n)===String(h.value)&&m.jsx("span",{className:"reminder-check",children:""})]},h.value))})]})]})}function b_({selectedRecurrence:n,onSelectRecurrence:e}){var c,d;const[t,r]=T.useState(!1),s=[{value:"none",label:"Does not repeat",icon:""},{value:"daily",label:"Daily",icon:""},{value:"weekly",label:"Weekly",icon:""},{value:"biweekly",label:"Every 2 weeks",icon:""},{value:"monthly",label:"Monthly",icon:""},{value:"yearly",label:"Yearly",icon:""}],a=()=>s.find(h=>h.value===(n||"none")),l=h=>{e(h==="none"?null:h),r(!1)};return m.jsxs("div",{className:"recurrence-picker",children:[m.jsxs("button",{type:"button",className:"picker-button",onClick:()=>r(!t),title:"Set recurrence",children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{className:"picker-icon",children:(c=a())==null?void 0:c.icon}),m.jsx("span",{className:"picker-label",children:(d=a())==null?void 0:d.label})]}),m.jsx("span",{className:"picker-arrow",children:t?"":""})]}),t&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"picker-overlay",onClick:()=>r(!1)}),m.jsx("div",{className:"recurrence-dropdown picker-dropdown",children:s.map(h=>m.jsxs("button",{type:"button",className:`recurrence-option picker-option ${(n||"none")===h.value?"selected":""}`,onClick:()=>l(h.value),children:[m.jsx("span",{className:"option-icon",children:h.icon}),m.jsx("span",{className:"option-label",children:h.label}),(n||"none")===h.value&&m.jsx("span",{className:"option-check",children:""})]},h.value))})]})]})}function x_({onTranscript:n,onInterimTranscript:e,onError:t,onAddTask:r,inputValue:s=""}){const[a,l]=T.useState(!1),[c,d]=T.useState(!0),[h,p]=T.useState(!1);T.useEffect(()=>{h&&s===""&&p(!1)},[s,h]);const y=T.useRef(null),v=T.useRef(""),_=T.useRef(!1),b=T.useRef(n),S=T.useRef(e),x=T.useRef(t),E=T.useRef(r);T.useEffect(()=>{b.current=n,S.current=e,x.current=t,E.current=r},[n,e,t,r]),T.useEffect(()=>{const j=window.SpeechRecognition||window.webkitSpeechRecognition;if(!j){d(!1);return}const O=new j;return O.continuous=!1,O.interimResults=!0,O.lang="en-US",O.maxAlternatives=1,O.onresult=D=>{let I="",P=v.current;for(let L=D.resultIndex;L<D.results.length;L++){const F=D.results[L][0].transcript;D.results[L].isFinal?P+=F+" ":I+=F}v.current=P;const $=P+I;$&&S.current&&S.current($),P&&b.current&&b.current(P.trim())},O.onerror=D=>{if(D.error!=="no-speech"&&(l(!1),x.current)){let I="Voice recognition failed";if(D.error==="aborted")return;D.error==="not-allowed"?I="Microphone access denied. Please enable it in your browser settings.":D.error==="network"&&(I="Network error. Please check your connection."),x.current(I)}},O.onend=()=>{l(!1),_.current=!1,v.current&&b.current&&(b.current(v.current.trim()),p(!0)),v.current=""},y.current=O,()=>{y.current&&y.current.abort()}},[]);const N=()=>{var j,O;if(!c){x.current&&x.current("Voice recognition is not supported in your browser. Please try Chrome or Edge.");return}if(h){E.current&&E.current(),p(!1);return}if(a)(j=y.current)==null||j.stop(),l(!1),_.current=!1;else try{(O=y.current)==null||O.start(),l(!0),_.current=!0}catch{x.current&&x.current("Failed to start voice recognition. Please try again.")}};return c?m.jsxs("div",{className:"voice-input-wrapper",children:[m.jsx("button",{type:"button",className:`voice-input-btn ${a?"listening":""} ${h?"add-task":""}`,onClick:N,title:h?"Click to add task":a?"Click to stop":"Add task by voice",children:h?m.jsx("span",{className:"add-task-text",children:" Add Task"}):a?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"mic-icon recording",children:""}),m.jsx("span",{className:"recording-pulse"})]}):m.jsx("span",{className:"mic-icon",children:""})}),a&&m.jsx("span",{className:"listening-indicator",children:"Listening..."})]}):null}function Xp({addTask:n}){const[e,t]=T.useState(""),[r,s]=T.useState("medium"),[a,l]=T.useState(""),[c,d]=T.useState(""),[h,p]=T.useState(void 0),[y,v]=T.useState(""),[_,b]=T.useState("15"),[S,x]=T.useState(null),[E,N]=T.useState(""),j=()=>{const L=new Date,F=L.getFullYear(),B=String(L.getMonth()+1).padStart(2,"0"),V=String(L.getDate()).padStart(2,"0");return`${F}-${B}-${V}`},O=L=>{L.preventDefault(),e.trim()&&(n({text:e,priority:r,dueDate:a||j(),dueTime:c,category:y.trim(),reminderMinutes:_?parseInt(_.toString()):null,recurrence:S,scheduledDuration:h}),t(""),s("medium"),l(""),d(""),p(void 0),v(""),b("15"),x(null))},D=L=>{t(L),N("")},I=L=>{t(L)},P=L=>{N(L),setTimeout(()=>N(""),5e3)},$=()=>{e.trim()&&O({preventDefault:()=>{}})};return m.jsxs("form",{className:"todo-form",onSubmit:O,children:[m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"input-with-voice",children:[m.jsx("input",{type:"text",className:"todo-input",placeholder:"Add a new task...",value:e,onChange:L=>t(L.target.value),required:!0}),m.jsx(x_,{onTranscript:D,onInterimTranscript:I,onError:P,onAddTask:$,inputValue:e})]}),E&&m.jsx("p",{className:"voice-error",children:E})]}),m.jsxs("div",{className:"form-row form-options",children:[m.jsx(ny,{selectedPriority:r,onSelectPriority:s}),m.jsx(ey,{selectedDate:a,onSelectDate:l,minDate:j()}),m.jsx(Rd,{selectedTime:c,onSelectTime:d}),m.jsx(__,{selectedDuration:h,onSelectDuration:p}),m.jsx(ty,{selectedCategory:y,onSelectCategory:v}),m.jsx(ry,{selectedReminder:_,onSelectReminder:b}),m.jsx(b_,{selectedRecurrence:S,onSelectRecurrence:x}),m.jsx("button",{type:"submit",className:"todo-button",children:"Add Task"})]})]})}function S_({task:n,onUpdateTime:e}){const[t,r]=T.useState(n.timeSpent||0);T.useEffect(()=>{if(n.isTracking&&n.trackingStartTime){const c=setInterval(()=>{const d=Math.floor((Date.now()-n.trackingStartTime)/1e3);r((n.timeSpent||0)+d)},1e3);return()=>clearInterval(c)}else r(n.timeSpent||0)},[n.isTracking,n.trackingStartTime,n.timeSpent]);const s=c=>{if(c<60)return`${c}s`;if(c<3600){const d=Math.floor(c/60),h=c%60;return h>0?`${d}m ${h}s`:`${d}m`}else{const d=Math.floor(c/3600),h=Math.floor(c%3600/60);return h>0?`${d}h ${h}m`:`${d}h`}},a=()=>{if(n.isTracking){const c=Math.floor((Date.now()-(n.trackingStartTime||0))/1e3),d=(n.timeSpent||0)+c;e(n.id,{timeSpent:d,isTracking:!1,trackingStartTime:null})}else e(n.id,{timeSpent:n.timeSpent||0,isTracking:!0,trackingStartTime:Date.now()})},l=()=>{e(n.id,{timeSpent:0,isTracking:!1,trackingStartTime:null})};return m.jsxs("div",{className:"time-tracker",children:[m.jsxs("div",{className:"time-display",children:[m.jsx("span",{className:"time-icon",children:n.isTracking?"":""}),m.jsx("span",{className:"time-value",children:s(t)})]}),m.jsxs("div",{className:"time-controls",children:[m.jsx("button",{className:`time-btn ${n.isTracking?"btn-stop":"btn-start"}`,onClick:a,disabled:n.completed,title:n.isTracking?"Stop timer":"Start timer",children:n.isTracking?"":""}),t>0&&m.jsx("button",{className:"time-btn btn-reset",onClick:l,disabled:n.isTracking,title:"Reset timer",children:""})]})]})}function so({task:n,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a}){const[l,c]=T.useState(!1),[d,h]=T.useState(n.text),[p,y]=T.useState(n.priority||"medium"),[v,_]=T.useState(n.dueDate||""),[b,S]=T.useState(n.dueTime||""),[x,E]=T.useState(n.category||""),[N,j]=T.useState(n.reminderMinutes||""),O=()=>{d.trim()&&(r(n.id,{text:d,priority:p,dueDate:v,dueTime:b,category:x.trim(),reminderMinutes:N?parseInt(N.toString()):null}),c(!1))},D=()=>{h(n.text),y(n.priority||"medium"),_(n.dueDate||""),S(n.dueTime||""),E(n.category||""),j(n.reminderMinutes||""),c(!1)},I=()=>`priority-${n.priority||"medium"}`,P=()=>{if(!n.dueDate||n.completed)return!1;const B=new Date,[V,ne,ae]=n.dueDate.split("-").map(Number),oe=new Date(V,ne-1,ae);if(n.dueTime){const[fe,le]=n.dueTime.split(":");oe.setHours(parseInt(fe),parseInt(le),0,0)}return oe<B},$=B=>{if(!B)return"";const[V,ne,ae]=B.split("-").map(Number);return new Date(V,ne-1,ae).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},L=B=>{if(!B)return"";const[V,ne]=B.split(":"),ae=parseInt(V),oe=ae>=12?"PM":"AM";return`${ae%12||12}:${ne} ${oe}`},F=B=>B?B<60?`${B} min before`:B===60?"1 hour before":B===1440?"1 day before":`${Math.floor(B/60)} hours before`:"";return m.jsx("div",{className:`todo-item ${n.completed?"completed":""} ${I()} ${P()?"overdue":""}`,children:l?m.jsxs("div",{className:"todo-edit",children:[m.jsx("input",{type:"text",className:"todo-edit-input",value:d,onChange:B=>h(B.target.value),onKeyPress:B=>B.key==="Enter"&&O()}),m.jsxs("div",{className:"edit-options",children:[m.jsx(ny,{selectedPriority:p,onSelectPriority:y}),m.jsx(ey,{selectedDate:v,onSelectDate:_,minDate:""}),m.jsx(Rd,{selectedTime:b,onSelectTime:S}),m.jsx(ty,{selectedCategory:x,onSelectCategory:E}),m.jsx(ry,{selectedReminder:N,onSelectReminder:j})]}),m.jsxs("div",{className:"todo-edit-actions",children:[m.jsx("button",{className:"btn-save",onClick:O,children:"Save"}),m.jsx("button",{className:"btn-cancel",onClick:D,children:"Cancel"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"todo-content",children:[m.jsx("input",{type:"checkbox",className:"todo-checkbox",checked:n.completed,onChange:()=>e(n.id)}),m.jsxs("div",{className:"todo-details",children:[m.jsxs("div",{className:"todo-text-row",children:[m.jsx("span",{className:"todo-text",children:n.text}),n.recurrence&&m.jsxs("span",{className:"recurring-indicator",children:[m.jsx("span",{className:"recurring-indicator-icon",children:""}),n.recurrence==="daily"&&"Daily",n.recurrence==="weekly"&&"Weekly",n.recurrence==="biweekly"&&"Biweekly",n.recurrence==="monthly"&&"Monthly",n.recurrence==="yearly"&&"Yearly"]})]}),m.jsxs("div",{className:"todo-meta",children:[m.jsx("span",{className:`priority-badge priority-badge-${n.priority||"medium"}`,children:(n.priority||"medium").toUpperCase()}),n.category&&m.jsx("span",{className:"category-tag",children:n.category}),n.dueDate&&m.jsxs("span",{className:`due-date ${P()?"overdue-text":""}`,children:["Due: ",$(n.dueDate),n.dueTime&&` at ${L(n.dueTime)}`,P()&&" "]}),n.reminderMinutes&&!n.completed&&m.jsxs("span",{className:"reminder-badge",children:[" ",F(n.reminderMinutes)]})]})]})]}),m.jsx(S_,{task:n,onUpdateTime:s}),m.jsxs("div",{className:"todo-actions",children:[a&&!n.completed&&m.jsx("button",{className:"btn-focus",onClick:()=>a(n),title:"Enter Focus Mode",children:" Focus"}),m.jsx("button",{className:"btn-edit",onClick:()=>c(!0),disabled:n.completed,children:"Edit"}),m.jsx("button",{className:"btn-delete",onClick:()=>t(n.id),children:"Delete"})]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Eo(n){return n+.5|0}const Pr=(n,e,t)=>Math.max(Math.min(n,t),e);function Qs(n){return Pr(Eo(n*2.55),0,255)}function Mr(n){return Pr(Eo(n*255),0,255)}function sr(n){return Pr(Eo(n/2.55)/100,0,1)}function Qp(n){return Pr(Eo(n*100),0,100)}const un={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rd=[..."0123456789ABCDEF"],k_=n=>rd[n&15],E_=n=>rd[(n&240)>>4]+rd[n&15],Wa=n=>(n&240)>>4===(n&15),T_=n=>Wa(n.r)&&Wa(n.g)&&Wa(n.b)&&Wa(n.a);function C_(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&un[n[1]]*17,g:255&un[n[2]]*17,b:255&un[n[3]]*17,a:e===5?un[n[4]]*17:255}:(e===7||e===9)&&(t={r:un[n[1]]<<4|un[n[2]],g:un[n[3]]<<4|un[n[4]],b:un[n[5]]<<4|un[n[6]],a:e===9?un[n[7]]<<4|un[n[8]]:255})),t}const j_=(n,e)=>n<255?e(n):"";function N_(n){var e=T_(n)?k_:E_;return n?"#"+e(n.r)+e(n.g)+e(n.b)+j_(n.a,e):void 0}const O_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function iy(n,e,t){const r=e*Math.min(t,1-t),s=(a,l=(a+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function R_(n,e,t){const r=(s,a=(s+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function P_(n,e,t){const r=iy(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)r[s]*=1-e-t,r[s]+=e;return r}function D_(n,e,t,r,s){return n===s?(e-t)/r+(e<t?6:0):e===s?(t-n)/r+2:(n-e)/r+4}function Pd(n){const t=n.r/255,r=n.g/255,s=n.b/255,a=Math.max(t,r,s),l=Math.min(t,r,s),c=(a+l)/2;let d,h,p;return a!==l&&(p=a-l,h=c>.5?p/(2-a-l):p/(a+l),d=D_(t,r,s,p,a),d=d*60+.5),[d|0,h||0,c]}function Dd(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Mr)}function Ad(n,e,t){return Dd(iy,n,e,t)}function A_(n,e,t){return Dd(P_,n,e,t)}function M_(n,e,t){return Dd(R_,n,e,t)}function sy(n){return(n%360+360)%360}function I_(n){const e=O_.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Qs(+e[5]):Mr(+e[5]));const s=sy(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=A_(s,a,l):e[1]==="hsv"?r=M_(s,a,l):r=Ad(s,a,l),{r:r[0],g:r[1],b:r[2],a:t}}function L_(n,e){var t=Pd(n);t[0]=sy(t[0]+e),t=Ad(t),n.r=t[0],n.g=t[1],n.b=t[2]}function $_(n){if(!n)return;const e=Pd(n),t=e[0],r=Qp(e[1]),s=Qp(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${s}%, ${sr(n.a)})`:`hsl(${t}, ${r}%, ${s}%)`}const Zp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},eg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function F_(){const n={},e=Object.keys(eg),t=Object.keys(Zp);let r,s,a,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],s=0;s<t.length;s++)a=t[s],c=c.replace(a,Zp[a]);a=parseInt(eg[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let Va;function z_(n){Va||(Va=F_(),Va.transparent=[0,0,0,0]);const e=Va[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const B_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function U_(n){const e=B_.exec(n);let t=255,r,s,a;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?Qs(l):Pr(l*255,0,255)}return r=+e[1],s=+e[3],a=+e[5],r=255&(e[2]?Qs(r):Pr(r,0,255)),s=255&(e[4]?Qs(s):Pr(s,0,255)),a=255&(e[6]?Qs(a):Pr(a,0,255)),{r,g:s,b:a,a:t}}}function H_(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${sr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Pu=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Li=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function W_(n,e,t){const r=Li(sr(n.r)),s=Li(sr(n.g)),a=Li(sr(n.b));return{r:Mr(Pu(r+t*(Li(sr(e.r))-r))),g:Mr(Pu(s+t*(Li(sr(e.g))-s))),b:Mr(Pu(a+t*(Li(sr(e.b))-a))),a:n.a+t*(e.a-n.a)}}function qa(n,e,t){if(n){let r=Pd(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Ad(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function oy(n,e){return n&&Object.assign(e||{},n)}function tg(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Mr(n[3]))):(e=oy(n,{r:0,g:0,b:0,a:1}),e.a=Mr(e.a)),e}function V_(n){return n.charAt(0)==="r"?U_(n):I_(n)}class go{constructor(e){if(e instanceof go)return e;const t=typeof e;let r;t==="object"?r=tg(e):t==="string"&&(r=C_(e)||z_(e)||V_(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=oy(this._rgb);return e&&(e.a=sr(e.a)),e}set rgb(e){this._rgb=tg(e)}rgbString(){return this._valid?H_(this._rgb):void 0}hexString(){return this._valid?N_(this._rgb):void 0}hslString(){return this._valid?$_(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,s=e.rgb;let a;const l=t===a?.5:t,c=2*l-1,d=r.a-s.a,h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;a=1-h,r.r=255&h*r.r+a*s.r+.5,r.g=255&h*r.g+a*s.g+.5,r.b=255&h*r.b+a*s.b+.5,r.a=l*r.a+(1-l)*s.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=W_(this._rgb,e._rgb,t)),this}clone(){return new go(this.rgb)}alpha(e){return this._rgb.a=Mr(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Eo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return qa(this._rgb,2,e),this}darken(e){return qa(this._rgb,2,-e),this}saturate(e){return qa(this._rgb,1,e),this}desaturate(e){return qa(this._rgb,1,-e),this}rotate(e){return L_(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function tr(){}const q_=(()=>{let n=0;return()=>n++})();function Fe(n){return n==null}function ut(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Pe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function pn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Fn(n,e){return pn(n)?n:e}function Re(n,e){return typeof n>"u"?e:n}const K_=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,ay=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function qe(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Le(n,e,t,r){let s,a,l;if(ut(n))for(a=n.length,s=0;s<a;s++)e.call(t,n[s],s);else if(Pe(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)e.call(t,n[l[s]],l[s])}function wl(n,e){let t,r,s,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(s=n[t],a=e[t],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function _l(n){if(ut(n))return n.map(_l);if(Pe(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let s=0;for(;s<r;++s)e[t[s]]=_l(n[t[s]]);return e}return n}function ly(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Y_(n,e,t,r){if(!ly(n))return;const s=e[n],a=t[n];Pe(s)&&Pe(a)?mo(s,a,r):e[n]=_l(a)}function mo(n,e,t){const r=ut(e)?e:[e],s=r.length;if(!Pe(n))return n;t=t||{};const a=t.merger||Y_;let l;for(let c=0;c<s;++c){if(l=r[c],!Pe(l))continue;const d=Object.keys(l);for(let h=0,p=d.length;h<p;++h)a(d[h],n,l,t)}return n}function oo(n,e){return mo(n,e,{merger:G_})}function G_(n,e,t){if(!ly(n))return;const r=e[n],s=t[n];Pe(r)&&Pe(s)?oo(r,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=_l(s))}const ng={"":n=>n,x:n=>n.x,y:n=>n.y};function J_(n){const e=n.split("."),t=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function X_(n){const e=J_(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function di(n,e){return(ng[e]||(ng[e]=X_(e)))(n)}function Md(n){return n.charAt(0).toUpperCase()+n.slice(1)}const yo=n=>typeof n<"u",Lr=n=>typeof n=="function",rg=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Q_(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const $e=Math.PI,ot=2*$e,bl=Number.POSITIVE_INFINITY,Z_=$e/180,dt=$e/2,Qr=$e/4,ig=$e*2/3,cy=Math.log10,Ir=Math.sign;function fl(n,e,t){return Math.abs(n-e)<t}function sg(n){const e=Math.round(n);n=fl(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(cy(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function eb(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((s,a)=>s-a).pop(),e}function tb(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function xl(n){return!tb(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function nb(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function rb(n,e,t){let r,s,a;for(r=0,s=n.length;r<s;r++)a=n[r][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function or(n){return n*($e/180)}function ib(n){return n*(180/$e)}function og(n){if(!pn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function uy(n,e){const t=e.x-n.x,r=e.y-n.y,s=Math.sqrt(t*t+r*r);let a=Math.atan2(r,t);return a<-.5*$e&&(a+=ot),{angle:a,distance:s}}function sb(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Un(n){return(n%ot+ot)%ot}function Sl(n,e,t,r){const s=Un(n),a=Un(e),l=Un(t),c=Un(a-s),d=Un(l-s),h=Un(s-a),p=Un(s-l);return s===a||s===l||r&&a===l||c>d&&h<p}function Kt(n,e,t){return Math.max(e,Math.min(t,n))}function ob(n){return Kt(n,-32768,32767)}function li(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Id(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,t(a)?s=a:r=a;return{lo:s,hi:r}}const id=(n,e,t,r)=>Id(n,t,r?s=>{const a=n[s][e];return a<t||a===t&&n[s+1][e]===t}:s=>n[s][e]<t),ab=(n,e,t)=>Id(n,t,r=>n[r][e]>=t);function lb(n,e,t){let r=0,s=n.length;for(;r<s&&n[r]<e;)r++;for(;s>r&&n[s-1]>t;)s--;return r>0||s<n.length?n.slice(r,s):n}const dy=["push","pop","shift","splice","unshift"];function cb(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),dy.forEach(t=>{const r="_onData"+Md(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...a)}),l}})})}function ag(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(dy.forEach(a=>{delete n[a]}),delete n._chartjs)}function hy(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const fy=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function py(n,e){let t=[],r=!1;return function(...s){t=s,r||(r=!0,fy.call(window,()=>{r=!1,n.apply(e,t)}))}}function ub(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Ld=n=>n==="start"?"left":n==="end"?"right":"center",jt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,db=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,Ka=n=>n===0||n===1,lg=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*ot/t)),cg=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ot/t)+1,ao={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*dt)+1,easeOutSine:n=>Math.sin(n*dt),easeInOutSine:n=>-.5*(Math.cos($e*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ka(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ka(n)?n:lg(n,.075,.3),easeOutElastic:n=>Ka(n)?n:cg(n,.075,.3),easeInOutElastic(n){return Ka(n)?n:n<.5?.5*lg(n*2,.1125,.45):.5+.5*cg(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ao.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ao.easeInBounce(n*2)*.5:ao.easeOutBounce(n*2-1)*.5+.5};function gy(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ug(n){return gy(n)?n:new go(n)}function Du(n){return gy(n)?n:new go(n).saturate(.5).darken(.1).hexString()}const hb=["x","y","borderWidth","radius","tension"],fb=["color","borderColor","backgroundColor"];function pb(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:fb},numbers:{type:"number",properties:hb}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function gb(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dg=new Map;function mb(n,e){e=e||{};const t=n+JSON.stringify(e);let r=dg.get(t);return r||(r=new Intl.NumberFormat(n,e),dg.set(t,r)),r}function $d(n,e,t){return mb(e,t).format(n)}const yb={values(n){return ut(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let s,a=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),a=vb(n,t)}const l=cy(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),$d(n,r,d)}};function vb(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var my={formatters:yb};function wb(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:my.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const hi=Object.create(null),sd=Object.create(null);function lo(n,e){if(!e)return n;const t=e.split(".");for(let r=0,s=t.length;r<s;++r){const a=t[r];n=n[a]||(n[a]=Object.create(null))}return n}function Au(n,e,t){return typeof e=="string"?mo(lo(n,e),t):mo(lo(n,""),e)}class _b{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Du(s.backgroundColor),this.hoverBorderColor=(r,s)=>Du(s.borderColor),this.hoverColor=(r,s)=>Du(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Au(this,e,t)}get(e){return lo(this,e)}describe(e,t){return Au(sd,e,t)}override(e,t){return Au(hi,e,t)}route(e,t,r,s){const a=lo(this,e),l=lo(this,r),c="_"+t;Object.defineProperties(a,{[c]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[c],h=l[s];return Pe(d)?Object.assign({},h,d):Re(d,h)},set(d){this[c]=d}}})}apply(e){e.forEach(t=>t(this))}}var tt=new _b({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pb,gb,wb]);function bb(n){return!n||Fe(n.size)||Fe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function hg(n,e,t,r,s){let a=e[s];return a||(a=e[s]=n.measureText(s).width,t.push(s)),a>r&&(r=a),r}function Zr(n,e,t){const r=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*r)/r+s}function fg(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function pg(n,e,t,r){yy(n,e,t,r,null)}function yy(n,e,t,r,s){let a,l,c,d,h,p,y,v;const _=e.pointStyle,b=e.rotation,S=e.radius;let x=(b||0)*Z_;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(x),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),_){default:s?n.ellipse(t,r,s/2,S,0,0,ot):n.arc(t,r,S,0,ot),n.closePath();break;case"triangle":p=s?s/2:S,n.moveTo(t+Math.sin(x)*p,r-Math.cos(x)*S),x+=ig,n.lineTo(t+Math.sin(x)*p,r-Math.cos(x)*S),x+=ig,n.lineTo(t+Math.sin(x)*p,r-Math.cos(x)*S),n.closePath();break;case"rectRounded":h=S*.516,d=S-h,l=Math.cos(x+Qr)*d,y=Math.cos(x+Qr)*(s?s/2-h:d),c=Math.sin(x+Qr)*d,v=Math.sin(x+Qr)*(s?s/2-h:d),n.arc(t-y,r-c,h,x-$e,x-dt),n.arc(t+v,r-l,h,x-dt,x),n.arc(t+y,r+c,h,x,x+dt),n.arc(t-v,r+l,h,x+dt,x+$e),n.closePath();break;case"rect":if(!b){d=Math.SQRT1_2*S,p=s?s/2:d,n.rect(t-p,r-d,2*p,2*d);break}x+=Qr;case"rectRot":y=Math.cos(x)*(s?s/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(s?s/2:S),n.moveTo(t-y,r-c),n.lineTo(t+v,r-l),n.lineTo(t+y,r+c),n.lineTo(t-v,r+l),n.closePath();break;case"crossRot":x+=Qr;case"cross":y=Math.cos(x)*(s?s/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(s?s/2:S),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"star":y=Math.cos(x)*(s?s/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(s?s/2:S),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l),x+=Qr,y=Math.cos(x)*(s?s/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(s?s/2:S),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"line":l=s?s/2:Math.cos(x)*S,c=Math.sin(x)*S,n.moveTo(t-l,r-c),n.lineTo(t+l,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(x)*(s?s/2:S),r+Math.sin(x)*S);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function vy(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Fd(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function zd(n){n.restore()}function xb(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Fe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Sb(n,e,t,r,s){if(s.strikethrough||s.underline){const a=n.measureText(r),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,d=t-a.actualBoundingBoxAscent,h=t+a.actualBoundingBoxDescent,p=s.strikethrough?(d+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(c,p),n.stroke()}}function kb(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function vo(n,e,t,r,s,a={}){const l=ut(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let d,h;for(n.save(),n.font=s.string,xb(n,a),d=0;d<l.length;++d)h=l[d],a.backdrop&&kb(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Fe(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(h,t,r,a.maxWidth)),n.fillText(h,t,r,a.maxWidth),Sb(n,t,r,h,a),r+=Number(s.lineHeight);n.restore()}function kl(n,e){const{x:t,y:r,w:s,h:a,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*$e,$e,!0),n.lineTo(t,r+a-l.bottomLeft),n.arc(t+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,$e,dt,!0),n.lineTo(t+s-l.bottomRight,r+a),n.arc(t+s-l.bottomRight,r+a-l.bottomRight,l.bottomRight,dt,0,!0),n.lineTo(t+s,r+l.topRight),n.arc(t+s-l.topRight,r+l.topRight,l.topRight,0,-dt,!0),n.lineTo(t+l.topLeft,r)}const Eb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Tb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Cb(n,e){const t=(""+n).match(Eb);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const jb=n=>+n||0;function Bd(n,e){const t={},r=Pe(e),s=r?Object.keys(e):e,a=Pe(n)?r?l=>Re(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of s)t[l]=jb(a(l));return t}function wy(n){return Bd(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ki(n){return Bd(n,["topLeft","topRight","bottomLeft","bottomRight"])}function gn(n){const e=wy(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Nt(n,e){n=n||{},e=e||tt.font;let t=Re(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Re(n.style,e.style);r&&!(""+r).match(Tb)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Re(n.family,e.family),lineHeight:Cb(Re(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Re(n.weight,e.weight),string:""};return s.string=bb(s),s}function Ya(n,e,t,r){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function Nb(n,e,t){const{min:r,max:s}=n,a=ay(e,(s-r)/2),l=(c,d)=>t&&c===0?0:c+d;return{min:l(r,-Math.abs(a)),max:l(s,a)}}function es(n,e){return Object.assign(Object.create(n),e)}function Ud(n,e=[""],t,r,s=()=>n[0]){const a=t||n;typeof r>"u"&&(r=Sy("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:s,override:c=>Ud([c,...n],e,a,r)};return new Proxy(l,{deleteProperty(c,d){return delete c[d],delete c._keys,delete n[0][d],!0},get(c,d){return by(c,d,()=>Lb(d,e,n,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,d){return mg(c).includes(d)},ownKeys(c){return mg(c)},set(c,d,h){const p=c._storage||(c._storage=s());return c[d]=p[d]=h,delete c._keys,!0}})}function Qi(n,e,t,r){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:_y(n,r),setContext:a=>Qi(n,a,t,r),override:a=>Qi(n.override(a),e,t,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return by(a,l,()=>Rb(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function _y(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:r,isScriptable:Lr(t)?t:()=>t,isIndexable:Lr(r)?r:()=>r}}const Ob=(n,e)=>n?n+Md(e):e,Hd=(n,e)=>Pe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function by(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function Rb(n,e,t){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=n;let c=r[e];return Lr(c)&&l.isScriptable(e)&&(c=Pb(e,c,n,t)),ut(c)&&c.length&&(c=Db(e,c,n,l.isIndexable)),Hd(e,c)&&(c=Qi(c,s,a&&a[e],l)),c}function Pb(n,e,t,r){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let d=e(a,l||r);return c.delete(n),Hd(n,d)&&(d=Wd(s._scopes,s,n,d)),d}function Db(n,e,t,r){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=t;if(typeof a.index<"u"&&r(n))return e[a.index%e.length];if(Pe(e[0])){const d=e,h=s._scopes.filter(p=>p!==d);e=[];for(const p of d){const y=Wd(h,s,n,p);e.push(Qi(y,a,l&&l[n],c))}}return e}function xy(n,e,t){return Lr(n)?n(e,t):n}const Ab=(n,e)=>n===!0?e:typeof n=="string"?di(e,n):void 0;function Mb(n,e,t,r,s){for(const a of e){const l=Ab(t,a);if(l){n.add(l);const c=xy(l._fallback,t,s);if(typeof c<"u"&&c!==t&&c!==r)return c}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Wd(n,e,t,r){const s=e._rootScopes,a=xy(e._fallback,t,r),l=[...n,...s],c=new Set;c.add(r);let d=gg(c,l,t,a||t,r);return d===null||typeof a<"u"&&a!==t&&(d=gg(c,l,a,d,r),d===null)?!1:Ud(Array.from(c),[""],s,a,()=>Ib(e,t,r))}function gg(n,e,t,r,s){for(;t;)t=Mb(n,e,t,r,s);return t}function Ib(n,e,t){const r=n._getTarget();e in r||(r[e]={});const s=r[e];return ut(s)&&Pe(t)?t:s||{}}function Lb(n,e,t,r){let s;for(const a of e)if(s=Sy(Ob(a,n),t),typeof s<"u")return Hd(n,s)?Wd(t,r,n,s):s}function Sy(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function mg(n){let e=n._keys;return e||(e=n._keys=$b(n._scopes)),e}function $b(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function Vd(){return typeof window<"u"&&typeof document<"u"}function qd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function El(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const zl=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Fb(n,e){return zl(n).getPropertyValue(e)}const zb=["top","right","bottom","left"];function ui(n,e,t){const r={};t=t?"-"+t:"";for(let s=0;s<4;s++){const a=zb[s];r[a]=parseFloat(n[e+"-"+a+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Bb=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Ub(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:s,offsetY:a}=r;let l=!1,c,d;if(Bb(s,a,n.target))c=s,d=a;else{const h=e.getBoundingClientRect();c=r.clientX-h.left,d=r.clientY-h.top,l=!0}return{x:c,y:d,box:l}}function ri(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,s=zl(t),a=s.boxSizing==="border-box",l=ui(s,"padding"),c=ui(s,"border","width"),{x:d,y:h,box:p}=Ub(n,t),y=l.left+(p&&c.left),v=l.top+(p&&c.top);let{width:_,height:b}=e;return a&&(_-=l.width+c.width,b-=l.height+c.height),{x:Math.round((d-y)/_*t.width/r),y:Math.round((h-v)/b*t.height/r)}}function Hb(n,e,t){let r,s;if(e===void 0||t===void 0){const a=n&&qd(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),c=zl(a),d=ui(c,"border","width"),h=ui(c,"padding");e=l.width-h.width-d.width,t=l.height-h.height-d.height,r=El(c.maxWidth,a,"clientWidth"),s=El(c.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:r||bl,maxHeight:s||bl}}const Dr=n=>Math.round(n*10)/10;function Wb(n,e,t,r){const s=zl(n),a=ui(s,"margin"),l=El(s.maxWidth,n,"clientWidth")||bl,c=El(s.maxHeight,n,"clientHeight")||bl,d=Hb(n,e,t);let{width:h,height:p}=d;if(s.boxSizing==="content-box"){const v=ui(s,"border","width"),_=ui(s,"padding");h-=_.width+v.width,p-=_.height+v.height}return h=Math.max(0,h-a.width),p=Math.max(0,r?h/r:p-a.height),h=Dr(Math.min(h,l,d.maxWidth)),p=Dr(Math.min(p,c,d.maxHeight)),h&&!p&&(p=Dr(h/2)),(e!==void 0||t!==void 0)&&r&&d.height&&p>d.height&&(p=d.height,h=Dr(Math.floor(p*r))),{width:h,height:p}}function yg(n,e,t){const r=e||1,s=Dr(n.height*r),a=Dr(n.width*r);n.height=Dr(n.height),n.width=Dr(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=r,l.height=s,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Vb=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Vd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function vg(n,e){const t=Fb(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const qb=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Kb=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Yi(n,e,t){return n?qb(e,t):Kb()}function ky(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Ey(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Ga(n,e,t){return n.options.clip?n[t]:e[t]}function Yb(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Ga(t,e,"left"),right:Ga(t,e,"right"),top:Ga(r,e,"top"),bottom:Ga(r,e,"bottom")}:e}function Gb(n,e){const t=e._clip;if(t.disabled)return!1;const r=Yb(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Jb{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,s){const a=t.listeners[s],l=t.duration;a.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=fy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,c=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,r,e,"progress")),a.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var nr=new Jb;const wg="transparent",Xb={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=ug(n||wg),s=r.valid&&ug(e||wg);return s&&s.valid?s.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Qb{constructor(e,t,r,s){const a=t[r];s=Ya([e.to,s,a,e.from]);const l=Ya([e.from,a,s]);this._active=!0,this._fn=e.fn||Xb[e.type||typeof l],this._easing=ao[e.easing]||ao.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Ya([e.to,t,s,e.from]),this._from=Ya([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let d;if(this._active=a!==c&&(l||t<r),!this._active){this._target[s]=c,this._notify(!0);return}if(t<0){this._target[s]=a;return}d=t/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(a,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][t]()}}class Ty{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Pe(e))return;const t=Object.keys(tt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!Pe(a))return;const l={};for(const c of t)l[c]=a[c];(ut(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,t){const r=t.options,s=ex(e,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&Zb(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let d;for(d=l.length-1;d>=0;--d){const h=l[d];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(e,t));continue}const p=t[h];let y=a[h];const v=r.get(h);if(y)if(v&&y.active()){y.update(v,p,c);continue}else y.cancel();if(!v||!v.duration){e[h]=p;continue}a[h]=y=new Qb(v,e,h,p),s.push(y)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return nr.add(this._chart,r),!0}}function Zb(n,e){const t=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const a=n[r[s]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function ex(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function _g(n,e){const t=n&&n.options||{},r=t.reverse,s=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:r?a:s,end:r?s:a}}function tx(n,e,t){if(t===!1)return!1;const r=_g(n,t),s=_g(e,t);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function nx(n){let e,t,r,s;return Pe(n)?(e=n.top,t=n.right,r=n.bottom,s=n.left):e=t=r=s=n,{top:e,right:t,bottom:r,left:s,disabled:n===!1}}function Cy(n,e){const t=[],r=n._getSortedDatasetMetas(e);let s,a;for(s=0,a=r.length;s<a;++s)t.push(r[s].index);return t}function bg(n,e,t,r={}){const s=n.keys,a=r.mode==="single";let l,c,d,h;if(e===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(d=+s[l],d===t){if(p=!0,r.all)continue;break}h=n.values[d],pn(h)&&(a||e===0||Ir(e)===Ir(h))&&(e+=h)}return!p&&!r.all?0:e}function rx(n,e){const{iScale:t,vScale:r}=e,s=t.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let d,h,p;for(d=0,h=l.length;d<h;++d)p=l[d],c[d]={[s]:p,[a]:n[p]};return c}function Mu(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function ix(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function sx(n){const{min:e,max:t,minDefined:r,maxDefined:s}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function ox(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function xg(n,e,t,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const a=n[s.index];if(t&&a>0||!t&&a<0)return s.index}return null}function Sg(n,e){const{chart:t,_cachedMeta:r}=n,s=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:c}=r,d=a.axis,h=l.axis,p=ix(a,l,r),y=e.length;let v;for(let _=0;_<y;++_){const b=e[_],{[d]:S,[h]:x}=b,E=b._stacks||(b._stacks={});v=E[h]=ox(s,p,S),v[c]=x,v._top=xg(v,l,!0,r.type),v._bottom=xg(v,l,!1,r.type);const N=v._visualValues||(v._visualValues={});N[c]=x}}function Iu(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function ax(n,e){return es(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function lx(n,e,t){return es(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ks(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const s of e){const a=s._stacks;if(!a||a[r]===void 0||a[r][t]===void 0)return;delete a[r][t],a[r]._visualValues!==void 0&&a[r]._visualValues[t]!==void 0&&delete a[r]._visualValues[t]}}}const Lu=n=>n==="reset"||n==="none",kg=(n,e)=>e?n:Object.assign({},n),cx=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Cy(t,!0),values:null};class Gi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Mu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),s=(y,v,_,b)=>y==="x"?v:y==="r"?b:_,a=t.xAxisID=Re(r.xAxisID,Iu(e,"x")),l=t.yAxisID=Re(r.yAxisID,Iu(e,"y")),c=t.rAxisID=Re(r.rAxisID,Iu(e,"r")),d=t.indexAxis,h=t.iAxisID=s(d,a,l,c),p=t.vAxisID=s(d,l,a,c);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ag(this._data,this),e._stacked&&Ks(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Pe(t)){const s=this._cachedMeta;this._data=rx(t,s)}else if(r!==t){if(r){ag(r,this);const s=this._cachedMeta;Ks(s),s._parsed=[]}t&&Object.isExtensible(t)&&cb(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=t._stacked;t._stacked=Mu(t.vScale,t),t.stack!==r.stack&&(s=!0,Ks(t),t.stack=r.stack),this._resyncElements(e),(s||a!==t._stacked)&&(Sg(this,t._parsed),t._stacked=Mu(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:l}=r,c=a.axis;let d=e===0&&t===s.length?!0:r._sorted,h=e>0&&r._parsed[e-1],p,y,v;if(this._parsing===!1)r._parsed=s,r._sorted=!0,v=s;else{ut(s[e])?v=this.parseArrayData(r,s,e,t):Pe(s[e])?v=this.parseObjectData(r,s,e,t):v=this.parsePrimitiveData(r,s,e,t);const _=()=>y[c]===null||h&&y[c]<h[c];for(p=0;p<t;++p)r._parsed[p+e]=y=v[p],d&&(_()&&(d=!1),h=y);r._sorted=d}l&&Sg(this,v)}parsePrimitiveData(e,t,r,s){const{iScale:a,vScale:l}=e,c=a.axis,d=l.axis,h=a.getLabels(),p=a===l,y=new Array(s);let v,_,b;for(v=0,_=s;v<_;++v)b=v+r,y[v]={[c]:p||a.parse(h[b],b),[d]:l.parse(t[b],b)};return y}parseArrayData(e,t,r,s){const{xScale:a,yScale:l}=e,c=new Array(s);let d,h,p,y;for(d=0,h=s;d<h;++d)p=d+r,y=t[p],c[d]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(e,t,r,s){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(s);let p,y,v,_;for(p=0,y=s;p<y;++p)v=p+r,_=t[v],h[p]={x:a.parse(di(_,c),v),y:l.parse(di(_,d),v)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const s=this.chart,a=this._cachedMeta,l=t[e.axis],c={keys:Cy(s,!0),values:t._stacks[e.axis]._visualValues};return bg(c,l,a.index,{mode:r})}updateRangeFromParsed(e,t,r,s){const a=r[t.axis];let l=a===null?NaN:a;const c=s&&r._stacks[t.axis];s&&c&&(s.values=c,l=bg(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,l=s.length,c=this._getOtherScale(e),d=cx(t,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=sx(c);let v,_;function b(){_=s[v];const S=_[c.axis];return!pn(_[e.axis])||p>S||y<S}for(v=0;v<l&&!(!b()&&(this.updateRangeFromParsed(h,e,_,d),a));++v);if(a){for(v=l-1;v>=0;--v)if(!b()){this.updateRangeFromParsed(h,e,_,d);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let s,a,l;for(s=0,a=t.length;s<a;++s)l=t[s][e.axis],pn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,s=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=nx(Re(this.options.clip,tx(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,s=r.data||[],a=t.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||s.length-c,h=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,a,c,d),p=c;p<c+d;++p){const y=s[p];y.hidden||(y.active&&h?l.push(y):y.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=lx(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=ax(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const s=t==="active",a=this._cachedDataOpts,l=e+"-"+t,c=a[l],d=this.enableOptionSharing&&yo(r);if(c)return kg(c,d);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,e),y=s?[`${e}Hover`,"hover",e,""]:[e,""],v=h.getOptionScopes(this.getDataset(),p),_=Object.keys(tt.elements[e]),b=()=>this.getContext(r,s,t),S=h.resolveNamedOptions(v,_,b,y);return S.$shared&&(S.$shared=d,a[l]=Object.freeze(kg(S,d))),S}_resolveAnimations(e,t,r){const s=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,c=a[l];if(c)return c;let d;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,t),v=p.getOptionScopes(this.getDataset(),y);d=p.createResolver(v,this.getContext(e,r,t))}const h=new Ty(s,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Lu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),s=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(t,a)||a!==s;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:l}}updateElement(e,t,r,s){Lu(s)?Object.assign(e,r):this._resolveAnimations(t,s).update(e,r)}updateSharedOptions(e,t,r){e&&!Lu(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,s){e.active=s;const a=this.getStyle(t,s);this._resolveAnimations(t,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const s=r.length,a=t.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,t,r=!0){const s=this._cachedMeta,a=s.data,l=e+t;let c;const d=h=>{for(h.length+=t,c=h.length-1;c>=l;c--)h[c]=h[c-t]};for(d(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,s){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,t);r._stacked&&Ks(r,s)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,s]=e;this[t](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}be(Gi,"defaults",{}),be(Gi,"datasetElementType",null),be(Gi,"dataElementType",null);function ux(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let s=0,a=t.length;s<a;s++)r=r.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=hy(r.sort((s,a)=>s-a))}return n._cache.$bar}function dx(n){const e=n.iScale,t=ux(e,n.type);let r=e._length,s,a,l,c;const d=()=>{l===32767||l===-32768||(yo(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(s=0,a=t.length;s<a;++s)l=e.getPixelForValue(t[s]),d();for(c=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),d();return r}function hx(n,e,t,r){const s=t.barThickness;let a,l;return Fe(s)?(a=e.min*t.categoryPercentage,l=t.barPercentage):(a=s*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[n]-a/2}}function fx(n,e,t,r){const s=e.pixels,a=s[n];let l=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const d=t.categoryPercentage;l===null&&(l=a-(c===null?e.end-e.start:c-a)),c===null&&(c=a+a-l);const h=a-(a-Math.min(l,c))/2*d;return{chunk:Math.abs(c-l)/2*d/r,ratio:t.barPercentage,start:h}}function px(n,e,t,r){const s=t.parse(n[0],r),a=t.parse(n[1],r),l=Math.min(s,a),c=Math.max(s,a);let d=l,h=c;Math.abs(l)>Math.abs(c)&&(d=c,h=l),e[t.axis]=h,e._custom={barStart:d,barEnd:h,start:s,end:a,min:l,max:c}}function jy(n,e,t,r){return ut(n)?px(n,e,t,r):e[t.axis]=t.parse(n,r),e}function Eg(n,e,t,r){const s=n.iScale,a=n.vScale,l=s.getLabels(),c=s===a,d=[];let h,p,y,v;for(h=t,p=t+r;h<p;++h)v=e[h],y={},y[s.axis]=c||s.parse(l[h],h),d.push(jy(v,y,a,h));return d}function $u(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function gx(n,e,t){return n!==0?Ir(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function mx(n){let e,t,r,s,a;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(s="end",a="start"):(s="start",a="end"),{start:t,end:r,reverse:e,top:s,bottom:a}}function yx(n,e,t,r){let s=e.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:d,top:h,bottom:p}=mx(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?s=h:(t._bottom||0)===r?s=p:(a[Tg(p,l,c,d)]=!0,s=h)),a[Tg(s,l,c,d)]=!0,n.borderSkipped=a}function Tg(n,e,t,r){return r?(n=vx(n,e,t),n=Cg(n,t,e)):n=Cg(n,e,t),n}function vx(n,e,t){return n===e?t:n===t?e:n}function Cg(n,e,t){return n==="start"?e:n==="end"?t:n}function wx(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class pl extends Gi{parsePrimitiveData(e,t,r,s){return Eg(e,t,r,s)}parseArrayData(e,t,r,s){return Eg(e,t,r,s)}parseObjectData(e,t,r,s){const{iScale:a,vScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=a.axis==="x"?c:d,p=l.axis==="x"?c:d,y=[];let v,_,b,S;for(v=r,_=r+s;v<_;++v)S=t[v],b={},b[a.axis]=a.parse(di(S,h),v),y.push(jy(di(S,p),b,l,v));return y}updateRangeFromParsed(e,t,r,s){super.updateRangeFromParsed(e,t,r,s);const a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:s}=t,a=this.getParsed(e),l=a._custom,c=$u(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,s);for(let _=t;_<t+r;_++){const b=this.getParsed(_),S=a||Fe(b[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(_),x=this._calculateBarIndexPixels(_,p),E=(b._stacks||{})[c.axis],N={horizontal:h,base:S.base,enableBorderRadius:!E||$u(b._custom)||l===E._top||l===E._bottom,x:h?S.head:x.center,y:h?x.center:S.head,height:h?x.size:Math.abs(S.size),width:h?Math.abs(S.size):x.size};v&&(N.options=y||this.resolveDataElementOptions(_,e[_].active?"active":s));const j=N.options||e[_].options;yx(N,j,E,l),wx(N,j,p.ratio),this.updateElement(e[_],_,N,s)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(t),d=c&&c[r.axis],h=p=>{const y=p._parsed.find(_=>_[r.axis]===d),v=y&&y[p.vScale.axis];if(Fe(v)||isNaN(v))return!0};for(const p of s)if(!(t!==void 0&&h(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Re(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const s=this._getStacks(e,r),a=t!==void 0?s.indexOf(t):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,s=[];let a,l;for(a=0,l=t.data.length;a<l;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const c=e.barThickness;return{min:c||dx(t),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,d=this.getParsed(e),h=d._custom,p=$u(h);let y=d[t.axis],v=0,_=r?this.applyStack(t,d,r):y,b,S;_!==y&&(v=_-y,_=y),p&&(y=h.barStart,_=h.barEnd-h.barStart,y!==0&&Ir(y)!==Ir(h.barEnd)&&(v=0),v+=y);const x=!Fe(a)&&!p?a:v;let E=t.getPixelForValue(x);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(v+_):b=E,S=b-E,Math.abs(S)<l){S=gx(S,t,c)*l,y===c&&(E-=S/2);const N=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),O=Math.min(N,j),D=Math.max(N,j);E=Math.max(Math.min(E,D),O),b=E+S,r&&!p&&(d._stacks[t.axis]._visualValues[s]=t.getValueForPixel(b)-t.getValueForPixel(E))}if(E===t.getPixelForValue(c)){const N=Ir(S)*t.getLineWidthForValue(c)/2;E+=N,S-=N}return{size:S,base:E,head:b,center:b+S/2}}_calculateBarIndexPixels(e,t){const r=t.scale,s=this.options,a=s.skipNull,l=Re(s.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(t.grouped){const p=a?this._getStackCount(e):t.stackCount,y=s.barThickness==="flex"?fx(e,t,s,p*h):hx(e,t,s,p*h),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Re(v,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+_;c=y.start+y.chunk*b+y.chunk/2,d=Math.min(l,y.chunk*y.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),d=Math.min(l,t.min*t.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)this.getParsed(a)[t.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}be(pl,"id","bar"),be(pl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),be(pl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function _x(n,e,t){let r=1,s=1,a=0,l=0;if(e<ot){const c=n,d=c+e,h=Math.cos(c),p=Math.sin(c),y=Math.cos(d),v=Math.sin(d),_=(j,O,D)=>Sl(j,c,d,!0)?1:Math.max(O,O*t,D,D*t),b=(j,O,D)=>Sl(j,c,d,!0)?-1:Math.min(O,O*t,D,D*t),S=_(0,h,y),x=_(dt,p,v),E=b($e,h,y),N=b($e+dt,p,v);r=(S-E)/2,s=(x-N)/2,a=-(S+E)/2,l=-(x+N)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:l}}class qi extends Gi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let a=d=>+r[d];if(Pe(r[e])){const{key:d="value"}=this._parsing;a=h=>+di(r[h],d)}let l,c;for(l=e,c=e+t;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return or(this.options.rotation-90)}_getCircumference(){return or(this.options.circumference)}_getRotationExtents(){let e=ot,t=-ot;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),l=s._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(K_(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:_,offsetX:b,offsetY:S}=_x(y,p,d),x=(r.width-l)/v,E=(r.height-l)/_,N=Math.max(Math.min(x,E)/2,0),j=ay(this.options.radius,N),O=Math.max(j*d,0),D=(j-O)/this._getVisibleDatasetWeightTotal();this.offsetX=b*j,this.offsetY=S*j,s.total=this.calculateTotal(),this.outerRadius=j-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*h,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/ot)}updateElements(e,t,r,s){const a=s==="reset",l=this.chart,c=l.chartArea,h=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,v=a&&h.animateScale,_=v?0:this.innerRadius,b=v?0:this.outerRadius,{sharedOptions:S,includeOptions:x}=this._getSharedOptions(t,s);let E=this._getRotation(),N;for(N=0;N<t;++N)E+=this._circumference(N,a);for(N=t;N<t+r;++N){const j=this._circumference(N,a),O=e[N],D={x:p+this.offsetX,y:y+this.offsetY,startAngle:E,endAngle:E+j,circumference:j,outerRadius:b,innerRadius:_};x&&(D.options=S||this.resolveDataElementOptions(N,O.active?"active":s)),E+=j,this.updateElement(O,N,D,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,s;for(s=0;s<t.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ot*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=$d(t._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let s,a,l,c,d;if(!e){for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),e=l.data,c=l.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)d=c.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Re(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}be(qi,"id","doughnut"),be(qi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),be(qi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),be(qi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,h)=>{const y=e.getDatasetMeta(0).controller.getStyle(h);return{text:d,fillStyle:y.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(h),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:s,pointStyle:r,borderRadius:l&&(c||y.borderRadius),index:h}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class od extends qi{}be(od,"id","pie"),be(od,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function ei(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kd{constructor(e){be(this,"options");this.options=e||{}}static override(e){Object.assign(Kd.prototype,e)}init(){}formats(){return ei()}parse(){return ei()}format(){return ei()}add(){return ei()}diff(){return ei()}startOf(){return ei()}endOf(){return ei()}}var bx={_date:Kd};function xx(n,e,t,r){const{controller:s,data:a,_sorted:l}=n,c=s._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const h=c._reversePixels?ab:id;if(r){if(s._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const v=h(a,e,t-y),_=h(a,e,t+y);return{lo:v.lo,hi:_.hi}}}}else{const p=h(a,e,t);if(d){const{vScale:y}=s._cachedMeta,{_parsed:v}=n,_=v.slice(0,p.lo+1).reverse().findIndex(S=>!Fe(S[y.axis]));p.lo-=Math.max(0,_);const b=v.slice(p.hi).findIndex(S=>!Fe(S[y.axis]));p.hi+=Math.max(0,b)}return p}}return{lo:0,hi:a.length-1}}function Bl(n,e,t,r,s){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,d=a.length;c<d;++c){const{index:h,data:p}=a[c],{lo:y,hi:v}=xx(a[c],e,l,s);for(let _=y;_<=v;++_){const b=p[_];b.skip||r(b,h,_)}}}function Sx(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,s){const a=e?Math.abs(r.x-s.x):0,l=t?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Fu(n,e,t,r,s){const a=[];return!s&&!n.isPointInArea(e)||Bl(n,t,e,function(c,d,h){!s&&!vy(c,n.chartArea,0)||c.inRange(e.x,e.y,r)&&a.push({element:c,datasetIndex:d,index:h})},!0),a}function kx(n,e,t,r){let s=[];function a(l,c,d){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],r),{angle:y}=uy(l,{x:e.x,y:e.y});Sl(y,h,p)&&s.push({element:l,datasetIndex:c,index:d})}return Bl(n,t,e,a),s}function Ex(n,e,t,r,s,a){let l=[];const c=Sx(t);let d=Number.POSITIVE_INFINITY;function h(p,y,v){const _=p.inRange(e.x,e.y,s);if(r&&!_)return;const b=p.getCenterPoint(s);if(!(!!a||n.isPointInArea(b))&&!_)return;const x=c(e,b);x<d?(l=[{element:p,datasetIndex:y,index:v}],d=x):x===d&&l.push({element:p,datasetIndex:y,index:v})}return Bl(n,t,e,h),l}function zu(n,e,t,r,s,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!r?kx(n,e,t,s):Ex(n,e,t,r,s,a)}function jg(n,e,t,r,s){const a=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return Bl(n,t,e,(d,h,p)=>{d[l]&&d[l](e[t],s)&&(a.push({element:d,datasetIndex:h,index:p}),c=c||d.inRange(e.x,e.y,s))}),r&&!c?[]:a}var Tx={modes:{index(n,e,t,r){const s=ri(e,n),a=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?Fu(n,s,a,r,l):zu(n,s,a,!1,r,l),d=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const p=c[0].index,y=h.data[p];y&&!y.skip&&d.push({element:y,datasetIndex:h.index,index:p})}),d):[]},dataset(n,e,t,r){const s=ri(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?Fu(n,s,a,r,l):zu(n,s,a,!1,r,l);if(c.length>0){const d=c[0].datasetIndex,h=n.getDatasetMeta(d).data;c=[];for(let p=0;p<h.length;++p)c.push({element:h[p],datasetIndex:d,index:p})}return c},point(n,e,t,r){const s=ri(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Fu(n,s,a,r,l)},nearest(n,e,t,r){const s=ri(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return zu(n,s,a,t.intersect,r,l)},x(n,e,t,r){const s=ri(e,n);return jg(n,s,"x",t.intersect,r)},y(n,e,t,r){const s=ri(e,n);return jg(n,s,"y",t.intersect,r)}}};const Ny=["left","top","right","bottom"];function Ys(n,e){return n.filter(t=>t.pos===e)}function Ng(n,e){return n.filter(t=>Ny.indexOf(t.pos)===-1&&t.box.axis===e)}function Gs(n,e){return n.sort((t,r)=>{const s=e?r:t,a=e?t:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function Cx(n){const e=[];let t,r,s,a,l,c;for(t=0,r=(n||[]).length;t<r;++t)s=n[t],{position:a,options:{stack:l,stackWeight:c=1}}=s,e.push({index:t,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return e}function jx(n){const e={};for(const t of n){const{stack:r,pos:s,stackWeight:a}=t;if(!r||!Ny.includes(s))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function Nx(n,e){const t=jx(n),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:d}=c.box,h=t[c.stack],p=h&&c.stackWeight/h.weight;c.horizontal?(c.width=p?p*r:d&&e.availableWidth,c.height=s):(c.width=r,c.height=p?p*s:d&&e.availableHeight)}return t}function Ox(n){const e=Cx(n),t=Gs(e.filter(h=>h.box.fullSize),!0),r=Gs(Ys(e,"left"),!0),s=Gs(Ys(e,"right")),a=Gs(Ys(e,"top"),!0),l=Gs(Ys(e,"bottom")),c=Ng(e,"x"),d=Ng(e,"y");return{fullSize:t,leftAndTop:r.concat(a),rightAndBottom:s.concat(d).concat(l).concat(c),chartArea:Ys(e,"chartArea"),vertical:r.concat(s).concat(d),horizontal:a.concat(l).concat(c)}}function Og(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Oy(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Rx(n,e,t,r){const{pos:s,box:a}=t,l=n.maxPadding;if(!Pe(s)){t.size&&(n[s]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?a.height:a.width),t.size=y.size/y.count,n[s]+=t.size}a.getPadding&&Oy(l,a.getPadding());const c=Math.max(0,e.outerWidth-Og(l,n,"left","right")),d=Math.max(0,e.outerHeight-Og(l,n,"top","bottom")),h=c!==n.w,p=d!==n.h;return n.w=c,n.h=d,t.horizontal?{same:h,other:p}:{same:p,other:h}}function Px(n){const e=n.maxPadding;function t(r){const s=Math.max(e[r]-n[r],0);return n[r]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Dx(n,e){const t=e.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return r(n?["left","right"]:["top","bottom"])}function Zs(n,e,t,r){const s=[];let a,l,c,d,h,p;for(a=0,l=n.length,h=0;a<l;++a){c=n[a],d=c.box,d.update(c.width||e.w,c.height||e.h,Dx(c.horizontal,e));const{same:y,other:v}=Rx(e,t,c,r);h|=y&&s.length,p=p||v,d.fullSize||s.push(c)}return h&&Zs(s,e,t,r)||p}function Ja(n,e,t,r,s){n.top=t,n.left=e,n.right=e+r,n.bottom=t+s,n.width=r,n.height=s}function Rg(n,e,t,r){const s=t.padding;let{x:a,y:l}=e;for(const c of n){const d=c.box,h=r[c.stack]||{placed:0,weight:1},p=c.stackWeight/h.weight||1;if(c.horizontal){const y=e.w*p,v=h.size||d.height;yo(h.start)&&(l=h.start),d.fullSize?Ja(d,s.left,l,t.outerWidth-s.right-s.left,v):Ja(d,e.left+h.placed,l,y,v),h.start=l,h.placed+=y,l=d.bottom}else{const y=e.h*p,v=h.size||d.width;yo(h.start)&&(a=h.start),d.fullSize?Ja(d,a,s.top,v,t.outerHeight-s.bottom-s.top):Ja(d,a,e.top+h.placed,v,y),h.start=a,h.placed+=y,a=d.right}}e.x=a,e.y=l}var fn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const s=gn(n.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(t-s.height,0),c=Ox(n.boxes),d=c.vertical,h=c.horizontal;Le(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=d.reduce((S,x)=>x.box.options&&x.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},s);Oy(v,gn(r));const _=Object.assign({maxPadding:v,w:a,h:l,x:s.left,y:s.top},s),b=Nx(d.concat(h),y);Zs(c.fullSize,_,y,b),Zs(d,_,y,b),Zs(h,_,y,b)&&Zs(d,_,y,b),Px(_),Rg(c.leftAndTop,_,y,b),_.x+=_.w,_.y+=_.h,Rg(c.rightAndBottom,_,y,b),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Le(c.chartArea,S=>{const x=S.box;Object.assign(x,n.chartArea),x.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class Ry{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,s){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):r)}}isAttached(e){return!0}updateConfig(e){}}class Ax extends Ry{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const gl="$chartjs",Mx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pg=n=>n===null||n==="";function Ix(n,e){const t=n.style,r=n.getAttribute("height"),s=n.getAttribute("width");if(n[gl]={initial:{height:r,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Pg(s)){const a=vg(n,"width");a!==void 0&&(n.width=a)}if(Pg(r))if(n.style.height==="")n.height=n.width/(e||2);else{const a=vg(n,"height");a!==void 0&&(n.height=a)}return n}const Py=Vb?{passive:!0}:!1;function Lx(n,e,t){n&&n.addEventListener(e,t,Py)}function $x(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Py)}function Fx(n,e){const t=Mx[n.type]||n.type,{x:r,y:s}=ri(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Tl(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function zx(n,e,t){const r=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Tl(c.addedNodes,r),l=l&&!Tl(c.removedNodes,r);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function Bx(n,e,t){const r=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Tl(c.removedNodes,r),l=l&&!Tl(c.addedNodes,r);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const wo=new Map;let Dg=0;function Dy(){const n=window.devicePixelRatio;n!==Dg&&(Dg=n,wo.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Ux(n,e){wo.size||window.addEventListener("resize",Dy),wo.set(n,e)}function Hx(n){wo.delete(n),wo.size||window.removeEventListener("resize",Dy)}function Wx(n,e,t){const r=n.canvas,s=r&&qd(r);if(!s)return;const a=py((c,d)=>{const h=s.clientWidth;t(c,d),h<s.clientWidth&&t()},window),l=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,p=d.contentRect.height;h===0&&p===0||a(h,p)});return l.observe(s),Ux(n,a),l}function Bu(n,e,t){t&&t.disconnect(),e==="resize"&&Hx(n)}function Vx(n,e,t){const r=n.canvas,s=py(a=>{n.ctx!==null&&t(Fx(a,n))},n);return Lx(r,e,s),s}class qx extends Ry{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Ix(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[gl])return!1;const r=t[gl].initial;["height","width"].forEach(a=>{const l=r[a];Fe(l)?t.removeAttribute(a):t.setAttribute(a,l)});const s=r.style||{};return Object.keys(s).forEach(a=>{t.style[a]=s[a]}),t.width=t.width,delete t[gl],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),l={attach:zx,detach:Bx,resize:Wx}[t]||Vx;s[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),s=r[t];if(!s)return;({attach:Bu,detach:Bu,resize:Bu}[t]||$x)(e,t,s),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,s){return Wb(e,t,r,s)}isAttached(e){const t=e&&qd(e);return!!(t&&t.isConnected)}}function Kx(n){return!Vd()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Ax:qx}class ar{constructor(){be(this,"x");be(this,"y");be(this,"active",!1);be(this,"options");be(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return xl(this.x)&&xl(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const s={};return e.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}}be(ar,"defaults",{}),be(ar,"defaultRoutes");function Yx(n,e){const t=n.options.ticks,r=Gx(n),s=Math.min(t.maxTicksLimit||r,r),a=t.major.enabled?Xx(e):[],l=a.length,c=a[0],d=a[l-1],h=[];if(l>s)return Qx(e,h,a,l/s),h;const p=Jx(a,e,s);if(l>0){let y,v;const _=l>1?Math.round((d-c)/(l-1)):null;for(Xa(e,h,p,Fe(_)?0:c-_,c),y=0,v=l-1;y<v;y++)Xa(e,h,p,a[y],a[y+1]);return Xa(e,h,p,d,Fe(_)?e.length:d+_),h}return Xa(e,h,p),h}function Gx(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(r,s))}function Jx(n,e,t){const r=Zx(n),s=e.length/t;if(!r)return Math.max(s,1);const a=eb(r);for(let l=0,c=a.length-1;l<c;l++){const d=a[l];if(d>s)return d}return Math.max(s,1)}function Xx(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function Qx(n,e,t,r){let s=0,a=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(e.push(n[l]),s++,a=t[s*r])}function Xa(n,e,t,r,s){const a=Re(r,0),l=Math.min(Re(s,n.length),n.length);let c=0,d,h,p;for(t=Math.ceil(t),s&&(d=s-r,t=d/Math.floor(d/t)),p=a;p<0;)c++,p=Math.round(a+c*t);for(h=Math.max(a,0);h<l;h++)h===p&&(e.push(n[h]),c++,p=Math.round(a+c*t))}function Zx(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const eS=n=>n==="left"?"right":n==="right"?"left":n,Ag=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Mg=(n,e)=>Math.min(e||n,n);function Ig(n,e){const t=[],r=n.length/e,s=n.length;let a=0;for(;a<s;a+=r)t.push(n[Math.floor(a)]);return t}function tS(n,e,t){const r=n.ticks.length,s=Math.min(e,r-1),a=n._startPixel,l=n._endPixel,c=1e-6;let d=n.getPixelForTick(s),h;if(!(t&&(r===1?h=Math.max(d-a,l-d):e===0?h=(n.getPixelForTick(1)-d)/2:h=(d-n.getPixelForTick(s-1))/2,d+=s<e?h:-h,d<a-c||d>l+c)))return d}function nS(n,e){Le(n,t=>{const r=t.gc,s=r.length/2;let a;if(s>e){for(a=0;a<s;++a)delete t.data[r[a]];r.splice(0,s)}})}function Js(n){return n.drawTicks?n.tickLength:0}function Lg(n,e){if(!n.display)return 0;const t=Nt(n.font,e),r=gn(n.padding);return(ut(n.text)?n.text.length:1)*t.lineHeight+r.height}function rS(n,e){return es(n,{scale:e,type:"scale"})}function iS(n,e,t){return es(n,{tick:t,index:e,type:"tick"})}function sS(n,e,t){let r=Ld(n);return(t&&e!=="right"||!t&&e==="right")&&(r=eS(r)),r}function oS(n,e,t,r){const{top:s,left:a,bottom:l,right:c,chart:d}=n,{chartArea:h,scales:p}=d;let y=0,v,_,b;const S=l-s,x=c-a;if(n.isHorizontal()){if(_=jt(r,a,c),Pe(t)){const E=Object.keys(t)[0],N=t[E];b=p[E].getPixelForValue(N)+S-e}else t==="center"?b=(h.bottom+h.top)/2+S-e:b=Ag(n,t,e);v=c-a}else{if(Pe(t)){const E=Object.keys(t)[0],N=t[E];_=p[E].getPixelForValue(N)-x+e}else t==="center"?_=(h.left+h.right)/2-x+e:_=Ag(n,t,e);b=jt(r,l,s),y=t==="left"?-dt:dt}return{titleX:_,titleY:b,maxWidth:v,rotation:y}}class ts extends ar{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:s}=this;return e=Fn(e,Number.POSITIVE_INFINITY),t=Fn(t,Number.NEGATIVE_INFINITY),r=Fn(r,Number.POSITIVE_INFINITY),s=Fn(s,Number.NEGATIVE_INFINITY),{min:Fn(e,r),max:Fn(t,s),minDefined:pn(e),maxDefined:pn(t)}}getMinMax(e){let{min:t,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:t,max:r};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)l=c[d].controller.getMinMax(this,e),s||(t=Math.min(t,l.min)),a||(r=Math.max(r,l.max));return t=a&&t>r?r:t,r=s&&t>r?t:r,{min:Fn(t,Fn(r,t)),max:Fn(r,Fn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qe(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Nb(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?Ig(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Yx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qe(this.options.afterUpdate,[this])}beforeSetDimensions(){qe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),qe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r],a.label=qe(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){qe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Mg(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,a=t.maxRotation;let l=s,c,d,h;if(!this._isVisible()||!t.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,v=p.highest.height,_=Kt(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/r:_/(r-1),y+6>c&&(c=_/(r-(e.offset?.5:1)),d=this.maxHeight-Js(e.grid)-t.padding-Lg(e.title,this.chart.options.font),h=Math.sqrt(y*y+v*v),l=ib(Math.min(Math.asin(Kt((p.highest.height+6)/c,-1,1)),Math.asin(Kt(d/h,-1,1))-Math.asin(Kt(v/h,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){qe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const d=Lg(s,t.options.font);if(c?(e.width=this.maxWidth,e.height=Js(a)+d):(e.height=this.maxHeight,e.width=Js(a)+d),r.display&&this.ticks.length){const{first:h,last:p,widest:y,highest:v}=this._getLabelSizes(),_=r.padding*2,b=or(this.labelRotation),S=Math.cos(b),x=Math.sin(b);if(c){const E=r.mirror?0:x*y.width+S*v.height;e.height=Math.min(this.maxHeight,e.height+E+_)}else{const E=r.mirror?0:S*y.width+x*v.height;e.width=Math.min(this.maxWidth,e.width+E+_)}this._calculatePadding(h,p,x,S)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,s){const{ticks:{align:a,padding:l},position:c}=this.options,d=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;d?h?(v=s*e.width,_=r*t.height):(v=r*e.height,_=s*t.width):a==="start"?_=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,_=t.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-y+l)*this.width/(this.width-y),0)}else{let p=t.height/2,y=e.height/2;a==="start"?(p=0,y=e.height):a==="end"&&(p=t.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Fe(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Ig(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],d=Math.floor(t/Mg(t,r));let h=0,p=0,y,v,_,b,S,x,E,N,j,O,D;for(y=0;y<t;y+=d){if(b=e[y].label,S=this._resolveTickFontOptions(y),s.font=x=S.string,E=a[x]=a[x]||{data:{},gc:[]},N=S.lineHeight,j=O=0,!Fe(b)&&!ut(b))j=hg(s,E.data,E.gc,j,b),O=N;else if(ut(b))for(v=0,_=b.length;v<_;++v)D=b[v],!Fe(D)&&!ut(D)&&(j=hg(s,E.data,E.gc,j,D),O+=N);l.push(j),c.push(O),h=Math.max(j,h),p=Math.max(O,p)}nS(a,t);const I=l.indexOf(h),P=c.indexOf(p),$=L=>({width:l[L]||0,height:c[L]||0});return{first:$(0),last:$(t-1),widest:$(I),highest:$(P),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return ob(this._alignToPixels?Zr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=iS(this.getContext(),e,r))}return this.$context||(this.$context=rS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=or(this.labelRotation),r=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>c*s?c/r:d/s:d*s<c*r?d/r:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,s=this.options,{grid:a,position:l,border:c}=s,d=a.offset,h=this.isHorizontal(),y=this.ticks.length+(d?1:0),v=Js(a),_=[],b=c.setContext(this.getContext()),S=b.display?b.width:0,x=S/2,E=function(fe){return Zr(r,fe,S)};let N,j,O,D,I,P,$,L,F,B,V,ne;if(l==="top")N=E(this.bottom),P=this.bottom-v,L=N-x,B=E(e.top)+x,ne=e.bottom;else if(l==="bottom")N=E(this.top),B=e.top,ne=E(e.bottom)-x,P=N+x,L=this.top+v;else if(l==="left")N=E(this.right),I=this.right-v,$=N-x,F=E(e.left)+x,V=e.right;else if(l==="right")N=E(this.left),F=e.left,V=E(e.right)-x,I=N+x,$=this.left+v;else if(t==="x"){if(l==="center")N=E((e.top+e.bottom)/2+.5);else if(Pe(l)){const fe=Object.keys(l)[0],le=l[fe];N=E(this.chart.scales[fe].getPixelForValue(le))}B=e.top,ne=e.bottom,P=N+x,L=P+v}else if(t==="y"){if(l==="center")N=E((e.left+e.right)/2);else if(Pe(l)){const fe=Object.keys(l)[0],le=l[fe];N=E(this.chart.scales[fe].getPixelForValue(le))}I=N-x,$=I-v,F=e.left,V=e.right}const ae=Re(s.ticks.maxTicksLimit,y),oe=Math.max(1,Math.ceil(y/ae));for(j=0;j<y;j+=oe){const fe=this.getContext(j),le=a.setContext(fe),G=c.setContext(fe),Z=le.lineWidth,R=le.color,W=G.dash||[],Q=G.dashOffset,me=le.tickWidth,de=le.tickColor,Te=le.tickBorderDash||[],he=le.tickBorderDashOffset;O=tS(this,j,d),O!==void 0&&(D=Zr(r,O,Z),h?I=$=F=V=D:P=L=B=ne=D,_.push({tx1:I,ty1:P,tx2:$,ty2:L,x1:F,y1:B,x2:V,y2:ne,width:Z,color:R,borderDash:W,borderDashOffset:Q,tickWidth:me,tickColor:de,tickBorderDash:Te,tickBorderDashOffset:he}))}return this._ticksLength=y,this._borderValue=N,_}_computeLabelItems(e){const t=this.axis,r=this.options,{position:s,ticks:a}=r,l=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:p,mirror:y}=a,v=Js(r.grid),_=v+p,b=y?-p:_,S=-or(this.labelRotation),x=[];let E,N,j,O,D,I,P,$,L,F,B,V,ne="middle";if(s==="top")I=this.bottom-b,P=this._getXAxisLabelAlignment();else if(s==="bottom")I=this.top+b,P=this._getXAxisLabelAlignment();else if(s==="left"){const oe=this._getYAxisLabelAlignment(v);P=oe.textAlign,D=oe.x}else if(s==="right"){const oe=this._getYAxisLabelAlignment(v);P=oe.textAlign,D=oe.x}else if(t==="x"){if(s==="center")I=(e.top+e.bottom)/2+_;else if(Pe(s)){const oe=Object.keys(s)[0],fe=s[oe];I=this.chart.scales[oe].getPixelForValue(fe)+_}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")D=(e.left+e.right)/2-_;else if(Pe(s)){const oe=Object.keys(s)[0],fe=s[oe];D=this.chart.scales[oe].getPixelForValue(fe)}P=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?ne="top":d==="end"&&(ne="bottom"));const ae=this._getLabelSizes();for(E=0,N=c.length;E<N;++E){j=c[E],O=j.label;const oe=a.setContext(this.getContext(E));$=this.getPixelForTick(E)+a.labelOffset,L=this._resolveTickFontOptions(E),F=L.lineHeight,B=ut(O)?O.length:1;const fe=B/2,le=oe.color,G=oe.textStrokeColor,Z=oe.textStrokeWidth;let R=P;l?(D=$,P==="inner"&&(E===N-1?R=this.options.reverse?"left":"right":E===0?R=this.options.reverse?"right":"left":R="center"),s==="top"?h==="near"||S!==0?V=-B*F+F/2:h==="center"?V=-ae.highest.height/2-fe*F+F:V=-ae.highest.height+F/2:h==="near"||S!==0?V=F/2:h==="center"?V=ae.highest.height/2-fe*F:V=ae.highest.height-B*F,y&&(V*=-1),S!==0&&!oe.showLabelBackdrop&&(D+=F/2*Math.sin(S))):(I=$,V=(1-B)*F/2);let W;if(oe.showLabelBackdrop){const Q=gn(oe.backdropPadding),me=ae.heights[E],de=ae.widths[E];let Te=V-Q.top,he=0-Q.left;switch(ne){case"middle":Te-=me/2;break;case"bottom":Te-=me;break}switch(P){case"center":he-=de/2;break;case"right":he-=de;break;case"inner":E===N-1?he-=de:E>0&&(he-=de/2);break}W={left:he,top:Te,width:de+Q.width,height:me+Q.height,color:oe.backdropColor}}x.push({label:O,font:L,textOffset:V,options:{rotation:S,color:le,strokeColor:G,strokeWidth:Z,textAlign:R,textBaseline:ne,translation:[D,I],backdrop:W}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-or(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,d=l.widest.width;let h,p;return t==="left"?s?(p=this.right+a,r==="near"?h="left":r==="center"?(h="center",p+=d/2):(h="right",p+=d)):(p=this.right-c,r==="near"?h="right":r==="center"?(h="center",p-=d/2):(h="left",p=this.left)):t==="right"?s?(p=this.left+a,r==="near"?h="right":r==="center"?(h="center",p-=d/2):(h="left",p-=d)):(p=this.left+c,r==="near"?h="left":r==="center"?(h="center",p+=d/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:s,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,s,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(d,h,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(t.display)for(a=0,l=s.length;a<l;++a){const d=s[a];t.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,p,y,v;this.isHorizontal()?(h=Zr(e,this.left,l)-l/2,p=Zr(e,this.right,c)+c/2,y=v=d):(y=Zr(e,this.top,l)-l/2,v=Zr(e,this.bottom,c)+c/2,h=p=d),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(h,y),t.lineTo(p,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Fd(r,s);const a=this.getLabelItems(e);for(const l of a){const c=l.options,d=l.font,h=l.label,p=l.textOffset;vo(r,h,0,p,d,c)}s&&zd(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:s}}=this;if(!r.display)return;const a=Nt(r.font),l=gn(r.padding),c=r.align;let d=a.lineHeight/2;t==="bottom"||t==="center"||Pe(t)?(d+=l.bottom,ut(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:h,titleY:p,maxWidth:y,rotation:v}=oS(this,d,t,c);vo(e,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:v,textAlign:sS(c,t,s),textBaseline:"middle",translation:[h,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Re(e.grid&&e.grid.z,-1),s=Re(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ts.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,l;for(a=0,l=t.length;a<l;++a){const c=t[a];c[r]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Nt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Qa{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;cS(t)&&(r=this.register(t));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,aS(e,l,r),this.override&&tt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,s=this.scope;r in t&&delete t[r],s&&r in tt[s]&&(delete tt[s][r],this.override&&delete hi[r])}}function aS(n,e,t){const r=mo(Object.create(null),[t?tt.get(t):{},tt.get(e),n.defaults]);tt.set(e,r),n.defaultRoutes&&lS(e,n.defaultRoutes),n.descriptors&&tt.describe(e,n.descriptors)}function lS(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),s=r.pop(),a=[n].concat(r).join("."),l=e[t].split("."),c=l.pop(),d=l.join(".");tt.route(a,s,d,c)})}function cS(n){return"id"in n&&"defaults"in n}class uS{constructor(){this.controllers=new Qa(Gi,"datasets",!0),this.elements=new Qa(ar,"elements"),this.plugins=new Qa(Object,"plugins"),this.scales=new Qa(ts,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):Le(s,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,r){const s=Md(e);qe(r["before"+s],[],r),t[e](r),qe(r["after"+s],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Bn=new uS;class dS{constructor(){this._init=void 0}notify(e,t,r,s){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,t,r);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,r,s){s=s||{};for(const a of e){const l=a.plugin,c=l[r],d=[t,s,a.options];if(qe(c,d,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,s=Re(r.options&&r.options.plugins,{}),a=hS(r);return s===!1&&!t?[]:pS(e,a,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,s=(a,l)=>a.filter(c=>!l.some(d=>c.plugin.id===d.plugin.id));this._notify(s(t,r),e,"stop"),this._notify(s(r,t),e,"start")}}function hS(n){const e={},t=[],r=Object.keys(Bn.plugins.items);for(let a=0;a<r.length;a++)t.push(Bn.getPlugin(r[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function fS(n,e){return!e&&n===!1?null:n===!0?{}:n}function pS(n,{plugins:e,localIds:t},r,s){const a=[],l=n.getContext();for(const c of e){const d=c.id,h=fS(r[d],s);h!==null&&a.push({plugin:c,options:gS(n.config,{plugin:c,local:t[d]},h,l)})}return a}function gS(n,{plugin:e,local:t},r,s){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(r,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ad(n,e){const t=tt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function mS(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function yS(n,e){return n===e?"_index_":"_value_"}function $g(n){if(n==="x"||n==="y"||n==="r")return n}function vS(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ld(n,...e){if($g(n))return n;for(const t of e){const r=t.axis||vS(t.position)||n.length>1&&$g(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Fg(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function wS(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Fg(n,"x",t[0])||Fg(n,"y",t[0])}return{}}function _S(n,e){const t=hi[n.type]||{scales:{}},r=e.scales||{},s=ad(n.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!Pe(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=ld(l,c,wS(l,n),tt.scales[c.type]),h=yS(d,s),p=t.scales||{};a[l]=oo(Object.create(null),[{axis:d},c,p[d],p[h]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,d=l.indexAxis||ad(c,e),p=(hi[c]||{}).scales||{};Object.keys(p).forEach(y=>{const v=mS(y,d),_=l[v+"AxisID"]||v;a[_]=a[_]||Object.create(null),oo(a[_],[{axis:v},r[_],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];oo(c,[tt.scales[c.type],tt.scale])}),a}function Ay(n){const e=n.options||(n.options={});e.plugins=Re(e.plugins,{}),e.scales=_S(n,e)}function My(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function bS(n){return n=n||{},n.data=My(n.data),Ay(n),n}const zg=new Map,Iy=new Set;function Za(n,e){let t=zg.get(n);return t||(t=e(),zg.set(n,t),Iy.add(t)),t}const Xs=(n,e,t)=>{const r=di(e,t);r!==void 0&&n.add(r)};class xS{constructor(e){this._config=bS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=My(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ay(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Za(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Za(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Za(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Za(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let s=r.get(e);return(!s||t)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,t,r){const{options:s,type:a}=this,l=this._cachedScopes(e,r),c=l.get(t);if(c)return c;const d=new Set;t.forEach(p=>{e&&(d.add(e),p.forEach(y=>Xs(d,e,y))),p.forEach(y=>Xs(d,s,y)),p.forEach(y=>Xs(d,hi[a]||{},y)),p.forEach(y=>Xs(d,tt,y)),p.forEach(y=>Xs(d,sd,y))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),Iy.has(t)&&l.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,hi[t]||{},tt.datasets[t]||{},{type:t},tt,sd]}resolveNamedOptions(e,t,r,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=Bg(this._resolverCache,e,s);let d=l;if(kS(l,t)){a.$shared=!1,r=Lr(r)?r():r;const h=this.createResolver(e,r,c);d=Qi(l,r,h)}for(const h of t)a[h]=d[h];return a}createResolver(e,t,r=[""],s){const{resolver:a}=Bg(this._resolverCache,e,r);return Pe(t)?Qi(a,t,void 0,s):a}}function Bg(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const s=t.join();let a=r.get(s);return a||(a={resolver:Ud(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},r.set(s,a)),a}const SS=n=>Pe(n)&&Object.getOwnPropertyNames(n).some(e=>Lr(n[e]));function kS(n,e){const{isScriptable:t,isIndexable:r}=_y(n);for(const s of e){const a=t(s),l=r(s),c=(l||a)&&n[s];if(a&&(Lr(c)||SS(c))||l&&ut(c))return!0}return!1}var ES="4.5.1";const TS=["top","bottom","left","right","chartArea"];function Ug(n,e){return n==="top"||n==="bottom"||TS.indexOf(n)===-1&&e==="x"}function Hg(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Wg(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),qe(t&&t.onComplete,[n],e)}function CS(n){const e=n.chart,t=e.options.animation;qe(t&&t.onProgress,[n],e)}function Ly(n){return Vd()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ml={},Vg=n=>{const e=Ly(n);return Object.values(ml).filter(t=>t.canvas===e).pop()};function jS(n,e,t){const r=Object.keys(n);for(const s of r){const a=+s;if(a>=e){const l=n[s];delete n[s],(t>0||a>e)&&(n[a+t]=l)}}}function NS(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Nr;let Ul=(Nr=class{static register(...e){Bn.add(...e),qg()}static unregister(...e){Bn.remove(...e),qg()}constructor(e,t){const r=this.config=new xS(t),s=Ly(e),a=Vg(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Kx(s)),this.platform.updateConfig(r);const c=this.platform.acquireContext(s,l.aspectRatio),d=c&&c.canvas,h=d&&d.height,p=d&&d.width;if(this.id=q_(),this.ctx=c,this.canvas=d,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ub(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],ml[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}nr.listen(this,"complete",Wg),nr.listen(this,"progress",CS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:s,_aspectRatio:a}=this;return Fe(e)?t&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fg(this.canvas,this.ctx),this}stop(){return nr.stop(this),this}resize(e,t){nr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,t,a),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,yg(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),qe(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Le(t,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,s=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const c=t[l],d=ld(l,c),h=d==="r",p=d==="x";return{options:c,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Le(a,l=>{const c=l.options,d=c.id,h=ld(d,c),p=Re(c.type,l.dtype);(c.position===void 0||Ug(c.position,h)!==Ug(l.dposition))&&(c.position=l.dposition),s[d]=!0;let y=null;if(d in r&&r[d].type===p)y=r[d];else{const v=Bn.getScale(p);y=new v({id:d,type:p,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(c,e)}),Le(s,(l,c)=>{l||delete r[c]}),Le(r,l=>{fn.configure(this,l,l.options),fn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>t){for(let s=t;s<r;++s)this._destroyDatasetMeta(s);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Hg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,s)=>{t.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=t.length;r<s;r++){const a=t[r];let l=this.getDatasetMeta(r);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=a.indexAxis||ad(c,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=Bn.getController(c),{datasetElementType:h,dataElementType:p}=tt.datasets[c];Object.assign(d,{dataElementType:Bn.getElement(p),datasetElementType:h&&Bn.getElement(h)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Le(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:y}=this.getDatasetMeta(h),v=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||Le(a,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Hg("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Le(this.scales,e=>{fn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!rg(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of t){const l=r==="_removeElements"?-a:a;jS(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=r(0);for(let a=1;a<t;a++)if(!rg(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fn.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Le(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Lr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(nr.has(this)?this.attached&&!nr.running(this)&&nr.start(this):(this.draw(),Wg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let s,a;for(s=0,a=t.length;s<a;++s){const l=t[s];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=Gb(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Fd(t,s),e.controller.draw(),s&&zd(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return vy(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,s){const a=Tx.modes[t];return typeof a=="function"?a(this,e,r,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);yo(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),nr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),fg(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ml[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Le(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(d,h)=>{t.addEventListener(this,d,h),e[d]=h},s=(d,h)=>{e[d]&&(t.removeEventListener(this,d,h),delete e[d])},a=(d,h)=>{this.canvas&&this.resize(d,h)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){Le(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Le(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const s=r?"set":"remove";let a,l,c,d;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){l=e[c];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!wl(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const s=this.options.hover,a=(d,h)=>d.filter(p=>!h.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(t,e),c=r?e:a(e,t);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:s=[],options:a}=this,l=t,c=this._getActiveElements(e,s,r,l),d=Q_(e),h=NS(e,this._lastEvent,r,d);r&&(this._lastEvent=null,qe(a.onHover,[e,c,this],this),d&&qe(a.onClick,[e,c,this],this));const p=!wl(c,s);return(p||t)&&(this._active=c,this._updateHoverStyles(c,s,t)),this._lastEvent=h,p}_getActiveElements(e,t,r,s){if(e.type==="mouseout")return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}},be(Nr,"defaults",tt),be(Nr,"instances",ml),be(Nr,"overrides",hi),be(Nr,"registry",Bn),be(Nr,"version",ES),be(Nr,"getChart",Vg),Nr);function qg(){return Le(Ul.instances,n=>n._plugins.invalidate())}function OS(n,e,t){const{startAngle:r,x:s,y:a,outerRadius:l,innerRadius:c,options:d}=e,{borderWidth:h,borderJoinStyle:p}=d,y=Math.min(h/l,Un(r-t));if(n.beginPath(),n.arc(s,a,l-h/2,r+y/2,t-y/2),c>0){const v=Math.min(h/c,Un(r-t));n.arc(s,a,c+h/2,t-v/2,r+v/2,!0)}else{const v=Math.min(h/2,l*Un(r-t));if(p==="round")n.arc(s,a,v,t-$e/2,r+$e/2,!0);else if(p==="bevel"){const _=2*v*v,b=-_*Math.cos(t+$e/2)+s,S=-_*Math.sin(t+$e/2)+a,x=_*Math.cos(r+$e/2)+s,E=_*Math.sin(r+$e/2)+a;n.lineTo(b,S),n.lineTo(x,E)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function RS(n,e,t){const{startAngle:r,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:d}=e;let h=s/c;n.beginPath(),n.arc(a,l,c,r-h,t+h),d>s?(h=s/d,n.arc(a,l,d,t+h,r-h,!0)):n.arc(a,l,s,t+dt,r-dt),n.closePath(),n.clip()}function PS(n){return Bd(n,["outerStart","outerEnd","innerStart","innerEnd"])}function DS(n,e,t,r){const s=PS(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,r*e/2),c=d=>{const h=(t-Math.min(a,d))*r/2;return Kt(d,0,Math.min(a,h))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Kt(s.innerStart,0,l),innerEnd:Kt(s.innerEnd,0,l)}}function $i(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Cl(n,e,t,r,s,a){const{x:l,y:c,startAngle:d,pixelMargin:h,innerRadius:p}=e,y=Math.max(e.outerRadius+r+t-h,0),v=p>0?p+r+t+h:0;let _=0;const b=s-d;if(r){const oe=p>0?p-r:0,fe=y>0?y-r:0,le=(oe+fe)/2,G=le!==0?b*le/(le+r):b;_=(b-G)/2}const S=Math.max(.001,b*y-t/$e)/y,x=(b-S)/2,E=d+x+_,N=s-x-_,{outerStart:j,outerEnd:O,innerStart:D,innerEnd:I}=DS(e,v,y,N-E),P=y-j,$=y-O,L=E+j/P,F=N-O/$,B=v+D,V=v+I,ne=E+D/B,ae=N-I/V;if(n.beginPath(),a){const oe=(L+F)/2;if(n.arc(l,c,y,L,oe),n.arc(l,c,y,oe,F),O>0){const Z=$i($,F,l,c);n.arc(Z.x,Z.y,O,F,N+dt)}const fe=$i(V,N,l,c);if(n.lineTo(fe.x,fe.y),I>0){const Z=$i(V,ae,l,c);n.arc(Z.x,Z.y,I,N+dt,ae+Math.PI)}const le=(N-I/v+(E+D/v))/2;if(n.arc(l,c,v,N-I/v,le,!0),n.arc(l,c,v,le,E+D/v,!0),D>0){const Z=$i(B,ne,l,c);n.arc(Z.x,Z.y,D,ne+Math.PI,E-dt)}const G=$i(P,E,l,c);if(n.lineTo(G.x,G.y),j>0){const Z=$i(P,L,l,c);n.arc(Z.x,Z.y,j,E-dt,L)}}else{n.moveTo(l,c);const oe=Math.cos(L)*y+l,fe=Math.sin(L)*y+c;n.lineTo(oe,fe);const le=Math.cos(F)*y+l,G=Math.sin(F)*y+c;n.lineTo(le,G)}n.closePath()}function AS(n,e,t,r,s){const{fullCircles:a,startAngle:l,circumference:c}=e;let d=e.endAngle;if(a){Cl(n,e,t,r,d,s);for(let h=0;h<a;++h)n.fill();isNaN(c)||(d=l+(c%ot||ot))}return Cl(n,e,t,r,d,s),n.fill(),d}function MS(n,e,t,r,s){const{fullCircles:a,startAngle:l,circumference:c,options:d}=e,{borderWidth:h,borderJoinStyle:p,borderDash:y,borderDashOffset:v,borderRadius:_}=d,b=d.borderAlign==="inner";if(!h)return;n.setLineDash(y||[]),n.lineDashOffset=v,b?(n.lineWidth=h*2,n.lineJoin=p||"round"):(n.lineWidth=h,n.lineJoin=p||"bevel");let S=e.endAngle;if(a){Cl(n,e,t,r,S,s);for(let x=0;x<a;++x)n.stroke();isNaN(c)||(S=l+(c%ot||ot))}b&&RS(n,e,S),d.selfJoin&&S-l>=$e&&_===0&&p!=="miter"&&OS(n,e,S),a||(Cl(n,e,t,r,S,s),n.stroke())}class eo extends ar{constructor(t){super();be(this,"circumference");be(this,"endAngle");be(this,"fullCircles");be(this,"innerRadius");be(this,"outerRadius");be(this,"pixelMargin");be(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,s){const a=this.getProps(["x","y"],s),{angle:l,distance:c}=uy(a,{x:t,y:r}),{startAngle:d,endAngle:h,innerRadius:p,outerRadius:y,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),_=(this.options.spacing+this.options.borderWidth)/2,b=Re(v,h-d),S=Sl(l,d,h)&&d!==h,x=b>=ot||S,E=li(c,p+_,y+_);return x&&E}getCenterPoint(t){const{x:r,y:s,startAngle:a,endAngle:l,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:p}=this.options,y=(a+l)/2,v=(c+d+p+h)/2;return{x:r+Math.cos(y)*v,y:s+Math.sin(y)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:s}=this,a=(r.offset||0)/4,l=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>ot?Math.floor(s/ot):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*a,Math.sin(d)*a);const h=1-Math.sin(Math.min($e,s||0)),p=a*h;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,AS(t,this,p,l,c),MS(t,this,p,l,c),t.restore()}}be(eo,"id","arc"),be(eo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),be(eo,"defaultRoutes",{backgroundColor:"backgroundColor"}),be(eo,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function $y(n,e){const{x:t,y:r,base:s,width:a,height:l}=n.getProps(["x","y","base","width","height"],e);let c,d,h,p,y;return n.horizontal?(y=l/2,c=Math.min(t,s),d=Math.max(t,s),h=r-y,p=r+y):(y=a/2,c=t-y,d=t+y,h=Math.min(r,s),p=Math.max(r,s)),{left:c,top:h,right:d,bottom:p}}function Ar(n,e,t,r){return n?0:Kt(e,t,r)}function IS(n,e,t){const r=n.options.borderWidth,s=n.borderSkipped,a=wy(r);return{t:Ar(s.top,a.top,0,t),r:Ar(s.right,a.right,0,e),b:Ar(s.bottom,a.bottom,0,t),l:Ar(s.left,a.left,0,e)}}function LS(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=Ki(s),l=Math.min(e,t),c=n.borderSkipped,d=r||Pe(s);return{topLeft:Ar(!d||c.top||c.left,a.topLeft,0,l),topRight:Ar(!d||c.top||c.right,a.topRight,0,l),bottomLeft:Ar(!d||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:Ar(!d||c.bottom||c.right,a.bottomRight,0,l)}}function $S(n){const e=$y(n),t=e.right-e.left,r=e.bottom-e.top,s=IS(n,t/2,r/2),a=LS(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Uu(n,e,t,r){const s=e===null,a=t===null,c=n&&!(s&&a)&&$y(n,r);return c&&(s||li(e,c.left,c.right))&&(a||li(t,c.top,c.bottom))}function FS(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function zS(n,e){n.rect(e.x,e.y,e.w,e.h)}function Hu(n,e,t={}){const r=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-r,l=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+r,y:n.y+s,w:n.w+a,h:n.h+l,radius:n.radius}}class yl extends ar{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:s}}=this,{inner:a,outer:l}=$S(this),c=FS(l.radius)?kl:zS;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),c(e,Hu(l,t,a)),e.clip(),c(e,Hu(a,-t,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,Hu(a,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,r){return Uu(this,e,t,r)}inXRange(e,t){return Uu(this,e,null,t)}inYRange(e,t){return Uu(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+s)/2:t,y:a?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}be(yl,"id","bar"),be(yl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),be(yl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Kg=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},BS=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Yg extends ar{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=qe(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Nt(r.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=Kg(r,a);let h,p;t.font=s.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,a,c,d)+10):(p=this.maxHeight,h=this._fitCols(l,s,c,d)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],p=s+c;let y=e;a.textAlign="left",a.textBaseline="middle";let v=-1,_=-p;return this.legendItems.forEach((b,S)=>{const x=r+t/2+a.measureText(b.text).width;(S===0||h[h.length-1]+x+2*c>l)&&(y+=p,h[h.length-(S>0?0:1)]=0,_+=p,v++),d[S]={left:0,top:_,row:v,width:x,height:s},h[h.length-1]+=x+c}),y}_fitCols(e,t,r,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-e;let y=c,v=0,_=0,b=0,S=0;return this.legendItems.forEach((x,E)=>{const{itemWidth:N,itemHeight:j}=US(r,t,a,x,s);E>0&&_+j+2*c>p&&(y+=v+c,h.push({width:v,height:_}),b+=v+c,S++,v=_=0),d[E]={left:b,top:_,col:S,width:N,height:j},v=Math.max(v,N),_+=j+c}),y+=v,h.push({width:v,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:s},rtl:a}}=this,l=Yi(a,this.left,this.width);if(this.isHorizontal()){let c=0,d=jt(r,this.left+s,this.right-this.lineWidths[c]);for(const h of t)c!==h.row&&(c=h.row,d=jt(r,this.left+s,this.right-this.lineWidths[c])),h.top+=this.top+e+s,h.left=l.leftForLtr(l.x(d),h.width),d+=h.width+s}else{let c=0,d=jt(r,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const h of t)h.col!==c&&(c=h.col,d=jt(r,this.top+e+s,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+s,h.left=l.leftForLtr(l.x(h.left),h.width),d+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Fd(e,this),this._draw(),zd(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:s}=this,{align:a,labels:l}=e,c=tt.color,d=Yi(e.rtl,this.left,this.width),h=Nt(l.font),{padding:p}=l,y=h.size,v=y/2;let _;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:b,boxHeight:S,itemHeight:x}=Kg(l,y),E=function(I,P,$){if(isNaN(b)||b<=0||isNaN(S)||S<0)return;s.save();const L=Re($.lineWidth,1);if(s.fillStyle=Re($.fillStyle,c),s.lineCap=Re($.lineCap,"butt"),s.lineDashOffset=Re($.lineDashOffset,0),s.lineJoin=Re($.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=Re($.strokeStyle,c),s.setLineDash(Re($.lineDash,[])),l.usePointStyle){const F={radius:S*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:L},B=d.xPlus(I,b/2),V=P+v;yy(s,F,B,V,l.pointStyleWidth&&b)}else{const F=P+Math.max((y-S)/2,0),B=d.leftForLtr(I,b),V=Ki($.borderRadius);s.beginPath(),Object.values(V).some(ne=>ne!==0)?kl(s,{x:B,y:F,w:b,h:S,radius:V}):s.rect(B,F,b,S),s.fill(),L!==0&&s.stroke()}s.restore()},N=function(I,P,$){vo(s,$.text,I,P+x/2,h,{strikethrough:$.hidden,textAlign:d.textAlign($.textAlign)})},j=this.isHorizontal(),O=this._computeTitleHeight();j?_={x:jt(a,this.left+p,this.right-r[0]),y:this.top+p+O,line:0}:_={x:this.left+p,y:jt(a,this.top+O+p,this.bottom-t[0].height),line:0},ky(this.ctx,e.textDirection);const D=x+p;this.legendItems.forEach((I,P)=>{s.strokeStyle=I.fontColor,s.fillStyle=I.fontColor;const $=s.measureText(I.text).width,L=d.textAlign(I.textAlign||(I.textAlign=l.textAlign)),F=b+v+$;let B=_.x,V=_.y;d.setWidth(this.width),j?P>0&&B+F+p>this.right&&(V=_.y+=D,_.line++,B=_.x=jt(a,this.left+p,this.right-r[_.line])):P>0&&V+D>this.bottom&&(B=_.x=B+t[_.line].width+p,_.line++,V=_.y=jt(a,this.top+O+p,this.bottom-t[_.line].height));const ne=d.x(B);if(E(ne,V,I),B=db(L,B+b+v,j?B+F:this.right,e.rtl),N(d.x(B),V,I),j)_.x+=F+p;else if(typeof I.text!="string"){const ae=h.lineHeight;_.y+=Fy(I,ae)+p}else _.y+=D}),Ey(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Nt(t.font),s=gn(t.padding);if(!t.display)return;const a=Yi(e.rtl,this.left,this.width),l=this.ctx,c=t.position,d=r.size/2,h=s.top+d;let p,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+h,y=jt(e.align,y,this.right-v);else{const b=this.columnSizes.reduce((S,x)=>Math.max(S,x.height),0);p=h+jt(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const _=jt(c,y,y+v);l.textAlign=a.textAlign(Ld(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,vo(l,t.text,_,p,r)}_computeTitleHeight(){const e=this.options.title,t=Nt(e.font),r=gn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,s,a;if(li(e,this.left,this.right)&&li(t,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],li(e,s.left,s.left+s.width)&&li(t,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!VS(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=BS(s,r);s&&!a&&qe(t.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!a&&qe(t.onHover,[e,r,this],this)}else r&&qe(t.onClick,[e,r,this],this)}}function US(n,e,t,r,s){const a=HS(r,n,e,t),l=WS(s,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function HS(n,e,t,r){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+r.measureText(s).width}function WS(n,e,t){let r=n;return typeof e.text!="string"&&(r=Fy(e,t)),r}function Fy(n,e){const t=n.text?n.text.length:0;return e*t}function VS(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var qS={id:"legend",_element:Yg,start(n,e,t){const r=n.legend=new Yg({ctx:n.ctx,options:t,chart:n});fn.configure(n,r,t),fn.addBox(n,r)},stop(n){fn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;fn.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,s=t.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(t?0:void 0),p=gn(h.borderWidth);return{text:e[d.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:l&&(c||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class zy extends ar{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=ut(r.text)?r.text.length:1;this._padding=gn(r.padding);const a=s*Nt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:s,right:a,options:l}=this,c=l.align;let d=0,h,p,y;return this.isHorizontal()?(p=jt(c,r,a),y=t+e,h=a-r):(l.position==="left"?(p=r+e,y=jt(c,s,t),d=$e*-.5):(p=a-e,y=jt(c,t,s),d=$e*.5),h=s-t),{titleX:p,titleY:y,maxWidth:h,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Nt(t.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(a);vo(e,t.text,0,0,r,{color:t.color,maxWidth:d,rotation:h,textAlign:Ld(t.align),textBaseline:"middle",translation:[l,c]})}}function KS(n,e){const t=new zy({ctx:n.ctx,options:e,chart:n});fn.configure(n,t,e),fn.addBox(n,t),n.titleBlock=t}var YS={id:"title",_element:zy,start(n,e,t){KS(n,t)},stop(n){const e=n.titleBlock;fn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;fn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const to={average(n){if(!n.length)return!1;let e,t,r=new Set,s=0,a=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();r.add(d.x),s+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((c,d)=>c+d)/r.size,y:s/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const d=n[a].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),p=sb(e,h);p<s&&(s=p,c=d)}}if(c){const d=c.tooltipPosition();t=d.x,r=d.y}return{x:t,y:r}}};function zn(n,e){return e&&(ut(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function rr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function GS(n,e){const{element:t,datasetIndex:r,index:s}=e,a=n.getDatasetMeta(r).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[r].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:t}}function Gg(n,e){const t=n.chart.ctx,{body:r,footer:s,title:a}=n,{boxWidth:l,boxHeight:c}=e,d=Nt(e.bodyFont),h=Nt(e.titleFont),p=Nt(e.footerFont),y=a.length,v=s.length,_=r.length,b=gn(e.padding);let S=b.height,x=0,E=r.reduce((O,D)=>O+D.before.length+D.lines.length+D.after.length,0);if(E+=n.beforeBody.length+n.afterBody.length,y&&(S+=y*h.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),E){const O=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;S+=_*O+(E-_)*d.lineHeight+(E-1)*e.bodySpacing}v&&(S+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let N=0;const j=function(O){x=Math.max(x,t.measureText(O).width+N)};return t.save(),t.font=h.string,Le(n.title,j),t.font=d.string,Le(n.beforeBody.concat(n.afterBody),j),N=e.displayColors?l+2+e.boxPadding:0,Le(r,O=>{Le(O.before,j),Le(O.lines,j),Le(O.after,j)}),N=0,t.font=p.string,Le(n.footer,j),t.restore(),x+=b.width,{width:x,height:S}}function JS(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function XS(n,e,t,r){const{x:s,width:a}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&s+a+l>e.width||n==="right"&&s-a-l<0)return!0}function QS(n,e,t,r){const{x:s,width:a}=t,{width:l,chartArea:{left:c,right:d}}=n;let h="center";return r==="center"?h=s<=(c+d)/2?"left":"right":s<=a/2?h="left":s>=l-a/2&&(h="right"),XS(h,n,e,t)&&(h="center"),h}function Jg(n,e,t){const r=t.yAlign||e.yAlign||JS(n,t);return{xAlign:t.xAlign||e.xAlign||QS(n,e,t,r),yAlign:r}}function ZS(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function ek(n,e,t){let{y:r,height:s}=n;return e==="top"?r+=t:e==="bottom"?r-=s+t:r-=s/2,r}function Xg(n,e,t,r){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:d}=t,h=s+a,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:_}=Ki(l);let b=ZS(e,c);const S=ek(e,d,h);return d==="center"?c==="left"?b+=h:c==="right"&&(b-=h):c==="left"?b-=Math.max(p,v)+s:c==="right"&&(b+=Math.max(y,_)+s),{x:Kt(b,0,r.width-e.width),y:Kt(S,0,r.height-e.height)}}function el(n,e,t){const r=gn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Qg(n){return zn([],rr(n))}function tk(n,e,t){return es(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Zg(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const By={beforeTitle:tr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:tr,beforeBody:tr,beforeLabel:tr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Fe(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:tr,afterBody:tr,beforeFooter:tr,footer:tr,afterFooter:tr};function Vt(n,e,t,r){const s=n[e].call(t,r);return typeof s>"u"?By[e].call(t,r):s}class cd extends ar{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&t.options.animation&&r.animations,a=new Ty(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=tk(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,s=Vt(r,"beforeTitle",this,e),a=Vt(r,"title",this,e),l=Vt(r,"afterTitle",this,e);let c=[];return c=zn(c,rr(s)),c=zn(c,rr(a)),c=zn(c,rr(l)),c}getBeforeBody(e,t){return Qg(Vt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,s=[];return Le(e,a=>{const l={before:[],lines:[],after:[]},c=Zg(r,a);zn(l.before,rr(Vt(c,"beforeLabel",this,a))),zn(l.lines,Vt(c,"label",this,a)),zn(l.after,rr(Vt(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,t){return Qg(Vt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,s=Vt(r,"beforeFooter",this,e),a=Vt(r,"footer",this,e),l=Vt(r,"afterFooter",this,e);let c=[];return c=zn(c,rr(s)),c=zn(c,rr(a)),c=zn(c,rr(l)),c}_createItems(e){const t=this._active,r=this.chart.data,s=[],a=[],l=[];let c=[],d,h;for(d=0,h=t.length;d<h;++d)c.push(GS(this.chart,t[d]));return e.filter&&(c=c.filter((p,y,v)=>e.filter(p,y,v,r))),e.itemSort&&(c=c.sort((p,y)=>e.itemSort(p,y,r))),Le(c,p=>{const y=Zg(e.callbacks,p);s.push(Vt(y,"labelColor",this,p)),a.push(Vt(y,"labelPointStyle",this,p)),l.push(Vt(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const r=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=to[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=Gg(this,r),h=Object.assign({},c,d),p=Jg(this.chart,r,h),y=Xg(r,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,s){const a=this.getCaretPosition(e,r,s);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:y}=Ki(c),{x:v,y:_}=e,{width:b,height:S}=t;let x,E,N,j,O,D;return a==="center"?(O=_+S/2,s==="left"?(x=v,E=x-l,j=O+l,D=O-l):(x=v+b,E=x+l,j=O-l,D=O+l),N=x):(s==="left"?E=v+Math.max(d,p)+l:s==="right"?E=v+b-Math.max(h,y)-l:E=this.caretX,a==="top"?(j=_,O=j-l,x=E-l,N=E+l):(j=_+S,O=j+l,x=E+l,N=E-l),D=j),{x1:x,x2:E,x3:N,y1:j,y2:O,y3:D}}drawTitle(e,t,r){const s=this.title,a=s.length;let l,c,d;if(a){const h=Yi(r.rtl,this.x,this.width);for(e.x=el(this,r.titleAlign,r),t.textAlign=h.textAlign(r.titleAlign),t.textBaseline="middle",l=Nt(r.titleFont),c=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,d=0;d<a;++d)t.fillText(s[d],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,d+1===a&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,t,r,s,a){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:d,boxWidth:h}=a,p=Nt(a.bodyFont),y=el(this,"left",a),v=s.x(y),_=d<p.lineHeight?(p.lineHeight-d)/2:0,b=t.y+_;if(a.usePointStyle){const S={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},x=s.leftForLtr(v,h)+h/2,E=b+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,pg(e,S,x,E),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,pg(e,S,x,E)}else{e.lineWidth=Pe(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=s.leftForLtr(v,h),x=s.leftForLtr(s.xPlus(v,1),h-2),E=Ki(l.borderRadius);Object.values(E).some(N=>N!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,kl(e,{x:S,y:b,w:h,h:d,radius:E}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),kl(e,{x,y:b+1,w:h-2,h:d-2,radius:E}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(S,b,h,d),e.strokeRect(S,b,h,d),e.fillStyle=l.backgroundColor,e.fillRect(x,b+1,h-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:p}=r,y=Nt(r.bodyFont);let v=y.lineHeight,_=0;const b=Yi(r.rtl,this.x,this.width),S=function($){t.fillText($,b.x(e.x+_),e.y+v/2),e.y+=v+a},x=b.textAlign(l);let E,N,j,O,D,I,P;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=el(this,x,r),t.fillStyle=r.bodyColor,Le(this.beforeBody,S),_=c&&x!=="right"?l==="center"?h/2+p:h+2+p:0,O=0,I=s.length;O<I;++O){for(E=s[O],N=this.labelTextColors[O],t.fillStyle=N,Le(E.before,S),j=E.lines,c&&j.length&&(this._drawColorBox(t,e,O,b,r),v=Math.max(y.lineHeight,d)),D=0,P=j.length;D<P;++D)S(j[D]),v=y.lineHeight;Le(E.after,S)}_=0,v=y.lineHeight,Le(this.afterBody,S),e.y-=a}drawFooter(e,t,r){const s=this.footer,a=s.length;let l,c;if(a){const d=Yi(r.rtl,this.x,this.width);for(e.x=el(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=d.textAlign(r.footerAlign),t.textBaseline="middle",l=Nt(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,c=0;c<a;++c)t.fillText(s[c],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,s){const{xAlign:a,yAlign:l}=this,{x:c,y:d}=e,{width:h,height:p}=r,{topLeft:y,topRight:v,bottomLeft:_,bottomRight:b}=Ki(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(c+y,d),l==="top"&&this.drawCaret(e,t,r,s),t.lineTo(c+h-v,d),t.quadraticCurveTo(c+h,d,c+h,d+v),l==="center"&&a==="right"&&this.drawCaret(e,t,r,s),t.lineTo(c+h,d+p-b),t.quadraticCurveTo(c+h,d+p,c+h-b,d+p),l==="bottom"&&this.drawCaret(e,t,r,s),t.lineTo(c+_,d+p),t.quadraticCurveTo(c,d+p,c,d+p-_),l==="center"&&a==="left"&&this.drawCaret(e,t,r,s),t.lineTo(c,d+y),t.quadraticCurveTo(c,d,c+y,d),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const l=to[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Gg(this,e),d=Object.assign({},l,this._size),h=Jg(t,e,d),p=Xg(e,d,h,t);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=gn(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,t),ky(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Ey(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,s=e.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),a=!wl(r,s),l=this._positionChanged(s,t);(a||l)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,r),c=this._positionChanged(l,e),d=t||!wl(l,a)||c;return d&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,r,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:s,options:a}=this,l=to[a.position].call(this,e,t);return l!==!1&&(r!==l.x||s!==l.y)}}be(cd,"positioners",to);var nk={id:"tooltip",_element:cd,positioners:to,afterInit(n,e,t){t&&(n.tooltip=new cd({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:By},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const rk=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function ik(n,e,t,r){const s=n.indexOf(e);if(s===-1)return rk(n,e,t,r);const a=n.lastIndexOf(e);return s!==a?t:s}const sk=(n,e)=>n===null?null:Kt(Math.round(n),0,e);function em(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class ud extends ts{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:s,label:a}of t)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Fe(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:ik(r,e,Re(t,e),this._addedLabels),sk(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)s.push({value:l});return s}getLabelForValue(e){return em.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}be(ud,"id","category"),be(ud,"defaults",{ticks:{callback:em}});function ok(n,e){const t=[],{bounds:s,step:a,min:l,max:c,precision:d,count:h,maxTicks:p,maxDigits:y,includeBounds:v}=n,_=a||1,b=p-1,{min:S,max:x}=e,E=!Fe(l),N=!Fe(c),j=!Fe(h),O=(x-S)/(y+1);let D=sg((x-S)/b/_)*_,I,P,$,L;if(D<1e-14&&!E&&!N)return[{value:S},{value:x}];L=Math.ceil(x/D)-Math.floor(S/D),L>b&&(D=sg(L*D/b/_)*_),Fe(d)||(I=Math.pow(10,d),D=Math.ceil(D*I)/I),s==="ticks"?(P=Math.floor(S/D)*D,$=Math.ceil(x/D)*D):(P=S,$=x),E&&N&&a&&nb((c-l)/a,D/1e3)?(L=Math.round(Math.min((c-l)/D,p)),D=(c-l)/L,P=l,$=c):j?(P=E?l:P,$=N?c:$,L=h-1,D=($-P)/L):(L=($-P)/D,fl(L,Math.round(L),D/1e3)?L=Math.round(L):L=Math.ceil(L));const F=Math.max(og(D),og(P));I=Math.pow(10,Fe(d)?F:d),P=Math.round(P*I)/I,$=Math.round($*I)/I;let B=0;for(E&&(v&&P!==l?(t.push({value:l}),P<l&&B++,fl(Math.round((P+B*D)*I)/I,l,tm(l,O,n))&&B++):P<l&&B++);B<L;++B){const V=Math.round((P+B*D)*I)/I;if(N&&V>c)break;t.push({value:V})}return N&&v&&$!==c?t.length&&fl(t[t.length-1].value,c,tm(c,O,n))?t[t.length-1].value=c:t.push({value:c}):(!N||$===c)&&t.push({value:$}),t}function tm(n,e,{horizontal:t,minRotation:r}){const s=or(r),a=(t?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class ak extends ts{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Fe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this;const l=d=>s=t?s:d,c=d=>a=r?a:d;if(e){const d=Ir(s),h=Ir(a);d<0&&h<0?c(0):d>0&&h>0&&l(0)}if(s===a){let d=a===0?1:Math.abs(a*.05);c(a+d),e||l(s-d)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=ok(s,a);return e.bounds==="ticks"&&rb(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-t)/Math.max(e.length-1,1)/2;t-=s,r+=s}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return $d(e,this.chart.options.locale,this.options.ticks.format)}}class dd extends ak{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=pn(e)?e:0,this.max=pn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=or(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}be(dd,"id","linear"),be(dd,"defaults",{ticks:{callback:my.formatters.numeric}});const Hl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qt=Object.keys(Hl);function nm(n,e){return n-e}function rm(n,e){if(Fe(e))return null;const t=n._adapter,{parser:r,round:s,isoWeekday:a}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),pn(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(s&&(l=s==="week"&&(xl(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,s)),+l)}function im(n,e,t,r){const s=qt.length;for(let a=qt.indexOf(n);a<s-1;++a){const l=Hl[qt[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=r)return qt[a]}return qt[s-1]}function lk(n,e,t,r,s){for(let a=qt.length-1;a>=qt.indexOf(t);a--){const l=qt[a];if(Hl[l].common&&n._adapter.diff(s,r,l)>=e-1)return l}return qt[t?qt.indexOf(t):0]}function ck(n){for(let e=qt.indexOf(n)+1,t=qt.length;e<t;++e)if(Hl[qt[e]].common)return qt[e]}function sm(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:s}=Id(t,e),a=t[r]>=e?t[r]:t[s];n[a]=!0}}function uk(n,e,t,r){const s=n._adapter,a=+s.startOf(e[0].value,r),l=e[e.length-1].value;let c,d;for(c=a;c<=l;c=+s.add(c,1,r))d=t[c],d>=0&&(e[d].major=!0);return e}function om(n,e,t){const r=[],s={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],s[c]=l,r.push({value:c,major:!1});return a===0||!t?r:uk(n,r,s,t)}class jl extends ts{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),s=this._adapter=new bx._date(e.adapters.date);s.init(t),oo(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:rm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function d(h){!l&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!c&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!l||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=pn(s)&&!isNaN(s)?s:+t.startOf(Date.now(),r),a=pn(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=lb(s,a,l);return this._unit=t.unit||(r.autoSkip?im(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):lk(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ck(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),om(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Kt(t,0,l),r=Kt(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,s=this.options,a=s.time,l=a.unit||im(a.minUnit,t,r,this._getLabelCapacity(t)),c=Re(s.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,h=xl(d)||d===!0,p={};let y=t,v,_;if(h&&(y=+e.startOf(y,"isoWeek",d)),y=+e.startOf(y,h?"day":l),e.diff(r,t,l)>1e5*c)throw new Error(t+" and "+r+" are too far apart with stepSize of "+c+" "+l);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(v=y,_=0;v<r;v=+e.add(v,c,l),_++)sm(p,v,b);return(v===r||s.bounds==="ticks"||_===1)&&sm(p,v,b),Object.keys(p).sort(nm).map(S=>+S)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,a=this._unit,l=t||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,s){const a=this.options,l=a.ticks.callback;if(l)return qe(l,[e,t,r],this);const c=a.time.displayFormats,d=this._unit,h=this._majorUnit,p=d&&c[d],y=h&&c[h],v=r[t],_=h&&y&&v&&v.major;return this._adapter.format(e,s||(_?y:p))}generateTickLabels(e){let t,r,s;for(t=0,r=e.length;t<r;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,s=or(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*a+c*l,h:r*l+c*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,s=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,om(this,[e],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,r=s.length;t<r;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const s=this.getLabels();for(t=0,r=s.length;t<r;++t)e.push(rm(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hy(e.sort(nm))}}be(jl,"id","time"),be(jl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function tl(n,e,t){let r=0,s=n.length-1,a,l,c,d;t?(e>=n[r].pos&&e<=n[s].pos&&({lo:r,hi:s}=id(n,"pos",e)),{pos:a,time:c}=n[r],{pos:l,time:d}=n[s]):(e>=n[r].time&&e<=n[s].time&&({lo:r,hi:s}=id(n,"time",e)),{time:a,pos:c}=n[r],{time:l,pos:d}=n[s]);const h=l-a;return h?c+(d-c)*(e-a)/h:c}class am extends jl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=tl(t,this.min),this._tableRange=tl(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,s=[],a=[];let l,c,d,h,p;for(l=0,c=e.length;l<c;++l)h=e[l],h>=t&&h<=r&&s.push(h);if(s.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],d=s[l-1],h=s[l],Math.round((p+d)/2)!==h&&a.push({time:h,pos:l/(c-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(tl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return tl(this._table,r*this._tableRange+this._minPos,!0)}}be(am,"id","timeseries"),be(am,"defaults",jl.defaults);const Uy="label";function lm(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function dk(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Hy(n,e){n.labels=e}function Wy(n,e,t=Uy){const r=[];n.datasets=e.map(s=>{const a=n.datasets.find(l=>l[t]===s[t]);return!a||!s.data||r.includes(a)?{...s}:(r.push(a),Object.assign(a,s),a)})}function hk(n,e=Uy){const t={labels:[],datasets:[]};return Hy(t,n.labels),Wy(t,n.datasets,e),t}function fk(n,e){const{height:t=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:d,plugins:h=[],fallbackContent:p,updateMode:y,...v}=n,_=T.useRef(null),b=T.useRef(null),S=()=>{_.current&&(b.current=new Ul(_.current,{type:l,data:hk(c,a),options:d&&{...d},plugins:h}),lm(e,b.current))},x=()=>{lm(e,null),b.current&&(b.current.destroy(),b.current=null)};return T.useEffect(()=>{!s&&b.current&&d&&dk(b.current,d)},[s,d]),T.useEffect(()=>{!s&&b.current&&Hy(b.current.config.data,c.labels)},[s,c.labels]),T.useEffect(()=>{!s&&b.current&&c.datasets&&Wy(b.current.config.data,c.datasets,a)},[s,c.datasets]),T.useEffect(()=>{b.current&&(s?(x(),setTimeout(S)):b.current.update(y))},[s,d,c.labels,c.datasets,y]),T.useEffect(()=>{b.current&&(x(),setTimeout(S))},[l]),T.useEffect(()=>(S(),()=>x()),[]),m.jsx("canvas",{ref:_,role:"img",height:t,width:r,...v,children:p})}const pk=T.forwardRef(fk);function Yd(n,e){return Ul.register(e),T.forwardRef((t,r)=>m.jsx(pk,{...t,ref:r,type:n}))}const cm=Yd("bar",pl),gk=Yd("doughnut",qi),mk=Yd("pie",od);Ul.register(eo,ud,dd,yl,YS,nk,qS);function yk({tasks:n}){const e=n.length,t=n.filter(P=>P.completed).length,r=e-t,s=e>0?Math.round(t/e*100):0,a=n.filter(P=>P.priority==="high"&&!P.completed).length,l=n.filter(P=>P.priority==="medium"&&!P.completed).length,c=n.filter(P=>P.priority==="low"&&!P.completed).length,d=n.filter(P=>{if(!P.dueDate||P.completed)return!1;const[$,L,F]=P.dueDate.split("-").map(Number);return new Date($,L-1,F)<new Date}).length,h={};n.forEach(P=>{P.category&&!P.completed&&(h[P.category]=(h[P.category]||0)+1)});const p=new Date,y=new Date(p.getTime()+10080*60*1e3),v=n.filter(P=>{if(!P.dueDate||P.completed)return!1;const[$,L,F]=P.dueDate.split("-").map(Number),B=new Date($,L-1,F);return B>=p&&B<=y}).length,_=n.reduce((P,$)=>P+($.timeSpent||0),0),b=P=>{if(P<60)return`${P}s`;if(P<3600)return`${Math.floor(P/60)}m`;const $=Math.floor(P/3600),L=Math.floor(P%3600/60);return L>0?`${$}h ${L}m`:`${$}h`},S={high:n.filter(P=>P.priority==="high").reduce((P,$)=>P+($.timeSpent||0),0),medium:n.filter(P=>P.priority==="medium").reduce((P,$)=>P+($.timeSpent||0),0),low:n.filter(P=>P.priority==="low").reduce((P,$)=>P+($.timeSpent||0),0)},x=P=>(P/3600).toFixed(1),E={labels:["High","Medium","Low"],datasets:[{label:"Time Spent (hours)",data:[x(S.high),x(S.medium),x(S.low)],backgroundColor:["rgba(255, 107, 107, 0.8)","rgba(255, 212, 59, 0.8)","rgba(81, 207, 102, 0.8)"],borderColor:["#ff6b6b","#ffd43b","#51cf66"],borderWidth:2}]},N={labels:["Completed","Active"],datasets:[{data:[t,r],backgroundColor:["#51cf66","#667eea"],borderColor:["#40c057","#5568d3"],borderWidth:2}]},j={labels:["High","Medium","Low"],datasets:[{label:"Active Tasks by Priority",data:[a,l,c],backgroundColor:["#ff6b6b","#ffd43b","#51cf66"],borderColor:["#ee5a5a","#fcc419","#40c057"],borderWidth:2}]},O={labels:Object.keys(h).length>0?Object.keys(h):["No Categories"],datasets:[{data:Object.keys(h).length>0?Object.values(h):[1],backgroundColor:["#667eea","#764ba2","#f093fb","#4facfe","#43e97b","#fa709a"],borderWidth:2}]},D={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}}},I={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return m.jsxs("div",{className:"dashboard",children:[m.jsx("h2",{className:"dashboard-title",children:"Dashboard"}),m.jsxs("div",{className:"stats-grid",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-info",children:[m.jsx("div",{className:"stat-value",children:e}),m.jsx("div",{className:"stat-label",children:"Total Tasks"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-info",children:[m.jsx("div",{className:"stat-value",children:t}),m.jsx("div",{className:"stat-label",children:"Completed"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-info",children:[m.jsx("div",{className:"stat-value",children:r}),m.jsx("div",{className:"stat-label",children:"Active"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-info",children:[m.jsxs("div",{className:"stat-value",children:[s,"%"]}),m.jsx("div",{className:"stat-label",children:"Completion Rate"})]})]}),m.jsxs("div",{className:"stat-card alert",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-info",children:[m.jsx("div",{className:"stat-value",children:d}),m.jsx("div",{className:"stat-label",children:"Overdue"})]})]}),m.jsxs("div",{className:"stat-card info",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-info",children:[m.jsx("div",{className:"stat-value",children:v}),m.jsx("div",{className:"stat-label",children:"Due This Week"})]})]}),m.jsxs("div",{className:"stat-card success",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsxs("div",{className:"stat-info",children:[m.jsx("div",{className:"stat-value",children:b(_)}),m.jsx("div",{className:"stat-label",children:"Time Tracked"})]})]})]}),m.jsxs("div",{className:"charts-grid",children:[m.jsxs("div",{className:"chart-container",children:[m.jsx("h3",{className:"chart-title",children:"Task Completion"}),e>0?m.jsx(mk,{data:N,options:D}):m.jsx("p",{className:"no-data",children:"No tasks to display"})]}),m.jsxs("div",{className:"chart-container",children:[m.jsx("h3",{className:"chart-title",children:"Active Tasks by Priority"}),r>0?m.jsx(cm,{data:j,options:I}):m.jsx("p",{className:"no-data",children:"No active tasks"})]}),m.jsxs("div",{className:"chart-container",children:[m.jsx("h3",{className:"chart-title",children:"Active Tasks by Category"}),Object.keys(h).length>0?m.jsx(gk,{data:O,options:D}):m.jsx("p",{className:"no-data",children:"No categorized tasks"})]}),m.jsxs("div",{className:"chart-container",children:[m.jsx("h3",{className:"chart-title",children:"Time Spent by Priority"}),_>0?m.jsx(cm,{data:E,options:I}):m.jsx("p",{className:"no-data",children:"No time tracked yet"})]})]})]})}function vk({tasks:n,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a}){const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),d=x=>{if(!x.dueDate)return null;const[E,N,j]=x.dueDate.split("-").map(Number);return new Date(E,N-1,j)},h=n.filter(x=>x.completed||!x.dueDate?!1:d(x)<c),p=n.filter(x=>x.completed||!x.dueDate?!1:d(x).getTime()===c.getTime()),y=n.filter(x=>!x.completed||!x.dueDate?!1:d(x).getTime()===c.getTime()),v=p.length+y.length,_=y.length,b=v>0?Math.round(_/v*100):0,S=()=>{const x={weekday:"long",month:"long",day:"numeric"};return c.toLocaleDateString("en-US",x)};return m.jsxs("div",{className:"today-view",children:[m.jsxs("div",{className:"today-header",children:[m.jsxs("div",{className:"today-title-section",children:[m.jsx("h2",{className:"today-title",children:"Today"}),m.jsx("p",{className:"today-date",children:S()})]}),v>0&&m.jsxs("div",{className:"today-progress",children:[m.jsxs("div",{className:"progress-circle",children:[m.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:[m.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#e0e0e0",strokeWidth:"4"}),m.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#4CAF50",strokeWidth:"4",strokeDasharray:`${2*Math.PI*24}`,strokeDashoffset:`${2*Math.PI*24*(1-b/100)}`,transform:"rotate(-90 30 30)",strokeLinecap:"round"})]}),m.jsxs("span",{className:"progress-text",children:[b,"%"]})]}),m.jsxs("div",{className:"progress-details",children:[m.jsx("p",{className:"progress-label",children:"Progress"}),m.jsxs("p",{className:"progress-count",children:[_," of ",v]})]})]})]}),h.length>0&&m.jsxs("div",{className:"task-section overdue-section",children:[m.jsx("div",{className:"section-header",children:m.jsxs("h3",{className:"section-title overdue-title",children:[m.jsx("span",{className:"overdue-icon",children:""}),"Overdue",m.jsx("span",{className:"task-count-badge overdue-badge",children:h.length})]})}),m.jsx("div",{className:"task-list",children:h.map(x=>m.jsx(so,{task:x,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a},x.id))})]}),m.jsxs("div",{className:"task-section today-tasks-section",children:[m.jsx("div",{className:"section-header",children:m.jsxs("h3",{className:"section-title",children:["Tasks for Today",p.length>0&&m.jsx("span",{className:"task-count-badge",children:p.length})]})}),p.length===0&&h.length===0?m.jsxs("div",{className:"empty-today",children:[m.jsx("div",{className:"empty-today-icon",children:""}),m.jsx("h3",{className:"empty-today-title",children:"All clear!"}),m.jsx("p",{className:"empty-today-message",children:"No tasks scheduled for today. Enjoy your day!"})]}):p.length===0?m.jsx("div",{className:"empty-state-small",children:m.jsx("p",{children:"No tasks scheduled for today"})}):m.jsx("div",{className:"task-list",children:p.map(x=>m.jsx(so,{task:x,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a},x.id))})]}),y.length>0&&m.jsxs("div",{className:"task-section completed-section",children:[m.jsx("div",{className:"section-header",children:m.jsxs("h3",{className:"section-title completed-title",children:[m.jsx("span",{className:"completed-icon",children:""}),"Completed",m.jsx("span",{className:"task-count-badge completed-badge",children:y.length})]})}),m.jsx("div",{className:"task-list",children:y.map(x=>m.jsx(so,{task:x,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a},x.id))})]})]})}var no=Zm();function wk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return T.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Wl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ns(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function Gd(n){return"nodeType"in n}function At(n){var e,t;return n?ns(n)?n:Gd(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Jd(n){const{Document:e}=At(n);return n instanceof e}function To(n){return ns(n)?!1:n instanceof At(n).HTMLElement}function Vy(n){return n instanceof At(n).SVGElement}function rs(n){return n?ns(n)?n.document:Gd(n)?Jd(n)?n:To(n)||Vy(n)?n.ownerDocument:document:document:document}const jn=Wl?T.useLayoutEffect:T.useEffect;function Vl(n){const e=T.useRef(n);return jn(()=>{e.current=n}),T.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function _k(){const n=T.useRef(null),e=T.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=T.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function _o(n,e){e===void 0&&(e=[n]);const t=T.useRef(n);return jn(()=>{t.current!==n&&(t.current=n)},e),t}function Co(n,e){const t=T.useRef();return T.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Nl(n){const e=Vl(n),t=T.useRef(null),r=T.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function Ol(n){const e=T.useRef();return T.useEffect(()=>{e.current=n},[n]),e.current}let Wu={};function jo(n,e){return T.useMemo(()=>{if(e)return e;const t=Wu[n]==null?0:Wu[n]+1;return Wu[n]=t,n+"-"+t},[n,e])}function qy(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const c=Object.entries(l);for(const[d,h]of c){const p=a[d];p!=null&&(a[d]=p+n*h)}return a},{...e})}}const Ji=qy(1),Rl=qy(-1);function bk(n){return"clientX"in n&&"clientY"in n}function ql(n){if(!n)return!1;const{KeyboardEvent:e}=At(n.target);return e&&n instanceof e}function xk(n){if(!n)return!1;const{TouchEvent:e}=At(n.target);return e&&n instanceof e}function Pl(n){if(xk(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return bk(n)?{x:n.clientX,y:n.clientY}:null}const Hn=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Hn.Translate.toString(n),Hn.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),um="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Sk(n){return n.matches(um)?n:n.querySelector(um)}const kk={display:"none"};function Ek(n){let{id:e,value:t}=n;return Ye.createElement("div",{id:e,style:kk},t)}function Tk(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ye.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function Ck(){const[n,e]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const Ky=T.createContext(null);function jk(n){const e=T.useContext(Ky);T.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Nk(){const[n]=T.useState(()=>new Set),e=T.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[T.useCallback(r=>{let{type:s,event:a}=r;n.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,a)})},[n]),e]}const Ok={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Rk={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Pk(n){let{announcements:e=Rk,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=Ok}=n;const{announce:a,announcement:l}=Ck(),c=jo("DndLiveRegion"),[d,h]=T.useState(!1);if(T.useEffect(()=>{h(!0)},[]),jk(T.useMemo(()=>({onDragStart(y){let{active:v}=y;a(e.onDragStart({active:v}))},onDragMove(y){let{active:v,over:_}=y;e.onDragMove&&a(e.onDragMove({active:v,over:_}))},onDragOver(y){let{active:v,over:_}=y;a(e.onDragOver({active:v,over:_}))},onDragEnd(y){let{active:v,over:_}=y;a(e.onDragEnd({active:v,over:_}))},onDragCancel(y){let{active:v,over:_}=y;a(e.onDragCancel({active:v,over:_}))}}),[a,e])),!d)return null;const p=Ye.createElement(Ye.Fragment,null,Ye.createElement(Ek,{id:r,value:s.draggable}),Ye.createElement(Tk,{id:c,announcement:l}));return t?no.createPortal(p,t):p}var ct;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(ct||(ct={}));function Dl(){}function Yy(n,e){return T.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Gy(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return T.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Nn=Object.freeze({x:0,y:0});function Dk(n,e){const t=Pl(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function Ak(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function Mk(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Ik(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),a=Math.min(e.top+e.height,n.top+n.height),l=s-r,c=a-t;if(r<s&&t<a){const d=e.width*e.height,h=n.width*n.height,p=l*c,y=p/(d+h-p);return Number(y.toFixed(4))}return 0}const Lk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const a of r){const{id:l}=a,c=t.get(l);if(c){const d=Ik(c,e);d>0&&s.push({id:l,data:{droppableContainer:a,value:d}})}}return s.sort(Ak)};function $k(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Jy(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Nn}function Fk(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,c)=>({...l,top:l.top+n*c.y,bottom:l.bottom+n*c.y,left:l.left+n*c.x,right:l.right+n*c.x}),{...t})}}const zk=Fk(1);function Xy(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Bk(n,e,t){const r=Xy(e);if(!r)return n;const{scaleX:s,scaleY:a,x:l,y:c}=r,d=n.left-l-(1-s)*parseFloat(t),h=n.top-c-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),p=s?n.width/s:n.width,y=a?n.height/a:n.height;return{width:p,height:y,top:h,right:d+p,bottom:h+y,left:d}}const Uk={ignoreTransform:!1};function is(n,e){e===void 0&&(e=Uk);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:p}=At(n).getComputedStyle(n);h&&(t=Bk(t,h,p))}const{top:r,left:s,width:a,height:l,bottom:c,right:d}=t;return{top:r,left:s,width:a,height:l,bottom:c,right:d}}function dm(n){return is(n,{ignoreTransform:!0})}function Hk(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Wk(n,e){return e===void 0&&(e=At(n).getComputedStyle(n)),e.position==="fixed"}function Vk(n,e){e===void 0&&(e=At(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=e[s];return typeof a=="string"?t.test(a):!1})}function Xd(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(Jd(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!To(s)||Vy(s)||t.includes(s))return t;const a=At(n).getComputedStyle(s);return s!==n&&Vk(s,a)&&t.push(s),Wk(s,a)?t:r(s.parentNode)}return n?r(n):t}function Qy(n){const[e]=Xd(n,1);return e??null}function Vu(n){return!Wl||!n?null:ns(n)?n:Gd(n)?Jd(n)||n===rs(n).scrollingElement?window:To(n)?n:null:null}function Zy(n){return ns(n)?n.scrollX:n.scrollLeft}function ev(n){return ns(n)?n.scrollY:n.scrollTop}function hd(n){return{x:Zy(n),y:ev(n)}}var pt;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(pt||(pt={}));function tv(n){return!Wl||!n?!1:n===document.scrollingElement}function nv(n){const e={x:0,y:0},t=tv(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,a=n.scrollLeft<=e.x,l=n.scrollTop>=r.y,c=n.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:c,maxScroll:r,minScroll:e}}const qk={x:.2,y:.2};function Kk(n,e,t,r,s){let{top:a,left:l,right:c,bottom:d}=t;r===void 0&&(r=10),s===void 0&&(s=qk);const{isTop:h,isBottom:p,isLeft:y,isRight:v}=nv(n),_={x:0,y:0},b={x:0,y:0},S={height:e.height*s.y,width:e.width*s.x};return!h&&a<=e.top+S.height?(_.y=pt.Backward,b.y=r*Math.abs((e.top+S.height-a)/S.height)):!p&&d>=e.bottom-S.height&&(_.y=pt.Forward,b.y=r*Math.abs((e.bottom-S.height-d)/S.height)),!v&&c>=e.right-S.width?(_.x=pt.Forward,b.x=r*Math.abs((e.right-S.width-c)/S.width)):!y&&l<=e.left+S.width&&(_.x=pt.Backward,b.x=r*Math.abs((e.left+S.width-l)/S.width)),{direction:_,speed:b}}function Yk(n){if(n===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function rv(n){return n.reduce((e,t)=>Ji(e,hd(t)),Nn)}function Gk(n){return n.reduce((e,t)=>e+Zy(t),0)}function Jk(n){return n.reduce((e,t)=>e+ev(t),0)}function iv(n,e){if(e===void 0&&(e=is),!n)return;const{top:t,left:r,bottom:s,right:a}=e(n);Qy(n)&&(s<=0||a<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Xk=[["x",["left","right"],Gk],["y",["top","bottom"],Jk]];class Qd{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Xd(t),s=rv(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,l,c]of Xk)for(const d of l)Object.defineProperty(this,d,{get:()=>{const h=c(r),p=s[a]-h;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class co{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Qk(n){const{EventTarget:e}=At(n);return n instanceof e?n:rs(n)}function qu(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var dn;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(dn||(dn={}));function hm(n){n.preventDefault()}function Zk(n){n.stopPropagation()}var Me;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Me||(Me={}));const sv={start:[Me.Space,Me.Enter],cancel:[Me.Esc],end:[Me.Space,Me.Enter,Me.Tab]},eE=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Me.Right:return{...t,x:t.x+25};case Me.Left:return{...t,x:t.x-25};case Me.Down:return{...t,y:t.y+25};case Me.Up:return{...t,y:t.y-25}}};class ov{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new co(rs(t)),this.windowListeners=new co(At(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(dn.Resize,this.handleCancel),this.windowListeners.add(dn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(dn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&iv(r),t(Nn)}handleKeyDown(e){if(ql(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:a=sv,coordinateGetter:l=eE,scrollBehavior:c="smooth"}=s,{code:d}=e;if(a.end.includes(d)){this.handleEnd(e);return}if(a.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:h}=r.current,p=h?{x:h.left,y:h.top}:Nn;this.referenceCoordinates||(this.referenceCoordinates=p);const y=l(e,{active:t,context:r.current,currentCoordinates:p});if(y){const v=Rl(y,p),_={x:0,y:0},{scrollableAncestors:b}=r.current;for(const S of b){const x=e.code,{isTop:E,isRight:N,isLeft:j,isBottom:O,maxScroll:D,minScroll:I}=nv(S),P=Yk(S),$={x:Math.min(x===Me.Right?P.right-P.width/2:P.right,Math.max(x===Me.Right?P.left:P.left+P.width/2,y.x)),y:Math.min(x===Me.Down?P.bottom-P.height/2:P.bottom,Math.max(x===Me.Down?P.top:P.top+P.height/2,y.y))},L=x===Me.Right&&!N||x===Me.Left&&!j,F=x===Me.Down&&!O||x===Me.Up&&!E;if(L&&$.x!==y.x){const B=S.scrollLeft+v.x,V=x===Me.Right&&B<=D.x||x===Me.Left&&B>=I.x;if(V&&!v.y){S.scrollTo({left:B,behavior:c});return}V?_.x=S.scrollLeft-B:_.x=x===Me.Right?S.scrollLeft-D.x:S.scrollLeft-I.x,_.x&&S.scrollBy({left:-_.x,behavior:c});break}else if(F&&$.y!==y.y){const B=S.scrollTop+v.y,V=x===Me.Down&&B<=D.y||x===Me.Up&&B>=I.y;if(V&&!v.x){S.scrollTo({top:B,behavior:c});return}V?_.y=S.scrollTop-B:_.y=x===Me.Down?S.scrollTop-D.y:S.scrollTop-I.y,_.y&&S.scrollBy({top:-_.y,behavior:c});break}}this.handleMove(e,Ji(Rl(y,this.referenceCoordinates),_))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ov.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=sv,onActivation:s}=e,{active:a}=t;const{code:l}=n.nativeEvent;if(r.start.includes(l)){const c=a.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function fm(n){return!!(n&&"distance"in n)}function pm(n){return!!(n&&"delay"in n)}class Zd{constructor(e,t,r){var s;r===void 0&&(r=Qk(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:l}=a;this.props=e,this.events=t,this.document=rs(l),this.documentListeners=new co(this.document),this.listeners=new co(r),this.windowListeners=new co(At(l)),this.initialCoordinates=(s=Pl(a))!=null?s:Nn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(dn.Resize,this.handleCancel),this.windowListeners.add(dn.DragStart,hm),this.windowListeners.add(dn.VisibilityChange,this.handleCancel),this.windowListeners.add(dn.ContextMenu,hm),this.documentListeners.add(dn.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(pm(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(fm(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(dn.Click,Zk,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(dn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:c}}=a;if(!s)return;const d=(t=Pl(e))!=null?t:Nn,h=Rl(s,d);if(!r&&c){if(fm(c)){if(c.tolerance!=null&&qu(h,c.tolerance))return this.handleCancel();if(qu(h,c.distance))return this.handleStart()}if(pm(c)&&qu(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Me.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const tE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Kl extends Zd{constructor(e){const{event:t}=e,r=rs(t.target);super(e,tE,r)}}Kl.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const nE={move:{name:"mousemove"},end:{name:"mouseup"}};var fd;(function(n){n[n.RightClick=2]="RightClick"})(fd||(fd={}));class rE extends Zd{constructor(e){super(e,nE,rs(e.event.target))}}rE.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===fd.RightClick?!1:(r==null||r({event:t}),!0)}}];const Ku={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class iE extends Zd{constructor(e){super(e,Ku)}static setup(){return window.addEventListener(Ku.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ku.move.name,e)};function e(){}}}iE.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var uo;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(uo||(uo={}));var Al;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Al||(Al={}));function sE(n){let{acceleration:e,activator:t=uo.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:c=Al.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:p,delta:y,threshold:v}=n;const _=aE({delta:y,disabled:!a}),[b,S]=_k(),x=T.useRef({x:0,y:0}),E=T.useRef({x:0,y:0}),N=T.useMemo(()=>{switch(t){case uo.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case uo.DraggableRect:return s}},[t,s,d]),j=T.useRef(null),O=T.useCallback(()=>{const I=j.current;if(!I)return;const P=x.current.x*E.current.x,$=x.current.y*E.current.y;I.scrollBy(P,$)},[]),D=T.useMemo(()=>c===Al.TreeOrder?[...h].reverse():h,[c,h]);T.useEffect(()=>{if(!a||!h.length||!N){S();return}for(const I of D){if((r==null?void 0:r(I))===!1)continue;const P=h.indexOf(I),$=p[P];if(!$)continue;const{direction:L,speed:F}=Kk(I,$,N,e,v);for(const B of["x","y"])_[B][L[B]]||(F[B]=0,L[B]=0);if(F.x>0||F.y>0){S(),j.current=I,b(O,l),x.current=F,E.current=L;return}}x.current={x:0,y:0},E.current={x:0,y:0},S()},[e,O,r,S,a,l,JSON.stringify(N),JSON.stringify(_),b,h,D,p,JSON.stringify(v)])}const oE={x:{[pt.Backward]:!1,[pt.Forward]:!1},y:{[pt.Backward]:!1,[pt.Forward]:!1}};function aE(n){let{delta:e,disabled:t}=n;const r=Ol(e);return Co(s=>{if(t||!r||!s)return oE;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[pt.Backward]:s.x[pt.Backward]||a.x===-1,[pt.Forward]:s.x[pt.Forward]||a.x===1},y:{[pt.Backward]:s.y[pt.Backward]||a.y===-1,[pt.Forward]:s.y[pt.Forward]||a.y===1}}},[t,e,r])}function lE(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Co(s=>{var a;return e==null?null:(a=r??s)!=null?a:null},[r,e])}function cE(n,e){return T.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...t,...a]},[]),[n,e])}var bo;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(bo||(bo={}));var pd;(function(n){n.Optimized="optimized"})(pd||(pd={}));const gm=new Map;function uE(n,e){let{dragging:t,dependencies:r,config:s}=e;const[a,l]=T.useState(null),{frequency:c,measure:d,strategy:h}=s,p=T.useRef(n),y=x(),v=_o(y),_=T.useCallback(function(E){E===void 0&&(E=[]),!v.current&&l(N=>N===null?E:N.concat(E.filter(j=>!N.includes(j))))},[v]),b=T.useRef(null),S=Co(E=>{if(y&&!t)return gm;if(!E||E===gm||p.current!==n||a!=null){const N=new Map;for(let j of n){if(!j)continue;if(a&&a.length>0&&!a.includes(j.id)&&j.rect.current){N.set(j.id,j.rect.current);continue}const O=j.node.current,D=O?new Qd(d(O),O):null;j.rect.current=D,D&&N.set(j.id,D)}return N}return E},[n,a,t,y,d]);return T.useEffect(()=>{p.current=n},[n]),T.useEffect(()=>{y||_()},[t,y]),T.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),T.useEffect(()=>{y||typeof c!="number"||b.current!==null||(b.current=setTimeout(()=>{_(),b.current=null},c))},[c,y,_,...r]),{droppableRects:S,measureDroppableContainers:_,measuringScheduled:a!=null};function x(){switch(h){case bo.Always:return!1;case bo.BeforeDragging:return t;default:return!t}}}function eh(n,e){return Co(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function dE(n,e){return eh(n,e)}function hE(n){let{callback:e,disabled:t}=n;const r=Vl(e),s=T.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,t]);return T.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Yl(n){let{callback:e,disabled:t}=n;const r=Vl(e),s=T.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[t]);return T.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function fE(n){return new Qd(is(n),n)}function mm(n,e,t){e===void 0&&(e=fE);const[r,s]=T.useState(null);function a(){s(d=>{if(!n)return null;if(n.isConnected===!1){var h;return(h=d??t)!=null?h:null}const p=e(n);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const l=hE({callback(d){if(n)for(const h of d){const{type:p,target:y}=h;if(p==="childList"&&y instanceof HTMLElement&&y.contains(n)){a();break}}}}),c=Yl({callback:a});return jn(()=>{a(),n?(c==null||c.observe(n),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),l==null||l.disconnect())},[n]),r}function pE(n){const e=eh(n);return Jy(n,e)}const ym=[];function gE(n){const e=T.useRef(n),t=Co(r=>n?r&&r!==ym&&n&&e.current&&n.parentNode===e.current.parentNode?r:Xd(n):ym,[n]);return T.useEffect(()=>{e.current=n},[n]),t}function mE(n){const[e,t]=T.useState(null),r=T.useRef(n),s=T.useCallback(a=>{const l=Vu(a.target);l&&t(c=>c?(c.set(l,hd(l)),new Map(c)):null)},[]);return T.useEffect(()=>{const a=r.current;if(n!==a){l(a);const c=n.map(d=>{const h=Vu(d);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,hd(h)]):null}).filter(d=>d!=null);t(c.length?new Map(c):null),r.current=n}return()=>{l(n),l(a)};function l(c){c.forEach(d=>{const h=Vu(d);h==null||h.removeEventListener("scroll",s)})}},[s,n]),T.useMemo(()=>n.length?e?Array.from(e.values()).reduce((a,l)=>Ji(a,l),Nn):rv(n):Nn,[n,e])}function vm(n,e){e===void 0&&(e=[]);const t=T.useRef(null);return T.useEffect(()=>{t.current=null},e),T.useEffect(()=>{const r=n!==Nn;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?Rl(n,t.current):Nn}function yE(n){T.useEffect(()=>{if(!Wl)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function vE(n,e){return T.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:a}=r;return t[s]=l=>{a(l,e)},t},{}),[n,e])}function av(n){return T.useMemo(()=>n?Hk(n):null,[n])}const wm=[];function wE(n,e){e===void 0&&(e=is);const[t]=n,r=av(t?At(t):null),[s,a]=T.useState(wm);function l(){a(()=>n.length?n.map(d=>tv(d)?r:new Qd(e(d),d)):wm)}const c=Yl({callback:l});return jn(()=>{c==null||c.disconnect(),l(),n.forEach(d=>c==null?void 0:c.observe(d))},[n]),s}function lv(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return To(e)?e:n}function _E(n){let{measure:e}=n;const[t,r]=T.useState(null),s=T.useCallback(h=>{for(const{target:p}of h)if(To(p)){r(y=>{const v=e(p);return y?{...y,width:v.width,height:v.height}:v});break}},[e]),a=Yl({callback:s}),l=T.useCallback(h=>{const p=lv(h);a==null||a.disconnect(),p&&(a==null||a.observe(p)),r(p?e(p):null)},[e,a]),[c,d]=Nl(l);return T.useMemo(()=>({nodeRef:c,rect:t,setRef:d}),[t,c,d])}const bE=[{sensor:Kl,options:{}},{sensor:ov,options:{}}],xE={current:{}},vl={draggable:{measure:dm},droppable:{measure:dm,strategy:bo.WhileDragging,frequency:pd.Optimized},dragOverlay:{measure:is}};class ho extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const SE={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ho,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Dl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:vl,measureDroppableContainers:Dl,windowRect:null,measuringScheduled:!1},cv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Dl,draggableNodes:new Map,over:null,measureDroppableContainers:Dl},No=T.createContext(cv),uv=T.createContext(SE);function kE(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ho}}}function EE(n,e){switch(e.type){case ct.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ct.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case ct.DragEnd:case ct.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ct.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new ho(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case ct.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,a=n.droppable.containers.get(t);if(!a||r!==a.key)return n;const l=new ho(n.droppable.containers);return l.set(t,{...a,disabled:s}),{...n,droppable:{...n.droppable,containers:l}}}case ct.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const a=new ho(n.droppable.containers);return a.delete(t),{...n,droppable:{...n.droppable,containers:a}}}default:return n}}function TE(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=T.useContext(No),a=Ol(r),l=Ol(t==null?void 0:t.id);return T.useEffect(()=>{if(!e&&!r&&a&&l!=null){if(!ql(a)||document.activeElement===a.target)return;const c=s.get(l);if(!c)return;const{activatorNode:d,node:h}=c;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[d.current,h.current]){if(!p)continue;const y=Sk(p);if(y){y.focus();break}}})}},[r,e,s,l,a]),null}function dv(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,a)=>a({transform:s,...r}),t):t}function CE(n){return T.useMemo(()=>({draggable:{...vl.draggable,...n==null?void 0:n.draggable},droppable:{...vl.droppable,...n==null?void 0:n.droppable},dragOverlay:{...vl.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function jE(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const a=T.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;jn(()=>{if(!l&&!c||!e){a.current=!1;return}if(a.current||!r)return;const h=e==null?void 0:e.node.current;if(!h||h.isConnected===!1)return;const p=t(h),y=Jy(p,r);if(l||(y.x=0),c||(y.y=0),a.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const v=Qy(h);v&&v.scrollBy({top:y.y,left:y.x})}},[e,l,c,r,t])}const Gl=T.createContext({...Nn,scaleX:1,scaleY:1});var Or;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Or||(Or={}));const hv=T.memo(function(e){var t,r,s,a;let{id:l,accessibility:c,autoScroll:d=!0,children:h,sensors:p=bE,collisionDetection:y=Lk,measuring:v,modifiers:_,...b}=e;const S=T.useReducer(EE,void 0,kE),[x,E]=S,[N,j]=Nk(),[O,D]=T.useState(Or.Uninitialized),I=O===Or.Initialized,{draggable:{active:P,nodes:$,translate:L},droppable:{containers:F}}=x,B=P!=null?$.get(P):null,V=T.useRef({initial:null,translated:null}),ne=T.useMemo(()=>{var Ge;return P!=null?{id:P,data:(Ge=B==null?void 0:B.data)!=null?Ge:xE,rect:V}:null},[P,B]),ae=T.useRef(null),[oe,fe]=T.useState(null),[le,G]=T.useState(null),Z=_o(b,Object.values(b)),R=jo("DndDescribedBy",l),W=T.useMemo(()=>F.getEnabled(),[F]),Q=CE(v),{droppableRects:me,measureDroppableContainers:de,measuringScheduled:Te}=uE(W,{dragging:I,dependencies:[L.x,L.y],config:Q.droppable}),he=lE($,P),je=T.useMemo(()=>le?Pl(le):null,[le]),Ee=ur(),ze=dE(he,Q.draggable.measure);jE({activeNode:P!=null?$.get(P):null,config:Ee.layoutShiftCompensation,initialRect:ze,measure:Q.draggable.measure});const De=mm(he,Q.draggable.measure,ze),mn=mm(he?he.parentElement:null),yt=T.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Mt=F.getNodeFor((t=yt.current.over)==null?void 0:t.id),q=_E({measure:Q.dragOverlay.measure}),ee=(r=q.nodeRef.current)!=null?r:he,_e=I?(s=q.rect)!=null?s:De:null,re=!!(q.nodeRef.current&&q.rect),ke=pE(re?null:De),we=av(ee?At(ee):null),Oe=gE(I?Mt??he:null),nt=wE(Oe),vt=dv(_,{transform:{x:L.x-ke.x,y:L.y-ke.y,scaleX:1,scaleY:1},activatorEvent:le,active:ne,activeNodeRect:De,containerNodeRect:mn,draggingNodeRect:_e,over:yt.current.over,overlayNodeRect:q.rect,scrollableAncestors:Oe,scrollableAncestorRects:nt,windowRect:we}),On=je?Ji(je,L):null,Wn=mE(Oe),Fr=vm(Wn),Ro=vm(Wn,[De]),Rn=Ji(vt,Fr),yn=_e?zk(_e,vt):null,lr=ne&&yn?y({active:ne,collisionRect:yn,droppableRects:me,droppableContainers:W,pointerCoordinates:On}):null,cr=Mk(lr,"id"),[It,Po]=T.useState(null),Do=re?vt:Ji(vt,Ro),Ao=$k(Do,(a=It==null?void 0:It.rect)!=null?a:null,De),as=T.useRef(null),fi=T.useCallback((Ge,wt)=>{let{sensor:_t,options:vn}=wt;if(ae.current==null)return;const Ot=$.get(ae.current);if(!Ot)return;const bt=Ge.nativeEvent,Lt=new _t({active:ae.current,activeNode:Ot,event:bt,options:vn,context:yt,onAbort(Je){if(!$.get(Je))return;const{onDragAbort:xt}=Z.current,wn={id:Je};xt==null||xt(wn),N({type:"onDragAbort",event:wn})},onPending(Je,tn,xt,wn){if(!$.get(Je))return;const{onDragPending:Pn}=Z.current,Yt={id:Je,constraint:tn,initialCoordinates:xt,offset:wn};Pn==null||Pn(Yt),N({type:"onDragPending",event:Yt})},onStart(Je){const tn=ae.current;if(tn==null)return;const xt=$.get(tn);if(!xt)return;const{onDragStart:wn}=Z.current,_n={activatorEvent:bt,active:{id:tn,data:xt.data,rect:V}};no.unstable_batchedUpdates(()=>{wn==null||wn(_n),D(Or.Initializing),E({type:ct.DragStart,initialCoordinates:Je,active:tn}),N({type:"onDragStart",event:_n}),fe(as.current),G(bt)})},onMove(Je){E({type:ct.DragMove,coordinates:Je})},onEnd:Vn(ct.DragEnd),onCancel:Vn(ct.DragCancel)});as.current=Lt;function Vn(Je){return async function(){const{active:xt,collisions:wn,over:_n,scrollAdjustedTranslate:Pn}=yt.current;let Yt=null;if(xt&&Pn){const{cancelDrop:qn}=Z.current;Yt={activatorEvent:bt,active:xt,collisions:wn,delta:Pn,over:_n},Je===ct.DragEnd&&typeof qn=="function"&&await Promise.resolve(qn(Yt))&&(Je=ct.DragCancel)}ae.current=null,no.unstable_batchedUpdates(()=>{E({type:Je}),D(Or.Uninitialized),Po(null),fe(null),G(null),as.current=null;const qn=Je===ct.DragEnd?"onDragEnd":"onDragCancel";if(Yt){const ds=Z.current[qn];ds==null||ds(Yt),N({type:qn,event:Yt})}})}}},[$]),ls=T.useCallback((Ge,wt)=>(_t,vn)=>{const Ot=_t.nativeEvent,bt=$.get(vn);if(ae.current!==null||!bt||Ot.dndKit||Ot.defaultPrevented)return;const Lt={active:bt};Ge(_t,wt.options,Lt)===!0&&(Ot.dndKit={capturedBy:wt.sensor},ae.current=vn,fi(_t,wt))},[$,fi]),pi=cE(p,ls);yE(p),jn(()=>{De&&O===Or.Initializing&&D(Or.Initialized)},[De,O]),T.useEffect(()=>{const{onDragMove:Ge}=Z.current,{active:wt,activatorEvent:_t,collisions:vn,over:Ot}=yt.current;if(!wt||!_t)return;const bt={active:wt,activatorEvent:_t,collisions:vn,delta:{x:Rn.x,y:Rn.y},over:Ot};no.unstable_batchedUpdates(()=>{Ge==null||Ge(bt),N({type:"onDragMove",event:bt})})},[Rn.x,Rn.y]),T.useEffect(()=>{const{active:Ge,activatorEvent:wt,collisions:_t,droppableContainers:vn,scrollAdjustedTranslate:Ot}=yt.current;if(!Ge||ae.current==null||!wt||!Ot)return;const{onDragOver:bt}=Z.current,Lt=vn.get(cr),Vn=Lt&&Lt.rect.current?{id:Lt.id,rect:Lt.rect.current,data:Lt.data,disabled:Lt.disabled}:null,Je={active:Ge,activatorEvent:wt,collisions:_t,delta:{x:Ot.x,y:Ot.y},over:Vn};no.unstable_batchedUpdates(()=>{Po(Vn),bt==null||bt(Je),N({type:"onDragOver",event:Je})})},[cr]),jn(()=>{yt.current={activatorEvent:le,active:ne,activeNode:he,collisionRect:yn,collisions:lr,droppableRects:me,draggableNodes:$,draggingNode:ee,draggingNodeRect:_e,droppableContainers:F,over:It,scrollableAncestors:Oe,scrollAdjustedTranslate:Rn},V.current={initial:_e,translated:yn}},[ne,he,lr,yn,$,ee,_e,me,F,It,Oe,Rn]),sE({...Ee,delta:L,draggingRect:yn,pointerCoordinates:On,scrollableAncestors:Oe,scrollableAncestorRects:nt});const cs=T.useMemo(()=>({active:ne,activeNode:he,activeNodeRect:De,activatorEvent:le,collisions:lr,containerNodeRect:mn,dragOverlay:q,draggableNodes:$,droppableContainers:F,droppableRects:me,over:It,measureDroppableContainers:de,scrollableAncestors:Oe,scrollableAncestorRects:nt,measuringConfiguration:Q,measuringScheduled:Te,windowRect:we}),[ne,he,De,le,lr,mn,q,$,F,me,It,de,Oe,nt,Q,Te,we]),us=T.useMemo(()=>({activatorEvent:le,activators:pi,active:ne,activeNodeRect:De,ariaDescribedById:{draggable:R},dispatch:E,draggableNodes:$,over:It,measureDroppableContainers:de}),[le,pi,ne,De,E,R,$,It,de]);return Ye.createElement(Ky.Provider,{value:j},Ye.createElement(No.Provider,{value:us},Ye.createElement(uv.Provider,{value:cs},Ye.createElement(Gl.Provider,{value:Ao},h)),Ye.createElement(TE,{disabled:(c==null?void 0:c.restoreFocus)===!1})),Ye.createElement(Pk,{...c,hiddenTextDescribedById:R}));function ur(){const Ge=(oe==null?void 0:oe.autoScrollEnabled)===!1,wt=typeof d=="object"?d.enabled===!1:d===!1,_t=I&&!Ge&&!wt;return typeof d=="object"?{...d,enabled:_t}:{enabled:_t}}}),NE=T.createContext(null),_m="button",OE="Draggable";function th(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const a=jo(OE),{activators:l,activatorEvent:c,active:d,activeNodeRect:h,ariaDescribedById:p,draggableNodes:y,over:v}=T.useContext(No),{role:_=_m,roleDescription:b="draggable",tabIndex:S=0}=s??{},x=(d==null?void 0:d.id)===e,E=T.useContext(x?Gl:NE),[N,j]=Nl(),[O,D]=Nl(),I=vE(l,e),P=_o(t);jn(()=>(y.set(e,{id:e,key:a,node:N,activatorNode:O,data:P}),()=>{const L=y.get(e);L&&L.key===a&&y.delete(e)}),[y,e]);const $=T.useMemo(()=>({role:_,tabIndex:S,"aria-disabled":r,"aria-pressed":x&&_===_m?!0:void 0,"aria-roledescription":b,"aria-describedby":p.draggable}),[r,_,S,x,b,p.draggable]);return{active:d,activatorEvent:c,activeNodeRect:h,attributes:$,isDragging:x,listeners:r?void 0:I,node:N,over:v,setNodeRef:j,setActivatorNodeRef:D,transform:E}}function fv(){return T.useContext(uv)}const RE="Droppable",PE={timeout:25};function pv(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const a=jo(RE),{active:l,dispatch:c,over:d,measureDroppableContainers:h}=T.useContext(No),p=T.useRef({disabled:t}),y=T.useRef(!1),v=T.useRef(null),_=T.useRef(null),{disabled:b,updateMeasurementsFor:S,timeout:x}={...PE,...s},E=_o(S??r),N=T.useCallback(()=>{if(!y.current){y.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{h(Array.isArray(E.current)?E.current:[E.current]),_.current=null},x)},[x]),j=Yl({callback:N,disabled:b||!l}),O=T.useCallback(($,L)=>{j&&(L&&(j.unobserve(L),y.current=!1),$&&j.observe($))},[j]),[D,I]=Nl(O),P=_o(e);return T.useEffect(()=>{!j||!D.current||(j.disconnect(),y.current=!1,j.observe(D.current))},[D,j]),T.useEffect(()=>(c({type:ct.RegisterDroppable,element:{id:r,key:a,disabled:t,node:D,rect:v,data:P}}),()=>c({type:ct.UnregisterDroppable,key:a,id:r})),[r]),T.useEffect(()=>{t!==p.current.disabled&&(c({type:ct.SetDroppableDisabled,id:r,key:a,disabled:t}),p.current.disabled=t)},[r,a,t,c]),{active:l,rect:v,isOver:(d==null?void 0:d.id)===r,node:D,over:d,setNodeRef:I}}function DE(n){let{animation:e,children:t}=n;const[r,s]=T.useState(null),[a,l]=T.useState(null),c=Ol(t);return!t&&!r&&c&&s(c),jn(()=>{if(!a)return;const d=r==null?void 0:r.key,h=r==null?void 0:r.props.id;if(d==null||h==null){s(null);return}Promise.resolve(e(h,a)).then(()=>{s(null)})},[e,r,a]),Ye.createElement(Ye.Fragment,null,t,r?T.cloneElement(r,{ref:l}):null)}const AE={x:0,y:0,scaleX:1,scaleY:1};function ME(n){let{children:e}=n;return Ye.createElement(No.Provider,{value:cv},Ye.createElement(Gl.Provider,{value:AE},e))}const IE={position:"fixed",touchAction:"none"},LE=n=>ql(n)?"transform 250ms ease":void 0,$E=T.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:s,children:a,className:l,rect:c,style:d,transform:h,transition:p=LE}=n;if(!c)return null;const y=s?h:{...h,scaleX:1,scaleY:1},v={...IE,width:c.width,height:c.height,top:c.top,left:c.left,transform:Hn.Transform.toString(y),transformOrigin:s&&r?Dk(r,c):void 0,transition:typeof p=="function"?p(r):p,...d};return Ye.createElement(t,{className:l,style:v,ref:e},a)}),FE=n=>e=>{let{active:t,dragOverlay:r}=e;const s={},{styles:a,className:l}=n;if(a!=null&&a.active)for(const[c,d]of Object.entries(a.active))d!==void 0&&(s[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,d));if(a!=null&&a.dragOverlay)for(const[c,d]of Object.entries(a.dragOverlay))d!==void 0&&r.node.style.setProperty(c,d);return l!=null&&l.active&&t.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[d,h]of Object.entries(s))t.node.style.setProperty(d,h);l!=null&&l.active&&t.node.classList.remove(l.active)}},zE=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Hn.Transform.toString(e)},{transform:Hn.Transform.toString(t)}]},BE={duration:250,easing:"ease",keyframes:zE,sideEffects:FE({styles:{active:{opacity:"0"}}})};function UE(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:s}=n;return Vl((a,l)=>{if(e===null)return;const c=t.get(a);if(!c)return;const d=c.node.current;if(!d)return;const h=lv(l);if(!h)return;const{transform:p}=At(l).getComputedStyle(l),y=Xy(p);if(!y)return;const v=typeof e=="function"?e:HE(e);return iv(d,s.draggable.measure),v({active:{id:a,data:c.data,node:d,rect:s.draggable.measure(d)},draggableNodes:t,dragOverlay:{node:l,rect:s.dragOverlay.measure(h)},droppableContainers:r,measuringConfiguration:s,transform:y})})}function HE(n){const{duration:e,easing:t,sideEffects:r,keyframes:s}={...BE,...n};return a=>{let{active:l,dragOverlay:c,transform:d,...h}=a;if(!e)return;const p={x:c.rect.left-l.rect.left,y:c.rect.top-l.rect.top},y={scaleX:d.scaleX!==1?l.rect.width*d.scaleX/c.rect.width:1,scaleY:d.scaleY!==1?l.rect.height*d.scaleY/c.rect.height:1},v={x:d.x-p.x,y:d.y-p.y,...y},_=s({...h,active:l,dragOverlay:c,transform:{initial:d,final:v}}),[b]=_,S=_[_.length-1];if(JSON.stringify(b)===JSON.stringify(S))return;const x=r==null?void 0:r({active:l,dragOverlay:c,...h}),E=c.node.animate(_,{duration:e,easing:t,fill:"forwards"});return new Promise(N=>{E.onfinish=()=>{x==null||x(),N()}})}}let bm=0;function WE(n){return T.useMemo(()=>{if(n!=null)return bm++,bm},[n])}const VE=Ye.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:s,transition:a,modifiers:l,wrapperElement:c="div",className:d,zIndex:h=999}=n;const{activatorEvent:p,active:y,activeNodeRect:v,containerNodeRect:_,draggableNodes:b,droppableContainers:S,dragOverlay:x,over:E,measuringConfiguration:N,scrollableAncestors:j,scrollableAncestorRects:O,windowRect:D}=fv(),I=T.useContext(Gl),P=WE(y==null?void 0:y.id),$=dv(l,{activatorEvent:p,active:y,activeNodeRect:v,containerNodeRect:_,draggingNodeRect:x.rect,over:E,overlayNodeRect:x.rect,scrollableAncestors:j,scrollableAncestorRects:O,transform:I,windowRect:D}),L=eh(v),F=UE({config:r,draggableNodes:b,droppableContainers:S,measuringConfiguration:N}),B=L?x.setRef:void 0;return Ye.createElement(ME,null,Ye.createElement(DE,{animation:F},y&&P?Ye.createElement($E,{key:P,id:y.id,ref:B,as:c,activatorEvent:p,adjustScale:e,className:d,transition:a,rect:L,style:{zIndex:h,...s},transform:$},t):null))});function nh(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function qE(n,e){return n.reduce((t,r,s)=>{const a=e.get(r);return a&&(t[s]=a),t},Array(n.length))}function nl(n){return n!==null&&n>=0}function KE(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function YE(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const gv=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const a=nh(e,r,t),l=e[s],c=a[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},rl={scaleX:1,scaleY:1},GE=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:s,rects:a,overIndex:l}=n;const c=(e=a[t])!=null?e:r;if(!c)return null;if(s===t){const h=a[l];return h?{x:0,y:t<l?h.top+h.height-(c.top+c.height):h.top-c.top,...rl}:null}const d=JE(a,s,t);return s>t&&s<=l?{x:0,y:-c.height-d,...rl}:s<t&&s>=l?{x:0,y:c.height+d,...rl}:{x:0,y:0,...rl}};function JE(n,e,t){const r=n[e],s=n[e-1],a=n[e+1];return r?t<e?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const mv="Sortable",yv=Ye.createContext({activeIndex:-1,containerId:mv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:gv,disabled:{draggable:!1,droppable:!1}});function XE(n){let{children:e,id:t,items:r,strategy:s=gv,disabled:a=!1}=n;const{active:l,dragOverlay:c,droppableRects:d,over:h,measureDroppableContainers:p}=fv(),y=jo(mv,t),v=c.rect!==null,_=T.useMemo(()=>r.map(I=>typeof I=="object"&&"id"in I?I.id:I),[r]),b=l!=null,S=l?_.indexOf(l.id):-1,x=h?_.indexOf(h.id):-1,E=T.useRef(_),N=!KE(_,E.current),j=x!==-1&&S===-1||N,O=YE(a);jn(()=>{N&&b&&p(_)},[N,_,b,p]),T.useEffect(()=>{E.current=_},[_]);const D=T.useMemo(()=>({activeIndex:S,containerId:y,disabled:O,disableTransforms:j,items:_,overIndex:x,useDragOverlay:v,sortedRects:qE(_,d),strategy:s}),[S,y,O.draggable,O.droppable,j,_,x,d,v,s]);return Ye.createElement(yv.Provider,{value:D},e)}const QE=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return nh(t,r,s).indexOf(e)},ZE=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:a,newIndex:l,previousItems:c,previousContainerId:d,transition:h}=n;return!h||!r||c!==a&&s===l?!1:t?!0:l!==s&&e===d},e1={duration:200,easing:"ease"},vv="transform",t1=Hn.Transition.toString({property:vv,duration:0,easing:"linear"}),n1={roleDescription:"sortable"};function r1(n){let{disabled:e,index:t,node:r,rect:s}=n;const[a,l]=T.useState(null),c=T.useRef(t);return jn(()=>{if(!e&&t!==c.current&&r.current){const d=s.current;if(d){const h=is(r.current,{ignoreTransform:!0}),p={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(p.x||p.y)&&l(p)}}t!==c.current&&(c.current=t)},[e,t,r,s]),T.useEffect(()=>{a&&l(null)},[a]),a}function i1(n){let{animateLayoutChanges:e=ZE,attributes:t,disabled:r,data:s,getNewIndex:a=QE,id:l,strategy:c,resizeObserverConfig:d,transition:h=e1}=n;const{items:p,containerId:y,activeIndex:v,disabled:_,disableTransforms:b,sortedRects:S,overIndex:x,useDragOverlay:E,strategy:N}=T.useContext(yv),j=s1(r,_),O=p.indexOf(l),D=T.useMemo(()=>({sortable:{containerId:y,index:O,items:p},...s}),[y,s,O,p]),I=T.useMemo(()=>p.slice(p.indexOf(l)),[p,l]),{rect:P,node:$,isOver:L,setNodeRef:F}=pv({id:l,data:D,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...d}}),{active:B,activatorEvent:V,activeNodeRect:ne,attributes:ae,setNodeRef:oe,listeners:fe,isDragging:le,over:G,setActivatorNodeRef:Z,transform:R}=th({id:l,data:D,attributes:{...n1,...t},disabled:j.draggable}),W=wk(F,oe),Q=!!B,me=Q&&!b&&nl(v)&&nl(x),de=!E&&le,Te=de&&me?R:null,je=me?Te??(c??N)({rects:S,activeNodeRect:ne,activeIndex:v,overIndex:x,index:O}):null,Ee=nl(v)&&nl(x)?a({id:l,items:p,activeIndex:v,overIndex:x}):O,ze=B==null?void 0:B.id,De=T.useRef({activeId:ze,items:p,newIndex:Ee,containerId:y}),mn=p!==De.current.items,yt=e({active:B,containerId:y,isDragging:le,isSorting:Q,id:l,index:O,items:p,newIndex:De.current.newIndex,previousItems:De.current.items,previousContainerId:De.current.containerId,transition:h,wasDragging:De.current.activeId!=null}),Mt=r1({disabled:!yt,index:O,node:$,rect:P});return T.useEffect(()=>{Q&&De.current.newIndex!==Ee&&(De.current.newIndex=Ee),y!==De.current.containerId&&(De.current.containerId=y),p!==De.current.items&&(De.current.items=p)},[Q,Ee,y,p]),T.useEffect(()=>{if(ze===De.current.activeId)return;if(ze!=null&&De.current.activeId==null){De.current.activeId=ze;return}const ee=setTimeout(()=>{De.current.activeId=ze},50);return()=>clearTimeout(ee)},[ze]),{active:B,activeIndex:v,attributes:ae,data:D,rect:P,index:O,newIndex:Ee,items:p,isOver:L,isSorting:Q,isDragging:le,listeners:fe,node:$,overIndex:x,over:G,setNodeRef:W,setActivatorNodeRef:Z,setDroppableNodeRef:F,setDraggableNodeRef:oe,transform:Mt??je,transition:q()};function q(){if(Mt||mn&&De.current.newIndex===O)return t1;if(!(de&&!ql(V)||!h)&&(Q||yt))return Hn.Transition.toString({...h,property:vv})}}function s1(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}Me.Down,Me.Right,Me.Up,Me.Left;const o1=7,ro=60,xm=n=>new Date(n.getFullYear(),n.getMonth(),n.getDate()),Sm=n=>`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,a1=n=>n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),l1=n=>{if(n.dueTime){const[e,t]=n.dueTime.split(":").map(Number),r=new Date;return r.setHours(e,t,0,0),r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}return n.scheduledStart?new Date(n.scheduledStart).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):"All day"},c1=n=>{if(n.dueDate){const[e,t,r]=n.dueDate.split("-").map(Number);return new Date(e,t-1,r)}return n.scheduledStart?new Date(n.scheduledStart):null},u1=n=>{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r)},d1=(n,e)=>{const t=new Date(n.getTime()+e*6e4),r=s=>s.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return`${r(n)}  ${r(t)}`},h1=n=>{if(!n)return"09:00";const e=new Date(n);return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},f1=({tasks:n,onToggleComplete:e,onDeleteTask:t,onAddTask:r,onUpdateTask:s,onFocus:a,onReorderDay:l})=>{var O,D,I,P;const c=xm(new Date),d=new Date(c);d.setDate(d.getDate()+1);const h=T.useMemo(()=>Array.from({length:o1},($,L)=>{const F=new Date(d);return F.setDate(F.getDate()+L),{key:Sm(F),date:F,display:a1(F)}}),[d]),[p,y]=T.useState(((O=h[0])==null?void 0:O.key)||""),[v,_]=T.useState(""),b=T.useRef(null),S=Gy(Yy(Kl,{activationConstraint:{distance:8}})),E=T.useMemo(()=>{const $={};return n.forEach(L=>{const F=c1(L);if(!F)return;const B=xm(F);if(B<d)return;const V=Sm(B);$[V]||($[V]=[]),$[V].push(L)}),Object.keys($).forEach(L=>{$[L]=$[L].slice().sort((F,B)=>F.scheduledStart&&B.scheduledStart?new Date(F.scheduledStart).getTime()-new Date(B.scheduledStart).getTime():F.scheduledStart?-1:B.scheduledStart?1:(F.sortOrder||0)-(B.sortOrder||0))}),$},[n,d])[p]||[];T.useEffect(()=>{h.length!==0&&(h.some($=>$.key===p)||y(h[0].key))},[h,p]),T.useEffect(()=>{if(!b.current)return;const $=b.current.querySelector(`[data-day-key="${p}"]`);$==null||$.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},[p]),T.useEffect(()=>{const $=L=>{const F=L.target;if(!F)return;const B=F.tagName.toLowerCase();B==="input"||B==="textarea"||F.isContentEditable||(L.key==="ArrowLeft"?(L.preventDefault(),j(h.findIndex(V=>V.key===p)-1)):L.key==="ArrowRight"&&(L.preventDefault(),j(h.findIndex(V=>V.key===p)+1)))};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[h,p]);const N=$=>{$.preventDefault(),v.trim()&&(r({text:v.trim(),dueDate:p,sortOrder:E.length}),_(""))},j=$=>{const L=Math.min(Math.max($,0),h.length-1);y(h[L].key)};return m.jsxs("div",{className:"upcoming-view",children:[m.jsx("div",{className:"upcoming-header",children:m.jsxs("div",{children:[m.jsx("h2",{children:"Upcoming"}),m.jsx("p",{children:"Tap a day to review and plan the week ahead."})]})}),m.jsxs("div",{className:"upcoming-nav-wrapper",children:[m.jsx("button",{type:"button",className:"nav-arrow",onClick:()=>j(h.findIndex($=>$.key===p)-1),disabled:p===((D=h[0])==null?void 0:D.key),children:""}),m.jsx("div",{className:"upcoming-nav",ref:b,children:h.map($=>m.jsxs("button",{className:`upcoming-nav-item ${p===$.key?"selected":""}`,type:"button","data-day-key":$.key,onClick:()=>y($.key),children:[m.jsx("span",{className:"upcoming-nav-weekday",children:$.date.toLocaleDateString("en-US",{weekday:"short"})}),m.jsx("span",{className:"upcoming-nav-date",children:$.date.getDate()})]},$.key))}),m.jsx("button",{type:"button",className:"nav-arrow",onClick:()=>j(h.findIndex($=>$.key===p)+1),disabled:p===((I=h[h.length-1])==null?void 0:I.key),children:""})]}),m.jsx(p1,{dayKey:p,display:((P=h.find($=>$.key===p))==null?void 0:P.display)||"",tasks:E,onToggleComplete:e,onDeleteTask:t,onFocus:a,composerValue:v,onComposerChange:_,onAddTask:N,sensors:S,onUpdateTask:s,onReorder:l})]})},p1=({dayKey:n,display:e,tasks:t,composerValue:r,onComposerChange:s,onAddTask:a,onToggleComplete:l,onDeleteTask:c,sensors:d,onReorder:h,onUpdateTask:p,onFocus:y})=>{const v=t.filter(F=>!!F.scheduledStart),_=t.filter(F=>!F.scheduledStart),b=_.map(F=>`unscheduled-task-${F.id}`),[S,x]=T.useState(null),[E,N]=T.useState("09:00"),[j,O]=T.useState(String(ro)),D=F=>{x(F),N(h1(F.scheduledStart)),O(String(F.scheduledDuration||ro))},I=()=>{x(null),N("09:00"),O(String(ro))},P=F=>{if(F.preventDefault(),!S)return;const B=E&&E.includes(":")?E:"09:00",[V,ne]=B.split(":").map(Number);if(Number.isNaN(V)||Number.isNaN(ne))return;const ae=u1(n);ae.setHours(V,ne,0,0);const oe=Math.max(15,parseInt(j,10)||ro);p(S.id,{scheduledStart:ae.toISOString(),scheduledDuration:oe,dueDate:n}),I()},$=F=>{p(F.id,{scheduledStart:void 0,scheduledDuration:void 0,dueDate:n})},L=F=>{const{active:B,over:V}=F;if(!V||B.id===V.id)return;const ne=String(B.id),ae=String(V.id);if(b.includes(ne)&&b.includes(ae)){const oe=b.indexOf(ne),fe=b.indexOf(ae);if(oe!==-1&&fe!==-1&&oe!==fe){const le=nh(b,oe,fe).map(G=>Number(G.replace("unscheduled-task-","")));h(n,le)}}};return m.jsxs("div",{className:"upcoming-day-panel",children:[m.jsx("div",{className:"upcoming-day-title",children:e}),m.jsxs("section",{className:"scheduled-section",children:[m.jsxs("div",{className:"scheduled-section-header",children:[m.jsxs("div",{children:[m.jsx("h4",{children:"Time blocks"}),m.jsx("p",{children:"All scheduled tasks for this day."})]}),m.jsx("span",{className:"scheduled-count",children:v.length})]}),v.length===0?m.jsx("div",{className:"upcoming-day-empty",children:m.jsx("p",{children:"No time blocks yet. Add one from below."})}):m.jsx("div",{className:"scheduled-list",children:v.map(F=>m.jsx(g1,{task:F,onToggleComplete:l,onDeleteTask:c,onFocus:y,onEdit:()=>D(F),onUnschedule:()=>$(F)},F.id))})]}),m.jsxs("section",{className:"upcoming-unscheduled",children:[m.jsx("div",{className:"unscheduled-header",children:m.jsxs("div",{children:[m.jsx("h4",{children:"Unscheduled"}),m.jsx("p",{children:"Keep tasks here until you assign a time block."})]})}),m.jsx(hv,{sensors:d,onDragEnd:L,children:m.jsx(XE,{items:b,strategy:GE,children:_.length===0?m.jsx("div",{className:"upcoming-day-empty",children:m.jsx("p",{children:"Everything for this day is scheduled. "})}):m.jsx("div",{className:"unscheduled-list",children:_.map(F=>m.jsx(m1,{task:F,onToggleComplete:l,onDeleteTask:c,onFocus:y,onSchedule:()=>D(F)},F.id))})})})]}),S&&m.jsx("div",{className:"time-block-editor-overlay",onClick:I,children:m.jsxs("form",{className:"time-block-editor",onSubmit:P,onClick:F=>F.stopPropagation(),children:[m.jsxs("div",{className:"editor-header",children:[m.jsxs("div",{children:[m.jsx("p",{className:"editor-label",children:"Scheduling"}),m.jsx("h5",{children:S.text})]}),m.jsx("button",{className:"editor-cancel",type:"button",onClick:I,children:""})]}),m.jsxs("div",{className:"editor-fields",children:[m.jsxs("div",{className:"editor-field",children:[m.jsx("label",{htmlFor:"upcoming-time-picker",children:"Start time"}),m.jsx(Rd,{selectedTime:E,onSelectTime:F=>N(F||"")})]}),m.jsxs("div",{className:"editor-field",children:[m.jsx("label",{htmlFor:"upcoming-duration-input",children:"Duration (minutes)"}),m.jsx("input",{id:"upcoming-duration-input",type:"number",min:15,step:15,value:j,onChange:F=>O(F.target.value)})]})]}),m.jsxs("div",{className:"editor-actions",children:[m.jsx("button",{type:"submit",children:"Save block"}),m.jsx("button",{type:"button",onClick:I,children:"Cancel"})]})]})}),m.jsxs("form",{className:"upcoming-add-form",onSubmit:a,children:[m.jsx("input",{type:"text",placeholder:"Add task",value:r,onChange:F=>s(F.target.value)}),m.jsxs("div",{className:"upcoming-add-actions",children:[m.jsx("button",{type:"submit",children:"Add"}),m.jsx("button",{type:"button",onClick:()=>s(""),children:"Clear"})]})]})]})},g1=({task:n,onToggleComplete:e,onDeleteTask:t,onFocus:r,onEdit:s,onUnschedule:a})=>{if(!n.scheduledStart)return null;const l=new Date(n.scheduledStart),c=d1(l,n.scheduledDuration||ro);return m.jsxs("div",{className:"scheduled-card",children:[m.jsxs("div",{className:"scheduled-card-info",children:[m.jsx("span",{className:"time-badge",children:c}),m.jsxs("div",{children:[m.jsx("p",{className:"scheduled-card-title",children:n.text}),m.jsxs("div",{className:"scheduled-card-meta",children:[m.jsx("span",{className:`priority-chip priority-${n.priority}`,children:n.priority.toUpperCase()}),n.category&&m.jsx("span",{className:"category-chip",children:n.category}),n.scheduledDuration&&m.jsxs("span",{className:"duration-chip",children:[n.scheduledDuration," min"]})]})]})]}),m.jsxs("div",{className:"scheduled-card-actions",children:[r&&!n.completed&&m.jsx("button",{className:"scheduled-card-btn",type:"button",onClick:()=>r(n),title:"Focus mode",children:""}),m.jsx("button",{className:"scheduled-card-btn",type:"button",title:n.completed?"Mark incomplete":"Mark complete",onClick:()=>e(n.id),children:n.completed?"":""}),m.jsx("button",{className:"scheduled-card-btn",type:"button",onClick:s,title:"Edit time block",children:""}),m.jsx("button",{className:"scheduled-card-btn",type:"button",onClick:a,title:"Unassign time",children:""}),m.jsx("button",{className:"scheduled-card-btn danger",type:"button",onClick:()=>t(n.id),title:"Delete task",children:""})]})]})},m1=({task:n,onToggleComplete:e,onDeleteTask:t,onSchedule:r,onFocus:s})=>{const{attributes:a,listeners:l,setNodeRef:c,transform:d,transition:h,isDragging:p}=i1({id:`unscheduled-task-${n.id}`,data:{task:n,source:"unscheduled"}}),y={transform:Hn.Transform.toString(d),transition:h};return m.jsxs("div",{className:`upcoming-task unscheduled ${p?"dragging":""}`,ref:c,style:y,...a,...l,children:[m.jsx("div",{className:"upcoming-task-time",children:l1(n)}),m.jsxs("div",{className:"upcoming-task-card",children:[m.jsxs("div",{className:"upcoming-task-header",children:[m.jsx("span",{className:"upcoming-task-title",children:n.text}),m.jsxs("div",{className:"upcoming-task-actions",children:[s&&!n.completed&&m.jsx("button",{className:"upcoming-task-btn",onClick:()=>s(n),title:"Focus mode",type:"button",children:""}),m.jsx("button",{className:"upcoming-task-btn",onClick:()=>e(n.id),title:n.completed?"Mark incomplete":"Mark complete",type:"button",children:n.completed?"":""}),m.jsx("button",{className:"upcoming-task-btn",onClick:r,title:"Assign time block",type:"button",children:""}),m.jsx("button",{className:"upcoming-task-btn danger",onClick:()=>t(n.id),title:"Delete",type:"button",children:""})]})]}),m.jsxs("div",{className:"upcoming-task-meta",children:[m.jsx("span",{className:`priority-chip priority-${n.priority}`,children:n.priority.toUpperCase()}),n.category&&m.jsx("span",{className:"category-chip",children:n.category}),!n.scheduledStart&&m.jsx("span",{className:"unscheduled-flag",children:"Unscheduled"})]})]})]})};function y1({onComplete:n,addTask:e}){const[t,r]=T.useState(["","",""]),s=["Do laundry","Plan a trip to...","Call back...","Buy birthday gift for...","Schedule dentist appointment","Prepare weekly meal plan","Review monthly budget","Organize workspace"],a=(h,p)=>{const y=[...t];y[h]=p,r(y)},l=h=>{const p=t.findIndex(y=>y==="");if(p!==-1){const y=[...t];y[p]=h,r(y)}},c=()=>{t.forEach(h=>{h.trim()&&e({text:h.trim(),priority:"medium",dueDate:"",dueTime:"",category:"",reminderMinutes:null})}),localStorage.setItem("hasCompletedOnboarding","true"),n()},d=()=>{localStorage.setItem("hasCompletedOnboarding","true"),n()};return m.jsx("div",{className:"onboarding-overlay",children:m.jsxs("div",{className:"onboarding-container",children:[m.jsx("button",{className:"skip-button",onClick:d,children:"Skip"}),m.jsx("h1",{className:"onboarding-title",children:"Add your first tasks"}),m.jsx("div",{className:"onboarding-inputs",children:t.map((h,p)=>m.jsx("input",{type:"text",className:`onboarding-input ${p===0?"focused":""}`,placeholder:p===0?"Do laundry":p===1?"Plan a trip to":"Call back",value:h,onChange:y=>a(p,y.target.value)},p))}),m.jsx("div",{className:"suggested-tasks",children:s.slice(0,4).map((h,p)=>m.jsxs("button",{className:"suggested-task-btn",onClick:()=>l(h),children:[m.jsx("span",{className:"plus-icon",children:"+"}),h]},p))}),m.jsx("button",{className:"continue-button",onClick:c,children:"Continue"})]})})}const gd=[{text:"Inspiration is perishable - act on it immediately.",category:"productivity"},{text:"The most important trick to be happy is to realize happiness is a skill you develop and a choice you make.",category:"productivity"},{text:"Specific knowledge is found by pursuing your genuine curiosity.",category:"productivity"},{text:"Play iterated games. All the returns in life come from compound interest over many turns of the game.",category:"productivity"},{text:"Clear thinker  Clear speaker  Clear writer.",category:"productivity"},{text:"Earn with your mind, not your time.",category:"productivity"},{text:"You're not going to get rich renting out your time.",category:"time"},{text:"Set and enforce an aspirational personal hourly rate.",category:"time"},{text:"Ruthlessly decline meetings. Not trying to be rude, optimizing time.",category:"time"},{text:"The direction you're heading in matters more than how fast you move.",category:"time"},{text:"Impatience with actions, patience with results.",category:"time"},{text:"If you can't decide, the answer is no.",category:"time"},{text:"All the benefits in life come from compound interest.",category:"completion"},{text:"The best jobs are neither decreed nor degreed. They are creative expressions of continuous learners.",category:"completion"},{text:"A calm mind, a fit body, a house full of love. These things cannot be bought - they must be earned.",category:"completion"},{text:"The genuine love for reading itself is a superpower.",category:"completion"},{text:"The modern devil is cheap dopamine.",category:"completion"},{text:"Sophistication is removing the unnecessary.",category:"completion"},{text:"Intentions don't matter. Actions do. That's why being ethical is hard.",category:"focus"},{text:"The ability to singularly focus is related to the ability to lose yourself and be present.",category:"focus"},{text:"Meditation is intermittent fasting for the mind.",category:"focus"},{text:"A busy mind accelerates the passage of time. A calm mind slows it down.",category:"focus"},{text:"It's only after you're bored that you have great ideas.",category:"focus"},{text:"Doctors won't make you healthy. Nutritionists won't make you slim. Teachers won't make you smart. Gurus won't make you calm. Mentors won't make you rich. Trainers won't make you fit. Ultimately, you have to take responsibility.",category:"focus"},{text:"Seek wealth, not money or status. Wealth is assets that earn while you sleep.",category:"wisdom"},{text:"Reading is faster than listening. Doing is faster than watching.",category:"wisdom"},{text:"The three big ones in life are wealth, health, and happiness. We pursue them in that order, but their importance is reverse.",category:"wisdom"},{text:"If you can't see yourself working with someone for life, don't work with them for a day.",category:"wisdom"},{text:"Retirement is when you stop sacrificing today for an imaginary tomorrow.",category:"wisdom"},{text:"The best relationships are peer relationships.",category:"wisdom"},{text:"You make your own luck if you stay at it long enough.",category:"wisdom"},{text:"Peace is happiness at rest. Happiness is peace in motion.",category:"wisdom"},{text:"Easy choices, hard life. Hard choices, easy life.",category:"wisdom"},{text:"The measure of wealth is freedom.",category:"wisdom"}],v1=n=>{const e=gd.filter(r=>r.category===n),t=Math.floor(Math.random()*e.length);return e[t].text},w1=()=>{const n=Math.floor(Math.random()*gd.length);return gd[n].text};function _1({userName:n}){const[e,t]=T.useState(""),[r,s]=T.useState("");T.useEffect(()=>{const l=()=>{const d=new Date().getHours();let h="";d>=5&&d<12?h="Good Morning":d>=12&&d<17?h="Good Afternoon":d>=17&&d<22?h="Good Evening":h="Good Night",t(h)};l(),s(w1());const c=setInterval(l,6e4);return()=>clearInterval(c)},[]);const a=n||"STEVE ARMSTRONG";return m.jsxs("div",{className:"greeting-section",children:[m.jsxs("h1",{className:"greeting-text",children:[e,", ",a]}),m.jsx("p",{className:"motivational-quote",children:r})]})}var md=function(n,e){return md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},md(n,e)};function wv(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");md(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ml=function(){return Ml=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ml.apply(this,arguments)};function ss(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function _v(n,e,t,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(l=n[c])&&(a=(s<3?l(a):s>3?l(e,t,a):l(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}function bv(n,e){return function(t,r){e(t,r,n)}}function xv(n,e,t,r,s,a){function l(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",h=!e&&n?r.static?n:n.prototype:null,p=e||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),y,v=!1,_=t.length-1;_>=0;_--){var b={};for(var S in r)b[S]=S==="access"?{}:r[S];for(var S in r.access)b.access[S]=r.access[S];b.addInitializer=function(E){if(v)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(E||null))};var x=(0,t[_])(c==="accessor"?{get:p.get,set:p.set}:p[d],b);if(c==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(y=l(x.get))&&(p.get=y),(y=l(x.set))&&(p.set=y),(y=l(x.init))&&s.unshift(y)}else(y=l(x))&&(c==="field"?s.unshift(y):p[d]=y)}h&&Object.defineProperty(h,r.name,p),v=!0}function Sv(n,e,t){for(var r=arguments.length>2,s=0;s<e.length;s++)t=r?e[s].call(n,t):e[s].call(n);return r?t:void 0}function kv(n){return typeof n=="symbol"?n:"".concat(n)}function Ev(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Tv(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ue(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})}function Cv(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(p){return d([h,p])}}function d(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(r=1,s&&(a=h[0]&2?s.return:h[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,h[1])).done)return a;switch(s=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,s=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],s=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Jl=Object.create?(function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}):(function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]});function jv(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Jl(e,n,t)}function Il(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rh(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),s,a=[],l;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return a}function Nv(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(rh(arguments[e]));return n}function Ov(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var a=arguments[e],l=0,c=a.length;l<c;l++,s++)r[s]=a[l];return r}function Rv(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function Zi(n){return this instanceof Zi?(this.v=n,this):new Zi(n)}function Pv(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(_){return function(b){return Promise.resolve(b).then(_,y)}}function c(_,b){r[_]&&(s[_]=function(S){return new Promise(function(x,E){a.push([_,S,x,E])>1||d(_,S)})},b&&(s[_]=b(s[_])))}function d(_,b){try{h(r[_](b))}catch(S){v(a[0][3],S)}}function h(_){_.value instanceof Zi?Promise.resolve(_.value.v).then(p,y):v(a[0][2],_)}function p(_){d("next",_)}function y(_){d("throw",_)}function v(_,b){_(b),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Dv(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=n[s]?function(l){return(t=!t)?{value:Zi(n[s](l)),done:!1}:a?a(l):l}:a}}function Av(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Il=="function"?Il(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(l){return new Promise(function(c,d){l=n[a](l),s(c,d,l.done,l.value)})}}function s(a,l,c,d){Promise.resolve(d).then(function(h){a({value:h,done:c})},l)}}function Mv(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var b1=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},yd=function(n){return yd=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},yd(n)};function Iv(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=yd(n),r=0;r<t.length;r++)t[r]!=="default"&&Jl(e,n,t[r]);return b1(e,n),e}function Lv(n){return n&&n.__esModule?n:{default:n}}function $v(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Fv(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t}function zv(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Bv(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}var x1=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Uv(n){function e(a){n.error=n.hasError?new x1(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var t,r=0;function s(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(s);if(t.dispose){var a=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(a).then(s,function(l){return e(l),s()})}else r|=1}catch(l){e(l)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return s()}function Hv(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,s,a,l){return r?e?".jsx":".js":s&&(!a||!l)?t:s+a+"."+l.toLowerCase()+"js"}):n}const S1={__extends:wv,__assign:Ml,__rest:ss,__decorate:_v,__param:bv,__esDecorate:xv,__runInitializers:Sv,__propKey:kv,__setFunctionName:Ev,__metadata:Tv,__awaiter:ue,__generator:Cv,__createBinding:Jl,__exportStar:jv,__values:Il,__read:rh,__spread:Nv,__spreadArrays:Ov,__spreadArray:Rv,__await:Zi,__asyncGenerator:Pv,__asyncDelegator:Dv,__asyncValues:Av,__makeTemplateObject:Mv,__importStar:Iv,__importDefault:Lv,__classPrivateFieldGet:$v,__classPrivateFieldSet:Fv,__classPrivateFieldIn:zv,__addDisposableResource:Bv,__disposeResources:Uv,__rewriteRelativeImportExtension:Hv},k1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Bv,get __assign(){return Ml},__asyncDelegator:Dv,__asyncGenerator:Pv,__asyncValues:Av,__await:Zi,__awaiter:ue,__classPrivateFieldGet:$v,__classPrivateFieldIn:zv,__classPrivateFieldSet:Fv,__createBinding:Jl,__decorate:_v,__disposeResources:Uv,__esDecorate:xv,__exportStar:jv,__extends:wv,__generator:Cv,__importDefault:Lv,__importStar:Iv,__makeTemplateObject:Mv,__metadata:Tv,__param:bv,__propKey:kv,__read:rh,__rest:ss,__rewriteRelativeImportExtension:Hv,__runInitializers:Sv,__setFunctionName:Ev,__spread:Nv,__spreadArray:Rv,__spreadArrays:Ov,__values:Il,default:S1},Symbol.toStringTag,{value:"Module"})),E1=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class ih extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class T1 extends ih{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class km extends ih{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Em extends ih{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(vd||(vd={}));class C1{constructor(e,{headers:t={},customFetch:r,region:s=vd.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=E1(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ue(this,arguments,void 0,function*(t,r={}){var s;let a,l;try{const{headers:c,method:d,body:h,signal:p,timeout:y}=r;let v={},{region:_}=r;_||(_=this.region);const b=new URL(`${this.url}/${t}`);_&&_!=="any"&&(v["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let S;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(v["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(v["Content-Type"]="application/json",S=JSON.stringify(h)):S=h;let x=p;y&&(l=new AbortController,a=setTimeout(()=>l.abort(),y),p?(x=l.signal,p.addEventListener("abort",()=>l.abort())):x=l.signal);const E=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:S,signal:x}).catch(D=>{throw new T1(D)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new km(E);if(!E.ok)throw new Em(E);let j=((s=E.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return j==="application/json"?O=yield E.json():j==="application/octet-stream"||j==="application/pdf"?O=yield E.blob():j==="text/event-stream"?O=E:j==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(c){return{data:null,error:c,response:c instanceof Em||c instanceof km?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var Ct={};const os=l_(k1);var il={},sl={},ol={},al={},ll={},cl={},Tm;function Wv(){if(Tm)return cl;Tm=1,Object.defineProperty(cl,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return cl.default=n,cl}var Cm;function Vv(){if(Cm)return ll;Cm=1,Object.defineProperty(ll,"__esModule",{value:!0});const e=os.__importDefault(Wv());class t{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,y,v;let _=null,b=null,S=null,x=d.status,E=d.statusText;if(d.ok){if(this.method!=="HEAD"){const D=await d.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=D:b=JSON.parse(D))}const j=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),O=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");j&&O&&O.length>1&&(S=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,x=406,E="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const j=await d.text();try{_=JSON.parse(j),Array.isArray(_)&&d.status===404&&(b=[],_=null,x=200,E="OK")}catch{d.status===404&&j===""?(x=204,E="No Content"):_={message:j}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,x=200,E="OK"),_&&this.shouldThrowOnError)throw new e.default(_)}return{error:_,data:b,count:S,status:x,statusText:E}});return this.shouldThrowOnError||(c=c.catch(d=>{var h,p,y;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=d==null?void 0:d.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}}return ll.default=t,ll}var jm;function qv(){if(jm)return al;jm=1,Object.defineProperty(al,"__esModule",{value:!0});const e=os.__importDefault(Vv());class t extends e.default{select(s){let a=!1;const l=(s??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(h,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:h="text"}={}){var p;const y=[s?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${y};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return al.default=t,al}var Nm;function sh(){if(Nm)return ol;Nm=1,Object.defineProperty(ol,"__esModule",{value:!0});const e=os.__importDefault(qv()),t=new RegExp("[,()]");class r extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${h}fts${p}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return ol.default=r,ol}var Om;function Kv(){if(Om)return sl;Om=1,Object.defineProperty(sl,"__esModule",{value:!0});const e=os.__importDefault(sh());class t{constructor(s,{headers:a={},schema:l,fetch:c}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=c}select(s,a){const{head:l=!1,count:c}=a??{},d=l?"HEAD":"GET";let h=!1;const p=(s??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(h.length>0){const p=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:a}={}){var l;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var a;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return sl.default=t,sl}var Rm;function j1(){if(Rm)return il;Rm=1,Object.defineProperty(il,"__esModule",{value:!0});const n=os,e=n.__importDefault(Kv()),t=n.__importDefault(sh());class r{constructor(a,{headers:l={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:c=!1,get:d=!1,count:h}={}){var p;let y;const v=new URL(`${this.url}/rpc/${a}`);let _;c||d?(y=c?"HEAD":"GET",Object.entries(l).filter(([S,x])=>x!==void 0).map(([S,x])=>[S,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([S,x])=>{v.searchParams.append(S,x)})):(y="POST",_=l);const b=new Headers(this.headers);return h&&b.set("Prefer",`count=${h}`),new t.default({method:y,url:v,headers:b,schema:this.schemaName,body:_,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return il.default=r,il}var Pm;function N1(){if(Pm)return Ct;Pm=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const n=os,e=n.__importDefault(j1());Ct.PostgrestClient=e.default;const t=n.__importDefault(Kv());Ct.PostgrestQueryBuilder=t.default;const r=n.__importDefault(sh());Ct.PostgrestFilterBuilder=r.default;const s=n.__importDefault(qv());Ct.PostgrestTransformBuilder=s.default;const a=n.__importDefault(Vv());Ct.PostgrestBuilder=a.default;const l=n.__importDefault(Wv());return Ct.PostgrestError=l.default,Ct.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:l.default},Ct}var Yv=N1();const Gv=Nd(Yv),O1=a_({__proto__:null,default:Gv},[Yv]),{PostgrestClient:R1,PostgrestQueryBuilder:aj,PostgrestFilterBuilder:lj,PostgrestTransformBuilder:cj,PostgrestBuilder:uj,PostgrestError:dj}=Gv||O1;class P1{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const D1="2.81.1",A1=`realtime-js/${D1}`,Jv="1.0.0",M1="2.0.0",Dm=Jv,wd=1e4,I1=1e3,L1=100;var si;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(si||(si={}));var lt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(lt||(lt={}));var hn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(hn||(hn={}));var _d;(function(n){n.websocket="websocket"})(_d||(_d={}));var oi;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(oi||(oi={}));class $1{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:t,ref:r,event:s,topic:a,payload:l}=e,c=this.META_LENGTH+t.length+r.length+a.length+s.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(d),p=0;h.setUint8(p++,this.KINDS.push),h.setUint8(p++,t.length),h.setUint8(p++,r.length),h.setUint8(p++,a.length),h.setUint8(p++,s.length),Array.from(t,v=>h.setUint8(p++,v.charCodeAt(0))),Array.from(r,v=>h.setUint8(p++,v.charCodeAt(0))),Array.from(a,v=>h.setUint8(p++,v.charCodeAt(0))),Array.from(s,v=>h.setUint8(p++,v.charCodeAt(0)));var y=new Uint8Array(d.byteLength+l.byteLength);return y.set(new Uint8Array(d),0),y.set(new Uint8Array(l),d.byteLength),y.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const{join_ref:s,ref:a,topic:l}=e,c=e.payload.event,d=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+a.length+l.length+c.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,s.length),y.setUint8(v++,a.length),y.setUint8(v++,l.length),y.setUint8(v++,c.length),y.setUint8(v++,this.BINARY_ENCODING),Array.from(s,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(l,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(c,b=>y.setUint8(v++,b.charCodeAt(0)));var _=new Uint8Array(p.byteLength+d.byteLength);return _.set(new Uint8Array(p),0),_.set(new Uint8Array(d),p.byteLength),_.buffer}_encodeJsonUserBroadcastPush(e){var t,r;const{join_ref:s,ref:a,topic:l}=e,c=e.payload.event,d=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},p=new TextEncoder().encode(JSON.stringify(d)).buffer,y=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+a.length+l.length+c.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let _=new DataView(v),b=0;_.setUint8(b++,this.KINDS.userBroadcastPush),_.setUint8(b++,s.length),_.setUint8(b++,a.length),_.setUint8(b++,l.length),_.setUint8(b++,c.length),_.setUint8(b++,this.JSON_ENCODING),Array.from(s,x=>_.setUint8(b++,x.charCodeAt(0))),Array.from(a,x=>_.setUint8(b++,x.charCodeAt(0))),Array.from(l,x=>_.setUint8(b++,x.charCodeAt(0))),Array.from(c,x=>_.setUint8(b++,x.charCodeAt(0)));var S=new Uint8Array(v.byteLength+p.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(p),v.byteLength),S.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,a,l,c,d]=r;return t({join_ref:s,ref:a,topic:l,event:c,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,t,s);case this.KINDS.reply:return this._decodeReply(e,t,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,s)}}_decodePush(e,t,r){const s=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const d=r.decode(e.slice(c,c+s));c=c+s;const h=r.decode(e.slice(c,c+a));c=c+a;const p=r.decode(e.slice(c,c+l));c=c+l;const y=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{join_ref:d,ref:null,topic:h,event:p,payload:y}}_decodeReply(e,t,r){const s=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+this.META_LENGTH;const h=r.decode(e.slice(d,d+s));d=d+s;const p=r.decode(e.slice(d,d+a));d=d+a;const y=r.decode(e.slice(d,d+l));d=d+l;const v=r.decode(e.slice(d,d+c));d=d+c;const _=JSON.parse(r.decode(e.slice(d,e.byteLength))),b={status:v,response:_};return{join_ref:h,ref:p,topic:y,event:hn.reply,payload:b}}_decodeBroadcast(e,t,r){const s=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+a));l=l+a;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{join_ref:null,ref:null,topic:c,event:d,payload:h}}_decodeUserBroadcast(e,t,r){const s=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+4;const h=r.decode(e.slice(d,d+s));d=d+s;const p=r.decode(e.slice(d,d+a));d=d+a;const y=r.decode(e.slice(d,d+l));d=d+l;const v=e.slice(d,e.byteLength),_=c===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,b={type:this.BROADCAST,event:p,payload:_};return l>0&&(b.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST,payload:b}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}}class Xv{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ue||(Ue={}));const Am=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=F1(l,n,e,s),a),{}):{}},F1=(n,e,t,r)=>{const s=e.find(c=>c.name===n),a=s==null?void 0:s.type,l=t[n];return a&&!r.includes(a)?Qv(a,l):bd(l)},Qv=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return H1(e,t)}switch(n){case Ue.bool:return z1(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return B1(e);case Ue.json:case Ue.jsonb:return U1(e);case Ue.timestamp:return W1(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return bd(e);default:return bd(e)}},bd=n=>n,z1=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},B1=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},U1=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},H1=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Qv(e,c))}return n},W1=n=>typeof n=="string"?n.replace(" ","T"):n,Zv=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Yu{constructor(e,t,r={},s=wd){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Mm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Mm||(Mm={}));class fo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fo.syncState(this.state,s,a,l),this.pendingDiffs.forEach(d=>{this.state=fo.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=fo.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const a=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(a,(h,p)=>{l[h]||(d[h]=p)}),this.map(l,(h,p)=>{const y=a[h];if(y){const v=p.map(x=>x.presence_ref),_=y.map(x=>x.presence_ref),b=p.filter(x=>_.indexOf(x.presence_ref)<0),S=y.filter(x=>v.indexOf(x.presence_ref)<0);b.length>0&&(c[h]=b),S.length>0&&(d[h]=S)}else c[h]=p}),this.syncDiff(a,{joins:c,leaves:d},r,s)}static syncDiff(e,t,r,s){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(c,d)=>{var h;const p=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(d),p.length>0){const y=e[c].map(_=>_.presence_ref),v=p.filter(_=>y.indexOf(_.presence_ref)<0);e[c].unshift(...v)}r(c,p,d)}),this.map(l,(c,d)=>{let h=e[c];if(!h)return;const p=d.map(y=>y.presence_ref);h=h.filter(y=>p.indexOf(y.presence_ref)<0),e[c]=h,s(c,h,d),h.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Im;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Im||(Im={}));var po;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(po||(po={}));var ir;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ir||(ir={}));class oh{constructor(e,t={config:{}},r){var s,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Yu(this,hn.join,this.params,this.timeout),this.rejoinTimer=new Xv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new fo(this),this.broadcastEndpointURL=Zv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[po.PRESENCE]&&this.bindings[po.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(ir.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(ir.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket.setAuth(),_===void 0){e==null||e(ir.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,x=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,E=[];for(let N=0;N<x;N++){const j=S[N],{filter:{event:O,schema:D,table:I,filter:P}}=j,$=_&&_[N];if($&&$.event===O&&$.schema===D&&$.table===I&&$.filter===P)E.push(Object.assign(Object.assign({},j),{id:$.id}));else{this.unsubscribe(),this.state=lt.errored,e==null||e(ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(ir.SUBSCRIBED);return}}).receive("error",_=>{this.state=lt.errored,e==null||e(ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===lt.joined&&e===po.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=lt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Yu(this,hn.leave,{},e),r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yu(this,e,t,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>L1){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:h,join:p}=hn;if(r&&[c,d,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var b,S,x;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(S=_.filter)===null||S===void 0?void 0:S.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var b,S,x,E,N,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const O=_.id,D=(b=_.filter)===null||b===void 0?void 0:b.event;return O&&((S=t.ids)===null||S===void 0?void 0:S.includes(O))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const O=(N=(E=_==null?void 0:_.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((j=t==null?void 0:t.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:S,table:x,commit_timestamp:E,type:N,errors:j}=b;v=Object.assign(Object.assign({},{schema:S,table:x,commit_timestamp:E,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(b))}_.callback(v,r)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&oh.isEqual(s.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hn.close,{},e)}_onError(e){this._on(hn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Am(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Am(e.columns,e.old_record)),t}}const Gu=()=>{},ul={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},V1=[1e3,2e3,5e3,1e4],q1=1e4,K1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y1{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wd,this.transport=null,this.heartbeatIntervalMs=ul.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gu,this.ref=0,this.reconnectTimer=null,this.vsn=Dm,this.logger=Gu,this.conn=null,this.sendBuffer=[],this.serializer=new $1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${_d.websocket}`,this.httpEndpoint=Zv(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case si.connecting:return oi.Connecting;case si.open:return oi.Open;case si.closing:return oi.Closing;default:return oi.Closed}}isConnected(){return this.connectionState()===oi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new oh(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:s,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${r} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(I1,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},ul.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:l}=t,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${s} ${c}`.trim(),a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===si.open||this.conn.readyState===si.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([K1],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const s={access_token:t,version:A1};t&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(hn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Xv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ul.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,s,a,l,c,d,h,p,y,v,_;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:wd,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ul.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Gu,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:Dm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(b=>V1[b-1]||q1),this.vsn){case Jv:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((b,S)=>S(JSON.stringify(b))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:((b,S)=>S(JSON.parse(b)));break;case M1:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ah extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Qe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class G1 extends ah{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xd extends ah{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const lh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),J1=()=>Response,Sd=n=>{if(Array.isArray(n))return n.map(t=>Sd(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=Sd(r)}),e},X1=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ju=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Q1=(n,e,t)=>ue(void 0,void 0,void 0,function*(){const r=yield J1();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{const a=n.status||500,l=(s==null?void 0:s.statusCode)||a+"";e(new G1(Ju(s),a,l))}).catch(s=>{e(new xd(Ju(s),s))}):e(new xd(Ju(n),n))}),Z1=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?s:(X1(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),t))};function Oo(n,e,t,r,s,a){return ue(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,Z1(e,r,s,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Q1(d,c,r))})})}function xo(n,e,t,r){return ue(this,void 0,void 0,function*(){return Oo(n,"GET",e,t,r)})}function Tn(n,e,t,r,s){return ue(this,void 0,void 0,function*(){return Oo(n,"POST",e,r,s,t)})}function kd(n,e,t,r,s){return ue(this,void 0,void 0,function*(){return Oo(n,"PUT",e,r,s,t)})}function eT(n,e,t,r){return ue(this,void 0,void 0,function*(){return Oo(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function ch(n,e,t,r,s){return ue(this,void 0,void 0,function*(){return Oo(n,"DELETE",e,r,s,t)})}class tT{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}var e0;class nT{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[e0]="BlobDownloadBuilder",this.promise=null}asStream(){return new tT(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}e0=Symbol.toStringTag;const rT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iT{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=lh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,s){return ue(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Lm),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const h=this._removeEmptyFolders(t),p=this._getFinalPath(h),y=yield(e=="PUT"?kd:Tn)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}upload(e,t,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let d;const h=Object.assign({upsert:Lm.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const y=yield kd(this.fetch,c.toString(),d,{headers:p});return{data:{path:a,fullPath:y.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Qe(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=yield Tn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new ah("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}update(e,t,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}copy(e,t,r){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Tn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return ue(this,void 0,void 0,function*(){try{const s=yield Tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}download(e,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=a?`?${a}`:"",c=this._getFinalPath(e),d=()=>xo(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new nT(d,this.shouldThrowOnError)}info(e){return ue(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield xo(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Sd(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}exists(e){return ue(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield eT(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof xd){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const c=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&s.push(d);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}remove(e){return ue(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}list(e,t,r){return ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},rT),t),{prefix:e||""});return{data:yield Tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}listV2(e,t){return ue(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Tn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const t0="2.81.1",n0={"X-Client-Info":`storage-js/${t0}`};class sT{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n0),t),this.fetch=lh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield xo(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}createBucket(e){return ue(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return ue(this,void 0,void 0,function*(){try{return{data:yield kd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class oT{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n0),t),this.fetch=lh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const r=t.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield xo(this.fetch,s,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}}const uh={"X-Client-Info":`storage-js/${t0}`,"Content-Type":"application/json"};class r0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Zt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Xu extends r0{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class aT extends r0{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var $m;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})($m||($m={}));const dh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),lT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Fm=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cT=(n,e,t)=>ue(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const s=n.status||500,a=n;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new Xu(Fm(l),s,c))}).catch(()=>{const l=s+"",c=a.statusText||`HTTP ${s} error`;e(new Xu(c,s,l))});else{const l=s+"",c=a.statusText||`HTTP ${s} error`;e(new Xu(c,s,l))}}else e(new aT(Fm(n),n))}),uT=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(lT(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),t)):s};function dT(n,e,t,r,s,a){return ue(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,uT(e,r,s,a)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>cT(d,c,r))})})}function en(n,e,t,r,s){return ue(this,void 0,void 0,function*(){return dT(n,"POST",e,r,s,t)})}class hT{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uh),t),this.fetch=dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}getIndex(e,t){return ue(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}listIndexes(e){return ue(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return ue(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}}class fT{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uh),t),this.fetch=dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield en(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}getVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}listVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield en(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}queryVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}deleteVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield en(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}}class pT{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uh),t),this.fetch=dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}listBuckets(){return ue(this,arguments,void 0,function*(e={}){try{return{data:yield en(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}})}}class gT extends pT{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new mT(this.url,this.headers,e,this.fetch)}}class mT extends hT{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new yT(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class yT extends fT{constructor(e,t,r,s,a){super(e,t,a),this.vectorBucketName=r,this.indexName=s}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class vT extends sT{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new iT(this.url,this.headers,e,this.fetch)}get vectors(){return new gT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oT(this.url+"/iceberg",this.headers,this.fetch)}}const wT="2.81.1";let io="";typeof Deno<"u"?io="deno":typeof document<"u"?io="web":typeof navigator<"u"&&navigator.product==="ReactNative"?io="react-native":io="node";const _T={"X-Client-Info":`supabase-js-${io}/${wT}`},bT={headers:_T},xT={schema:"public"},ST={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kT={},ET=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),TT=()=>Headers,CT=(n,e,t)=>{const r=ET(t),s=TT();return async(a,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:n;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:h}))}};function jT(n){return n.endsWith("/")?n:n+"/"}function NT(n,e){var t,r;const{db:s,auth:a,realtime:l,global:c}=n,{db:d,auth:h,realtime:p,global:y}=e,v={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},y),c),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function OT(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const i0="2.81.1",Wi=30*1e3,Ed=3,Qu=Ed*Wi,RT="http://localhost:9999",PT="supabase.auth.token",DT={"X-Client-Info":`gotrue-js/${i0}`},Td="X-Supabase-Api-Version",s0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MT=600*1e3;class So extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ge(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class IT extends So{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function LT(n){return ge(n)&&n.name==="AuthApiError"}class ai extends So{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class $r extends So{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class kn extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $T(n){return ge(n)&&n.name==="AuthSessionMissingError"}class Fi extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dl extends $r{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hl extends $r{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FT(n){return ge(n)&&n.name==="AuthImplicitGrantRedirectError"}class zm extends $r{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cd extends $r{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Zu(n){return ge(n)&&n.name==="AuthRetryableFetchError"}class Bm extends $r{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class jd extends $r{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Um=` 	
\r=`.split(""),zT=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Um.length;e+=1)n[Um[e].charCodeAt(0)]=-2;for(let e=0;e<Ll.length;e+=1)n[Ll[e].charCodeAt(0)]=e;return n})();function Hm(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Ll[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Ll[r]),e.queuedBits-=6}}function o0(n,e,t){const r=zT[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Wm(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{HT(l,r,t)};for(let l=0;l<n.length;l+=1)o0(n.charCodeAt(l),s,a);return e.join("")}function BT(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function UT(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}BT(r,e)}}function HT(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Xi(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)o0(n.charCodeAt(s),t,r);return new Uint8Array(e)}function WT(n){const e=[];return UT(n,t=>e.push(t)),new Uint8Array(e)}function ci(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};return n.forEach(s=>Hm(s,t,r)),Hm(null,t,r),e.join("")}function VT(n){return Math.round(Date.now()/1e3)+n}function qT(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",ti={tested:!1,writable:!1},a0=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ti.tested)return ti.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ti.tested=!0,ti.writable=!0}catch{ti.tested=!0,ti.writable=!1}return ti.writable};function KT(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const l0=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),YT=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Vi=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},ni=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},jr=async(n,e)=>{await n.removeItem(e)};class Xl{constructor(){this.promise=new Xl.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Xl.promiseConstructor=Promise;function ed(n){const e=n.split(".");if(e.length!==3)throw new jd("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!AT.test(e[r]))throw new jd("JWT not in base64url format");return{header:JSON.parse(Wm(e[0])),payload:JSON.parse(Wm(e[1])),signature:Xi(e[2]),raw:{header:e[0],payload:e[1]}}}async function GT(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function JT(n,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function XT(n){return("0"+n.toString(16)).substr(-2)}function QT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let a=0;a<56;a++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,XT).join("")}async function ZT(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function eC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await ZT(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zi(n,e,t=!1){const r=QT();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await Vi(n,`${e}-code-verifier`,s);const a=await eC(r);return[a,r===a?"plain":"s256"]}const tC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nC(n){const e=n.headers.get(Td);if(!e||!e.match(tC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function rC(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function iC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bi(n){if(!sC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function td(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oC(n,e){return new Proxy(n,{get:(t,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,s)}})}function Vm(n){return JSON.parse(JSON.stringify(n))}const ii=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),aC=[502,503,504];async function qm(n){var e;if(!YT(n))throw new Cd(ii(n),0);if(aC.includes(n.status))throw new Cd(ii(n),n.status);let t;try{t=await n.json()}catch(a){throw new ai(ii(a),a)}let r;const s=nC(n);if(s&&s.getTime()>=s0["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Bm(ii(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new kn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Bm(ii(t),n.status,t.weak_password.reasons);throw new IT(ii(t),n.status||500,r)}const lC=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function xe(n,e,t,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Td]||(a[Td]=s0["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await cC(n,e,t+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function cC(n,e,t,r,s,a){const l=lC(e,r,s,a);let c;try{c=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new Cd(ii(d),0)}if(c.ok||await qm(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await qm(d)}}function En(n){var e;let t=null;hC(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=VT(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Km(n){const e=En(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Rr(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function uC(n){return{data:n,error:null}}function dC(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a}=n,l=ss(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function Ym(n){return n}function hC(n){return n.access_token&&n.refresh_token&&n.expires_in}const nd=["global","local","others"];class fC{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=l0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=nd[0]){if(nd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nd.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Rr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=ss(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:dC,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ge(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rr})}catch(t){if(ge(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,a,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ym});if(p.error)throw p.error;const y=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);h[`${x}Page`]=S}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(ge(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Bi(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rr})}catch(t){if(ge(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Bi(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Rr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Bi(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Rr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Bi(e.userId);try{const{data:t,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(ge(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Bi(e.userId),Bi(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,s,a,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ym});if(p.error)throw p.error;const y=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);h[`${x}Page`]=S}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(ge(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ge(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ge(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ge(t))return{data:null,error:t};throw t}}}function Gm(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Ui={debug:!!(globalThis&&a0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pC extends c0{}async function gC(n,e,t){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new pC(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ui.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function mC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function u0(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function yC(n){return parseInt(n,16)}function vC(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function wC(n){var e;const{chainId:t,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:p,uri:y,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=u0(n.address),b=p?`${p}://${r}`:r,S=n.statement?`${n.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${_}

${S}`;let E=`URI: ${y}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(s&&(E+=`
Expiration Time: ${s.toISOString()}`),c&&(E+=`
Not Before: ${c.toISOString()}`),d&&(E+=`
Request ID: ${d}`),h){let N=`
Resources:`;for(const j of h){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}E+=N}return`${x}
${E}`}class st extends Error{constructor({message:e,code:t,cause:r,name:s}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class $l extends st{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function _C({error:n,options:e}){var t,r,s;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new st({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(d0(l)){if(a.rp.id!==l)return new st({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function bC({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new st({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(d0(r)){if(t.rpId!==r)return new st({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class xC{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const SC=new xC;function kC(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,s=ss(n,["challenge","user","excludeCredentials"]),a=Xi(e).buffer,l=Object.assign(Object.assign({},t),{id:Xi(t.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const h=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Xi(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function EC(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=ss(n,["challenge","allowCredentials"]),s=Xi(e).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Xi(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function TC(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:ci(new Uint8Array(n.response.attestationObject)),clientDataJSON:ci(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function CC(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),s=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ci(new Uint8Array(s.authenticatorData)),clientDataJSON:ci(new Uint8Array(s.clientDataJSON)),signature:ci(new Uint8Array(s.signature)),userHandle:s.userHandle?ci(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function d0(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Jm(){var n,e;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function jC(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $l("Browser returned unexpected credential type",e)}:{data:null,error:new $l("Empty credential response",e)}}catch(e){return{data:null,error:_C({error:e,options:n})}}}async function NC(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $l("Browser returned unexpected credential type",e)}:{data:null,error:new $l("Empty credential response",e)}}catch(e){return{data:null,error:bC({error:e,options:n})}}}const OC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},RC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fl(...n){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),t=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of n)if(s)for(const a in s){const l=s[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(t(l))r[a]=l;else if(e(l)){const c=r[a];e(c)?r[a]=Fl(c,l):r[a]=Fl(l)}else r[a]=l}return r}function PC(n,e){return Fl(OC,n,e||{})}function DC(n,e){return Fl(RC,n,e||{})}class AC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:s},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const d=s??SC.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=PC(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:y}=await jC({publicKey:h,signal:d});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}case"request":{const h=DC(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:y}=await NC(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new ai("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!t)return{data:null,error:new So("rpId is required for WebAuthn authentication")};try{if(!Jm())return{data:null,error:new ai("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:s},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new ai("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!t)return{data:null,error:new So("rpId is required for WebAuthn registration")};try{if(!Jm())return{data:null,error:new ai("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:s},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new ai("Unexpected error in register",l)}}}}mC();const MC={url:RT,storageKey:PT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Xm(n,e,t){return await t()}const Hi={};class ko{get jwks(){var e,t;return(t=(e=Hi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Hi[this.storageKey]=Object.assign(Object.assign({},Hi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Hi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hi[this.storageKey]=Object.assign(Object.assign({},Hi[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},MC),e);if(this.storageKey=a.storageKey,this.instanceID=(t=ko.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,ko.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&mt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new fC({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=l0(a.fetch),this.lock=a.lock||Xm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:mt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gC:this.lock=Xm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:a0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${i0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(mt()&&(t=KT(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FT(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ge(t)?this._returnResult({error:t}):this._returnResult({error:new ai("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:En}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,s;try{let a;if("email"in e){const{email:p,password:y,options:v}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await zi(this.storage,this.storageKey)),a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:y,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:b},xform:En})}else if("phone"in e){const{phone:p,password:y,options:v}=e;a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:En})}else throw new dl("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Km})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Km})}else throw new dl("You must provide either an email or phone number and a password");const{data:r,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const a=new Fi;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,s,a,l,c,d,h,p,y,v;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:S,wallet:x,statement:E,options:N}=e;let j;if(mt())if(typeof x=="object")j=x;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")j=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const O=new URL((t=N==null?void 0:N.url)!==null&&t!==void 0?t:window.location.href),D=await j.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=u0(D[0]);let P=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const L=await j.request({method:"eth_chainId"});P=yC(L)}const $={domain:O.host,address:I,statement:E,uri:O.href,version:"1",chainId:P,nonce:(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=wC($),b=await j.request({method:"personal_sign",params:[vC(_),I]})}try{const{data:S,error:x}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:b},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:En});if(x)throw x;if(!S||!S.session||!S.user){const E=new Fi;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:x})}catch(S){if(ge(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,r,s,a,l,c,d,h,p,y,v,_;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:x,wallet:E,statement:N,options:j}=e;let O;if(mt())if(typeof E=="object")O=E;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))O=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const D=new URL((t=j==null?void 0:j.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in O&&O.signIn){const I=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),N?{statement:N}:null));let P;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")P=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)P=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)b=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),S=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${D.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(s=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((y=(p=j==null?void 0:j.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...j.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const I=await O.signMessage(new TextEncoder().encode(b),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:x,error:E}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ci(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:En});if(E)throw E;if(!x||!x.session||!x.user){const N=new Fi;return this._returnResult({data:{user:null,session:null},error:N})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:E})}catch(x){if(ge(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const t=await ni(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/");try{const{data:a,error:l}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:En});if(await jr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new Fi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:a,nonce:l}=e,c=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:En}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new Fi;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(t){if(ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,s,a,l;try{if("email"in e){const{email:c,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await zi(this.storage,this.storageKey));const{error:y}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:c,options:d}=e,{data:h,error:p}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new dl("You must provide either an email or phone number.")}catch(c){if(ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var t,r;try{let s,a;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:En});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,r,s,a,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await zi(this.storage,this.storageKey));const h=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:uC});return!((a=h.data)===null||a===void 0)&&a.url&&mt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(ge(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new kn;const{error:s}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:l}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:l,error:c}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new dl("You must provide either an email or phone number and a type")}catch(t){if(ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ni(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Qu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await ni(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=td()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=oC(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rr}):await this._useSession(async t=>{var r,s,a;const{data:l,error:c}=t;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kn}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Rr})})}catch(t){if(ge(t))return $T(t)&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new kn;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await zi(this.storage,this.storageKey));const{data:h,error:p}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Rr});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kn;const t=Date.now()/1e3;let r=t,s=!0,a=null;const{payload:l}=ed(e.access_token);if(l.exp&&(r=l.exp,s=r<=t),s){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(ge(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new kn;const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!mt())throw new hl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new zm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hl("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zm("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=e;if(!a||!c||!l||!h)throw new hl("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(c);let v=p+y;d&&(v=parseInt(d));const _=v-p;_*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const b=v-y;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,p);const{data:S,error:x}=await this._getUser(a);if(x)throw x;const E={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ni(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return this._returnResult({error:a});const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(LT(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=qT(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await zi(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:s}=await this._useSession(async a=>{var l,c,d,h,p;const{data:y,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return mt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ge(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:s,data:{session:a}}=t;if(s)throw s;const{options:l,provider:c,token:d,access_token:h,nonce:p}=e,y=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:En}),{data:v,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Fi}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(s){if(ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:a,error:l}=t;if(l)throw l;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await JT(async s=>(s>0&&await GT(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:En})),(s,a)=>{const l=200*Math.pow(2,s);return a&&Zu(a)&&Date.now()+l-r<Wi})}catch(r){if(this._debug(t,"error",r),ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),mt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ni(this.storage,this.storageKey);if(s&&this.userStorage){let l=await ni(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Vi(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:td()}else if(s&&!s.user&&!s.user){const l=await ni(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await jr(this.storage,this.storageKey+"-user"),await Vi(this.storage,this.storageKey,s)):s.user=td()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Qu;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Qu}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Zu(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Xl;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new kn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),ge(a)){const l={data:null,error:a};return Zu(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Vi(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const a=Vm(s);await Vi(this.storage,this.storageKey,a)}else{const s=Vm(t);await Vi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jr(this.storage,this.storageKey),await jr(this.storage,this.storageKey+"-code-verifier"),await jr(this.storage,this.storageKey+"-user"),this.userStorage&&await jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wi}ms, refresh threshold is ${Ed} ticks`),s<=Ed&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof c0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await zi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;return a?this._returnResult({data:null,error:a}):await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?TC(e.webauthn.credential_response):CC(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:kC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:EC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ed(r.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new kn})})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new kn});const l=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&mt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new kn});const l=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&mt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+MT>s)return r;const{data:a,error:l}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:_,error:b}=await this.getSession();if(b||!_.session)return this._returnResult({data:null,error:b});r=_.session.access_token}const{header:s,payload:a,signature:l,raw:{header:c,payload:d}}=ed(r);t!=null&&t.allowExpired||rC(a.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!h){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}const p=iC(s.alg),y=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,l,WT(`${c}.${d}`)))throw new jd("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}}ko.nextInstanceID={};const IC=ko;class LC extends IC{constructor(e){super(e)}}class $C{constructor(e,t,r){var s,a,l;this.supabaseUrl=e,this.supabaseKey=t;const c=OT(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:xT,realtime:kT,auth:Object.assign(Object.assign({},ST),{storageKey:d}),global:bT},p=NT(r??{},h);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=CT(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new R1(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new vT(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new C1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:l,flowType:c,lock:d,debug:h,throwOnError:p},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LC({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,flowType:c,lock:d,debug:h,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Y1(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FC=(n,e,t)=>new $C(n,e,t);function zC(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BC="https://nylvcqjzczvfkjjbeoef.supabase.co",UC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55bHZjcWp6Y3p2ZmtqamJlb2VmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODI0NzgsImV4cCI6MjA3ODQ1ODQ3OH0.1UAbbef2icdl8SNsvDNdQUV_49J_BQLB0vfpOcK6r-8",Cn=FC(BC,UC);class HC{async getCurrentUser(){try{const{data:{user:e}}=await Cn.auth.getUser();return e}catch(e){return console.error("Error getting current user:",e),null}}async signOut(){try{const{error:e}=await Cn.auth.signOut();if(e)throw e;return!0}catch(e){throw console.error("Error signing out:",e),e}}getAuthStateChangeListener(e){return Cn.auth.onAuthStateChange((t,r)=>{e(t,r)})}async fetchTasks(e){if(!e)return[];try{const{data:t,error:r}=await Cn.from("tasks").select("*").eq("user_email",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){return console.error("Error fetching tasks:",t),[]}}async createTask(e,t){if(!t)throw new Error("User email required");try{const{data:r,error:s}=await Cn.from("tasks").insert([{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate||null,due_time:e.dueTime||null,category:e.category||null,reminder_minutes:e.reminderMinutes||null,recurrence:e.recurrence||null,calendar_event_id:e.calendarEventId||null,time_spent:e.timeSpent||0,is_tracking:e.isTracking||!1,tracking_start_time:e.trackingStartTime||null,pomodoro_time:e.pomodoroTime||null,pomodoro_mode:e.pomodoroMode||null,pomodoro_active:e.pomodoroActive||!1,scheduled_start:e.scheduledStart||null,scheduled_duration:e.scheduledDuration||null,sort_order:typeof e.sortOrder=="number"?e.sortOrder:0}]).select().single();if(s)throw s;return r}catch(r){throw console.error("Error creating task:",r),r}}async updateTask(e,t,r){if(!r)throw new Error("User email required");try{const{data:s,error:a}=await Cn.from("tasks").update({text:t.text,completed:t.completed,priority:t.priority,due_date:t.dueDate,due_time:t.dueTime,category:t.category,reminder_minutes:t.reminderMinutes,recurrence:t.recurrence,calendar_event_id:t.calendarEventId,time_spent:t.timeSpent,is_tracking:t.isTracking,tracking_start_time:t.trackingStartTime,pomodoro_time:t.pomodoroTime,pomodoro_mode:t.pomodoroMode,pomodoro_active:t.pomodoroActive,scheduled_start:t.scheduledStart,scheduled_duration:t.scheduledDuration,sort_order:t.sortOrder}).eq("id",e).eq("user_email",r).select().single();if(a)throw a;return s}catch(s){throw console.error("Error updating task:",s),s}}async deleteTask(e,t){if(!t)throw new Error("User email required");try{const{error:r}=await Cn.from("tasks").delete().eq("id",e).eq("user_email",t);if(r)throw r;return!0}catch(r){throw console.error("Error deleting task:",r),r}}async deleteCompletedTasks(e){if(!e)throw new Error("User email required");try{const{error:t}=await Cn.from("tasks").delete().eq("user_email",e).eq("completed",!0);if(t)throw t;return!0}catch(t){throw console.error("Error deleting completed tasks:",t),t}}convertToAppFormat(e){return{id:e.id,text:e.text,completed:e.completed,priority:e.priority,dueDate:e.due_date||void 0,dueTime:e.due_time||void 0,category:e.category||void 0,reminderMinutes:e.reminder_minutes||void 0,recurrence:e.recurrence||void 0,calendarEventId:e.calendar_event_id||void 0,timeSpent:e.time_spent||0,isTracking:e.is_tracking||!1,trackingStartTime:e.tracking_start_time||void 0,pomodoroTime:e.pomodoro_time||void 0,pomodoroMode:e.pomodoro_mode||void 0,pomodoroActive:e.pomodoro_active||!1,scheduledStart:e.scheduled_start||void 0,scheduledDuration:e.scheduled_duration||void 0,sortOrder:typeof e.sort_order=="number"?e.sort_order:0}}convertToDbFormat(e,t){return{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate||null,due_time:e.dueTime||null,category:e.category||null,reminder_minutes:e.reminderMinutes||null,recurrence:e.recurrence||null,calendar_event_id:e.calendarEventId||null,time_spent:e.timeSpent||0,is_tracking:e.isTracking||!1,tracking_start_time:e.trackingStartTime||null,pomodoro_time:e.pomodoroTime||null,pomodoro_mode:e.pomodoroMode||null,pomodoro_active:e.pomodoroActive||!1,scheduled_start:e.scheduledStart||null,scheduled_duration:e.scheduledDuration||null,sort_order:typeof e.sortOrder=="number"?e.sortOrder:0}}}const Dt=new HC;function WC({onSignInSuccess:n,onSwitchToSignUp:e,onSwitchToReset:t,onGuestMode:r}){const[s,a]=T.useState({email:"",password:""}),[l,c]=T.useState(""),[d,h]=T.useState(!1),p=()=>s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?s.password?!0:(c("Please enter your password"),!1):(c("Please enter a valid email address"),!1):(c("Please enter your email"),!1),y=async _=>{if(_.preventDefault(),c(""),!!p()){h(!0);try{const{data:b,error:S}=await Cn.auth.signInWithPassword({email:s.email,password:s.password});if(S)throw S;a({email:"",password:""}),n&&b.user&&n(b.user)}catch(b){console.error("Error signing in:",b),b.message.includes("Email not confirmed")?c("Please verify your email before signing in. Check your inbox for the verification link."):b.message.includes("Invalid login credentials")?c("Invalid email or password. Please try again."):c(b.message||"Failed to sign in. Please try again.")}finally{h(!1)}}},v=_=>{a({...s,[_.target.name]:_.target.value}),c("")};return m.jsx("div",{className:"auth-overlay",children:m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-content",children:[m.jsx("h1",{className:"auth-title",children:"Welcome Back"}),m.jsx("p",{className:"auth-subtitle",children:"Sign in to access your tasks from anywhere"}),m.jsxs("form",{onSubmit:y,className:"auth-form",children:[m.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:s.email,onChange:v,disabled:d,autoFocus:!0}),m.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password",value:s.password,onChange:v,disabled:d}),l&&m.jsx("p",{className:"auth-error",children:l}),m.jsx("button",{type:"button",className:"forgot-password-link",onClick:t,disabled:d,children:"Forgot password?"}),m.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:d,children:d?"Signing In...":"Sign In"}),m.jsx("button",{type:"button",className:"auth-button guest-button",onClick:r,disabled:d,children:"Continue as Guest"})]}),m.jsx("div",{className:"auth-footer",children:m.jsxs("p",{className:"auth-switch",children:["Don't have an account?"," ",m.jsx("button",{className:"auth-link",onClick:e,disabled:d,children:"Sign Up"})]})})]})})})}function VC({onSignUpSuccess:n,onSwitchToSignIn:e}){const[t,r]=T.useState({name:"",email:"",password:"",confirmPassword:""}),[s,a]=T.useState(""),[l,c]=T.useState(!1),[d,h]=T.useState(!1),p=()=>t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?t.password?t.password.length<6?(a("Password must be at least 6 characters"),!1):t.password!==t.confirmPassword?(a("Passwords do not match"),!1):!0:(a("Please enter a password"),!1):(a("Please enter a valid email address"),!1):(a("Please enter your email"),!1),y=async _=>{if(_.preventDefault(),a(""),!!p()){c(!0);try{const{error:b}=await Cn.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name||t.email.split("@")[0]},emailRedirectTo:`${window.location.origin}/react-todo-app`}});if(b)throw b;h(!0),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{n&&n()},3e3)}catch(b){console.error("Error signing up:",b),a(b.message||"Failed to sign up. Please try again.")}finally{c(!1)}}},v=_=>{r({...t,[_.target.name]:_.target.value}),a("")};return d?m.jsx("div",{className:"auth-overlay",children:m.jsx("div",{className:"auth-container",children:m.jsx("div",{className:"auth-content",children:m.jsxs("div",{className:"verification-success",children:[m.jsx("div",{className:"success-icon",children:""}),m.jsx("h2",{className:"auth-title",children:"Check Your Email"}),m.jsxs("p",{className:"verification-message",children:["We've sent a verification link to ",m.jsx("strong",{children:t.email})]}),m.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to verify your account and start using the app."}),m.jsx("button",{className:"auth-button secondary-button",onClick:e,children:"Back to Sign In"})]})})})}):m.jsx("div",{className:"auth-overlay",children:m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-content",children:[m.jsx("h1",{className:"auth-title",children:"Create Account"}),m.jsx("p",{className:"auth-subtitle",children:"Sign up to sync your tasks across all devices"}),m.jsxs("form",{onSubmit:y,className:"auth-form",children:[m.jsx("input",{type:"text",name:"name",className:"auth-input",placeholder:"Your name (optional)",value:t.name,onChange:v,disabled:l}),m.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:t.email,onChange:v,disabled:l,autoFocus:!0}),m.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password (min 6 characters)",value:t.password,onChange:v,disabled:l}),m.jsx("input",{type:"password",name:"confirmPassword",className:"auth-input",placeholder:"Confirm password",value:t.confirmPassword,onChange:v,disabled:l}),s&&m.jsx("p",{className:"auth-error",children:s}),m.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:l,children:l?"Creating Account...":"Sign Up"})]}),m.jsx("div",{className:"auth-footer",children:m.jsxs("p",{className:"auth-switch",children:["Already have an account?"," ",m.jsx("button",{className:"auth-link",onClick:e,disabled:l,children:"Sign In"})]})}),m.jsx("p",{className:"auth-privacy-note",children:"By signing up, you agree to receive verification emails. We don't send spam or share your data."})]})})})}function qC({onBackToSignIn:n}){const[e,t]=T.useState(""),[r,s]=T.useState(""),[a,l]=T.useState(!1),[c,d]=T.useState(!1),h=()=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!0:(s("Please enter a valid email address"),!1):(s("Please enter your email"),!1),p=async y=>{if(y.preventDefault(),s(""),!!h()){l(!0);try{const{error:v}=await Cn.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/react-todo-app`});if(v)throw v;d(!0),t("")}catch(v){console.error("Error sending reset email:",v),s(v.message||"Failed to send reset email. Please try again.")}finally{l(!1)}}};return c?m.jsx("div",{className:"auth-overlay",children:m.jsx("div",{className:"auth-container",children:m.jsx("div",{className:"auth-content",children:m.jsxs("div",{className:"verification-success",children:[m.jsx("div",{className:"success-icon",children:""}),m.jsx("h2",{className:"auth-title",children:"Check Your Email"}),m.jsx("p",{className:"verification-message",children:"We've sent a password reset link to your email."}),m.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to reset your password."}),m.jsx("button",{className:"auth-button secondary-button",onClick:n,children:"Back to Sign In"})]})})})}):m.jsx("div",{className:"auth-overlay",children:m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-content",children:[m.jsx("h1",{className:"auth-title",children:"Reset Password"}),m.jsx("p",{className:"auth-subtitle",children:"Enter your email and we'll send you a link to reset your password"}),m.jsxs("form",{onSubmit:p,className:"auth-form",children:[m.jsx("input",{type:"email",className:"auth-input",placeholder:"your@email.com",value:e,onChange:y=>{t(y.target.value),s("")},disabled:a,autoFocus:!0}),r&&m.jsx("p",{className:"auth-error",children:r}),m.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),m.jsx("div",{className:"auth-footer",children:m.jsxs("p",{className:"auth-switch",children:["Remember your password?"," ",m.jsx("button",{className:"auth-link",onClick:n,disabled:a,children:"Sign In"})]})})]})})})}function Qm({addTask:n}){const[e,t]=T.useState(!0),r=[{text:"Drink water",category:"Hydration",priority:"low",icon:""},{text:"Make coffee",category:"Food",priority:"low",icon:""},{text:"Cook meal",category:"Food",priority:"medium",icon:""},{text:"Meal prep",category:"Food",priority:"medium",icon:""},{text:"Exercise",category:"Health",priority:"medium",icon:""},{text:"Meditate",category:"Health",priority:"low",icon:""},{text:"Take vitamins",category:"Health",priority:"low",icon:""},{text:"Code for 1 hour",category:"Coding",priority:"high",icon:""},{text:"Pray",category:"Personal",priority:"medium",icon:""},{text:"Read for 30 min",category:"Personal",priority:"low",icon:""},{text:"Journal",category:"Personal",priority:"low",icon:""},{text:"Clean room",category:"Home",priority:"medium",icon:""},{text:"Do laundry",category:"Home",priority:"low",icon:""},{text:"Study",category:"Education",priority:"high",icon:""}],s=()=>{const l=new Date,c=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0"),h=String(l.getDate()).padStart(2,"0");return`${c}-${d}-${h}`},a=l=>{n({text:`${l.icon} ${l.text}`,priority:l.priority,category:l.category,dueDate:s(),dueTime:"",reminderMinutes:null})};return m.jsxs("div",{className:"quick-add-section",children:[m.jsxs("div",{className:"quick-add-header",children:[m.jsxs("h3",{className:"quick-add-title",children:[m.jsx("span",{className:"quick-add-icon",children:""}),"Quick Add"]}),m.jsx("button",{type:"button",className:"quick-add-toggle",onClick:()=>t(!e),children:e?"":""})]}),e&&m.jsx("div",{className:"quick-add-grid",children:r.map((l,c)=>m.jsxs("button",{type:"button",className:`quick-add-task priority-${l.priority}`,onClick:()=>a(l),children:[m.jsx("span",{className:"quick-task-icon",children:l.icon}),m.jsx("span",{className:"quick-task-text",children:l.text})]},c))})]})}function KC(){const[n,e]=T.useState(1500),[t,r]=T.useState(!1),[s,a]=T.useState("work"),[l,c]=T.useState(0),[d,h]=T.useState(!1),[p,y]=T.useState(25),[v,_]=T.useState(5),[b,S]=T.useState(15),x=T.useRef(null),E=T.useRef(null);T.useEffect(()=>{E.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYGGGm98OScTQwOUKzn77RnHAU0jdXzzn0vBSh+zPLaizsIGGS57OihUBELTKXh8bllHQYuhM/z1YU2BhVns+znm08MClCq5O+zaBwGM4rT8s+AMAYnfcvx2Ik5BxdlvO7mnE4LDE6k4PG2ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6Fz/PWhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTKPg8bdlHAUuhdDz1YU2BhVos+vkl1AMCk+m4/C0ZhwGMonS89CDMAcmfMvx2Ik5BxdlvO7mnU4LDE2j4PG3ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6Fz/PWhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTKPg8bdlHAUuhdDz1YU2BhVos+vkl1AMCk+m4/C0ZhwFMonS89CDMAcmfMvx2Ik5BxdlvO7mnU4LDE2j4PG3ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6F0PPVhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTaPg8bdlHAVDV9")},[]),T.useEffect(()=>(t&&n>0?x.current=setInterval(()=>{e(F=>F-1)},1e3):n===0&&N(),()=>{x.current&&clearInterval(x.current)}),[t,n]);const N=()=>{if(r(!1),E.current&&E.current.play().catch(F=>console.log("Audio play failed:",F)),"Notification"in window&&Notification.permission==="granted"){const F=s==="work"?"Work session complete! Time for a break.":"Break time over! Ready to focus?";new Notification("Pomodoro Timer",{body:F})}if(s==="work"){c(B=>B+1);const F=(l+1)%4===0?"longBreak":"shortBreak";j(F)}else j("work")},j=F=>{switch(a(F),r(!1),F){case"work":e(p*60);break;case"shortBreak":e(v*60);break;case"longBreak":e(b*60);break}},O=()=>{r(!t)},D=()=>{switch(r(!1),s){case"work":e(p*60);break;case"shortBreak":e(v*60);break;case"longBreak":e(b*60);break}},I=F=>{const B=Math.floor(F/60),V=F%60;return`${B.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`},P=()=>{const F=s==="work"?p*60:s==="shortBreak"?v*60:b*60;return(F-n)/F*100},$=()=>{switch(s){case"work":return"#73ABFF";case"shortBreak":return"#34C759";case"longBreak":return"#FF9500";default:return"#73ABFF"}},L=()=>{switch(s){case"work":return"Focus Time";case"shortBreak":return"Short Break";case"longBreak":return"Long Break";default:return"Focus Time"}};return m.jsxs("div",{className:"pomodoro-timer",children:[m.jsxs("div",{className:"pomodoro-header",children:[m.jsxs("h3",{className:"pomodoro-title",children:[m.jsx("span",{className:"pomodoro-icon",children:""}),"Pomodoro"]}),m.jsx("button",{className:"pomodoro-settings-btn",onClick:()=>h(!d),title:"Settings",children:""})]}),d?m.jsxs("div",{className:"pomodoro-settings",children:[m.jsxs("div",{className:"setting-group",children:[m.jsx("label",{children:"Work Duration (min)"}),m.jsx("input",{type:"number",min:"1",max:"60",value:p,onChange:F=>y(Number(F.target.value))})]}),m.jsxs("div",{className:"setting-group",children:[m.jsx("label",{children:"Short Break (min)"}),m.jsx("input",{type:"number",min:"1",max:"30",value:v,onChange:F=>_(Number(F.target.value))})]}),m.jsxs("div",{className:"setting-group",children:[m.jsx("label",{children:"Long Break (min)"}),m.jsx("input",{type:"number",min:"1",max:"60",value:b,onChange:F=>S(Number(F.target.value))})]}),m.jsx("button",{className:"settings-close-btn",onClick:()=>h(!1),children:"Done"})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"pomodoro-mode",style:{color:$()},children:L()}),m.jsx("div",{className:"pomodoro-display",children:m.jsxs("svg",{className:"progress-ring",width:"200",height:"200",children:[m.jsx("circle",{className:"progress-ring-circle-bg",stroke:"#e0e0e0",strokeWidth:"8",fill:"transparent",r:"90",cx:"100",cy:"100"}),m.jsx("circle",{className:"progress-ring-circle",stroke:$(),strokeWidth:"8",fill:"transparent",r:"90",cx:"100",cy:"100",style:{strokeDasharray:`${2*Math.PI*90}`,strokeDashoffset:`${2*Math.PI*90*(1-P()/100)}`,transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.3s ease"}}),m.jsx("text",{x:"100",y:"100",textAnchor:"middle",dy:".3em",className:"timer-text",children:I(n)})]})}),m.jsxs("div",{className:"pomodoro-controls",children:[m.jsx("button",{className:`pomodoro-btn ${t?"pause":"start"}`,onClick:O,children:t?" Pause":" Start"}),m.jsx("button",{className:"pomodoro-btn reset",onClick:D,children:" Reset"})]}),m.jsxs("div",{className:"pomodoro-mode-selector",children:[m.jsx("button",{className:`mode-btn ${s==="work"?"active":""}`,onClick:()=>j("work"),children:"Work"}),m.jsx("button",{className:`mode-btn ${s==="shortBreak"?"active":""}`,onClick:()=>j("shortBreak"),children:"Short Break"}),m.jsx("button",{className:`mode-btn ${s==="longBreak"?"active":""}`,onClick:()=>j("longBreak"),children:"Long Break"})]}),m.jsxs("div",{className:"pomodoro-sessions",children:[m.jsx("div",{className:"sessions-label",children:"Sessions Today"}),m.jsxs("div",{className:"sessions-count",children:[Array.from({length:Math.min(l,8)},(F,B)=>m.jsx("span",{className:"session-dot",children:""},B)),l>8&&m.jsxs("span",{className:"session-more",children:["+",l-8]})]}),m.jsxs("div",{className:"sessions-total",children:[l," completed"]})]})]})]})}function YC({tasks:n,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a}){const l=_=>{if(!_.dueDate||_.completed)return!1;const b=new Date,S=new Date(b.getFullYear(),b.getMonth(),b.getDate()),[x,E,N]=_.dueDate.split("-").map(Number);return new Date(x,E-1,N)<=S},c=_=>_.priority==="high",d=n.filter(_=>!_.completed&&l(_)&&c(_)),h=n.filter(_=>!_.completed&&!l(_)&&c(_)),p=n.filter(_=>!_.completed&&l(_)&&!c(_)),y=n.filter(_=>!_.completed&&!l(_)&&!c(_)),v=(_,b,S,x,E)=>m.jsxs("div",{className:`matrix-quadrant ${E}`,children:[m.jsxs("div",{className:"quadrant-header",children:[m.jsxs("div",{className:"quadrant-title",children:[m.jsx("span",{className:"quadrant-icon",children:x}),m.jsx("h3",{children:b})]}),m.jsx("p",{className:"quadrant-subtitle",children:S}),m.jsx("span",{className:"quadrant-count",children:_.length})]}),m.jsx("div",{className:"quadrant-tasks",children:_.length===0?m.jsx("p",{className:"empty-quadrant",children:"No tasks in this quadrant"}):_.map(N=>m.jsx(so,{task:N,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a},N.id))})]});return m.jsxs("div",{className:"eisenhower-matrix",children:[m.jsxs("div",{className:"matrix-header",children:[m.jsx("h2",{className:"matrix-title",children:"Eisenhower Matrix"}),m.jsx("p",{className:"matrix-description",children:"Organize tasks by urgency and importance to focus on what truly matters"})]}),m.jsxs("div",{className:"matrix-grid",children:[v(d,"Do First","Urgent & Important","","quadrant-urgent-important"),v(h,"Schedule","Not Urgent & Important","","quadrant-not-urgent-important"),v(p,"Delegate","Urgent & Not Important","","quadrant-urgent-not-important"),v(y,"Eliminate","Not Urgent & Not Important","","quadrant-not-urgent-not-important")]}),m.jsxs("div",{className:"matrix-legend",children:[m.jsxs("div",{className:"legend-item",children:[m.jsx("span",{className:"legend-dot urgent-important"}),m.jsx("span",{children:"High priority + Due today/overdue"})]}),m.jsxs("div",{className:"legend-item",children:[m.jsx("span",{className:"legend-dot not-urgent-important"}),m.jsx("span",{children:"High priority + Due later"})]}),m.jsxs("div",{className:"legend-item",children:[m.jsx("span",{className:"legend-dot urgent-not-important"}),m.jsx("span",{children:"Medium/Low priority + Due today/overdue"})]}),m.jsxs("div",{className:"legend-item",children:[m.jsx("span",{className:"legend-dot not-urgent-not-important"}),m.jsx("span",{children:"Medium/Low priority + Due later"})]})]})]})}function GC({task:n,onSave:e,onClose:t}){const s=(()=>{if(n.dueTime){const[E,N]=n.dueTime.split(":").map(Number);return{hours:E,minutes:N}}return{hours:new Date().getHours(),minutes:0}})(),[a,l]=T.useState(s.hours),[c,d]=T.useState(s.minutes),[h,p]=T.useState(n.scheduledDuration||60),y=()=>{const x=`${String(a).padStart(2,"0")}:${String(c).padStart(2,"0")}`;e({dueTime:x,scheduledDuration:h}),t()},v=Array.from({length:24},(x,E)=>E),_=[0,15,30,45],b=[{label:"15 min",value:15},{label:"30 min",value:30},{label:"45 min",value:45},{label:"1 hour",value:60},{label:"1.5 hours",value:90},{label:"2 hours",value:120},{label:"3 hours",value:180}],S=(x,E)=>{const N=x>=12?"PM":"AM",j=x===0?12:x>12?x-12:x,O=E.toString().padStart(2,"0");return`${j}:${O} ${N}`};return m.jsx("div",{className:"modal-overlay",onClick:t,children:m.jsxs("div",{className:"time-block-editor",onClick:x=>x.stopPropagation(),children:[m.jsxs("div",{className:"editor-header",children:[m.jsx("h3",{children:" Edit Time Block"}),m.jsx("button",{className:"close-btn",onClick:t,children:""})]}),m.jsxs("div",{className:"editor-content",children:[m.jsx("div",{className:"task-name",children:m.jsx("strong",{children:n.text})}),m.jsxs("div",{className:"time-section",children:[m.jsx("label",{children:"Start Time"}),m.jsxs("div",{className:"time-inputs",children:[m.jsx("select",{value:a,onChange:x=>l(Number(x.target.value)),className:"time-select",children:v.map(x=>{const E=x>=12?"PM":"AM",N=x===0?12:x>12?x-12:x;return m.jsxs("option",{value:x,children:[N," ",E]},x)})}),m.jsx("span",{className:"time-separator",children:":"}),m.jsx("select",{value:c,onChange:x=>d(Number(x.target.value)),className:"time-select",children:_.map(x=>m.jsx("option",{value:x,children:x.toString().padStart(2,"0")},x))})]}),m.jsxs("div",{className:"start-time-preview",children:["Starts at ",S(a,c)]})]}),m.jsxs("div",{className:"duration-section",children:[m.jsx("label",{children:"Duration"}),m.jsx("div",{className:"duration-presets",children:b.map(x=>m.jsx("button",{className:`duration-preset ${h===x.value?"active":""}`,onClick:()=>p(x.value),children:x.label},x.value))}),m.jsxs("div",{className:"custom-duration",children:[m.jsx("input",{type:"number",value:h,onChange:x=>p(Number(x.target.value)),min:"5",max:"480",step:"5",className:"duration-input"}),m.jsx("span",{children:"minutes"})]})]}),m.jsx("div",{className:"end-time-display",children:(()=>{const x=new Date;return x.setHours(a,c+h,0,0),`Ends at ${S(x.getHours(),x.getMinutes())}`})()})]}),m.jsxs("div",{className:"editor-footer",children:[m.jsx("button",{className:"cancel-btn",onClick:t,children:"Cancel"}),m.jsx("button",{className:"save-btn",onClick:y,children:"Save"})]})]})})}function JC({task:n,getPriorityColor:e}){const{attributes:t,listeners:r,setNodeRef:s,transform:a,isDragging:l}=th({id:`task-${n.id}`,data:{task:n,type:"unscheduled"}}),c={transform:Hn.Transform.toString(a),opacity:l?.5:1,cursor:l?"grabbing":"grab"};return m.jsxs("div",{ref:s,className:"unscheduled-task",style:c,...r,...t,children:[m.jsx("div",{className:"task-priority-indicator",style:{backgroundColor:e(n.priority)}}),m.jsxs("div",{className:"task-content",children:[m.jsx("div",{className:"task-text",children:n.text}),n.category&&m.jsx("span",{className:"task-category",children:n.category})]})]})}function XC({task:n,getPriorityColor:e,onUnschedule:t,onTaskClick:r,onEdit:s}){const{attributes:a,listeners:l,setNodeRef:c,transform:d,isDragging:h}=th({id:`scheduled-${n.id}`,data:{task:n,type:"scheduled"}}),p={transform:Hn.Transform.toString(d),opacity:h?.5:1,cursor:h?"grabbing":"grab"};return m.jsxs("div",{ref:c,className:"time-block",style:{...p,borderLeft:`4px solid ${e(n.priority)}`},...l,...a,children:[m.jsxs("div",{className:"time-block-header",children:[m.jsx("span",{className:"time-block-title",children:n.text}),m.jsxs("div",{className:"time-block-actions",children:[n.category&&m.jsx("span",{className:"block-category",children:n.category}),m.jsxs("span",{className:"block-duration",children:[n.scheduledDuration||60," min"]}),m.jsx("button",{className:"block-focus-btn",onClick:y=>{y.stopPropagation(),r(n)},children:" Focus"}),m.jsx("button",{className:"time-block-edit",onClick:y=>{y.stopPropagation(),s(n)},title:"Edit time",children:""}),m.jsx("button",{className:"time-block-remove",onClick:y=>{y.stopPropagation(),t(n)},title:"Unschedule",children:""})]})]}),m.jsx("div",{className:"time-block-time",children:n.dueTime&&(()=>{const[y,v]=n.dueTime.split(":").map(Number),_=new Date;_.setHours(y,v,0,0);const b=new Date(_.getTime()+(n.scheduledDuration||60)*6e4),S=E=>E===0?12:E>12?E-12:E,x=E=>E>=12?"PM":"AM";return`${S(y)}:${v.toString().padStart(2,"0")} ${x(y)} - ${S(b.getHours())}:${b.getMinutes().toString().padStart(2,"0")} ${x(b.getHours())}`})()})]})}function QC({hour:n,minute:e,children:t}){const{setNodeRef:r,isOver:s}=pv({id:`slot-${n}-${e}`,data:{hour:n,minute:e}});return m.jsx("div",{ref:r,className:`time-content ${s?"drop-target":""}`,children:t})}function ZC({tasks:n,onUpdateTask:e,onTaskClick:t}){const[r,s]=T.useState(null),[a]=T.useState(new Date),[l,c]=T.useState(null),[d,h]=T.useState(null),p=Gy(Yy(Kl,{activationConstraint:{distance:8}})),y=O=>{var V,ne,ae;const{active:D,over:I}=O;if(c(null),!I)return;const P=(V=D.data.current)==null?void 0:V.task,$=(ne=I.data.current)==null?void 0:ne.hour,L=(ae=I.data.current)==null?void 0:ae.minute;if(!P||$===void 0||L===void 0)return;const F=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,B=`${String($).padStart(2,"0")}:${String(L).padStart(2,"0")}`;e(P.id,{dueDate:F,dueTime:B,scheduledDuration:P.scheduledDuration||60})},v=O=>{var D;c((D=O.active.data.current)==null?void 0:D.task)},_=n.filter(O=>{if(O.completed)return!1;if(!O.dueDate||!O.dueTime)return!0;const[D,I,P]=O.dueDate.split("-").map(Number);return new Date(D,I-1,P).toDateString()!==a.toDateString()}),b=n.filter(O=>{if(O.completed||!O.dueDate||!O.dueTime)return!1;const[D,I,P]=O.dueDate.split("-").map(Number);return new Date(D,I-1,P).toDateString()===a.toDateString()}),x=(()=>{const O=[];for(let D=8;D<=20;D++)for(let I=0;I<60&&!(D===20&&I>0);I+=15){const P=D===0?12:D>12?D-12:D,$=D>=12?"PM":"AM",L=`${P}:${String(I).padStart(2,"0")} ${$}`;O.push({hour:D,minute:I,label:L,time:`${D}:${String(I).padStart(2,"0")}`})}return O})(),E=O=>{e(O.id,{dueTime:void 0,scheduledDuration:void 0})},N=O=>{const D={weekday:"long",month:"long",day:"numeric"};return O.toLocaleDateString("en-US",D)},j=O=>{switch(O){case"high":return"#ff6b6b";case"medium":return"#ffd93d";case"low":return"#6bcf7f";default:return"#999"}};return m.jsxs(hv,{sensors:p,onDragStart:v,onDragEnd:y,children:[m.jsxs("div",{className:"time-blocks-container",children:[m.jsxs("div",{className:"time-blocks-header",children:[m.jsx("h2",{children:" Time Blocks"}),m.jsx("p",{className:"time-blocks-date",children:N(a)})]}),m.jsxs("div",{className:"time-blocks-content",children:[m.jsxs("div",{className:"unscheduled-tasks",children:[m.jsxs("h3",{children:["Unscheduled Tasks (",_.length,")"]}),_.length===0?m.jsx("p",{className:"empty-state",children:"All tasks are scheduled! "}):m.jsx("div",{className:"task-list",children:_.map(O=>m.jsx(JC,{task:O,getPriorityColor:j},O.id))}),m.jsx("div",{className:"schedule-hint",children:" Drag tasks to time slots to schedule"})]}),m.jsxs("div",{className:"timeline-view",children:[m.jsx("h3",{children:"Today's Schedule"}),m.jsx("div",{className:"timeline",children:x.map(O=>{const D=b.filter(P=>{if(!P.dueTime)return!1;const[$,L]=P.dueTime.split(":").map(Number),F=Math.floor(L/15)*15;return $===O.hour&&F===O.minute}),I=b.some(P=>{if(!P.dueTime)return!1;const[$,L]=P.dueTime.split(":").map(Number),F=$*60+L,B=F+(P.scheduledDuration||60),V=O.hour*60+O.minute;return V>=F&&V<B});return m.jsxs("div",{className:"time-slot",children:[m.jsx("div",{className:"time-label",children:O.label}),m.jsx(QC,{hour:O.hour,minute:O.minute,children:D.length>0?m.jsx("div",{className:"slot-blocks-container",children:D.map(P=>{const $=P.scheduledDuration||60,F=Math.ceil($/15)*48;return m.jsx("div",{className:"slot-block-wrapper",style:{height:`${F}px`},children:m.jsx(XC,{task:P,getPriorityColor:j,onUnschedule:E,onTaskClick:t,onEdit:h})},P.id)})}):I?m.jsx("div",{className:"time-slot-covered"}):m.jsx("div",{className:"time-slot-empty",children:"Drop here"})})]},`${O.hour}-${O.minute}`)})})]})]})]}),m.jsx(VE,{children:l?m.jsxs("div",{className:"drag-overlay-task",children:[m.jsx("div",{className:"task-priority-indicator",style:{backgroundColor:j(l.priority)}}),m.jsxs("div",{className:"task-content",children:[m.jsx("div",{className:"task-text",children:l.text}),l.category&&m.jsx("span",{className:"task-category",children:l.category})]})]}):null}),d&&m.jsx(GC,{task:d,onSave:O=>{e(d.id,O),h(null)},onClose:()=>h(null)})]})}function ej({activeView:n,onViewChange:e,userName:t,onSignOut:r,darkMode:s,onToggleDarkMode:a}){const l=[{id:"today",icon:"",label:"Today"},{id:"tasks",icon:"",label:"All Tasks"},{id:"upcoming",icon:"",label:"Upcoming"},{id:"dashboard",icon:"",label:"Dashboard"},{id:"matrix",icon:"",label:"Matrix"},{id:"timeblocks",icon:"",label:"Time Blocks"},{id:"pomodoro",icon:"",label:"Pomodoro"}];return m.jsxs("div",{className:"sidebar",children:[m.jsx("div",{className:"sidebar-header",children:m.jsxs("h2",{className:"sidebar-logo",children:[m.jsx("span",{className:"logo-icon",children:""}),"Zentask"]})}),m.jsx("nav",{className:"sidebar-nav",children:l.map(c=>m.jsxs("button",{className:`sidebar-nav-item ${n===c.id?"active":""}`,onClick:()=>e(c.id),children:[m.jsx("span",{className:"nav-icon",children:c.icon}),m.jsx("span",{className:"nav-label",children:c.label})]},c.id))}),m.jsxs("div",{className:"sidebar-footer",children:[m.jsxs("div",{className:"sidebar-user",children:[m.jsx("span",{className:"sidebar-avatar",children:t.charAt(0).toUpperCase()}),m.jsx("span",{className:"sidebar-username",children:t})]}),m.jsxs("div",{className:"sidebar-controls",children:[m.jsx("button",{className:"sidebar-control-btn",onClick:a,title:s?"Light Mode":"Dark Mode",children:s?"":""}),m.jsx("button",{className:"sidebar-control-btn",onClick:r,title:"Sign Out",children:""})]})]})]})}function tj({task:n,onClose:e,onComplete:t,onUpdateTime:r}){const[s,a]=T.useState(n.isTracking||!1),[l,c]=T.useState(n.timeSpent||0),[d,h]=T.useState(n.pomodoroActive||!1),[p,y]=T.useState(n.pomodoroTime||1500),[v,_]=T.useState(n.pomodoroMode||"work"),b=T.useRef(null),S=T.useRef(null),x=T.useRef(l),E=B=>{const V=Math.floor(B/3600),ne=Math.floor(B%3600/60),ae=B%60;return V>0?`${V}:${String(ne).padStart(2,"0")}:${String(ae).padStart(2,"0")}`:`${ne}:${String(ae).padStart(2,"0")}`},N=()=>{if(!n.dueDate)return"No due date";const[B,V,ne]=n.dueDate.split("-").map(Number),ae=new Date(B,V-1,ne),oe={weekday:"long",month:"long",day:"numeric"},fe=ae.toLocaleDateString("en-US",oe);return n.dueTime?`${fe} at ${n.dueTime}`:fe},j=()=>{s?(b.current&&(clearInterval(b.current),b.current=null),r(n.id,{timeSpent:l}),a(!1)):(a(!0),b.current=setInterval(()=>{c(B=>B+1)},1e3))},O=()=>{b.current&&(clearInterval(b.current),b.current=null),c(0),a(!1),r(n.id,{timeSpent:0})},D=()=>{const B=!d;if(B&&!d)if(l>=1500)y(1500),_("work");else{const V=1500-l;y(V),_("work")}h(B),d&&S.current&&(clearInterval(S.current),S.current=null)},I=()=>{S.current?(clearInterval(S.current),S.current=null):S.current=setInterval(()=>{v==="work"&&c(B=>B+1),y(B=>B<=1?(S.current&&(clearInterval(S.current),S.current=null),v==="work"?(_("break"),300):(_("work"),1500)):B-1)},1e3)},P=()=>{S.current&&(clearInterval(S.current),S.current=null),_("work"),y(1500)},$=()=>{b.current&&clearInterval(b.current),S.current&&clearInterval(S.current),r(n.id,{timeSpent:l,pomodoroTime:d?p:null,pomodoroMode:d?v:null,pomodoroActive:d}),e()},L=()=>{b.current&&(clearInterval(b.current),r(n.id,{timeSpent:l})),t(n.id),e()};T.useEffect(()=>{const B=V=>{V.key==="Escape"?$():V.key===" "&&(V.preventDefault(),d?I():j())};return window.addEventListener("keydown",B),()=>{window.removeEventListener("keydown",B)}},[d,l]),T.useEffect(()=>{x.current=l},[l]),T.useEffect(()=>()=>{b.current&&clearInterval(b.current),S.current&&clearInterval(S.current),x.current>0&&r(n.id,{timeSpent:x.current})},[]);const F=()=>{switch(n.priority){case"high":return"#ff6b6b";case"medium":return"#ffd93d";case"low":return"#6bcf7f";default:return"#999"}};return m.jsx("div",{className:"focus-mode-overlay",children:m.jsxs("div",{className:"focus-mode-container",children:[m.jsx("button",{className:"focus-close-button",onClick:$,title:"Exit Focus Mode (ESC)",children:""}),m.jsxs("div",{className:"focus-priority-badge",style:{backgroundColor:F()},children:[n.priority," priority"]}),m.jsx("h1",{className:"focus-task-title",children:n.text}),m.jsx("p",{className:"focus-due-date",children:N()}),n.category&&m.jsx("span",{className:"focus-category",children:n.category}),m.jsx("div",{className:"focus-mode-toggle",children:m.jsx("button",{className:`toggle-button ${d?"active":""}`,onClick:D,children:d?" Time Tracking":" Pomodoro"})}),d?m.jsxs("div",{className:"focus-pomodoro-section",children:[m.jsx("div",{className:`focus-pomodoro-mode ${v}`,children:v==="work"?" Work Session":" Break Time"}),m.jsx("div",{className:"focus-pomodoro-display",children:E(p)}),m.jsxs("div",{className:"focus-pomodoro-controls",children:[m.jsx("button",{className:`focus-timer-button ${S.current?"stop":"start"}`,onClick:I,title:"Space to start/stop",children:S.current?" Pause":" Start"}),m.jsx("button",{className:"focus-reset-button",onClick:P,children:"Reset"})]})]}):m.jsxs("div",{className:"focus-time-section",children:[m.jsx("div",{className:"focus-time-display",children:E(l)}),m.jsxs("div",{className:"focus-time-controls",children:[m.jsx("button",{className:`focus-timer-button ${s?"stop":"start"}`,onClick:j,title:"Space to start/stop",children:s?" Pause":" Start"}),l>0&&m.jsx("button",{className:"focus-reset-button",onClick:O,children:"Reset"})]})]}),m.jsx("button",{className:"focus-complete-button",onClick:L,children:" Mark Complete"}),m.jsxs("div",{className:"focus-shortcuts",children:[m.jsx("span",{children:"ESC to exit"}),m.jsx("span",{children:""}),m.jsx("span",{children:"SPACE to start/stop"})]})]})})}function nj({quote:n,onClose:e,duration:t=5e3}){return T.useEffect(()=>{const r=setTimeout(()=>{e()},t);return()=>clearTimeout(r)},[e,t]),m.jsx("div",{className:"celebration-toast",children:m.jsxs("div",{className:"celebration-content",children:[m.jsx("div",{className:"celebration-icon",children:""}),m.jsxs("div",{className:"celebration-message",children:[m.jsx("h3",{className:"celebration-title",children:"Task Completed!"}),m.jsx("blockquote",{className:"celebration-quote",children:n}),m.jsx("div",{className:"celebration-author",children:" Naval Ravikant"})]}),m.jsx("button",{className:"celebration-close",onClick:e,children:""})]})})}function rj(){const[n,e]=T.useState([]),[t,r]=T.useState("all"),[s,a]=T.useState(""),[l,c]=T.useState(!1),[d,h]=T.useState("today"),[p,y]=T.useState("default"),[v,_]=T.useState(!1),[b,S]=T.useState("signin"),[x,E]=T.useState(null),[N,j]=T.useState(!0),[O,D]=T.useState(""),[I,P]=T.useState(""),[$,L]=T.useState(!1),[F,B]=T.useState(null),[V,ne]=T.useState(null),ae=T.useRef(new Set),oe=q=>({...q,sortOrder:typeof q.sortOrder=="number"?q.sortOrder:0}),fe=q=>{try{return JSON.parse(q).map(oe)}catch{return[]}},le=q=>{if(!q)return 0;const ee=n.filter(re=>re.dueDate===q);if(ee.length===0)return 0;const _e=Math.max(...ee.map(re=>re.sortOrder||0));return Number.isFinite(_e)?_e+1:0};T.useEffect(()=>{"Notification"in window&&(y(Notification.permission),Notification.permission==="default"&&Notification.requestPermission().then(q=>{y(q)}))},[]),T.useEffect(()=>{if(localStorage.getItem("guestMode")==="true"){L(!0),D("Guest"),j(!1);const _e=localStorage.getItem("guestTasks");_e&&e(fe(_e));return}Dt.getCurrentUser().then(_e=>{var re,ke;_e&&(E(_e),P(_e.email||""),D(((re=_e.user_metadata)==null?void 0:re.name)||((ke=_e.email)==null?void 0:ke.split("@")[0])||"")),j(!1)});const{data:ee}=Dt.getAuthStateChangeListener((_e,re)=>{var ke,we;_e==="SIGNED_IN"&&(re!=null&&re.user)?(E(re.user),P(re.user.email||""),D(((ke=re.user.user_metadata)==null?void 0:ke.name)||((we=re.user.email)==null?void 0:we.split("@")[0])||"")):_e==="SIGNED_OUT"&&(E(null),P(""),D(""),e([]))});return()=>{ee!=null&&ee.subscription&&ee.subscription.unsubscribe()}},[]),T.useEffect(()=>{(async()=>{const ee=localStorage.getItem("darkMode");ee&&c(JSON.parse(ee)),x&&(localStorage.getItem(`hasCompletedOnboarding_${x.id}`)||_(!0))})()},[x]),T.useEffect(()=>{(async()=>{if(I){const _e=(await Dt.fetchTasks(I)).map(re=>Dt.convertToAppFormat(re));e(_e.map(oe))}})()},[I]),T.useEffect(()=>{$&&localStorage.setItem("guestTasks",JSON.stringify(n))},[n,$]),T.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(l))},[l]),T.useEffect(()=>{const q=()=>{const _e=new Date;n.forEach(re=>{if(re.completed||!re.dueDate||!re.reminderMinutes)return;const ke=`${re.id}-${re.reminderMinutes}`;if(ae.current.has(ke))return;const[we,Oe,nt]=re.dueDate.split("-").map(Number),vt=new Date(we,Oe-1,nt);if(re.dueTime){const[Wn,Fr]=re.dueTime.split(":");vt.setHours(parseInt(Wn),parseInt(Fr),0,0)}else vt.setHours(23,59,59,999);const On=new Date(vt.getTime()-re.reminderMinutes*60*1e3);_e>=On&&_e<new Date(On.getTime()+6e4)&&(G(re),ae.current.add(ke))})};q();const ee=setInterval(q,6e4);return()=>clearInterval(ee)},[n,p]);const G=q=>{if(p==="granted"){const ee=new Notification("Task Reminder",{body:`${q.text}${q.dueTime?` at ${q.dueTime}`:""}`,icon:"",badge:"",tag:`task-${q.id}`,requireInteraction:!0});ee.onclick=()=>{window.focus(),ee.close()}}},Z=(q,ee)=>{if(!ee||!q)return null;const[_e,re,ke]=q.split("-").map(Number),we=new Date(_e,re-1,ke);switch(ee){case"daily":we.setDate(we.getDate()+1);break;case"weekly":we.setDate(we.getDate()+7);break;case"biweekly":we.setDate(we.getDate()+14);break;case"monthly":we.setMonth(we.getMonth()+1);break;case"yearly":we.setFullYear(we.getFullYear()+1);break;default:return null}const Oe=we.getFullYear(),nt=String(we.getMonth()+1).padStart(2,"0"),vt=String(we.getDate()).padStart(2,"0");return`${Oe}-${nt}-${vt}`},R=q=>{if(!q)return q;const ee=q.charAt(0);return/[a-z]/.test(ee)?ee.toUpperCase()+q.slice(1):q},W=async q=>{const ee=q.dueDate||"",_e=typeof q.sortOrder=="number"?q.sortOrder:le(ee),re=q.dueTime||"";let ke=q.scheduledStart;if(!ke&&ee&&re){const[Oe,nt,vt]=ee.split("-").map(Number),[On,Wn]=re.split(":").map(Number);ke=new Date(Oe,nt-1,vt,On||0,Wn||0,0,0).toISOString()}const we={id:Date.now(),text:R(q.text||""),completed:!1,priority:q.priority||"medium",dueDate:ee,dueTime:re,category:q.category||"",reminderMinutes:q.reminderMinutes||null,recurrence:q.recurrence||null,timeSpent:0,isTracking:!1,trackingStartTime:null,scheduledStart:ke,scheduledDuration:q.scheduledDuration||(ke?60:void 0),sortOrder:_e};if(I)try{await Dt.createTask(we,I)}catch(Oe){console.error("Failed to save task to Supabase:",Oe)}e(Oe=>[oe(we),...Oe])},Q=async q=>{const ee=n.find(re=>re.id===q);if(!ee)return;const _e={...ee,completed:!ee.completed};if(!ee.completed&&_e.completed){const re=v1("completion");ne(re)}if(!ee.completed&&ee.recurrence&&_e.completed){const re=Z(ee.dueDate,ee.recurrence);if(re){const ke={id:Date.now()+1,text:ee.text,completed:!1,priority:ee.priority,dueDate:re,dueTime:ee.dueTime,category:ee.category,reminderMinutes:ee.reminderMinutes,recurrence:ee.recurrence,timeSpent:0,isTracking:!1,trackingStartTime:null};if(I)try{await Dt.createTask(ke,I)}catch(we){console.error("Failed to create recurring task in Supabase:",we)}if(e([...n.map(we=>we.id===q?_e:we),ke]),I)try{await Dt.updateTask(q,_e,I)}catch(we){console.error("Failed to update task in Supabase:",we)}return}}if(I)try{await Dt.updateTask(q,_e,I)}catch(re){console.error("Failed to update task in Supabase:",re)}e(n.map(re=>re.id===q?_e:re))},me=async q=>{if(I)try{await Dt.deleteTask(q,I)}catch(ee){console.error("Failed to delete task from Supabase:",ee)}e(n.filter(ee=>ee.id!==q))},de=async(q,ee)=>{const re={...n.find(ke=>ke.id===q),...ee};if(I)try{await Dt.updateTask(q,re,I)}catch(ke){console.error("Failed to update task in Supabase:",ke)}e(n.map(ke=>ke.id===q?re:ke))},Te=async(q,ee)=>{const _e=new Map;ee.forEach((we,Oe)=>_e.set(we,Oe));const re=[],ke=n.map(we=>{if(we.dueDate===q&&_e.has(we.id)){const Oe=_e.get(we.id);if((we.sortOrder||0)!==Oe){const nt={...we,sortOrder:Oe};return re.push(nt),nt}}return we});re.length!==0&&(e(ke),I&&re.forEach(we=>{Dt.updateTask(we.id,{sortOrder:we.sortOrder},I).catch(Oe=>{console.error("Failed to update task order in Supabase:",Oe)})}))},he=async(q,ee)=>{if(ee.isTracking){const _e=n.map(re=>{if(re.id===q)return{...re,...ee};if(re.isTracking){const ke=Math.floor((Date.now()-(re.trackingStartTime||0))/1e3),we={...re,timeSpent:(re.timeSpent||0)+ke,isTracking:!1,trackingStartTime:null};return I&&Dt.updateTask(re.id,we,I).catch(Oe=>{console.error("Failed to update stopped task in Supabase:",Oe)}),we}return re});e(_e)}else{const re={...n.find(ke=>ke.id===q),...ee};e(n.map(ke=>ke.id===q?re:ke))}if(I){const re={...n.find(ke=>ke.id===q),...ee};try{await Dt.updateTask(q,re,I)}catch(ke){console.error("Failed to update task time in Supabase:",ke)}}},je=async()=>{if(I)try{await Dt.deleteCompletedTasks(I)}catch(q){console.error("Failed to delete completed tasks from Supabase:",q)}e(n.filter(q=>!q.completed))},Ee=()=>{x&&localStorage.setItem(`hasCompletedOnboarding_${x.id}`,"true"),_(!1)},ze=async()=>{if($){localStorage.removeItem("guestMode"),localStorage.removeItem("guestTasks"),L(!1),D(""),e([]);return}try{await Dt.signOut()}catch(q){console.error("Error signing out:",q)}},De=()=>{localStorage.setItem("guestMode","true"),L(!0),D("Guest"),j(!1);const q=localStorage.getItem("guestTasks");q&&e(fe(q))},yt=(()=>{let q=n;switch(t){case"active":q=q.filter(ee=>!ee.completed);break;case"completed":q=q.filter(ee=>ee.completed);break}return s.trim()&&(q=q.filter(ee=>ee.text.toLowerCase().includes(s.toLowerCase())||ee.category&&ee.category.toLowerCase().includes(s.toLowerCase()))),q})(),Mt=n.filter(q=>!q.completed).length;return N?m.jsx("div",{className:`todo-app ${l?"dark-mode":""}`,children:m.jsxs("div",{className:"auth-loading",children:[m.jsx("div",{className:"loading-spinner"}),m.jsx("p",{children:"Loading..."})]})}):!x&&!$?b==="signup"?m.jsx(VC,{onSignUpSuccess:()=>S("signin"),onSwitchToSignIn:()=>S("signin")}):b==="reset"?m.jsx(qC,{onBackToSignIn:()=>S("signin")}):m.jsx(WC,{onSignInSuccess:()=>{},onSwitchToSignUp:()=>S("signup"),onSwitchToReset:()=>S("reset"),onGuestMode:De}):m.jsxs("div",{className:`todo-app ${l?"dark-mode":""}`,children:[F&&m.jsx(tj,{task:F,onClose:()=>B(null),onComplete:Q,onUpdateTime:he}),v&&m.jsx(y1,{onComplete:Ee,addTask:W}),V&&m.jsx(nj,{quote:V,onClose:()=>ne(null)}),m.jsxs("div",{className:"app-layout",children:[m.jsx(ej,{activeView:d,onViewChange:h,userName:O,onSignOut:ze,darkMode:l,onToggleDarkMode:()=>c(!l)}),m.jsxs("div",{className:"main-content",children:[d!=="pomodoro"&&d!=="matrix"&&d!=="timeblocks"&&m.jsx(_1,{userName:O}),d==="today"?m.jsxs(m.Fragment,{children:[m.jsx(Qm,{addTask:W}),m.jsx(Xp,{addTask:W}),m.jsx(vk,{tasks:n,toggleComplete:Q,deleteTask:me,editTask:de,onUpdateTime:he,onFocus:B})]}):d==="tasks"?m.jsxs(m.Fragment,{children:[m.jsx(Qm,{addTask:W}),m.jsx(Xp,{addTask:W}),m.jsx("div",{className:"search-filter-container",children:m.jsx("input",{type:"text",className:"search-input",placeholder:"Search tasks...",value:s,onChange:q=>a(q.target.value)})}),m.jsxs("div",{className:"filter-buttons",children:[m.jsx("button",{className:t==="all"?"filter-btn active":"filter-btn",onClick:()=>r("all"),children:"All"}),m.jsx("button",{className:t==="active"?"filter-btn active":"filter-btn",onClick:()=>r("active"),children:"Active"}),m.jsx("button",{className:t==="completed"?"filter-btn active":"filter-btn",onClick:()=>r("completed"),children:"Completed"})]}),m.jsx("div",{className:"todo-list",children:yt.length===0?m.jsx("p",{className:"empty-state",children:s?"No tasks match your search.":t==="completed"?"No completed tasks yet!":t==="active"?"No active tasks! Add one above.":"No tasks yet! Add your first task above."}):yt.map(q=>m.jsx(so,{task:q,toggleComplete:Q,deleteTask:me,editTask:de,onUpdateTime:he,onFocus:B},q.id))}),n.length>0&&m.jsxs("div",{className:"todo-footer",children:[m.jsxs("span",{className:"task-count",children:[Mt," ",Mt===1?"task":"tasks"," remaining"]}),n.some(q=>q.completed)&&m.jsx("button",{className:"clear-completed",onClick:je,children:"Clear Completed"})]})]}):d==="upcoming"?m.jsx(f1,{tasks:n,onToggleComplete:Q,onDeleteTask:me,onAddTask:W,onUpdateTask:de,onFocus:B,onReorderDay:Te}):d==="pomodoro"?m.jsx(KC,{}):d==="matrix"?m.jsx(YC,{tasks:n,toggleComplete:Q,deleteTask:me,editTask:de,onUpdateTime:he,onFocus:B}):d==="timeblocks"?m.jsx(ZC,{tasks:n,onUpdateTask:he,onTaskClick:B}):m.jsx(yk,{tasks:n})]})]})]})}const h0=document.getElementById("root");if(!h0)throw new Error("Failed to find the root element");const ij=y_.createRoot(h0);ij.render(m.jsx(Ye.StrictMode,{children:m.jsx(rj,{})}));
