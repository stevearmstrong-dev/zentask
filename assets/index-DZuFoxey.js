var Ww=Object.defineProperty;var Vw=(n,e,t)=>e in n?Ww(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ve=(n,e,t)=>Vw(n,typeof e!="symbol"?e+"":e,t);function qw(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function kd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Kw(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var xu={exports:{}},Ws={},Su={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function Yw(){if(Ip)return Ee;Ip=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=m&&P[m]||P["@@iterator"],typeof P=="function"?P:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function S(P,W,Z){this.props=P,this.context=W,this.refs=x,this.updater=Z||_}S.prototype.isReactComponent={},S.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},S.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=S.prototype;function R(P,W,Z){this.props=P,this.context=W,this.refs=x,this.updater=Z||_}var C=R.prototype=new T;C.constructor=R,b(C,S.prototype),C.isPureReactComponent=!0;var A=Array.isArray,M=Object.prototype.hasOwnProperty,I={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function $(P,W,Z){var we,pe={},ke=null,ge=null;if(W!=null)for(we in W.ref!==void 0&&(ge=W.ref),W.key!==void 0&&(ke=""+W.key),W)M.call(W,we)&&!O.hasOwnProperty(we)&&(pe[we]=W[we]);var Ne=arguments.length-2;if(Ne===1)pe.children=Z;else if(1<Ne){for(var Ce=Array(Ne),Ze=0;Ze<Ne;Ze++)Ce[Ze]=arguments[Ze+2];pe.children=Ce}if(P&&P.defaultProps)for(we in Ne=P.defaultProps,Ne)pe[we]===void 0&&(pe[we]=Ne[we]);return{$$typeof:n,type:P,key:ke,ref:ge,props:pe,_owner:I.current}}function L(P,W){return{$$typeof:n,type:P.type,key:W,ref:P.ref,props:P.props,_owner:P._owner}}function H(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function B(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Z){return W[Z]})}var Y=/\/+/g;function ie(P,W){return typeof P=="object"&&P!==null&&P.key!=null?B(""+P.key):W.toString(36)}function de(P,W,Z,we,pe){var ke=typeof P;(ke==="undefined"||ke==="boolean")&&(P=null);var ge=!1;if(P===null)ge=!0;else switch(ke){case"string":case"number":ge=!0;break;case"object":switch(P.$$typeof){case n:case e:ge=!0}}if(ge)return ge=P,pe=pe(ge),P=we===""?"."+ie(ge,0):we,A(pe)?(Z="",P!=null&&(Z=P.replace(Y,"$&/")+"/"),de(pe,W,Z,"",function(Ze){return Ze})):pe!=null&&(H(pe)&&(pe=L(pe,Z+(!pe.key||ge&&ge.key===pe.key?"":(""+pe.key).replace(Y,"$&/")+"/")+P)),W.push(pe)),1;if(ge=0,we=we===""?".":we+":",A(P))for(var Ne=0;Ne<P.length;Ne++){ke=P[Ne];var Ce=we+ie(ke,Ne);ge+=de(ke,W,Z,Ce,pe)}else if(Ce=w(P),typeof Ce=="function")for(P=Ce.call(P),Ne=0;!(ke=P.next()).done;)ke=ke.value,Ce=we+ie(ke,Ne++),ge+=de(ke,W,Z,Ce,pe);else if(ke==="object")throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ge}function he(P,W,Z){if(P==null)return P;var we=[],pe=0;return de(P,we,"","",function(ke){return W.call(Z,ke,pe++)}),we}function ye(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(Z){(P._status===0||P._status===-1)&&(P._status=1,P._result=Z)},function(Z){(P._status===0||P._status===-1)&&(P._status=2,P._result=Z)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var le={current:null},K={transition:null},X={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:K,ReactCurrentOwner:I};return Ee.Children={map:he,forEach:function(P,W,Z){he(P,function(){W.apply(this,arguments)},Z)},count:function(P){var W=0;return he(P,function(){W++}),W},toArray:function(P){return he(P,function(W){return W})||[]},only:function(P){if(!H(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ee.Component=S,Ee.Fragment=t,Ee.Profiler=s,Ee.PureComponent=R,Ee.StrictMode=r,Ee.Suspense=d,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ee.cloneElement=function(P,W,Z){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var we=b({},P.props),pe=P.key,ke=P.ref,ge=P._owner;if(W!=null){if(W.ref!==void 0&&(ke=W.ref,ge=I.current),W.key!==void 0&&(pe=""+W.key),P.type&&P.type.defaultProps)var Ne=P.type.defaultProps;for(Ce in W)M.call(W,Ce)&&!O.hasOwnProperty(Ce)&&(we[Ce]=W[Ce]===void 0&&Ne!==void 0?Ne[Ce]:W[Ce])}var Ce=arguments.length-2;if(Ce===1)we.children=Z;else if(1<Ce){Ne=Array(Ce);for(var Ze=0;Ze<Ce;Ze++)Ne[Ze]=arguments[Ze+2];we.children=Ne}return{$$typeof:n,type:P.type,key:pe,ref:ke,props:we,_owner:ge}},Ee.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:a,_context:P},P.Consumer=P},Ee.createElement=$,Ee.createFactory=function(P){var W=$.bind(null,P);return W.type=P,W},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(P){return{$$typeof:u,render:P}},Ee.isValidElement=H,Ee.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:ye}},Ee.memo=function(P,W){return{$$typeof:f,type:P,compare:W===void 0?null:W}},Ee.startTransition=function(P){var W=K.transition;K.transition={};try{P()}finally{K.transition=W}},Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ee.useCallback=function(P,W){return le.current.useCallback(P,W)},Ee.useContext=function(P){return le.current.useContext(P)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(P){return le.current.useDeferredValue(P)},Ee.useEffect=function(P,W){return le.current.useEffect(P,W)},Ee.useId=function(){return le.current.useId()},Ee.useImperativeHandle=function(P,W,Z){return le.current.useImperativeHandle(P,W,Z)},Ee.useInsertionEffect=function(P,W){return le.current.useInsertionEffect(P,W)},Ee.useLayoutEffect=function(P,W){return le.current.useLayoutEffect(P,W)},Ee.useMemo=function(P,W){return le.current.useMemo(P,W)},Ee.useReducer=function(P,W,Z){return le.current.useReducer(P,W,Z)},Ee.useRef=function(P){return le.current.useRef(P)},Ee.useState=function(P){return le.current.useState(P)},Ee.useSyncExternalStore=function(P,W,Z){return le.current.useSyncExternalStore(P,W,Z)},Ee.useTransition=function(){return le.current.useTransition()},Ee.version="18.0.0-fc46dba67-20220329",Ee}var Lp;function Ed(){return Lp||(Lp=1,Su.exports=Yw()),Su.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function Gw(){if(Fp)return Ws;Fp=1;var n=Ed(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,m={},w=null,_=null;f!==void 0&&(w=""+f),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(_=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:w,ref:_,props:m,_owner:s.current}}return Ws.Fragment=t,Ws.jsx=l,Ws.jsxs=l,Ws}var $p;function Jw(){return $p||($p=1,xu.exports=Gw()),xu.exports}var y=Jw(),j=Ed();const Je=kd(j);var Ba={},ku={exports:{}},$t={},Eu={exports:{}},Cu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function Qw(){return zp||(zp=1,(function(n){function e(K,X){var P=K.length;K.push(X);e:for(;0<P;){var W=P-1>>>1,Z=K[W];if(0<s(Z,X))K[W]=X,K[P]=Z,P=W;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var X=K[0],P=K.pop();if(P!==X){K[0]=P;e:for(var W=0,Z=K.length,we=Z>>>1;W<we;){var pe=2*(W+1)-1,ke=K[pe],ge=pe+1,Ne=K[ge];if(0>s(ke,P))ge<Z&&0>s(Ne,ke)?(K[W]=Ne,K[ge]=P,W=ge):(K[W]=ke,K[pe]=P,W=pe);else if(ge<Z&&0>s(Ne,P))K[W]=Ne,K[ge]=P,W=ge;else break e}}return X}function s(K,X){var P=K.sortIndex-X.sortIndex;return P!==0?P:K.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,w=3,_=!1,b=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(K){for(var X=t(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=K)r(f),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(f)}}function A(K){if(x=!1,C(K),!b)if(t(d)!==null)b=!0,ye(M);else{var X=t(f);X!==null&&le(A,X.startTime-K)}}function M(K,X){b=!1,x&&(x=!1,T($),$=-1),_=!0;var P=w;try{for(C(X),m=t(d);m!==null&&(!(m.expirationTime>X)||K&&!B());){var W=m.callback;if(typeof W=="function"){m.callback=null,w=m.priorityLevel;var Z=W(m.expirationTime<=X);X=n.unstable_now(),typeof Z=="function"?m.callback=Z:m===t(d)&&r(d),C(X)}else r(d);m=t(d)}if(m!==null)var we=!0;else{var pe=t(f);pe!==null&&le(A,pe.startTime-X),we=!1}return we}finally{m=null,w=P,_=!1}}var I=!1,O=null,$=-1,L=5,H=-1;function B(){return!(n.unstable_now()-H<L)}function Y(){if(O!==null){var K=n.unstable_now();H=K;var X=!0;try{X=O(!0,K)}finally{X?ie():(I=!1,O=null)}}else I=!1}var ie;if(typeof R=="function")ie=function(){R(Y)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,he=de.port2;de.port1.onmessage=Y,ie=function(){he.postMessage(null)}}else ie=function(){S(Y,0)};function ye(K){O=K,I||(I=!0,ie())}function le(K,X){$=S(function(){K(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){b||_||(b=!0,ye(M))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(K){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var P=w;w=X;try{return K()}finally{w=P}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var P=w;w=K;try{return X()}finally{w=P}},n.unstable_scheduleCallback=function(K,X,P){var W=n.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?W+P:W):P=W,K){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=P+Z,K={id:p++,callback:X,priorityLevel:K,startTime:P,expirationTime:Z,sortIndex:-1},P>W?(K.sortIndex=P,e(f,K),t(d)===null&&K===t(f)&&(x?(T($),$=-1):x=!0,le(A,P-W))):(K.sortIndex=Z,e(d,K),b||_||(b=!0,ye(M))),K},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(K){var X=w;return function(){var P=w;w=X;try{return K.apply(this,arguments)}finally{w=P}}}})(Cu)),Cu}var Bp;function Xw(){return Bp||(Bp=1,Eu.exports=Qw()),Eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Zw(){if(Up)return $t;Up=1;var n=Ed(),e=Xw();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function w(i){return d.call(m,i)?!0:d.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function _(i,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,c,h){if(o===null||typeof o>"u"||_(i,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(i,o,c,h,g,v,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=k}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];S[o]=new x(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(T,R);S[o]=new x(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(T,R);S[o]=new x(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(T,R);S[o]=new x(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function C(i,o,c,h){var g=S.hasOwnProperty(o)?S[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,c,g,h)&&(c=null),h||g===null?w(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):g.mustUseProperty?i[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,h=g.attributeNamespace,c===null?i.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?i.setAttributeNS(h,o,c):i.setAttribute(o,c))))}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),B=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),K=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var P=Object.assign,W;function Z(i){if(W===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+i}var we=!1;function pe(i,o){if(!i||we)return"";we=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(U){var h=U}Reflect.construct(i,[],o)}else{try{o.call()}catch(U){h=U}i.call(o.prototype)}else{try{throw Error()}catch(U){h=U}i()}}catch(U){if(U&&h&&typeof U.stack=="string"){for(var g=U.stack.split(`
`),v=h.stack.split(`
`),k=g.length-1,E=v.length-1;1<=k&&0<=E&&g[k]!==v[E];)E--;for(;1<=k&&0<=E;k--,E--)if(g[k]!==v[E]){if(k!==1||E!==1)do if(k--,E--,0>E||g[k]!==v[E]){var N=`
`+g[k].replace(" at new "," at ");return i.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",i.displayName)),N}while(1<=k&&0<=E);break}}}finally{we=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?Z(i):""}function ke(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=pe(i.type,!1),i;case 11:return i=pe(i.type.render,!1),i;case 1:return i=pe(i.type,!0),i;default:return""}}function ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case I:return"Portal";case L:return"Profiler";case $:return"StrictMode";case ie:return"Suspense";case de:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case B:return(i.displayName||"Context")+".Consumer";case H:return(i._context.displayName||"Context")+".Provider";case Y:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case he:return o=i.displayName||null,o!==null?o:ge(i.type)||"Memo";case ye:o=i._payload,i=i._init;try{return ge(i(o))}catch{}}return null}function Ne(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(o);case 8:return o===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ce(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ze(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Q(i){var o=Ze(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(k){h=""+k,v.call(this,k)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(k){h=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function re(i){i._valueTracker||(i._valueTracker=Q(i))}function xe(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=Ze(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function se(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Se(i,o){var c=o.checked;return P({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Te(i,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Ce(o.value!=null?o.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ct(i,o){o=o.checked,o!=null&&C(i,"checked",o,!1)}function Cn(i,o){Ct(i,o);var c=Ce(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Tn(i,o.type,c):o.hasOwnProperty("defaultValue")&&Tn(i,o.type,Ce(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function fn(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Tn(i,o,c){(o!=="number"||se(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var pt=Array.isArray;function Wt(i,o,c,h){if(i=i.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=o.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Ce(c),o=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function ir(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return P({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function rs(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(pt(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:Ce(c)}}function is(i,o){var c=Ce(o.value),h=Ce(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function jo(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Oo(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Oo(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var pn,sr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,g){MSApp.execUnsafeLocalFunction(function(){return i(o,c,h,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(pn=pn||document.createElement("div"),pn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=pn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function or(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ro=["Webkit","ms","Moz","O"];Object.keys(Pt).forEach(function(i){Ro.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Pt[o]=Pt[i]})});function Po(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Pt.hasOwnProperty(i)&&Pt[i]?(""+o).trim():o+"px"}function No(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=Po(c,o[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,g):i[c]=g}}var ss=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ui(i,o){if(o){if(ss[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function os(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=null;function as(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ls=null,ar=null,Ve=null;function gt(i){if(i=js(i)){if(typeof ls!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Xo(o),ls(i.stateNode,i.type,o))}}function mt(i){ar?Ve?Ve.push(i):Ve=[i]:ar=i}function gn(){if(ar){var i=ar,o=Ve;if(Ve=ar=null,gt(i),o)for(i=0;i<o.length;i++)gt(o[i])}}function Tt(i,o){return i(o)}function yt(){}var Nt=!1;function zn(i,o,c){if(Nt)return i(o,c);Nt=!0;try{return Tt(i,o,c)}finally{Nt=!1,(ar!==null||Ve!==null)&&(yt(),gn())}}function qe(i,o){var c=i.stateNode;if(c===null)return null;var h=Xo(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var Xt=!1;if(u)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){Xt=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{Xt=!1}function mn(i,o,c,h,g,v,k,E,N){var U=Array.prototype.slice.call(arguments,3);try{o.apply(c,U)}catch(V){this.onError(V)}}var yn=!1,On=null,Vt=!1,Bn=null,cs={onError:function(i){yn=!0,On=i}};function Xv(i,o,c,h,g,v,k,E,N){yn=!1,On=null,mn.apply(cs,arguments)}function Zv(i,o,c,h,g,v,k,E,N){if(Xv.apply(this,arguments),yn){if(yn){var U=On;yn=!1,On=null}else throw Error(t(198));Vt||(Vt=!0,Bn=U)}}function Ir(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function oh(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function ah(i){if(Ir(i)!==i)throw Error(t(188))}function e0(i){var o=i.alternate;if(!o){if(o=Ir(i),o===null)throw Error(t(188));return o!==i?null:i}for(var c=i,h=o;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return ah(g),i;if(v===h)return ah(g),o;v=v.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=v;else{for(var k=!1,E=g.child;E;){if(E===c){k=!0,c=g,h=v;break}if(E===h){k=!0,h=g,c=v;break}E=E.sibling}if(!k){for(E=v.child;E;){if(E===c){k=!0,c=v,h=g;break}if(E===h){k=!0,h=v,c=g;break}E=E.sibling}if(!k)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:o}function lh(i){return i=e0(i),i!==null?ch(i):null}function ch(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ch(i);if(o!==null)return o;i=i.sibling}return null}var uh=e.unstable_scheduleCallback,dh=e.unstable_cancelCallback,t0=e.unstable_shouldYield,n0=e.unstable_requestPaint,Qe=e.unstable_now,r0=e.unstable_getCurrentPriorityLevel,Kl=e.unstable_ImmediatePriority,hh=e.unstable_UserBlockingPriority,Ao=e.unstable_NormalPriority,i0=e.unstable_LowPriority,fh=e.unstable_IdlePriority,Do=null,Rn=null;function s0(i){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Do,i,void 0,(i.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:l0,o0=Math.log,a0=Math.LN2;function l0(i){return i>>>=0,i===0?32:31-(o0(i)/a0|0)|0}var Mo=64,Io=4194304;function us(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Lo(i,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,g=i.suspendedLanes,v=i.pingedLanes,k=c&268435455;if(k!==0){var E=k&~g;E!==0?h=us(E):(v&=k,v!==0&&(h=us(v)))}else k=c&~g,k!==0?h=us(k):v!==0&&(h=us(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,v=o&-o,g>=v||g===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)c=31-vn(o),g=1<<c,h|=i[c],o&=~g;return h}function c0(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u0(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes;0<v;){var k=31-vn(v),E=1<<k,N=g[k];N===-1?((E&c)===0||(E&h)!==0)&&(g[k]=c0(E,o)):N<=o&&(i.expiredLanes|=E),v&=~E}}function Yl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Gl(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function ds(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-vn(o),i[o]=c}function d0(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var g=31-vn(c),v=1<<g;o[g]=0,h[g]=-1,i[g]=-1,c&=~v}}function Jl(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-vn(c),g=1<<h;g&o|i[h]&o&&(i[h]|=o),c&=~g}}var Ae=0;function ph(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var gh,Ql,mh,yh,vh,Xl=!1,Fo=[],lr=null,cr=null,ur=null,hs=new Map,fs=new Map,dr=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wh(i,o){switch(i){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":hs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(o.pointerId)}}function ps(i,o,c,h,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},o!==null&&(o=js(o),o!==null&&Ql(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function f0(i,o,c,h,g){switch(o){case"focusin":return lr=ps(lr,i,o,c,h,g),!0;case"dragenter":return cr=ps(cr,i,o,c,h,g),!0;case"mouseover":return ur=ps(ur,i,o,c,h,g),!0;case"pointerover":var v=g.pointerId;return hs.set(v,ps(hs.get(v)||null,i,o,c,h,g)),!0;case"gotpointercapture":return v=g.pointerId,fs.set(v,ps(fs.get(v)||null,i,o,c,h,g)),!0}return!1}function _h(i){var o=Lr(i.target);if(o!==null){var c=Ir(o);if(c!==null){if(o=c.tag,o===13){if(o=oh(c),o!==null){i.blockedOn=o,vh(i.priority,function(){mh(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $o(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=ec(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);di=h,c.target.dispatchEvent(h),di=null}else return o=js(c),o!==null&&Ql(o),i.blockedOn=c,!1;o.shift()}return!0}function bh(i,o,c){$o(i)&&c.delete(o)}function p0(){Xl=!1,lr!==null&&$o(lr)&&(lr=null),cr!==null&&$o(cr)&&(cr=null),ur!==null&&$o(ur)&&(ur=null),hs.forEach(bh),fs.forEach(bh)}function gs(i,o){i.blockedOn===o&&(i.blockedOn=null,Xl||(Xl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,p0)))}function ms(i){function o(g){return gs(g,i)}if(0<Fo.length){gs(Fo[0],i);for(var c=1;c<Fo.length;c++){var h=Fo[c];h.blockedOn===i&&(h.blockedOn=null)}}for(lr!==null&&gs(lr,i),cr!==null&&gs(cr,i),ur!==null&&gs(ur,i),hs.forEach(o),fs.forEach(o),c=0;c<dr.length;c++)h=dr[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<dr.length&&(c=dr[0],c.blockedOn===null);)_h(c),c.blockedOn===null&&dr.shift()}var hi=A.ReactCurrentBatchConfig;function g0(i,o,c,h){var g=Ae,v=hi.transition;hi.transition=null;try{Ae=1,Zl(i,o,c,h)}finally{Ae=g,hi.transition=v}}function m0(i,o,c,h){var g=Ae,v=hi.transition;hi.transition=null;try{Ae=4,Zl(i,o,c,h)}finally{Ae=g,hi.transition=v}}function Zl(i,o,c,h){var g=ec(i,o,c,h);if(g===null)yc(i,o,h,zo,c),wh(i,h);else if(f0(g,i,o,c,h))h.stopPropagation();else if(wh(i,h),o&4&&-1<h0.indexOf(i)){for(;g!==null;){var v=js(g);if(v!==null&&gh(v),v=ec(i,o,c,h),v===null&&yc(i,o,h,zo,c),v===g)break;g=v}g!==null&&h.stopPropagation()}else yc(i,o,h,null,c)}var zo=null;function ec(i,o,c,h){if(zo=null,i=as(h),i=Lr(i),i!==null)if(o=Ir(i),o===null)i=null;else if(c=o.tag,c===13){if(i=oh(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return zo=i,null}function xh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r0()){case Kl:return 1;case hh:return 4;case Ao:case i0:return 16;case fh:return 536870912;default:return 16}default:return 16}}var hr=null,tc=null,Bo=null;function Sh(){if(Bo)return Bo;var i,o=tc,c=o.length,h,g="value"in hr?hr.value:hr.textContent,v=g.length;for(i=0;i<c&&o[i]===g[i];i++);var k=c-i;for(h=1;h<=k&&o[c-h]===g[v-h];h++);return Bo=g.slice(i,1<h?1-h:void 0)}function Uo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ho(){return!0}function kh(){return!1}function qt(i){function o(c,h,g,v,k){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=k,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(c=i[E],this[E]=c?c(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ho:kh,this.isPropagationStopped=kh,this}return P(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),o}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=qt(fi),ys=P({},fi,{view:0,detail:0}),y0=qt(ys),rc,ic,vs,Wo=P({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vs&&(vs&&i.type==="mousemove"?(rc=i.screenX-vs.screenX,ic=i.screenY-vs.screenY):ic=rc=0,vs=i),rc)},movementY:function(i){return"movementY"in i?i.movementY:ic}}),Eh=qt(Wo),v0=P({},Wo,{dataTransfer:0}),w0=qt(v0),_0=P({},ys,{relatedTarget:0}),sc=qt(_0),b0=P({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=qt(b0),S0=P({},fi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),k0=qt(S0),E0=P({},fi,{data:0}),Ch=qt(E0),C0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O0(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=j0[i])?!!o[i]:!1}function oc(){return O0}var R0=P({},ys,{key:function(i){if(i.key){var o=C0[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Uo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?T0[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(i){return i.type==="keypress"?Uo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Uo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),P0=qt(R0),N0=P({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=qt(N0),A0=P({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),D0=qt(A0),M0=P({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I0=qt(M0),L0=P({},Wo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),F0=qt(L0),$0=[9,13,27,32],ac=u&&"CompositionEvent"in window,ws=null;u&&"documentMode"in document&&(ws=document.documentMode);var z0=u&&"TextEvent"in window&&!ws,jh=u&&(!ac||ws&&8<ws&&11>=ws),Oh=" ",Rh=!1;function Ph(i,o){switch(i){case"keyup":return $0.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pi=!1;function B0(i,o){switch(i){case"compositionend":return Nh(o);case"keypress":return o.which!==32?null:(Rh=!0,Oh);case"textInput":return i=o.data,i===Oh&&Rh?null:i;default:return null}}function U0(i,o){if(pi)return i==="compositionend"||!ac&&Ph(i,o)?(i=Sh(),Bo=tc=hr=null,pi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return jh&&o.locale!=="ko"?null:o.data;default:return null}}var H0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!H0[i.type]:o==="textarea"}function Dh(i,o,c,h){mt(h),o=Go(o,"onChange"),0<o.length&&(c=new nc("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var _s=null,bs=null;function W0(i){Xh(i,0)}function Vo(i){var o=wi(i);if(xe(o))return i}function V0(i,o){if(i==="change")return o}var Mh=!1;if(u){var lc;if(u){var cc="oninput"in document;if(!cc){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),cc=typeof Ih.oninput=="function"}lc=cc}else lc=!1;Mh=lc&&(!document.documentMode||9<document.documentMode)}function Lh(){_s&&(_s.detachEvent("onpropertychange",Fh),bs=_s=null)}function Fh(i){if(i.propertyName==="value"&&Vo(bs)){var o=[];Dh(o,bs,i,as(i)),zn(W0,o)}}function q0(i,o,c){i==="focusin"?(Lh(),_s=o,bs=c,_s.attachEvent("onpropertychange",Fh)):i==="focusout"&&Lh()}function K0(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vo(bs)}function Y0(i,o){if(i==="click")return Vo(o)}function G0(i,o){if(i==="input"||i==="change")return Vo(o)}function J0(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Pn=typeof Object.is=="function"?Object.is:J0;function xs(i,o){if(Pn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!d.call(o,g)||!Pn(i[g],o[g]))return!1}return!0}function $h(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function zh(i,o){var c=$h(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=$h(c)}}function Bh(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Bh(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Uh(){for(var i=window,o=se();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=se(i.document)}return o}function uc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Q0(i){var o=Uh(),c=i.focusedElem,h=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&Bh(c.ownerDocument.documentElement,c)){if(h!==null&&uc(c)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=c.textContent.length,v=Math.min(h.start,g);h=h.end===void 0?v:Math.min(h.end,g),!i.extend&&v>h&&(g=h,h=v,v=g),g=zh(c,v);var k=zh(c,h);g&&k&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),v>h?(i.addRange(o),i.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var X0=u&&"documentMode"in document&&11>=document.documentMode,gi=null,dc=null,Ss=null,hc=!1;function Hh(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;hc||gi==null||gi!==se(h)||(h=gi,"selectionStart"in h&&uc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ss&&xs(Ss,h)||(Ss=h,h=Go(dc,"onSelect"),0<h.length&&(o=new nc("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=gi)))}function qo(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var mi={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},fc={},Wh={};u&&(Wh=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Ko(i){if(fc[i])return fc[i];if(!mi[i])return i;var o=mi[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Wh)return fc[i]=o[c];return i}var Vh=Ko("animationend"),qh=Ko("animationiteration"),Kh=Ko("animationstart"),Yh=Ko("transitionend"),Gh=new Map,Jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(i,o){Gh.set(i,o),a(o,[i])}for(var pc=0;pc<Jh.length;pc++){var gc=Jh[pc],Z0=gc.toLowerCase(),ew=gc[0].toUpperCase()+gc.slice(1);fr(Z0,"on"+ew)}fr(Vh,"onAnimationEnd"),fr(qh,"onAnimationIteration"),fr(Kh,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(Yh,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function Qh(i,o,c){var h=i.type||"unknown-event";i.currentTarget=c,Zv(h,o,void 0,i),i.currentTarget=null}function Xh(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],g=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var k=h.length-1;0<=k;k--){var E=h[k],N=E.instance,U=E.currentTarget;if(E=E.listener,N!==v&&g.isPropagationStopped())break e;Qh(g,E,U),v=N}else for(k=0;k<h.length;k++){if(E=h[k],N=E.instance,U=E.currentTarget,E=E.listener,N!==v&&g.isPropagationStopped())break e;Qh(g,E,U),v=N}}}if(Vt)throw i=Bn,Vt=!1,Bn=null,i}function ze(i,o){var c=o[xc];c===void 0&&(c=o[xc]=new Set);var h=i+"__bubble";c.has(h)||(Zh(o,i,2,!1),c.add(h))}function mc(i,o,c){var h=0;o&&(h|=4),Zh(c,i,h,o)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function Es(i){if(!i[Yo]){i[Yo]=!0,r.forEach(function(c){c!=="selectionchange"&&(tw.has(c)||mc(c,!1,i),mc(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Yo]||(o[Yo]=!0,mc("selectionchange",!1,o))}}function Zh(i,o,c,h){switch(xh(o)){case 1:var g=g0;break;case 4:g=m0;break;default:g=Zl}c=g.bind(null,o,c,i),g=void 0,!Xt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(o,c,{capture:!0,passive:g}):i.addEventListener(o,c,!0):g!==void 0?i.addEventListener(o,c,{passive:g}):i.addEventListener(o,c,!1)}function yc(i,o,c,h,g){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var E=h.stateNode.containerInfo;if(E===g||E.nodeType===8&&E.parentNode===g)break;if(k===4)for(k=h.return;k!==null;){var N=k.tag;if((N===3||N===4)&&(N=k.stateNode.containerInfo,N===g||N.nodeType===8&&N.parentNode===g))return;k=k.return}for(;E!==null;){if(k=Lr(E),k===null)return;if(N=k.tag,N===5||N===6){h=v=k;continue e}E=E.parentNode}}h=h.return}zn(function(){var U=v,V=as(c),oe=[];e:{var G=Gh.get(i);if(G!==void 0){var te=nc,J=i;switch(i){case"keypress":if(Uo(c)===0)break e;case"keydown":case"keyup":te=P0;break;case"focusin":J="focus",te=sc;break;case"focusout":J="blur",te=sc;break;case"beforeblur":case"afterblur":te=sc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=w0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=D0;break;case Vh:case qh:case Kh:te=x0;break;case Yh:te=I0;break;case"scroll":te=y0;break;case"wheel":te=F0;break;case"copy":case"cut":case"paste":te=k0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Th}var be=(o&4)!==0,Ue=!be&&i==="scroll",F=be?G!==null?G+"Capture":null:G;be=[];for(var D=U,z;D!==null;){z=D;var q=z.stateNode;if(z.tag===5&&q!==null&&(z=q,F!==null&&(q=qe(D,F),q!=null&&be.push(Cs(D,q,z)))),Ue)break;D=D.return}0<be.length&&(G=new te(G,J,null,c,V),oe.push({event:G,listeners:be}))}}if((o&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",G&&c!==di&&(J=c.relatedTarget||c.fromElement)&&(Lr(J)||J[Hn]))break e;if((te||G)&&(G=V.window===V?V:(G=V.ownerDocument)?G.defaultView||G.parentWindow:window,te?(J=c.relatedTarget||c.toElement,te=U,J=J?Lr(J):null,J!==null&&(Ue=Ir(J),J!==Ue||J.tag!==5&&J.tag!==6)&&(J=null)):(te=null,J=U),te!==J)){if(be=Eh,q="onMouseLeave",F="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(be=Th,q="onPointerLeave",F="onPointerEnter",D="pointer"),Ue=te==null?G:wi(te),z=J==null?G:wi(J),G=new be(q,D+"leave",te,c,V),G.target=Ue,G.relatedTarget=z,q=null,Lr(V)===U&&(be=new be(F,D+"enter",J,c,V),be.target=z,be.relatedTarget=Ue,q=be),Ue=q,te&&J)t:{for(be=te,F=J,D=0,z=be;z;z=yi(z))D++;for(z=0,q=F;q;q=yi(q))z++;for(;0<D-z;)be=yi(be),D--;for(;0<z-D;)F=yi(F),z--;for(;D--;){if(be===F||F!==null&&be===F.alternate)break t;be=yi(be),F=yi(F)}be=null}else be=null;te!==null&&ef(oe,G,te,be,!1),J!==null&&Ue!==null&&ef(oe,Ue,J,be,!0)}}e:{if(G=U?wi(U):window,te=G.nodeName&&G.nodeName.toLowerCase(),te==="select"||te==="input"&&G.type==="file")var ne=V0;else if(Ah(G))if(Mh)ne=G0;else{ne=K0;var ce=q0}else(te=G.nodeName)&&te.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ne=Y0);if(ne&&(ne=ne(i,U))){Dh(oe,ne,c,V);break e}ce&&ce(i,G,U),i==="focusout"&&(ce=G._wrapperState)&&ce.controlled&&G.type==="number"&&Tn(G,"number",G.value)}switch(ce=U?wi(U):window,i){case"focusin":(Ah(ce)||ce.contentEditable==="true")&&(gi=ce,dc=U,Ss=null);break;case"focusout":Ss=dc=gi=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,Hh(oe,c,V);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":Hh(oe,c,V)}var fe;if(ac)e:{switch(i){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else pi?Ph(i,c)&&(me="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(me="onCompositionStart");me&&(jh&&c.locale!=="ko"&&(pi||me!=="onCompositionStart"?me==="onCompositionEnd"&&pi&&(fe=Sh()):(hr=V,tc="value"in hr?hr.value:hr.textContent,pi=!0)),ce=Go(U,me),0<ce.length&&(me=new Ch(me,i,null,c,V),oe.push({event:me,listeners:ce}),fe?me.data=fe:(fe=Nh(c),fe!==null&&(me.data=fe)))),(fe=z0?B0(i,c):U0(i,c))&&(U=Go(U,"onBeforeInput"),0<U.length&&(V=new Ch("onBeforeInput","beforeinput",null,c,V),oe.push({event:V,listeners:U}),V.data=fe))}Xh(oe,o)})}function Cs(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Go(i,o){for(var c=o+"Capture",h=[];i!==null;){var g=i,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=qe(i,c),v!=null&&h.unshift(Cs(i,v,g)),v=qe(i,o),v!=null&&h.push(Cs(i,v,g))),i=i.return}return h}function yi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ef(i,o,c,h,g){for(var v=o._reactName,k=[];c!==null&&c!==h;){var E=c,N=E.alternate,U=E.stateNode;if(N!==null&&N===h)break;E.tag===5&&U!==null&&(E=U,g?(N=qe(c,v),N!=null&&k.unshift(Cs(c,N,E))):g||(N=qe(c,v),N!=null&&k.push(Cs(c,N,E)))),c=c.return}k.length!==0&&i.push({event:o,listeners:k})}var nw=/\r\n?/g,rw=/\u0000|\uFFFD/g;function tf(i){return(typeof i=="string"?i:""+i).replace(nw,`
`).replace(rw,"")}function Jo(i,o,c){if(o=tf(o),tf(i)!==o&&c)throw Error(t(425))}function Qo(){}var vc=null;function wc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,sw=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(i){return nf.resolve(null).then(i).catch(ow)}:_c;function ow(i){setTimeout(function(){throw i})}function bc(i,o){var c=o,h=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){i.removeChild(g),ms(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);ms(o)}function Un(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function rf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var vi=Math.random().toString(36).slice(2),Nn="__reactFiber$"+vi,Ts="__reactProps$"+vi,Hn="__reactContainer$"+vi,xc="__reactEvents$"+vi,aw="__reactListeners$"+vi,lw="__reactHandles$"+vi;function Lr(i){var o=i[Nn];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Hn]||c[Nn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=rf(i);i!==null;){if(c=i[Nn])return c;i=rf(i)}return o}i=c,c=i.parentNode}return null}function js(i){return i=i[Nn]||i[Hn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function wi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Xo(i){return i[Ts]||null}var Sc=[],_i=-1;function pr(i){return{current:i}}function Be(i){0>_i||(i.current=Sc[_i],Sc[_i]=null,_i--)}function Fe(i,o){_i++,Sc[_i]=i.current,i.current=o}var gr={},wt=pr(gr),At=pr(!1),Fr=gr;function bi(i,o){var c=i.type.contextTypes;if(!c)return gr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=o[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Dt(i){return i=i.childContextTypes,i!=null}function Zo(){Be(At),Be(wt)}function sf(i,o,c){if(wt.current!==gr)throw Error(t(168));Fe(wt,o),Fe(At,c)}function of(i,o,c){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(t(108,Ne(i)||"Unknown",g));return P({},c,h)}function ea(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gr,Fr=wt.current,Fe(wt,i),Fe(At,At.current),!0}function af(i,o,c){var h=i.stateNode;if(!h)throw Error(t(169));c?(i=of(i,o,Fr),h.__reactInternalMemoizedMergedChildContext=i,Be(At),Be(wt),Fe(wt,i)):Be(At),Fe(At,c)}var Wn=null,ta=!1,kc=!1;function lf(i){Wn===null?Wn=[i]:Wn.push(i)}function cw(i){ta=!0,lf(i)}function mr(){if(!kc&&Wn!==null){kc=!0;var i=0,o=Ae;try{var c=Wn;for(Ae=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}Wn=null,ta=!1}catch(g){throw Wn!==null&&(Wn=Wn.slice(i+1)),uh(Kl,mr),g}finally{Ae=o,kc=!1}}return null}var uw=A.ReactCurrentBatchConfig;function wn(i,o){if(i&&i.defaultProps){o=P({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}var na=pr(null),ra=null,xi=null,Ec=null;function Cc(){Ec=xi=ra=null}function Tc(i){var o=na.current;Be(na),i._currentValue=o}function jc(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function Si(i,o){ra=i,Ec=xi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Yt=!0),i.firstContext=null)}function Zt(i){var o=i._currentValue;if(Ec!==i)if(i={context:i,memoizedValue:o,next:null},xi===null){if(ra===null)throw Error(t(308));xi=i,ra.dependencies={lanes:0,firstContext:i}}else xi=xi.next=i;return o}var An=null,yr=!1;function Oc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cf(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Vn(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function vr(i,o){var c=i.updateQueue;c!==null&&(c=c.shared,et!==null&&(i.mode&1)!==0&&(je&2)===0?(i=c.interleaved,i===null?(o.next=o,An===null?An=[c]:An.push(c)):(o.next=i.next,i.next=o),c.interleaved=o):(i=c.pending,i===null?o.next=o:(o.next=i.next,i.next=o),c.pending=o))}function ia(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Jl(i,c)}}function uf(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=k:v=v.next=k,c=c.next}while(c!==null);v===null?g=v=o:v=v.next=o}else g=v=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function sa(i,o,c,h){var g=i.updateQueue;yr=!1;var v=g.firstBaseUpdate,k=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var N=E,U=N.next;N.next=null,k===null?v=U:k.next=U,k=N;var V=i.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==k&&(E===null?V.firstBaseUpdate=U:E.next=U,V.lastBaseUpdate=N))}if(v!==null){var oe=g.baseState;k=0,V=U=N=null,E=v;do{var G=E.lane,te=E.eventTime;if((h&G)===G){V!==null&&(V=V.next={eventTime:te,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var J=i,be=E;switch(G=o,te=c,be.tag){case 1:if(J=be.payload,typeof J=="function"){oe=J.call(te,oe,G);break e}oe=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=be.payload,G=typeof J=="function"?J.call(te,oe,G):J,G==null)break e;oe=P({},oe,G);break e;case 2:yr=!0}}E.callback!==null&&E.lane!==0&&(i.flags|=64,G=g.effects,G===null?g.effects=[E]:G.push(E))}else te={eventTime:te,lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(U=V=te,N=oe):V=V.next=te,k|=G;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;G=E,E=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);if(V===null&&(N=oe),g.baseState=N,g.firstBaseUpdate=U,g.lastBaseUpdate=V,o=g.shared.interleaved,o!==null){g=o;do k|=g.lane,g=g.next;while(g!==o)}else v===null&&(g.shared.lanes=0);Pi|=k,i.lanes=k,i.memoizedState=oe}}function df(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var hf=new n.Component().refs;function Rc(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:P({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var oa={isMounted:function(i){return(i=i._reactInternals)?Ir(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var h=Ot(),g=br(i),v=Vn(h,g);v.payload=o,c!=null&&(v.callback=c),vr(i,v),o=sn(i,g,h),o!==null&&ia(o,i,g)},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=Ot(),g=br(i),v=Vn(h,g);v.tag=1,v.payload=o,c!=null&&(v.callback=c),vr(i,v),o=sn(i,g,h),o!==null&&ia(o,i,g)},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=Ot(),h=br(i),g=Vn(c,h);g.tag=2,o!=null&&(g.callback=o),vr(i,g),o=sn(i,h,c),o!==null&&ia(o,i,h)}};function ff(i,o,c,h,g,v,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,k):o.prototype&&o.prototype.isPureReactComponent?!xs(c,h)||!xs(g,v):!0}function pf(i,o,c){var h=!1,g=gr,v=o.contextType;return typeof v=="object"&&v!==null?v=Zt(v):(g=Dt(o)?Fr:wt.current,h=o.contextTypes,v=(h=h!=null)?bi(i,g):gr),o=new o(c,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=oa,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=v),o}function gf(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&oa.enqueueReplaceState(o,o.state,null)}function Pc(i,o,c,h){var g=i.stateNode;g.props=c,g.state=i.memoizedState,g.refs=hf,Oc(i);var v=o.contextType;typeof v=="object"&&v!==null?g.context=Zt(v):(v=Dt(o)?Fr:wt.current,g.context=bi(i,v)),g.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Rc(i,o,v,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&oa.enqueueReplaceState(g,g.state,null),sa(i,c,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}var ki=[],Ei=0,aa=null,la=0,en=[],tn=0,$r=null,qn=1,Kn="";function zr(i,o){ki[Ei++]=la,ki[Ei++]=aa,aa=i,la=o}function mf(i,o,c){en[tn++]=qn,en[tn++]=Kn,en[tn++]=$r,$r=i;var h=qn;i=Kn;var g=32-vn(h)-1;h&=~(1<<g),c+=1;var v=32-vn(o)+g;if(30<v){var k=g-g%5;v=(h&(1<<k)-1).toString(32),h>>=k,g-=k,qn=1<<32-vn(o)+g|c<<g|h,Kn=v+i}else qn=1<<v|c<<g|h,Kn=i}function Nc(i){i.return!==null&&(zr(i,1),mf(i,1,0))}function Ac(i){for(;i===aa;)aa=ki[--Ei],ki[Ei]=null,la=ki[--Ei],ki[Ei]=null;for(;i===$r;)$r=en[--tn],en[tn]=null,Kn=en[--tn],en[tn]=null,qn=en[--tn],en[tn]=null}var Kt=null,Mt=null,We=!1,_n=null;function yf(i,o){var c=on(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function vf(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Kt=i,Mt=Un(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Kt=i,Mt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=$r!==null?{id:qn,overflow:Kn}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=on(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Kt=i,Mt=null,!0):!1;default:return!1}}function Dc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Mc(i){if(We){var o=Mt;if(o){var c=o;if(!vf(i,o)){if(Dc(i))throw Error(t(418));o=Un(c.nextSibling);var h=Kt;o&&vf(i,o)?yf(h,c):(i.flags=i.flags&-4097|2,We=!1,Kt=i)}}else{if(Dc(i))throw Error(t(418));i.flags=i.flags&-4097|2,We=!1,Kt=i}}}function wf(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Kt=i}function Os(i){if(i!==Kt)return!1;if(!We)return wf(i),We=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!wc(i.type,i.memoizedProps)),o&&(o=Mt)){if(Dc(i)){for(i=Mt;i;)i=Un(i.nextSibling);throw Error(t(418))}for(;o;)yf(i,o),o=Un(o.nextSibling)}if(wf(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Mt=Un(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Mt=null}}else Mt=Kt?Un(i.stateNode.nextSibling):null;return!0}function Ci(){Mt=Kt=null,We=!1}function Ic(i){_n===null?_n=[i]:_n.push(i)}function Rs(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,i));var g=h,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(k){var E=g.refs;E===hf&&(E=g.refs={}),k===null?delete E[v]:E[v]=k},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function ca(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function _f(i){var o=i._init;return o(i._payload)}function bf(i){function o(F,D){if(i){var z=F.deletions;z===null?(F.deletions=[D],F.flags|=16):z.push(D)}}function c(F,D){if(!i)return null;for(;D!==null;)o(F,D),D=D.sibling;return null}function h(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function g(F,D){return F=Sr(F,D),F.index=0,F.sibling=null,F}function v(F,D,z){return F.index=z,i?(z=F.alternate,z!==null?(z=z.index,z<D?(F.flags|=2,D):z):(F.flags|=2,D)):(F.flags|=1048576,D)}function k(F){return i&&F.alternate===null&&(F.flags|=2),F}function E(F,D,z,q){return D===null||D.tag!==6?(D=mu(z,F.mode,q),D.return=F,D):(D=g(D,z),D.return=F,D)}function N(F,D,z,q){var ne=z.type;return ne===O?V(F,D,z.props.children,q,z.key):D!==null&&(D.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ye&&_f(ne)===D.type)?(q=g(D,z.props),q.ref=Rs(F,D,z),q.return=F,q):(q=Aa(z.type,z.key,z.props,null,F.mode,q),q.ref=Rs(F,D,z),q.return=F,q)}function U(F,D,z,q){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=yu(z,F.mode,q),D.return=F,D):(D=g(D,z.children||[]),D.return=F,D)}function V(F,D,z,q,ne){return D===null||D.tag!==7?(D=Kr(z,F.mode,q,ne),D.return=F,D):(D=g(D,z),D.return=F,D)}function oe(F,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=mu(""+D,F.mode,z),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return z=Aa(D.type,D.key,D.props,null,F.mode,z),z.ref=Rs(F,null,D),z.return=F,z;case I:return D=yu(D,F.mode,z),D.return=F,D;case ye:var q=D._init;return oe(F,q(D._payload),z)}if(pt(D)||X(D))return D=Kr(D,F.mode,z,null),D.return=F,D;ca(F,D)}return null}function G(F,D,z,q){var ne=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ne!==null?null:E(F,D,""+z,q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===ne?N(F,D,z,q):null;case I:return z.key===ne?U(F,D,z,q):null;case ye:return ne=z._init,G(F,D,ne(z._payload),q)}if(pt(z)||X(z))return ne!==null?null:V(F,D,z,q,null);ca(F,z)}return null}function te(F,D,z,q,ne){if(typeof q=="string"&&q!==""||typeof q=="number")return F=F.get(z)||null,E(D,F,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return F=F.get(q.key===null?z:q.key)||null,N(D,F,q,ne);case I:return F=F.get(q.key===null?z:q.key)||null,U(D,F,q,ne);case ye:var ce=q._init;return te(F,D,z,ce(q._payload),ne)}if(pt(q)||X(q))return F=F.get(z)||null,V(D,F,q,ne,null);ca(D,q)}return null}function J(F,D,z,q){for(var ne=null,ce=null,fe=D,me=D=0,ut=null;fe!==null&&me<z.length;me++){fe.index>me?(ut=fe,fe=null):ut=fe.sibling;var Pe=G(F,fe,z[me],q);if(Pe===null){fe===null&&(fe=ut);break}i&&fe&&Pe.alternate===null&&o(F,fe),D=v(Pe,D,me),ce===null?ne=Pe:ce.sibling=Pe,ce=Pe,fe=ut}if(me===z.length)return c(F,fe),We&&zr(F,me),ne;if(fe===null){for(;me<z.length;me++)fe=oe(F,z[me],q),fe!==null&&(D=v(fe,D,me),ce===null?ne=fe:ce.sibling=fe,ce=fe);return We&&zr(F,me),ne}for(fe=h(F,fe);me<z.length;me++)ut=te(fe,F,me,z[me],q),ut!==null&&(i&&ut.alternate!==null&&fe.delete(ut.key===null?me:ut.key),D=v(ut,D,me),ce===null?ne=ut:ce.sibling=ut,ce=ut);return i&&fe.forEach(function(kr){return o(F,kr)}),We&&zr(F,me),ne}function be(F,D,z,q){var ne=X(z);if(typeof ne!="function")throw Error(t(150));if(z=ne.call(z),z==null)throw Error(t(151));for(var ce=ne=null,fe=D,me=D=0,ut=null,Pe=z.next();fe!==null&&!Pe.done;me++,Pe=z.next()){fe.index>me?(ut=fe,fe=null):ut=fe.sibling;var kr=G(F,fe,Pe.value,q);if(kr===null){fe===null&&(fe=ut);break}i&&fe&&kr.alternate===null&&o(F,fe),D=v(kr,D,me),ce===null?ne=kr:ce.sibling=kr,ce=kr,fe=ut}if(Pe.done)return c(F,fe),We&&zr(F,me),ne;if(fe===null){for(;!Pe.done;me++,Pe=z.next())Pe=oe(F,Pe.value,q),Pe!==null&&(D=v(Pe,D,me),ce===null?ne=Pe:ce.sibling=Pe,ce=Pe);return We&&zr(F,me),ne}for(fe=h(F,fe);!Pe.done;me++,Pe=z.next())Pe=te(fe,F,me,Pe.value,q),Pe!==null&&(i&&Pe.alternate!==null&&fe.delete(Pe.key===null?me:Pe.key),D=v(Pe,D,me),ce===null?ne=Pe:ce.sibling=Pe,ce=Pe);return i&&fe.forEach(function(Hw){return o(F,Hw)}),We&&zr(F,me),ne}function Ue(F,D,z,q){if(typeof z=="object"&&z!==null&&z.type===O&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:e:{for(var ne=z.key,ce=D;ce!==null;){if(ce.key===ne){if(ne=z.type,ne===O){if(ce.tag===7){c(F,ce.sibling),D=g(ce,z.props.children),D.return=F,F=D;break e}}else if(ce.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ye&&_f(ne)===ce.type){c(F,ce.sibling),D=g(ce,z.props),D.ref=Rs(F,ce,z),D.return=F,F=D;break e}c(F,ce);break}else o(F,ce);ce=ce.sibling}z.type===O?(D=Kr(z.props.children,F.mode,q,z.key),D.return=F,F=D):(q=Aa(z.type,z.key,z.props,null,F.mode,q),q.ref=Rs(F,D,z),q.return=F,F=q)}return k(F);case I:e:{for(ce=z.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){c(F,D.sibling),D=g(D,z.children||[]),D.return=F,F=D;break e}else{c(F,D);break}else o(F,D);D=D.sibling}D=yu(z,F.mode,q),D.return=F,F=D}return k(F);case ye:return ce=z._init,Ue(F,D,ce(z._payload),q)}if(pt(z))return J(F,D,z,q);if(X(z))return be(F,D,z,q);ca(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(c(F,D.sibling),D=g(D,z),D.return=F,F=D):(c(F,D),D=mu(z,F.mode,q),D.return=F,F=D),k(F)):c(F,D)}return Ue}var Ti=bf(!0),xf=bf(!1),Ps={},Dn=pr(Ps),Ns=pr(Ps),As=pr(Ps);function Br(i){if(i===Ps)throw Error(t(174));return i}function Lc(i,o){switch(Fe(As,o),Fe(Ns,i),Fe(Dn,Ps),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:jn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=jn(o,i)}Be(Dn),Fe(Dn,o)}function ji(){Be(Dn),Be(Ns),Be(As)}function Sf(i){Br(As.current);var o=Br(Dn.current),c=jn(o,i.type);o!==c&&(Fe(Ns,i),Fe(Dn,c))}function Fc(i){Ns.current===i&&(Be(Dn),Be(Ns))}var Ke=pr(0);function ua(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $c=[];function zc(){for(var i=0;i<$c.length;i++)$c[i]._workInProgressVersionPrimary=null;$c.length=0}var da=A.ReactCurrentDispatcher,nn=A.ReactCurrentBatchConfig,Oi=0,Ge=null,_t=null,ct=null,ha=!1,Ds=!1,Ms=0,dw=0;function bt(){throw Error(t(321))}function Bc(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Pn(i[c],o[c]))return!1;return!0}function Uc(i,o,c,h,g,v){if(Oi=v,Ge=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,da.current=i===null||i.memoizedState===null?gw:mw,i=c(h,g),Ds){v=0;do{if(Ds=!1,Ms=0,25<=v)throw Error(t(301));v+=1,ct=_t=null,o.updateQueue=null,da.current=yw,i=c(h,g)}while(Ds)}if(da.current=ya,o=_t!==null&&_t.next!==null,Oi=0,ct=_t=Ge=null,ha=!1,o)throw Error(t(300));return i}function Hc(){var i=Ms!==0;return Ms=0,i}function Yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ge.memoizedState=ct=i:ct=ct.next=i,ct}function Mn(){if(_t===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var o=ct===null?Ge.memoizedState:ct.next;if(o!==null)ct=o,_t=i;else{if(i===null)throw Error(t(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},ct===null?Ge.memoizedState=ct=i:ct=ct.next=i}return ct}function Ur(i,o){return typeof o=="function"?o(i):o}function fa(i){var o=Mn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=_t,g=h.baseQueue,v=c.pending;if(v!==null){if(g!==null){var k=g.next;g.next=v.next,v.next=k}h.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,h=h.baseState;var E=k=null,N=null,U=v;do{var V=U.lane;if((Oi&V)===V)N!==null&&(N=N.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),h=U.hasEagerState?U.eagerState:i(h,U.action);else{var oe={lane:V,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};N===null?(E=N=oe,k=h):N=N.next=oe,Ge.lanes|=V,Pi|=V}U=U.next}while(U!==null&&U!==v);N===null?k=h:N.next=E,Pn(h,o.memoizedState)||(Yt=!0),o.memoizedState=h,o.baseState=k,o.baseQueue=N,c.lastRenderedState=h}if(i=c.interleaved,i!==null){g=i;do v=g.lane,Ge.lanes|=v,Pi|=v,g=g.next;while(g!==i)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function pa(i){var o=Mn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=c.dispatch,g=c.pending,v=o.memoizedState;if(g!==null){c.pending=null;var k=g=g.next;do v=i(v,k.action),k=k.next;while(k!==g);Pn(v,o.memoizedState)||(Yt=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,h]}function kf(){}function Ef(i,o){var c=Ge,h=Mn(),g=o(),v=!Pn(h.memoizedState,g);if(v&&(h.memoizedState=g,Yt=!0),h=h.queue,Ls(jf.bind(null,c,h,i),[i]),h.getSnapshot!==o||v||ct!==null&&ct.memoizedState.tag&1){if(c.flags|=2048,Is(9,Tf.bind(null,c,h,g,o),void 0,null),et===null)throw Error(t(349));(Oi&30)!==0||Cf(c,o,g)}return g}function Cf(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=Ge.updateQueue,o===null?(o={lastEffect:null,stores:null},Ge.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Tf(i,o,c,h){o.value=c,o.getSnapshot=h,Of(o)&&sn(i,1,-1)}function jf(i,o,c){return c(function(){Of(o)&&sn(i,1,-1)})}function Of(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Pn(i,c)}catch{return!0}}function Wc(i){var o=Yn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:i},o.queue=i,i=i.dispatch=pw.bind(null,Ge,i),[o.memoizedState,i]}function Is(i,o,c,h){return i={tag:i,create:o,destroy:c,deps:h,next:null},o=Ge.updateQueue,o===null?(o={lastEffect:null,stores:null},Ge.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i)),i}function Rf(){return Mn().memoizedState}function ga(i,o,c,h){var g=Yn();Ge.flags|=i,g.memoizedState=Is(1|o,c,void 0,h===void 0?null:h)}function ma(i,o,c,h){var g=Mn();h=h===void 0?null:h;var v=void 0;if(_t!==null){var k=_t.memoizedState;if(v=k.destroy,h!==null&&Bc(h,k.deps)){g.memoizedState=Is(o,c,v,h);return}}Ge.flags|=i,g.memoizedState=Is(1|o,c,v,h)}function Vc(i,o){return ga(8390656,8,i,o)}function Ls(i,o){return ma(2048,8,i,o)}function Pf(i,o){return ma(4,2,i,o)}function Nf(i,o){return ma(4,4,i,o)}function Af(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Df(i,o,c){return c=c!=null?c.concat([i]):null,ma(4,4,Af.bind(null,o,i),c)}function qc(){}function Mf(i,o){var c=Mn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Bc(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function If(i,o){var c=Mn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Bc(o,h[1])?h[0]:(i=i(),c.memoizedState=[i,o],i)}function hw(i,o){var c=Ae;Ae=c!==0&&4>c?c:4,i(!0);var h=nn.transition;nn.transition={};try{i(!1),o()}finally{Ae=c,nn.transition=h}}function Lf(){return Mn().memoizedState}function fw(i,o,c){var h=br(i);c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},Ff(i)?$f(o,c):(zf(i,o,c),c=Ot(),i=sn(i,h,c),i!==null&&Bf(i,o,h))}function pw(i,o,c){var h=br(i),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ff(i))$f(o,g);else{zf(i,o,g);var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var k=o.lastRenderedState,E=v(k,c);if(g.hasEagerState=!0,g.eagerState=E,Pn(E,k))return}catch{}finally{}c=Ot(),i=sn(i,h,c),i!==null&&Bf(i,o,h)}}function Ff(i){var o=i.alternate;return i===Ge||o!==null&&o===Ge}function $f(i,o){Ds=ha=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function zf(i,o,c){et!==null&&(i.mode&1)!==0&&(je&2)===0?(i=o.interleaved,i===null?(c.next=c,An===null?An=[o]:An.push(o)):(c.next=i.next,i.next=c),o.interleaved=c):(i=o.pending,i===null?c.next=c:(c.next=i.next,i.next=c),o.pending=c)}function Bf(i,o,c){if((c&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Jl(i,c)}}var ya={readContext:Zt,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},gw={readContext:Zt,useCallback:function(i,o){return Yn().memoizedState=[i,o===void 0?null:o],i},useContext:Zt,useEffect:Vc,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,ga(4194308,4,Af.bind(null,o,i),c)},useLayoutEffect:function(i,o){return ga(4194308,4,i,o)},useInsertionEffect:function(i,o){return ga(4,2,i,o)},useMemo:function(i,o){var c=Yn();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var h=Yn();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=fw.bind(null,Ge,i),[h.memoizedState,i]},useRef:function(i){var o=Yn();return i={current:i},o.memoizedState=i},useState:Wc,useDebugValue:qc,useDeferredValue:function(i){var o=Wc(i),c=o[0],h=o[1];return Vc(function(){var g=nn.transition;nn.transition={};try{h(i)}finally{nn.transition=g}},[i]),c},useTransition:function(){var i=Wc(!1),o=i[0];return i=hw.bind(null,i[1]),Yn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var h=Ge,g=Yn();if(We){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),et===null)throw Error(t(349));(Oi&30)!==0||Cf(h,o,c)}g.memoizedState=c;var v={value:c,getSnapshot:o};return g.queue=v,Vc(jf.bind(null,h,v,i),[i]),h.flags|=2048,Is(9,Tf.bind(null,h,v,c,o),void 0,null),c},useId:function(){var i=Yn(),o=et.identifierPrefix;if(We){var c=Kn,h=qn;c=(h&~(1<<32-vn(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Ms++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=dw++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},mw={readContext:Zt,useCallback:Mf,useContext:Zt,useEffect:Ls,useImperativeHandle:Df,useInsertionEffect:Pf,useLayoutEffect:Nf,useMemo:If,useReducer:fa,useRef:Rf,useState:function(){return fa(Ur)},useDebugValue:qc,useDeferredValue:function(i){var o=fa(Ur),c=o[0],h=o[1];return Ls(function(){var g=nn.transition;nn.transition={};try{h(i)}finally{nn.transition=g}},[i]),c},useTransition:function(){var i=fa(Ur)[0],o=Mn().memoizedState;return[i,o]},useMutableSource:kf,useSyncExternalStore:Ef,useId:Lf,unstable_isNewReconciler:!1},yw={readContext:Zt,useCallback:Mf,useContext:Zt,useEffect:Ls,useImperativeHandle:Df,useInsertionEffect:Pf,useLayoutEffect:Nf,useMemo:If,useReducer:pa,useRef:Rf,useState:function(){return pa(Ur)},useDebugValue:qc,useDeferredValue:function(i){var o=pa(Ur),c=o[0],h=o[1];return Ls(function(){var g=nn.transition;nn.transition={};try{h(i)}finally{nn.transition=g}},[i]),c},useTransition:function(){var i=pa(Ur)[0],o=Mn().memoizedState;return[i,o]},useMutableSource:kf,useSyncExternalStore:Ef,useId:Lf,unstable_isNewReconciler:!1};function Kc(i,o){try{var c="",h=o;do c+=ke(h),h=h.return;while(h);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:g}}function Yc(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var vw=typeof WeakMap=="function"?WeakMap:Map;function Uf(i,o,c){c=Vn(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Ca||(Ca=!0,lu=h),Yc(i,o)},c}function Hf(i,o,c){c=Vn(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;c.payload=function(){return h(g)},c.callback=function(){Yc(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){Yc(i,o),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),c}function Wf(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new vw;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(g.add(c),i=Nw.bind(null,i,o,c),o.then(i,i))}function Vf(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function qf(i,o,c,h,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Vn(-1,1),o.tag=2,vr(c,o))),c.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var Kf,Gc,Yf,Gf;Kf=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Gc=function(){},Yf=function(i,o,c,h){var g=i.memoizedProps;if(g!==h){i=o.stateNode,Br(Dn.current);var v=null;switch(c){case"input":g=Se(i,g),h=Se(i,h),v=[];break;case"select":g=P({},g,{value:void 0}),h=P({},h,{value:void 0}),v=[];break;case"textarea":g=ir(i,g),h=ir(i,h),v=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Qo)}ui(c,h);var k;c=null;for(U in g)if(!h.hasOwnProperty(U)&&g.hasOwnProperty(U)&&g[U]!=null)if(U==="style"){var E=g[U];for(k in E)E.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(s.hasOwnProperty(U)?v||(v=[]):(v=v||[]).push(U,null));for(U in h){var N=h[U];if(E=g!=null?g[U]:void 0,h.hasOwnProperty(U)&&N!==E&&(N!=null||E!=null))if(U==="style")if(E){for(k in E)!E.hasOwnProperty(k)||N&&N.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in N)N.hasOwnProperty(k)&&E[k]!==N[k]&&(c||(c={}),c[k]=N[k])}else c||(v||(v=[]),v.push(U,c)),c=N;else U==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,E=E?E.__html:void 0,N!=null&&E!==N&&(v=v||[]).push(U,N)):U==="children"?typeof N!="string"&&typeof N!="number"||(v=v||[]).push(U,""+N):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(s.hasOwnProperty(U)?(N!=null&&U==="onScroll"&&ze("scroll",i),v||E===N||(v=[])):(v=v||[]).push(U,N))}c&&(v=v||[]).push("style",c);var U=v;(o.updateQueue=U)&&(o.flags|=4)}},Gf=function(i,o,c,h){c!==h&&(o.flags|=4)};function Fs(i,o){if(!We)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function xt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function ww(i,o,c){var h=o.pendingProps;switch(Ac(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(o),null;case 1:return Dt(o.type)&&Zo(),xt(o),null;case 3:return h=o.stateNode,ji(),Be(At),Be(wt),zc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Os(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,_n!==null&&(du(_n),_n=null))),Gc(i,o),xt(o),null;case 5:Fc(o);var g=Br(As.current);if(c=o.type,i!==null&&o.stateNode!=null)Yf(i,o,c,h,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return xt(o),null}if(i=Br(Dn.current),Os(o)){h=o.stateNode,c=o.type;var v=o.memoizedProps;switch(h[Nn]=o,h[Ts]=v,i=(o.mode&1)!==0,c){case"dialog":ze("cancel",h),ze("close",h);break;case"iframe":case"object":case"embed":ze("load",h);break;case"video":case"audio":for(g=0;g<ks.length;g++)ze(ks[g],h);break;case"source":ze("error",h);break;case"img":case"image":case"link":ze("error",h),ze("load",h);break;case"details":ze("toggle",h);break;case"input":Te(h,v),ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},ze("invalid",h);break;case"textarea":rs(h,v),ze("invalid",h)}ui(c,v),g=null;for(var k in v)if(v.hasOwnProperty(k)){var E=v[k];k==="children"?typeof E=="string"?h.textContent!==E&&(Jo(h.textContent,E,i),g=["children",E]):typeof E=="number"&&h.textContent!==""+E&&(Jo(h.textContent,E,i),g=["children",""+E]):s.hasOwnProperty(k)&&E!=null&&k==="onScroll"&&ze("scroll",h)}switch(c){case"input":re(h),fn(h,v,!0);break;case"textarea":re(h),jo(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Qo)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{k=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Oo(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=k.createElement(c,{is:h.is}):(i=k.createElement(c),c==="select"&&(k=i,h.multiple?k.multiple=!0:h.size&&(k.size=h.size))):i=k.createElementNS(i,c),i[Nn]=o,i[Ts]=h,Kf(i,o,!1,!1),o.stateNode=i;e:{switch(k=os(c,h),c){case"dialog":ze("cancel",i),ze("close",i),g=h;break;case"iframe":case"object":case"embed":ze("load",i),g=h;break;case"video":case"audio":for(g=0;g<ks.length;g++)ze(ks[g],i);g=h;break;case"source":ze("error",i),g=h;break;case"img":case"image":case"link":ze("error",i),ze("load",i),g=h;break;case"details":ze("toggle",i),g=h;break;case"input":Te(i,h),g=Se(i,h),ze("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=P({},h,{value:void 0}),ze("invalid",i);break;case"textarea":rs(i,h),g=ir(i,h),ze("invalid",i);break;default:g=h}ui(c,g),E=g;for(v in E)if(E.hasOwnProperty(v)){var N=E[v];v==="style"?No(i,N):v==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&sr(i,N)):v==="children"?typeof N=="string"?(c!=="textarea"||N!=="")&&or(i,N):typeof N=="number"&&or(i,""+N):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?N!=null&&v==="onScroll"&&ze("scroll",i):N!=null&&C(i,v,N,k))}switch(c){case"input":re(i),fn(i,h,!1);break;case"textarea":re(i),jo(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ce(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?Wt(i,!!h.multiple,v,!1):h.defaultValue!=null&&Wt(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Qo)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return xt(o),null;case 6:if(i&&o.stateNode!=null)Gf(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=Br(As.current),Br(Dn.current),Os(o)){if(h=o.stateNode,c=o.memoizedProps,h[Nn]=o,(v=h.nodeValue!==c)&&(i=Kt,i!==null))switch(k=(i.mode&1)!==0,i.tag){case 3:Jo(h.nodeValue,c,k);break;case 5:i.memoizedProps[void 0]!==!0&&Jo(h.nodeValue,c,k)}v&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Nn]=o,o.stateNode=h}return xt(o),null;case 13:if(Be(Ke),h=o.memoizedState,We&&Mt!==null&&(o.mode&1)!==0&&(o.flags&128)===0){for(h=Mt;h;)h=Un(h.nextSibling);return Ci(),o.flags|=98560,o}if(h!==null&&h.dehydrated!==null){if(h=Os(o),i===null){if(!h)throw Error(t(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(t(317));h[Nn]=o}else Ci(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;return xt(o),null}return _n!==null&&(du(_n),_n=null),(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,c=!1,i===null?Os(o):c=i.memoizedState!==null,h&&!c&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Ke.current&1)!==0?it===0&&(it=3):pu())),o.updateQueue!==null&&(o.flags|=4),xt(o),null);case 4:return ji(),Gc(i,o),i===null&&Es(o.stateNode.containerInfo),xt(o),null;case 10:return Tc(o.type._context),xt(o),null;case 17:return Dt(o.type)&&Zo(),xt(o),null;case 19:if(Be(Ke),v=o.memoizedState,v===null)return xt(o),null;if(h=(o.flags&128)!==0,k=v.rendering,k===null)if(h)Fs(v,!1);else{if(it!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(k=ua(i),k!==null){for(o.flags|=128,Fs(v,!1),h=k.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)v=c,i=h,v.flags&=14680066,k=v.alternate,k===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=k.childLanes,v.lanes=k.lanes,v.child=k.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=k.memoizedProps,v.memoizedState=k.memoizedState,v.updateQueue=k.updateQueue,v.type=k.type,i=k.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Fe(Ke,Ke.current&1|2),o.child}i=i.sibling}v.tail!==null&&Qe()>Ni&&(o.flags|=128,h=!0,Fs(v,!1),o.lanes=4194304)}else{if(!h)if(i=ua(k),i!==null){if(o.flags|=128,h=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Fs(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!We)return xt(o),null}else 2*Qe()-v.renderingStartTime>Ni&&c!==1073741824&&(o.flags|=128,h=!0,Fs(v,!1),o.lanes=4194304);v.isBackwards?(k.sibling=o.child,o.child=k):(c=v.last,c!==null?c.sibling=k:o.child=k,v.last=k)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Qe(),o.sibling=null,c=Ke.current,Fe(Ke,h?c&1|2:c&1),o):(xt(o),null);case 22:case 23:return fu(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Gt&1073741824)!==0&&(xt(o),o.subtreeFlags&6&&(o.flags|=8192)):xt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}var _w=A.ReactCurrentOwner,Yt=!1;function jt(i,o,c,h){o.child=i===null?xf(o,null,c,h):Ti(o,i.child,c,h)}function Jf(i,o,c,h,g){c=c.render;var v=o.ref;return Si(o,g),h=Uc(i,o,c,h,v,g),c=Hc(),i!==null&&!Yt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Gn(i,o,g)):(We&&c&&Nc(o),o.flags|=1,jt(i,o,h,g),o.child)}function Qf(i,o,c,h,g){if(i===null){var v=c.type;return typeof v=="function"&&!gu(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=v,Xf(i,o,v,h,g)):(i=Aa(c.type,null,h,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&g)===0){var k=v.memoizedProps;if(c=c.compare,c=c!==null?c:xs,c(k,h)&&i.ref===o.ref)return Gn(i,o,g)}return o.flags|=1,i=Sr(v,h),i.ref=o.ref,i.return=o,o.child=i}function Xf(i,o,c,h,g){if(i!==null&&xs(i.memoizedProps,h)&&i.ref===o.ref)if(Yt=!1,(i.lanes&g)!==0)(i.flags&131072)!==0&&(Yt=!0);else return o.lanes=i.lanes,Gn(i,o,g);return Jc(i,o,c,h,g)}function Zf(i,o,c){var h=o.pendingProps,g=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null},Fe(Ri,Gt),Gt|=c;else if((c&1073741824)!==0)o.memoizedState={baseLanes:0,cachePool:null},h=v!==null?v.baseLanes:c,Fe(Ri,Gt),Gt|=h;else return i=v!==null?v.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null},o.updateQueue=null,Fe(Ri,Gt),Gt|=i,null;else v!==null?(h=v.baseLanes|c,o.memoizedState=null):h=c,Fe(Ri,Gt),Gt|=h;return jt(i,o,g,c),o.child}function ep(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Jc(i,o,c,h,g){var v=Dt(c)?Fr:wt.current;return v=bi(o,v),Si(o,g),c=Uc(i,o,c,h,v,g),h=Hc(),i!==null&&!Yt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Gn(i,o,g)):(We&&h&&Nc(o),o.flags|=1,jt(i,o,c,g),o.child)}function tp(i,o,c,h,g){if(Dt(c)){var v=!0;ea(o)}else v=!1;if(Si(o,g),o.stateNode===null)i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2),pf(o,c,h),Pc(o,c,h,g),h=!0;else if(i===null){var k=o.stateNode,E=o.memoizedProps;k.props=E;var N=k.context,U=c.contextType;typeof U=="object"&&U!==null?U=Zt(U):(U=Dt(c)?Fr:wt.current,U=bi(o,U));var V=c.getDerivedStateFromProps,oe=typeof V=="function"||typeof k.getSnapshotBeforeUpdate=="function";oe||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(E!==h||N!==U)&&gf(o,k,h,U),yr=!1;var G=o.memoizedState;k.state=G,sa(o,h,k,g),N=o.memoizedState,E!==h||G!==N||At.current||yr?(typeof V=="function"&&(Rc(o,c,V,h),N=o.memoizedState),(E=yr||ff(o,c,E,h,G,N,U))?(oe||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=N),k.props=h,k.state=N,k.context=U,h=E):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{k=o.stateNode,cf(i,o),E=o.memoizedProps,U=o.type===o.elementType?E:wn(o.type,E),k.props=U,oe=o.pendingProps,G=k.context,N=c.contextType,typeof N=="object"&&N!==null?N=Zt(N):(N=Dt(c)?Fr:wt.current,N=bi(o,N));var te=c.getDerivedStateFromProps;(V=typeof te=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(E!==oe||G!==N)&&gf(o,k,h,N),yr=!1,G=o.memoizedState,k.state=G,sa(o,h,k,g);var J=o.memoizedState;E!==oe||G!==J||At.current||yr?(typeof te=="function"&&(Rc(o,c,te,h),J=o.memoizedState),(U=yr||ff(o,c,U,h,G,J,N)||!1)?(V||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(h,J,N),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(h,J,N)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=J),k.props=h,k.state=J,k.context=N,h=U):(typeof k.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(o.flags|=1024),h=!1)}return Qc(i,o,c,h,v,g)}function Qc(i,o,c,h,g,v){ep(i,o);var k=(o.flags&128)!==0;if(!h&&!k)return g&&af(o,c,!1),Gn(i,o,v);h=o.stateNode,_w.current=o;var E=k&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&k?(o.child=Ti(o,i.child,null,v),o.child=Ti(o,null,E,v)):jt(i,o,E,v),o.memoizedState=h.state,g&&af(o,c,!0),o.child}function np(i){var o=i.stateNode;o.pendingContext?sf(i,o.pendingContext,o.pendingContext!==o.context):o.context&&sf(i,o.context,!1),Lc(i,o.containerInfo)}function rp(i,o,c,h,g){return Ci(),Ic(g),o.flags|=256,jt(i,o,c,h),o.child}var va={dehydrated:null,treeContext:null,retryLane:0};function wa(i){return{baseLanes:i,cachePool:null}}function ip(i,o,c){var h=o.pendingProps,g=Ke.current,v=!1,k=(o.flags&128)!==0,E;if((E=k)||(E=i!==null&&i.memoizedState===null?!1:(g&2)!==0),E?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Fe(Ke,g&1),i===null)return Mc(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(g=h.children,i=h.fallback,v?(h=o.mode,v=o.child,g={mode:"hidden",children:g},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=g):v=Da(g,h,0,null),i=Kr(i,h,c,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=wa(c),o.memoizedState=va,i):Xc(o,g));if(g=i.memoizedState,g!==null){if(E=g.dehydrated,E!==null){if(k)return o.flags&256?(o.flags&=-257,_a(i,o,c,Error(t(422)))):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=h.fallback,g=o.mode,h=Da({mode:"visible",children:h.children},g,0,null),v=Kr(v,g,c,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&Ti(o,i.child,null,c),o.child.memoizedState=wa(c),o.memoizedState=va,v);if((o.mode&1)===0)o=_a(i,o,c,null);else if(E.data==="$!")o=_a(i,o,c,Error(t(419)));else if(h=(c&i.childLanes)!==0,Yt||h){if(h=et,h!==null){switch(c&-c){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}h=(v&(h.suspendedLanes|c))!==0?0:v,h!==0&&h!==g.retryLane&&(g.retryLane=h,sn(i,h,-1))}pu(),o=_a(i,o,c,Error(t(421)))}else E.data==="$?"?(o.flags|=128,o.child=i.child,o=Aw.bind(null,i),E._reactRetry=o,o=null):(c=g.treeContext,Mt=Un(E.nextSibling),Kt=o,We=!0,_n=null,c!==null&&(en[tn++]=qn,en[tn++]=Kn,en[tn++]=$r,qn=c.id,Kn=c.overflow,$r=o),o=Xc(o,o.pendingProps.children),o.flags|=4096);return o}return v?(h=op(i,o,h.children,h.fallback,c),v=o.child,g=i.child.memoizedState,v.memoizedState=g===null?wa(c):{baseLanes:g.baseLanes|c,cachePool:null},v.childLanes=i.childLanes&~c,o.memoizedState=va,h):(c=sp(i,o,h.children,c),o.memoizedState=null,c)}return v?(h=op(i,o,h.children,h.fallback,c),v=o.child,g=i.child.memoizedState,v.memoizedState=g===null?wa(c):{baseLanes:g.baseLanes|c,cachePool:null},v.childLanes=i.childLanes&~c,o.memoizedState=va,h):(c=sp(i,o,h.children,c),o.memoizedState=null,c)}function Xc(i,o){return o=Da({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function sp(i,o,c,h){var g=i.child;return i=g.sibling,c=Sr(g,{mode:"visible",children:c}),(o.mode&1)===0&&(c.lanes=h),c.return=o,c.sibling=null,i!==null&&(h=o.deletions,h===null?(o.deletions=[i],o.flags|=16):h.push(i)),o.child=c}function op(i,o,c,h,g){var v=o.mode;i=i.child;var k=i.sibling,E={mode:"hidden",children:c};return(v&1)===0&&o.child!==i?(c=o.child,c.childLanes=0,c.pendingProps=E,o.deletions=null):(c=Sr(i,E),c.subtreeFlags=i.subtreeFlags&14680064),k!==null?h=Sr(k,h):(h=Kr(h,v,g,null),h.flags|=2),h.return=o,c.return=o,c.sibling=h,o.child=c,h}function _a(i,o,c,h){return h!==null&&Ic(h),Ti(o,i.child,null,c),i=Xc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function ap(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),jc(i.return,o,c)}function Zc(i,o,c,h,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=g)}function lp(i,o,c){var h=o.pendingProps,g=h.revealOrder,v=h.tail;if(jt(i,o,h.children,c),h=Ke.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ap(i,c,o);else if(i.tag===19)ap(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Fe(Ke,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)i=c.alternate,i!==null&&ua(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Zc(o,!1,g,c,v);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&ua(i)===null){o.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}Zc(o,!0,c,null,v);break;case"together":Zc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Gn(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Pi|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,c=Sr(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Sr(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function bw(i,o,c){switch(o.tag){case 3:np(o),Ci();break;case 5:Sf(o);break;case 1:Dt(o.type)&&ea(o);break;case 4:Lc(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;Fe(na,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Fe(Ke,Ke.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?ip(i,o,c):(Fe(Ke,Ke.current&1),i=Gn(i,o,c),i!==null?i.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(i.flags&128)!==0){if(h)return lp(i,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Fe(Ke,Ke.current),h)break;return null;case 22:case 23:return o.lanes=0,Zf(i,o,c)}return Gn(i,o,c)}function xw(i,o){switch(Ac(o),o.tag){case 1:return Dt(o.type)&&Zo(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ji(),Be(At),Be(wt),zc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Fc(o),null;case 13:if(Be(Ke),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ci()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Be(Ke),null;case 4:return ji(),null;case 10:return Tc(o.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var ba=!1,Hr=!1,Sw=typeof WeakSet=="function"?WeakSet:Set,ee=null;function xa(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Ft(i,o,h)}else c.current=null}function eu(i,o,c){try{c()}catch(h){Ft(i,o,h)}}var cp=!1;function kw(i,o){if(i=Uh(),uc(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var k=0,E=-1,N=-1,U=0,V=0,oe=i,G=null;t:for(;;){for(var te;oe!==c||g!==0&&oe.nodeType!==3||(E=k+g),oe!==v||h!==0&&oe.nodeType!==3||(N=k+h),oe.nodeType===3&&(k+=oe.nodeValue.length),(te=oe.firstChild)!==null;)G=oe,oe=te;for(;;){if(oe===i)break t;if(G===c&&++U===g&&(E=k),G===v&&++V===h&&(N=k),(te=oe.nextSibling)!==null)break;oe=G,G=oe.parentNode}oe=te}c=E===-1||N===-1?null:{start:E,end:N}}else c=null}c=c||{start:0,end:0}}else c=null;for(vc={focusedElem:i,selectionRange:c},ee=o;ee!==null;)if(o=ee,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ee=i;else for(;ee!==null;){o=ee;try{var J=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var be=J.memoizedProps,Ue=J.memoizedState,F=o.stateNode,D=F.getSnapshotBeforeUpdate(o.elementType===o.type?be:wn(o.type,be),Ue);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=o.stateNode.containerInfo;if(z.nodeType===1)z.textContent="";else if(z.nodeType===9){var q=z.body;q!=null&&(q.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){Ft(o,o.return,ne)}if(i=o.sibling,i!==null){i.return=o.return,ee=i;break}ee=o.return}return J=cp,cp=!1,J}function $s(i,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var v=g.destroy;g.destroy=void 0,v!==void 0&&eu(o,c,v)}g=g.next}while(g!==h)}}function Sa(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function tu(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function up(i,o,c){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Do,o)}catch{}switch(o.tag){case 0:case 11:case 14:case 15:if(i=o.updateQueue,i!==null&&(i=i.lastEffect,i!==null)){var h=i=i.next;do{var g=h,v=g.destroy;g=g.tag,v!==void 0&&((g&2)!==0||(g&4)!==0)&&eu(o,c,v),h=h.next}while(h!==i)}break;case 1:if(xa(o,c),i=o.stateNode,typeof i.componentWillUnmount=="function")try{i.props=o.memoizedProps,i.state=o.memoizedState,i.componentWillUnmount()}catch(k){Ft(o,c,k)}break;case 5:xa(o,c);break;case 4:gp(i,o,c)}}function dp(i){var o=i.alternate;o!==null&&(i.alternate=null,dp(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Nn],delete o[Ts],delete o[xc],delete o[aw],delete o[lw])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function hp(i){return i.tag===5||i.tag===3||i.tag===4}function fp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||hp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pp(i){e:{for(var o=i.return;o!==null;){if(hp(o))break e;o=o.return}throw Error(t(160))}var c=o;switch(c.tag){case 5:o=c.stateNode,c.flags&32&&(or(o,""),c.flags&=-33),c=fp(i),ru(i,c,o);break;case 3:case 4:o=c.stateNode.containerInfo,c=fp(i),nu(i,c,o);break;default:throw Error(t(161))}}function nu(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Qo));else if(h!==4&&(i=i.child,i!==null))for(nu(i,o,c),i=i.sibling;i!==null;)nu(i,o,c),i=i.sibling}function ru(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(ru(i,o,c),i=i.sibling;i!==null;)ru(i,o,c),i=i.sibling}function gp(i,o,c){for(var h=o,g=!1,v,k;;){if(!g){g=h.return;e:for(;;){if(g===null)throw Error(t(160));switch(v=g.stateNode,g.tag){case 5:k=!1;break e;case 3:v=v.containerInfo,k=!0;break e;case 4:v=v.containerInfo,k=!0;break e}g=g.return}g=!0}if(h.tag===5||h.tag===6){e:for(var E=i,N=h,U=c,V=N;;)if(up(E,V,U),V.child!==null&&V.tag!==4)V.child.return=V,V=V.child;else{if(V===N)break e;for(;V.sibling===null;){if(V.return===null||V.return===N)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}k?(E=v,N=h.stateNode,E.nodeType===8?E.parentNode.removeChild(N):E.removeChild(N)):v.removeChild(h.stateNode)}else if(h.tag===18)k?(E=v,N=h.stateNode,E.nodeType===8?bc(E.parentNode,N):E.nodeType===1&&bc(E,N),ms(E)):bc(v,h.stateNode);else if(h.tag===4){if(h.child!==null){v=h.stateNode.containerInfo,k=!0,h.child.return=h,h=h.child;continue}}else if(up(i,h,c),h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return,h.tag===4&&(g=!1)}h.sibling.return=h.return,h=h.sibling}}function iu(i,o){switch(o.tag){case 0:case 11:case 14:case 15:$s(3,o,o.return),Sa(3,o),$s(5,o,o.return);return;case 1:return;case 5:var c=o.stateNode;if(c!=null){var h=o.memoizedProps,g=i!==null?i.memoizedProps:h;i=o.type;var v=o.updateQueue;if(o.updateQueue=null,v!==null){for(i==="input"&&h.type==="radio"&&h.name!=null&&Ct(c,h),os(i,g),o=os(i,h),g=0;g<v.length;g+=2){var k=v[g],E=v[g+1];k==="style"?No(c,E):k==="dangerouslySetInnerHTML"?sr(c,E):k==="children"?or(c,E):C(c,k,E,o)}switch(i){case"input":Cn(c,h);break;case"textarea":is(c,h);break;case"select":i=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!h.multiple,v=h.value,v!=null?Wt(c,!!h.multiple,v,!1):i!==!!h.multiple&&(h.defaultValue!=null?Wt(c,!!h.multiple,h.defaultValue,!0):Wt(c,!!h.multiple,h.multiple?[]:"",!1))}c[Ts]=h}}return;case 6:if(o.stateNode===null)throw Error(t(162));o.stateNode.nodeValue=o.memoizedProps;return;case 3:i!==null&&i.memoizedState.isDehydrated&&ms(o.stateNode.containerInfo);return;case 12:return;case 13:mp(o);return;case 19:mp(o);return;case 17:return}throw Error(t(163))}function mp(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new Sw),o.forEach(function(h){var g=Dw.bind(null,i,h);c.has(h)||(c.add(h),h.then(g,g))})}}function Ew(i,o){for(ee=o;ee!==null;){o=ee;var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{gp(i,g,o);var v=g.alternate;v!==null&&(v.return=null),g.return=null}catch(me){Ft(g,o,me)}}if(c=o.child,(o.subtreeFlags&12854)!==0&&c!==null)c.return=o,ee=c;else for(;ee!==null;){o=ee;try{var k=o.flags;if(k&32&&or(o.stateNode,""),k&512){var E=o.alternate;if(E!==null){var N=E.ref;N!==null&&(typeof N=="function"?N(null):N.current=null)}}if(k&8192)switch(o.tag){case 13:if(o.memoizedState!==null){var U=o.alternate;(U===null||U.memoizedState===null)&&(au=Qe())}break;case 22:var V=o.memoizedState!==null,oe=o.alternate,G=oe!==null&&oe.memoizedState!==null;c=o;e:{h=c,g=V;for(var te=null,J=h;;){if(J.tag===5){if(te===null){te=J;var be=J.stateNode;if(g){var Ue=be.style;typeof Ue.setProperty=="function"?Ue.setProperty("display","none","important"):Ue.display="none"}else{var F=J.stateNode,D=J.memoizedProps.style,z=D!=null&&D.hasOwnProperty("display")?D.display:null;F.style.display=Po("display",z)}}}else if(J.tag===6)te===null&&(J.stateNode.nodeValue=g?"":J.memoizedProps);else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===h)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===h)break;for(;J.sibling===null;){if(J.return===null||J.return===h)break e;te===J&&(te=null),J=J.return}te===J&&(te=null),J.sibling.return=J.return,J=J.sibling}}if(V&&!G&&(c.mode&1)!==0){ee=c;for(var q=c.child;q!==null;){for(c=ee=q;ee!==null;){h=ee;var ne=h.child;switch(h.tag){case 0:case 11:case 14:case 15:$s(4,h,h.return);break;case 1:xa(h,h.return);var ce=h.stateNode;if(typeof ce.componentWillUnmount=="function"){var fe=h.return;try{ce.props=h.memoizedProps,ce.state=h.memoizedState,ce.componentWillUnmount()}catch(me){Ft(h,fe,me)}}break;case 5:xa(h,h.return);break;case 22:if(h.memoizedState!==null){wp(c);continue}}ne!==null?(ne.return=h,ee=ne):wp(c)}q=q.sibling}}}switch(k&4102){case 2:pp(o),o.flags&=-3;break;case 6:pp(o),o.flags&=-3,iu(o.alternate,o);break;case 4096:o.flags&=-4097;break;case 4100:o.flags&=-4097,iu(o.alternate,o);break;case 4:iu(o.alternate,o)}}catch(me){Ft(o,o.return,me)}if(c=o.sibling,c!==null){c.return=o.return,ee=c;break}ee=o.return}}}function Cw(i,o,c){ee=i,yp(i)}function yp(i,o,c){for(var h=(i.mode&1)!==0;ee!==null;){var g=ee,v=g.child;if(g.tag===22&&h){var k=g.memoizedState!==null||ba;if(!k){var E=g.alternate,N=E!==null&&E.memoizedState!==null||Hr;E=ba;var U=Hr;if(ba=k,(Hr=N)&&!U)for(ee=g;ee!==null;)k=ee,N=k.child,k.tag===22&&k.memoizedState!==null?_p(g):N!==null?(N.return=k,ee=N):_p(g);for(;v!==null;)ee=v,yp(v),v=v.sibling;ee=g,ba=E,Hr=U}vp(i)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,ee=v):vp(i)}}function vp(i){for(;ee!==null;){var o=ee;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Hr||Sa(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Hr)if(c===null)h.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:wn(o.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&df(o,v,h);break;case 3:var k=o.updateQueue;if(k!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}df(o,k,c)}break;case 5:var E=o.stateNode;if(c===null&&o.flags&4){c=E;var N=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&c.focus();break;case"img":N.src&&(c.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var U=o.alternate;if(U!==null){var V=U.memoizedState;if(V!==null){var oe=V.dehydrated;oe!==null&&ms(oe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(t(163))}Hr||o.flags&512&&tu(o)}catch(G){Ft(o,o.return,G)}}if(o===i){ee=null;break}if(c=o.sibling,c!==null){c.return=o.return,ee=c;break}ee=o.return}}function wp(i){for(;ee!==null;){var o=ee;if(o===i){ee=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ee=c;break}ee=o.return}}function _p(i){for(;ee!==null;){var o=ee;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Sa(4,o)}catch(N){Ft(o,c,N)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(N){Ft(o,g,N)}}var v=o.return;try{tu(o)}catch(N){Ft(o,v,N)}break;case 5:var k=o.return;try{tu(o)}catch(N){Ft(o,k,N)}}}catch(N){Ft(o,o.return,N)}if(o===i){ee=null;break}var E=o.sibling;if(E!==null){E.return=o.return,ee=E;break}ee=o.return}}var Tw=Math.ceil,ka=A.ReactCurrentDispatcher,su=A.ReactCurrentOwner,rn=A.ReactCurrentBatchConfig,je=0,et=null,tt=null,ht=0,Gt=0,Ri=pr(0),it=0,zs=null,Pi=0,Ea=0,ou=0,Bs=null,It=null,au=0,Ni=1/0,Ca=!1,lu=null,wr=null,Ta=!1,_r=null,ja=0,Us=0,cu=null,Oa=-1,Ra=0;function Ot(){return(je&6)!==0?Qe():Oa!==-1?Oa:Oa=Qe()}function br(i){return(i.mode&1)===0?1:(je&2)!==0&&ht!==0?ht&-ht:uw.transition!==null?(Ra===0&&(i=Mo,Mo<<=1,(Mo&4194240)===0&&(Mo=64),Ra=i),Ra):(i=Ae,i!==0||(i=window.event,i=i===void 0?16:xh(i.type)),i)}function sn(i,o,c){if(50<Us)throw Us=0,cu=null,Error(t(185));var h=Pa(i,o);return h===null?null:(ds(h,o,c),((je&2)===0||h!==et)&&(h===et&&((je&2)===0&&(Ea|=o),it===4&&xr(h,ht)),Lt(h,c),o===1&&je===0&&(i.mode&1)===0&&(Ni=Qe()+500,ta&&mr())),h)}function Pa(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}function Lt(i,o){var c=i.callbackNode;u0(i,o);var h=Lo(i,i===et?ht:0);if(h===0)c!==null&&dh(c),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(c!=null&&dh(c),o===1)i.tag===0?cw(xp.bind(null,i)):lf(xp.bind(null,i)),sw(function(){je===0&&mr()}),c=null;else{switch(ph(h)){case 1:c=Kl;break;case 4:c=hh;break;case 16:c=Ao;break;case 536870912:c=fh;break;default:c=Ao}c=Rp(c,bp.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function bp(i,o){if(Oa=-1,Ra=0,(je&6)!==0)throw Error(t(327));var c=i.callbackNode;if(Ai()&&i.callbackNode!==c)return null;var h=Lo(i,i===et?ht:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Na(i,h);else{o=h;var g=je;je|=2;var v=kp();(et!==i||ht!==o)&&(Ni=Qe()+500,Vr(i,o));do try{Rw();break}catch(E){Sp(i,E)}while(!0);Cc(),ka.current=v,je=g,tt!==null?o=0:(et=null,ht=0,o=it)}if(o!==0){if(o===2&&(g=Yl(i),g!==0&&(h=g,o=uu(i,g))),o===1)throw c=zs,Vr(i,0),xr(i,h),Lt(i,Qe()),c;if(o===6)xr(i,h);else{if(g=i.current.alternate,(h&30)===0&&!jw(g)&&(o=Na(i,h),o===2&&(v=Yl(i),v!==0&&(h=v,o=uu(i,v))),o===1))throw c=zs,Vr(i,0),xr(i,h),Lt(i,Qe()),c;switch(i.finishedWork=g,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:qr(i,It);break;case 3:if(xr(i,h),(h&130023424)===h&&(o=au+500-Qe(),10<o)){if(Lo(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){Ot(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=_c(qr.bind(null,i,It),o);break}qr(i,It);break;case 4:if(xr(i,h),(h&4194240)===h)break;for(o=i.eventTimes,g=-1;0<h;){var k=31-vn(h);v=1<<k,k=o[k],k>g&&(g=k),h&=~v}if(h=g,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Tw(h/1960))-h,10<h){i.timeoutHandle=_c(qr.bind(null,i,It),h);break}qr(i,It);break;case 5:qr(i,It);break;default:throw Error(t(329))}}}return Lt(i,Qe()),i.callbackNode===c?bp.bind(null,i):null}function uu(i,o){var c=Bs;return i.current.memoizedState.isDehydrated&&(Vr(i,o).flags|=256),i=Na(i,o),i!==2&&(o=It,It=c,o!==null&&du(o)),i}function du(i){It===null?It=i:It.push.apply(It,i)}function jw(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],v=g.getSnapshot;g=g.value;try{if(!Pn(v(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function xr(i,o){for(o&=~ou,o&=~Ea,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-vn(o),h=1<<c;i[c]=-1,o&=~h}}function xp(i){if((je&6)!==0)throw Error(t(327));Ai();var o=Lo(i,0);if((o&1)===0)return Lt(i,Qe()),null;var c=Na(i,o);if(i.tag!==0&&c===2){var h=Yl(i);h!==0&&(o=h,c=uu(i,h))}if(c===1)throw c=zs,Vr(i,0),xr(i,o),Lt(i,Qe()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,qr(i,It),Lt(i,Qe()),null}function hu(i,o){var c=je;je|=1;try{return i(o)}finally{je=c,je===0&&(Ni=Qe()+500,ta&&mr())}}function Wr(i){_r!==null&&_r.tag===0&&(je&6)===0&&Ai();var o=je;je|=1;var c=rn.transition,h=Ae;try{if(rn.transition=null,Ae=1,i)return i()}finally{Ae=h,rn.transition=c,je=o,(je&6)===0&&mr()}}function fu(){Gt=Ri.current,Be(Ri)}function Vr(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,iw(c)),tt!==null)for(c=tt.return;c!==null;){var h=c;switch(Ac(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Zo();break;case 3:ji(),Be(At),Be(wt),zc();break;case 5:Fc(h);break;case 4:ji();break;case 13:Be(Ke);break;case 19:Be(Ke);break;case 10:Tc(h.type._context);break;case 22:case 23:fu()}c=c.return}if(et=i,tt=i=Sr(i.current,null),ht=Gt=o,it=0,zs=null,ou=Ea=Pi=0,It=Bs=null,An!==null){for(o=0;o<An.length;o++)if(c=An[o],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,v=c.pending;if(v!==null){var k=v.next;v.next=g,h.next=k}c.pending=h}An=null}return i}function Sp(i,o){do{var c=tt;try{if(Cc(),da.current=ya,ha){for(var h=Ge.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}ha=!1}if(Oi=0,ct=_t=Ge=null,Ds=!1,Ms=0,su.current=null,c===null||c.return===null){it=1,zs=o,tt=null;break}e:{var v=i,k=c.return,E=c,N=o;if(o=ht,E.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var U=N,V=E,oe=V.tag;if((V.mode&1)===0&&(oe===0||oe===11||oe===15)){var G=V.alternate;G?(V.updateQueue=G.updateQueue,V.memoizedState=G.memoizedState,V.lanes=G.lanes):(V.updateQueue=null,V.memoizedState=null)}var te=Vf(k);if(te!==null){te.flags&=-257,qf(te,k,E,v,o),te.mode&1&&Wf(v,U,o),o=te,N=U;var J=o.updateQueue;if(J===null){var be=new Set;be.add(N),o.updateQueue=be}else J.add(N);break e}else{if((o&1)===0){Wf(v,U,o),pu();break e}N=Error(t(426))}}else if(We&&E.mode&1){var Ue=Vf(k);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),qf(Ue,k,E,v,o),Ic(N);break e}}v=N,it!==4&&(it=2),Bs===null?Bs=[v]:Bs.push(v),N=Kc(N,E),E=k;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var F=Uf(E,N,o);uf(E,F);break e;case 1:v=N;var D=E.type,z=E.stateNode;if((E.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(wr===null||!wr.has(z)))){E.flags|=65536,o&=-o,E.lanes|=o;var q=Hf(E,v,o);uf(E,q);break e}}E=E.return}while(E!==null)}Cp(c)}catch(ne){o=ne,tt===c&&c!==null&&(tt=c=c.return);continue}break}while(!0)}function kp(){var i=ka.current;return ka.current=ya,i===null?ya:i}function pu(){(it===0||it===3||it===2)&&(it=4),et===null||(Pi&268435455)===0&&(Ea&268435455)===0||xr(et,ht)}function Na(i,o){var c=je;je|=2;var h=kp();et===i&&ht===o||Vr(i,o);do try{Ow();break}catch(g){Sp(i,g)}while(!0);if(Cc(),je=c,ka.current=h,tt!==null)throw Error(t(261));return et=null,ht=0,it}function Ow(){for(;tt!==null;)Ep(tt)}function Rw(){for(;tt!==null&&!t0();)Ep(tt)}function Ep(i){var o=Op(i.alternate,i,Gt);i.memoizedProps=i.pendingProps,o===null?Cp(i):tt=o,su.current=null}function Cp(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=ww(c,o,Gt),c!==null){tt=c;return}}else{if(c=xw(c,o),c!==null){c.flags&=32767,tt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{it=6,tt=null;return}}if(o=o.sibling,o!==null){tt=o;return}tt=o=i}while(o!==null);it===0&&(it=5)}function qr(i,o){var c=Ae,h=rn.transition;try{rn.transition=null,Ae=1,Pw(i,o,c)}finally{rn.transition=h,Ae=c}return null}function Pw(i,o,c){do Ai();while(_r!==null);if((je&6)!==0)throw Error(t(327));var h=i.finishedWork,g=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=h.lanes|h.childLanes;if(d0(i,v),i===et&&(tt=et=null,ht=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ta||(Ta=!0,Rp(Ao,function(){return Ai(),null})),v=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||v){v=rn.transition,rn.transition=null;var k=Ae;Ae=1;var E=je;je|=4,su.current=null,kw(i,h),Ew(i,h),Q0(vc),vc=null,i.current=h,Cw(h),n0(),je=E,Ae=k,rn.transition=v}else i.current=h;if(Ta&&(Ta=!1,_r=i,ja=g),v=i.pendingLanes,v===0&&(wr=null),s0(h.stateNode),Lt(i,Qe()),o!==null)for(c=i.onRecoverableError,h=0;h<o.length;h++)c(o[h]);if(Ca)throw Ca=!1,i=lu,lu=null,i;return(ja&1)!==0&&i.tag!==0&&Ai(),v=i.pendingLanes,(v&1)!==0?i===cu?Us++:(Us=0,cu=i):Us=0,mr(),null}function Ai(){if(_r!==null){var i=ph(ja),o=rn.transition,c=Ae;try{if(rn.transition=null,Ae=16>i?16:i,_r===null)var h=!1;else{if(i=_r,_r=null,ja=0,(je&6)!==0)throw Error(t(331));var g=je;for(je|=4,ee=i.current;ee!==null;){var v=ee,k=v.child;if((ee.flags&16)!==0){var E=v.deletions;if(E!==null){for(var N=0;N<E.length;N++){var U=E[N];for(ee=U;ee!==null;){var V=ee;switch(V.tag){case 0:case 11:case 15:$s(8,V,v)}var oe=V.child;if(oe!==null)oe.return=V,ee=oe;else for(;ee!==null;){V=ee;var G=V.sibling,te=V.return;if(dp(V),V===U){ee=null;break}if(G!==null){G.return=te,ee=G;break}ee=te}}}var J=v.alternate;if(J!==null){var be=J.child;if(be!==null){J.child=null;do{var Ue=be.sibling;be.sibling=null,be=Ue}while(be!==null)}}ee=v}}if((v.subtreeFlags&2064)!==0&&k!==null)k.return=v,ee=k;else e:for(;ee!==null;){if(v=ee,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:$s(9,v,v.return)}var F=v.sibling;if(F!==null){F.return=v.return,ee=F;break e}ee=v.return}}var D=i.current;for(ee=D;ee!==null;){k=ee;var z=k.child;if((k.subtreeFlags&2064)!==0&&z!==null)z.return=k,ee=z;else e:for(k=D;ee!==null;){if(E=ee,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Sa(9,E)}}catch(ne){Ft(E,E.return,ne)}if(E===k){ee=null;break e}var q=E.sibling;if(q!==null){q.return=E.return,ee=q;break e}ee=E.return}}if(je=g,mr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Do,i)}catch{}h=!0}return h}finally{Ae=c,rn.transition=o}}return!1}function Tp(i,o,c){o=Kc(c,o),o=Uf(i,o,1),vr(i,o),o=Ot(),i=Pa(i,1),i!==null&&(ds(i,1,o),Lt(i,o))}function Ft(i,o,c){if(i.tag===3)Tp(i,i,c);else for(;o!==null;){if(o.tag===3){Tp(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(wr===null||!wr.has(h))){i=Kc(c,i),i=Hf(o,i,1),vr(o,i),i=Ot(),o=Pa(o,1),o!==null&&(ds(o,1,i),Lt(o,i));break}}o=o.return}}function Nw(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),o=Ot(),i.pingedLanes|=i.suspendedLanes&c,et===i&&(ht&c)===c&&(it===4||it===3&&(ht&130023424)===ht&&500>Qe()-au?Vr(i,0):ou|=c),Lt(i,o)}function jp(i,o){o===0&&((i.mode&1)===0?o=1:(o=Io,Io<<=1,(Io&130023424)===0&&(Io=4194304)));var c=Ot();i=Pa(i,o),i!==null&&(ds(i,o,c),Lt(i,c))}function Aw(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),jp(i,c)}function Dw(i,o){var c=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),jp(i,c)}var Op;Op=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||At.current)Yt=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return Yt=!1,bw(i,o,c);Yt=(i.flags&131072)!==0}else Yt=!1,We&&(o.flags&1048576)!==0&&mf(o,la,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2),i=o.pendingProps;var g=bi(o,wt.current);Si(o,c),g=Uc(null,o,h,i,g,c);var v=Hc();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Dt(h)?(v=!0,ea(o)):v=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Oc(o),g.updater=oa,o.stateNode=g,g._reactInternals=o,Pc(o,h,i,c),o=Qc(null,o,h,!0,v,c)):(o.tag=0,We&&v&&Nc(o),jt(null,o,g,c),o=o.child),o;case 16:h=o.elementType;e:{switch(i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2),i=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=Iw(h),i=wn(h,i),g){case 0:o=Jc(null,o,h,i,c);break e;case 1:o=tp(null,o,h,i,c);break e;case 11:o=Jf(null,o,h,i,c);break e;case 14:o=Qf(null,o,h,wn(h.type,i),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:wn(h,g),Jc(i,o,h,g,c);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:wn(h,g),tp(i,o,h,g,c);case 3:e:{if(np(o),i===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,g=v.element,cf(i,o),sa(o,h,null,c);var k=o.memoizedState;if(h=k.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:k.cache,transitions:k.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){g=Error(t(423)),o=rp(i,o,h,c,g);break e}else if(h!==g){g=Error(t(424)),o=rp(i,o,h,c,g);break e}else for(Mt=Un(o.stateNode.containerInfo.firstChild),Kt=o,We=!0,_n=null,c=xf(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ci(),h===g){o=Gn(i,o,c);break e}jt(i,o,h,c)}o=o.child}return o;case 5:return Sf(o),i===null&&Mc(o),h=o.type,g=o.pendingProps,v=i!==null?i.memoizedProps:null,k=g.children,wc(h,g)?k=null:v!==null&&wc(h,v)&&(o.flags|=32),ep(i,o),jt(i,o,k,c),o.child;case 6:return i===null&&Mc(o),null;case 13:return ip(i,o,c);case 4:return Lc(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Ti(o,null,h,c):jt(i,o,h,c),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:wn(h,g),Jf(i,o,h,g,c);case 7:return jt(i,o,o.pendingProps,c),o.child;case 8:return jt(i,o,o.pendingProps.children,c),o.child;case 12:return jt(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,v=o.memoizedProps,k=g.value,Fe(na,h._currentValue),h._currentValue=k,v!==null)if(Pn(v.value,k)){if(v.children===g.children&&!At.current){o=Gn(i,o,c);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var E=v.dependencies;if(E!==null){k=v.child;for(var N=E.firstContext;N!==null;){if(N.context===h){if(v.tag===1){N=Vn(-1,c&-c),N.tag=2;var U=v.updateQueue;if(U!==null){U=U.shared;var V=U.pending;V===null?N.next=N:(N.next=V.next,V.next=N),U.pending=N}}v.lanes|=c,N=v.alternate,N!==null&&(N.lanes|=c),jc(v.return,c,o),E.lanes|=c;break}N=N.next}}else if(v.tag===10)k=v.type===o.type?null:v.child;else if(v.tag===18){if(k=v.return,k===null)throw Error(t(341));k.lanes|=c,E=k.alternate,E!==null&&(E.lanes|=c),jc(k,c,o),k=v.sibling}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===o){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}jt(i,o,g.children,c),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,Si(o,c),g=Zt(g),h=h(g),o.flags|=1,jt(i,o,h,c),o.child;case 14:return h=o.type,g=wn(h,o.pendingProps),g=wn(h.type,g),Qf(i,o,h,g,c);case 15:return Xf(i,o,o.type,o.pendingProps,c);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:wn(h,g),i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2),o.tag=1,Dt(h)?(i=!0,ea(o)):i=!1,Si(o,c),pf(o,h,g),Pc(o,h,g,c),Qc(null,o,h,!0,i,c);case 19:return lp(i,o,c);case 22:return Zf(i,o,c)}throw Error(t(156,o.tag))};function Rp(i,o){return uh(i,o)}function Mw(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(i,o,c,h){return new Mw(i,o,c,h)}function gu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Iw(i){if(typeof i=="function")return gu(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Y)return 11;if(i===he)return 14}return 2}function Sr(i,o){var c=i.alternate;return c===null?(c=on(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Aa(i,o,c,h,g,v){var k=2;if(h=i,typeof i=="function")gu(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case O:return Kr(c.children,g,v,o);case $:k=8,g|=8;break;case L:return i=on(12,c,o,g|2),i.elementType=L,i.lanes=v,i;case ie:return i=on(13,c,o,g),i.elementType=ie,i.lanes=v,i;case de:return i=on(19,c,o,g),i.elementType=de,i.lanes=v,i;case le:return Da(c,g,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:k=10;break e;case B:k=9;break e;case Y:k=11;break e;case he:k=14;break e;case ye:k=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=on(k,c,o,g),o.elementType=i,o.type=h,o.lanes=v,o}function Kr(i,o,c,h){return i=on(7,i,h,o),i.lanes=c,i}function Da(i,o,c,h){return i=on(22,i,h,o),i.elementType=le,i.lanes=c,i.stateNode={},i}function mu(i,o,c){return i=on(6,i,null,o),i.lanes=c,i}function yu(i,o,c){return o=on(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Lw(i,o,c,h,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function vu(i,o,c,h,g,v,k,E,N){return i=new Lw(i,o,c,E,N),o===1?(o=1,v===!0&&(o|=8)):o=0,v=on(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null},Oc(v),i}function Fw(i,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:h==null?null:""+h,children:i,containerInfo:o,implementation:c}}function Pp(i){if(!i)return gr;i=i._reactInternals;e:{if(Ir(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Dt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(Dt(c))return of(i,c,o)}return o}function Np(i,o,c,h,g,v,k,E,N){return i=vu(c,h,!0,i,g,v,k,E,N),i.context=Pp(null),c=i.current,h=Ot(),g=br(c),v=Vn(h,g),v.callback=o??null,vr(c,v),i.current.lanes=g,ds(i,g,h),Lt(i,h),i}function Ma(i,o,c,h){var g=o.current,v=Ot(),k=br(g);return c=Pp(c),o.context===null?o.context=c:o.pendingContext=c,o=Vn(v,k),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),vr(g,o),i=sn(g,k,v),i!==null&&ia(i,g,k),k}function Ia(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ap(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function wu(i,o){Ap(i,o),(i=i.alternate)&&Ap(i,o)}function $w(){return null}var Dp=typeof reportError=="function"?reportError:function(i){console.error(i)};function _u(i){this._internalRoot=i}La.prototype.render=_u.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Ma(i,o,null,null)},La.prototype.unmount=_u.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Wr(function(){Ma(null,i,null,null)}),o[Hn]=null}};function La(i){this._internalRoot=i}La.prototype.unstable_scheduleHydration=function(i){if(i){var o=yh();i={blockedOn:null,target:i,priority:o};for(var c=0;c<dr.length&&o!==0&&o<dr[c].priority;c++);dr.splice(c,0,i),c===0&&_h(i)}};function bu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Fa(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Mp(){}function zw(i,o,c,h,g){if(g){if(typeof h=="function"){var v=h;h=function(){var U=Ia(k);v.call(U)}}var k=Np(o,h,i,0,null,!1,!1,"",Mp);return i._reactRootContainer=k,i[Hn]=k.current,Es(i.nodeType===8?i.parentNode:i),Wr(),k}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var E=h;h=function(){var U=Ia(N);E.call(U)}}var N=vu(i,0,!1,null,null,!1,!1,"",Mp);return i._reactRootContainer=N,i[Hn]=N.current,Es(i.nodeType===8?i.parentNode:i),Wr(function(){Ma(o,N,c,h)}),N}function $a(i,o,c,h,g){var v=c._reactRootContainer;if(v){var k=v;if(typeof g=="function"){var E=g;g=function(){var N=Ia(k);E.call(N)}}Ma(o,k,i,g)}else k=zw(c,o,i,g,h);return Ia(k)}gh=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=us(o.pendingLanes);c!==0&&(Jl(o,c|1),Lt(o,Qe()),(je&6)===0&&(Ni=Qe()+500,mr()))}break;case 13:var h=Ot();Wr(function(){return sn(i,1,h)}),wu(i,1)}},Ql=function(i){if(i.tag===13){var o=Ot();sn(i,134217728,o),wu(i,134217728)}},mh=function(i){if(i.tag===13){var o=Ot(),c=br(i);sn(i,c,o),wu(i,c)}},yh=function(){return Ae},vh=function(i,o){var c=Ae;try{return Ae=i,o()}finally{Ae=c}},ls=function(i,o,c){switch(o){case"input":if(Cn(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var g=Xo(h);if(!g)throw Error(t(90));xe(h),Cn(h,g)}}}break;case"textarea":is(i,c);break;case"select":o=c.value,o!=null&&Wt(i,!!c.multiple,o,!1)}},Tt=hu,yt=Wr;var Bw={usingClientEntryPoint:!1,Events:[js,wi,Xo,mt,gn,hu]},Hs={findFiberByHostInstance:Lr,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Uw={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=lh(i),i===null?null:i.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||$w,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{Do=za.inject(Uw),Rn=za}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bw,$t.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(o))throw Error(t(200));return Fw(i,o,null,c)},$t.createRoot=function(i,o){if(!bu(i))throw Error(t(299));var c=!1,h="",g=Dp;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=vu(i,1,!1,null,null,c,!1,h,g),i[Hn]=o.current,Es(i.nodeType===8?i.parentNode:i),new _u(o)},$t.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=lh(o),i=i===null?null:i.stateNode,i},$t.flushSync=function(i){return Wr(i)},$t.hydrate=function(i,o,c){if(!Fa(o))throw Error(t(200));return $a(null,i,o,!0,c)},$t.hydrateRoot=function(i,o,c){if(!bu(i))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,v="",k=Dp;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),o=Np(o,null,i,1,c??null,g,!1,v,k),i[Hn]=o.current,Es(i),h)for(i=0;i<h.length;i++)c=h[i],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new La(o)},$t.render=function(i,o,c){if(!Fa(o))throw Error(t(200));return $a(null,i,o,!1,c)},$t.unmountComponentAtNode=function(i){if(!Fa(i))throw Error(t(40));return i._reactRootContainer?(Wr(function(){$a(null,null,i,!1,function(){i._reactRootContainer=null,i[Hn]=null})}),!0):!1},$t.unstable_batchedUpdates=hu,$t.unstable_renderSubtreeIntoContainer=function(i,o,c,h){if(!Fa(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return $a(i,o,c,!1,h)},$t.version="18.0.0-fc46dba67-20220329",$t}var Hp;function Vm(){if(Hp)return ku.exports;Hp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ku.exports=Zw(),ku.exports}var Wp;function e_(){if(Wp)return Ba;Wp=1;var n=Vm();return Ba.createRoot=n.createRoot,Ba.hydrateRoot=n.hydrateRoot,Ba}var t_=e_();const n_=kd(t_);function qm({selectedDate:n,onSelectDate:e,minDate:t}){const[r,s]=j.useState(!1),[a,l]=j.useState(new Date),u=j.useRef(null);j.useEffect(()=>{const L=H=>{u.current&&!u.current.contains(H.target)&&s(!1)};return r&&document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[r]);const d=L=>{if(!L)return"Select date";const[H,B,Y]=L.split("-").map(Number);return new Date(H,B-1,Y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},f=L=>{const H=L.getFullYear(),B=L.getMonth(),Y=new Date(H,B,1),de=new Date(H,B+1,0).getDate(),he=Y.getDay();return{daysInMonth:de,startingDayOfWeek:he,year:H,month:B}},{daysInMonth:p,startingDayOfWeek:m,year:w,month:_}=f(a),b=()=>{l(new Date(a.getFullYear(),a.getMonth()-1))},x=()=>{l(new Date(a.getFullYear(),a.getMonth()+1))},S=L=>{const H=a.getFullYear(),B=String(a.getMonth()+1).padStart(2,"0"),Y=String(L).padStart(2,"0"),ie=`${H}-${B}-${Y}`;e(ie),s(!1)},T=L=>{if(!t)return!1;const H=new Date(w,_,L),[B,Y,ie]=t.split("-").map(Number),de=new Date(B,Y-1,ie);return H<de},R=L=>{if(!n)return!1;const[H,B,Y]=n.split("-").map(Number);return w===H&&_===B-1&&L===Y},C=L=>{const H=new Date;return w===H.getFullYear()&&_===H.getMonth()&&L===H.getDate()},A=[],M=42,I=new Date(w,_,0).getDate();for(let L=m-1;L>=0;L--)A.push({day:I-L,isCurrentMonth:!1,isNextMonth:!1});for(let L=1;L<=p;L++)A.push({day:L,isCurrentMonth:!0,isNextMonth:!1});const O=M-A.length;for(let L=1;L<=O;L++)A.push({day:L,isCurrentMonth:!1,isNextMonth:!0});const $=["January","February","March","April","May","June","July","August","September","October","November","December"];return y.jsxs("div",{className:"calendar-picker-wrapper",ref:u,children:[y.jsxs("button",{type:"button",className:"calendar-trigger",onClick:()=>s(!r),children:[y.jsx("span",{className:"calendar-icon",children:""}),y.jsx("span",{className:"calendar-display-date",children:d(n)}),y.jsx("span",{className:"calendar-arrow",children:r?"":""})]}),r&&y.jsxs("div",{className:"calendar-dropdown",children:[y.jsxs("div",{className:"calendar-header",children:[y.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:b,children:""}),y.jsxs("div",{className:"calendar-month-year",children:[$[_]," ",w]}),y.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:x,children:""})]}),y.jsx("div",{className:"calendar-weekdays",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(L=>y.jsx("div",{className:"calendar-weekday",children:L},L))}),y.jsx("div",{className:"calendar-days-grid",children:A.map((L,H)=>y.jsx("button",{type:"button",className:`calendar-day ${L.isCurrentMonth?"":"other-month"} ${R(L.day)&&L.isCurrentMonth?"selected":""} ${C(L.day)&&L.isCurrentMonth?"today":""} ${T(L.day)&&L.isCurrentMonth?"disabled":""}`,onClick:()=>L.isCurrentMonth&&!T(L.day)&&S(L.day),disabled:!L.isCurrentMonth||T(L.day),children:L.day},H))})]})]})}function Km({selectedCategory:n,onSelectCategory:e}){const[t,r]=j.useState(!1),[s,a]=j.useState(""),[l,u]=j.useState(!1),d=j.useRef(null),f=[{value:"",label:"No Category"},{value:"Work",label:"Work"},{value:"Personal",label:"Personal"},{value:"Coding",label:"Coding"},{value:"Shopping",label:"Shopping"},{value:"Health",label:"Health"},{value:"Hydration",label:"Hydration"},{value:"Food",label:"Food"},{value:"Finance",label:"Finance"},{value:"Education",label:"Education"},{value:"Relationship",label:"Relationship"},{value:"Travel",label:"Travel"},{value:"Home",label:"Home"},{value:"Social",label:"Social"}];j.useEffect(()=>{const b=x=>{d.current&&!d.current.contains(x.target)&&(r(!1),u(!1),a(""))};return t&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[t]);const p=b=>{e(b),r(!1),u(!1),a("")},m=()=>{s.trim()&&(e(s.trim()),r(!1),u(!1),a(""))},w=b=>{b.key==="Enter"?m():b.key==="Escape"&&(u(!1),a(""))},_=n||"Category (optional)";return f.some(b=>b.value===n),y.jsxs("div",{className:"category-picker-wrapper",ref:d,children:[y.jsxs("button",{type:"button",className:"category-trigger",onClick:()=>r(!t),children:[y.jsx("span",{className:"category-icon",children:""}),y.jsx("span",{className:"category-display-text",children:_}),y.jsx("span",{className:"category-arrow",children:t?"":""})]}),t&&y.jsx("div",{className:"category-dropdown",children:l?y.jsxs("div",{className:"category-custom-input-wrapper",children:[y.jsx("input",{type:"text",className:"category-custom-input",placeholder:"Enter custom category...",value:s,onChange:b=>a(b.target.value),onKeyDown:w,autoFocus:!0}),y.jsxs("div",{className:"category-custom-actions",children:[y.jsx("button",{type:"button",className:"category-custom-save",onClick:m,children:"Save"}),y.jsx("button",{type:"button",className:"category-custom-cancel",onClick:()=>{u(!1),a("")},children:"Cancel"})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"category-list",children:f.map(b=>y.jsxs("button",{type:"button",className:`category-option ${n===b.value?"selected":""}`,onClick:()=>p(b.value),children:[y.jsx("span",{className:"category-check",children:n===b.value?"":""}),y.jsx("span",{className:"category-label",children:b.label})]},b.value))}),y.jsx("div",{className:"category-divider"}),y.jsxs("button",{type:"button",className:"category-custom-btn",onClick:()=>u(!0),children:[y.jsx("span",{className:"category-plus",children:"+"}),y.jsx("span",{children:"Custom Category"})]})]})})]})}function Ym({selectedTime:n,onSelectTime:e}){const[t,r]=j.useState(!1),[s,a]=j.useState(12),[l,u]=j.useState(0),[d,f]=j.useState("PM"),[p,m]=j.useState(!1),w=j.useRef(null);j.useEffect(()=>{if(n){const[O,$]=n.split(":"),L=parseInt(O),H=L===0?12:L>12?L-12:L,B=L>=12?"PM":"AM";a(H),u(parseInt($)),f(B)}},[n]),j.useEffect(()=>{const O=$=>{w.current&&!w.current.contains($.target)&&(r(!1),m(!1))};return t&&document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[t]);const _=O=>{if(!O)return"Select time";const[$,L]=O.split(":"),H=parseInt($),B=H>=12?"PM":"AM";return`${H%12||12}:${String(L).padStart(2,"0")} ${B}`},b=O=>{a(O),m(!0)},x=O=>{u(O)},S=(O=s,$=l,L=d)=>{let H=O;L==="PM"&&H!==12?H+=12:L==="AM"&&H===12&&(H=0);const B=`${String(H).padStart(2,"0")}:${String($).padStart(2,"0")}`;e(B),r(!1),m(!1)},T=()=>{S()},R=()=>{e(""),r(!1),m(!1)},C=()=>{m(!1)},A=(O,$=12)=>{const B=((O===12?0:O)*360/$-90)*Math.PI/180,Y=72,ie=100+Y*Math.cos(B),de=100+Y*Math.sin(B);return{x:ie,y:de}},M=Array.from({length:12},(O,$)=>$+1),I=[0,5,10,15,20,25,30,35,40,45,50,55];return y.jsxs("div",{className:"time-picker-wrapper",ref:w,children:[y.jsxs("button",{type:"button",className:"time-trigger",onClick:()=>r(!t),children:[y.jsx("span",{className:"time-icon",children:""}),y.jsx("span",{className:"time-display",children:_(n)}),y.jsx("span",{className:"time-arrow",children:t?"":""})]}),t&&y.jsxs("div",{className:"time-dropdown",children:[y.jsxs("div",{className:"time-picker-header",children:[y.jsx("span",{className:"time-picker-title",children:p?"Select Minute":"Select Hour"}),p&&y.jsx("button",{type:"button",className:"time-back-btn",onClick:C,children:" Back"})]}),p?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"minute-grid",children:I.map(O=>y.jsxs("button",{type:"button",className:`minute-btn ${l===O?"selected":""}`,onClick:()=>x(O),children:[":",String(O).padStart(2,"0")]},O))}),y.jsxs("div",{className:"period-toggle-minutes",children:[y.jsx("button",{type:"button",className:`period-btn ${d==="AM"?"selected":""}`,onClick:()=>f("AM"),children:"AM"}),y.jsx("button",{type:"button",className:`period-btn ${d==="PM"?"selected":""}`,onClick:()=>f("PM"),children:"PM"})]}),y.jsxs("div",{className:"time-current-selection",children:["Selected: ",s,":",String(l).padStart(2,"0")," ",d]})]}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"clock-container",children:[y.jsxs("svg",{className:"clock-face",viewBox:"0 0 200 200",children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"clockGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[y.jsx("stop",{offset:"0%",style:{stopColor:"#73ABFF",stopOpacity:1}}),y.jsx("stop",{offset:"100%",style:{stopColor:"#5A8FE6",stopOpacity:1}})]})}),y.jsx("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:"rgba(115, 171, 255, 0.2)",strokeWidth:"2"}),M.map(O=>{const $=A(O),L=s===O;return y.jsxs("g",{children:[y.jsx("circle",{cx:$.x,cy:$.y,r:"18",className:`clock-number ${L?"selected":""}`,onClick:()=>b(O),style:{cursor:"pointer"}}),y.jsx("text",{x:$.x,y:$.y,textAnchor:"middle",dominantBaseline:"middle",className:`clock-text ${L?"selected":""}`,onClick:()=>b(O),style:{cursor:"pointer",pointerEvents:"none"},children:O})]},O)})]}),y.jsxs("div",{className:"period-toggle-clock",children:[y.jsx("button",{type:"button",className:`period-btn ${d==="AM"?"selected":""}`,onClick:()=>f("AM"),children:"AM"}),y.jsx("button",{type:"button",className:`period-btn ${d==="PM"?"selected":""}`,onClick:()=>f("PM"),children:"PM"})]})]})}),y.jsxs("div",{className:"time-picker-actions",children:[y.jsx("button",{type:"button",className:"time-clear-btn",onClick:R,children:"Clear"}),y.jsx("button",{type:"button",className:"time-apply-btn",onClick:T,disabled:!p,children:"Apply"})]})]})]})}function Gm({selectedPriority:n,onSelectPriority:e}){const[t,r]=j.useState(!1),s=j.useRef(null),a=[{value:"low",label:"Low",icon:"",description:"No rush"},{value:"medium",label:"Medium",icon:"",description:"Moderate importance"},{value:"high",label:"High",icon:"",description:"Urgent"}];j.useEffect(()=>{const f=p=>{s.current&&!s.current.contains(p.target)&&r(!1)};return t&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[t]);const l=f=>{e(f),r(!1)},d=a.find(p=>p.value===n)||a[1];return y.jsxs("div",{className:"priority-picker-wrapper",ref:s,children:[y.jsxs("button",{type:"button",className:`priority-trigger priority-trigger-${n}`,onClick:()=>r(!t),children:[y.jsx("span",{className:"priority-trigger-icon",children:d.icon}),y.jsxs("span",{className:"priority-trigger-text",children:[d.label," Priority"]}),y.jsx("span",{className:"priority-arrow",children:t?"":""})]}),t&&y.jsxs("div",{className:"priority-dropdown",children:[y.jsx("div",{className:"priority-header",children:y.jsx("span",{className:"priority-title",children:"Select Priority"})}),y.jsx("div",{className:"priority-options",children:a.map(f=>y.jsxs("button",{type:"button",className:`priority-option priority-option-${f.value} ${n===f.value?"selected":""}`,onClick:()=>l(f.value),children:[y.jsx("span",{className:"priority-option-icon",children:f.icon}),y.jsxs("div",{className:"priority-option-content",children:[y.jsx("span",{className:"priority-option-label",children:f.label}),y.jsx("span",{className:"priority-option-description",children:f.description})]}),n===f.value&&y.jsx("span",{className:"priority-check",children:""})]},f.value))})]})]})}function Jm({selectedReminder:n,onSelectReminder:e}){const[t,r]=j.useState(!1),s=j.useRef(null),a=[{value:"",label:"No Reminder",icon:"",description:"No notification"},{value:"5",label:"5 minutes",icon:"",description:"5 min before"},{value:"15",label:"15 minutes",icon:"",description:"15 min before"},{value:"30",label:"30 minutes",icon:"",description:"30 min before"},{value:"60",label:"1 hour",icon:"",description:"1 hour before"},{value:"1440",label:"1 day",icon:"",description:"1 day before"}];j.useEffect(()=>{const f=p=>{s.current&&!s.current.contains(p.target)&&r(!1)};return t&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[t]);const l=f=>{e(f),r(!1)},d=a.find(p=>String(p.value)===String(n))||a[0];return y.jsxs("div",{className:"reminder-picker-wrapper",ref:s,children:[y.jsxs("button",{type:"button",className:"reminder-trigger",onClick:()=>r(!t),children:[y.jsx("span",{className:"reminder-trigger-icon",children:d.icon}),y.jsx("span",{className:"reminder-trigger-text",children:d.label}),y.jsx("span",{className:"reminder-arrow",children:t?"":""})]}),t&&y.jsxs("div",{className:"reminder-dropdown",children:[y.jsx("div",{className:"reminder-header",children:y.jsx("span",{className:"reminder-title",children:"Set Reminder"})}),y.jsx("div",{className:"reminder-options",children:a.map(f=>y.jsxs("button",{type:"button",className:`reminder-option ${String(n)===String(f.value)?"selected":""}`,onClick:()=>l(f.value),children:[y.jsx("span",{className:"reminder-option-icon",children:f.icon}),y.jsxs("div",{className:"reminder-option-content",children:[y.jsx("span",{className:"reminder-option-label",children:f.label}),y.jsx("span",{className:"reminder-option-description",children:f.description})]}),String(n)===String(f.value)&&y.jsx("span",{className:"reminder-check",children:""})]},f.value))})]})]})}function r_({selectedRecurrence:n,onSelectRecurrence:e}){var u,d;const[t,r]=j.useState(!1),s=[{value:"none",label:"Does not repeat",icon:""},{value:"daily",label:"Daily",icon:""},{value:"weekly",label:"Weekly",icon:""},{value:"biweekly",label:"Every 2 weeks",icon:""},{value:"monthly",label:"Monthly",icon:""},{value:"yearly",label:"Yearly",icon:""}],a=()=>s.find(f=>f.value===(n||"none")),l=f=>{e(f==="none"?null:f),r(!1)};return y.jsxs("div",{className:"recurrence-picker",children:[y.jsxs("button",{type:"button",className:"picker-button",onClick:()=>r(!t),title:"Set recurrence",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("span",{className:"picker-icon",children:(u=a())==null?void 0:u.icon}),y.jsx("span",{className:"picker-label",children:(d=a())==null?void 0:d.label})]}),y.jsx("span",{className:"picker-arrow",children:t?"":""})]}),t&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"picker-overlay",onClick:()=>r(!1)}),y.jsx("div",{className:"recurrence-dropdown picker-dropdown",children:s.map(f=>y.jsxs("button",{type:"button",className:`recurrence-option picker-option ${(n||"none")===f.value?"selected":""}`,onClick:()=>l(f.value),children:[y.jsx("span",{className:"option-icon",children:f.icon}),y.jsx("span",{className:"option-label",children:f.label}),(n||"none")===f.value&&y.jsx("span",{className:"option-check",children:""})]},f.value))})]})]})}function i_({onTranscript:n,onInterimTranscript:e,onError:t,onAddTask:r}){const[s,a]=j.useState(!1),[l,u]=j.useState(!0),[d,f]=j.useState(!1),p=j.useRef(null),m=j.useRef(""),w=j.useRef(!1),_=j.useRef(n),b=j.useRef(e),x=j.useRef(t),S=j.useRef(r);j.useEffect(()=>{_.current=n,b.current=e,x.current=t,S.current=r},[n,e,t,r]),j.useEffect(()=>{const R=window.SpeechRecognition||window.webkitSpeechRecognition;if(!R){u(!1);return}const C=new R;return C.continuous=!1,C.interimResults=!0,C.lang="en-US",C.maxAlternatives=1,C.onresult=A=>{let M="",I=m.current;for(let $=A.resultIndex;$<A.results.length;$++){const L=A.results[$][0].transcript;A.results[$].isFinal?I+=L+" ":M+=L}m.current=I;const O=I+M;O&&b.current&&b.current(O),I&&_.current&&_.current(I.trim())},C.onerror=A=>{if(A.error!=="no-speech"&&(a(!1),x.current)){let M="Voice recognition failed";if(A.error==="aborted")return;A.error==="not-allowed"?M="Microphone access denied. Please enable it in your browser settings.":A.error==="network"&&(M="Network error. Please check your connection."),x.current(M)}},C.onend=()=>{a(!1),w.current=!1,m.current&&_.current&&(_.current(m.current.trim()),f(!0)),m.current=""},p.current=C,()=>{p.current&&p.current.abort()}},[]);const T=()=>{var R,C;if(!l){x.current&&x.current("Voice recognition is not supported in your browser. Please try Chrome or Edge.");return}if(d){S.current&&S.current(),f(!1);return}if(s)(R=p.current)==null||R.stop(),a(!1),w.current=!1;else try{(C=p.current)==null||C.start(),a(!0),w.current=!0}catch{x.current&&x.current("Failed to start voice recognition. Please try again.")}};return l?y.jsxs("div",{className:"voice-input-wrapper",children:[y.jsx("button",{type:"button",className:`voice-input-btn ${s?"listening":""} ${d?"add-task":""}`,onClick:T,title:d?"Click to add task":s?"Click to stop":"Add task by voice",children:d?y.jsx("span",{className:"add-task-text",children:" Add Task"}):s?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"mic-icon recording",children:""}),y.jsx("span",{className:"recording-pulse"})]}):y.jsx("span",{className:"mic-icon",children:""})}),s&&y.jsx("span",{className:"listening-indicator",children:"Listening..."})]}):null}function Vp({addTask:n}){const[e,t]=j.useState(""),[r,s]=j.useState("medium"),[a,l]=j.useState(""),[u,d]=j.useState(""),[f,p]=j.useState(""),[m,w]=j.useState("15"),[_,b]=j.useState(null),[x,S]=j.useState(""),T=()=>{const O=new Date,$=O.getFullYear(),L=String(O.getMonth()+1).padStart(2,"0"),H=String(O.getDate()).padStart(2,"0");return`${$}-${L}-${H}`},R=O=>{O.preventDefault(),e.trim()&&(n({text:e,priority:r,dueDate:a||T(),dueTime:u,category:f.trim(),reminderMinutes:m?parseInt(m.toString()):null,recurrence:_}),t(""),s("medium"),l(""),d(""),p(""),w("15"),b(null))},C=O=>{t(O),S("")},A=O=>{t(O)},M=O=>{S(O),setTimeout(()=>S(""),5e3)},I=()=>{e.trim()&&R({preventDefault:()=>{}})};return y.jsxs("form",{className:"todo-form",onSubmit:R,children:[y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-with-voice",children:[y.jsx("input",{type:"text",className:"todo-input",placeholder:"Add a new task...",value:e,onChange:O=>t(O.target.value),required:!0}),y.jsx(i_,{onTranscript:C,onInterimTranscript:A,onError:M,onAddTask:I})]}),x&&y.jsx("p",{className:"voice-error",children:x})]}),y.jsxs("div",{className:"form-row form-options",children:[y.jsx(Gm,{selectedPriority:r,onSelectPriority:s}),y.jsx(qm,{selectedDate:a,onSelectDate:l,minDate:T()}),y.jsx(Ym,{selectedTime:u,onSelectTime:d}),y.jsx(Km,{selectedCategory:f,onSelectCategory:p}),y.jsx(Jm,{selectedReminder:m,onSelectReminder:w}),y.jsx(r_,{selectedRecurrence:_,onSelectRecurrence:b}),y.jsx("button",{type:"submit",className:"todo-button",children:"Add Task"})]})]})}function s_({task:n,onUpdateTime:e}){const[t,r]=j.useState(n.timeSpent||0);j.useEffect(()=>{if(n.isTracking&&n.trackingStartTime){const u=setInterval(()=>{const d=Math.floor((Date.now()-n.trackingStartTime)/1e3);r((n.timeSpent||0)+d)},1e3);return()=>clearInterval(u)}else r(n.timeSpent||0)},[n.isTracking,n.trackingStartTime,n.timeSpent]);const s=u=>{if(u<60)return`${u}s`;if(u<3600){const d=Math.floor(u/60),f=u%60;return f>0?`${d}m ${f}s`:`${d}m`}else{const d=Math.floor(u/3600),f=Math.floor(u%3600/60);return f>0?`${d}h ${f}m`:`${d}h`}},a=()=>{if(n.isTracking){const u=Math.floor((Date.now()-(n.trackingStartTime||0))/1e3),d=(n.timeSpent||0)+u;e(n.id,{timeSpent:d,isTracking:!1,trackingStartTime:null})}else e(n.id,{timeSpent:n.timeSpent||0,isTracking:!0,trackingStartTime:Date.now()})},l=()=>{e(n.id,{timeSpent:0,isTracking:!1,trackingStartTime:null})};return y.jsxs("div",{className:"time-tracker",children:[y.jsxs("div",{className:"time-display",children:[y.jsx("span",{className:"time-icon",children:n.isTracking?"":""}),y.jsx("span",{className:"time-value",children:s(t)})]}),y.jsxs("div",{className:"time-controls",children:[y.jsx("button",{className:`time-btn ${n.isTracking?"btn-stop":"btn-start"}`,onClick:a,disabled:n.completed,title:n.isTracking?"Stop timer":"Start timer",children:n.isTracking?"":""}),t>0&&y.jsx("button",{className:"time-btn btn-reset",onClick:l,disabled:n.isTracking,title:"Reset timer",children:""})]})]})}function no({task:n,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a}){const[l,u]=j.useState(!1),[d,f]=j.useState(n.text),[p,m]=j.useState(n.priority||"medium"),[w,_]=j.useState(n.dueDate||""),[b,x]=j.useState(n.dueTime||""),[S,T]=j.useState(n.category||""),[R,C]=j.useState(n.reminderMinutes||""),A=()=>{d.trim()&&(r(n.id,{text:d,priority:p,dueDate:w,dueTime:b,category:S.trim(),reminderMinutes:R?parseInt(R.toString()):null}),u(!1))},M=()=>{f(n.text),m(n.priority||"medium"),_(n.dueDate||""),x(n.dueTime||""),T(n.category||""),C(n.reminderMinutes||""),u(!1)},I=()=>`priority-${n.priority||"medium"}`,O=()=>{if(!n.dueDate||n.completed)return!1;const B=new Date,[Y,ie,de]=n.dueDate.split("-").map(Number),he=new Date(Y,ie-1,de);if(n.dueTime){const[ye,le]=n.dueTime.split(":");he.setHours(parseInt(ye),parseInt(le),0,0)}return he<B},$=B=>{if(!B)return"";const[Y,ie,de]=B.split("-").map(Number);return new Date(Y,ie-1,de).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},L=B=>{if(!B)return"";const[Y,ie]=B.split(":"),de=parseInt(Y),he=de>=12?"PM":"AM";return`${de%12||12}:${ie} ${he}`},H=B=>B?B<60?`${B} min before`:B===60?"1 hour before":B===1440?"1 day before":`${Math.floor(B/60)} hours before`:"";return y.jsx("div",{className:`todo-item ${n.completed?"completed":""} ${I()} ${O()?"overdue":""}`,children:l?y.jsxs("div",{className:"todo-edit",children:[y.jsx("input",{type:"text",className:"todo-edit-input",value:d,onChange:B=>f(B.target.value),onKeyPress:B=>B.key==="Enter"&&A()}),y.jsxs("div",{className:"edit-options",children:[y.jsx(Gm,{selectedPriority:p,onSelectPriority:m}),y.jsx(qm,{selectedDate:w,onSelectDate:_,minDate:""}),y.jsx(Ym,{selectedTime:b,onSelectTime:x}),y.jsx(Km,{selectedCategory:S,onSelectCategory:T}),y.jsx(Jm,{selectedReminder:R,onSelectReminder:C})]}),y.jsxs("div",{className:"todo-edit-actions",children:[y.jsx("button",{className:"btn-save",onClick:A,children:"Save"}),y.jsx("button",{className:"btn-cancel",onClick:M,children:"Cancel"})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"todo-content",children:[y.jsx("input",{type:"checkbox",className:"todo-checkbox",checked:n.completed,onChange:()=>e(n.id)}),y.jsxs("div",{className:"todo-details",children:[y.jsxs("div",{className:"todo-text-row",children:[y.jsx("span",{className:"todo-text",children:n.text}),n.recurrence&&y.jsxs("span",{className:"recurring-indicator",children:[y.jsx("span",{className:"recurring-indicator-icon",children:""}),n.recurrence==="daily"&&"Daily",n.recurrence==="weekly"&&"Weekly",n.recurrence==="biweekly"&&"Biweekly",n.recurrence==="monthly"&&"Monthly",n.recurrence==="yearly"&&"Yearly"]})]}),y.jsxs("div",{className:"todo-meta",children:[y.jsx("span",{className:`priority-badge priority-badge-${n.priority||"medium"}`,children:(n.priority||"medium").toUpperCase()}),n.category&&y.jsx("span",{className:"category-tag",children:n.category}),n.dueDate&&y.jsxs("span",{className:`due-date ${O()?"overdue-text":""}`,children:["Due: ",$(n.dueDate),n.dueTime&&` at ${L(n.dueTime)}`,O()&&" "]}),n.reminderMinutes&&!n.completed&&y.jsxs("span",{className:"reminder-badge",children:[" ",H(n.reminderMinutes)]})]})]})]}),y.jsx(s_,{task:n,onUpdateTime:s}),y.jsxs("div",{className:"todo-actions",children:[a&&!n.completed&&y.jsx("button",{className:"btn-focus",onClick:()=>a(n),title:"Enter Focus Mode",children:" Focus"}),y.jsx("button",{className:"btn-edit",onClick:()=>u(!0),disabled:n.completed,children:"Edit"}),y.jsx("button",{className:"btn-delete",onClick:()=>t(n.id),children:"Delete"})]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xo(n){return n+.5|0}const Or=(n,e,t)=>Math.max(Math.min(n,t),e);function Js(n){return Or(xo(n*2.55),0,255)}function Nr(n){return Or(xo(n*255),0,255)}function er(n){return Or(xo(n/2.55)/100,0,1)}function qp(n){return Or(xo(n*100),0,100)}const an={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xu=[..."0123456789ABCDEF"],o_=n=>Xu[n&15],a_=n=>Xu[(n&240)>>4]+Xu[n&15],Ua=n=>(n&240)>>4===(n&15),l_=n=>Ua(n.r)&&Ua(n.g)&&Ua(n.b)&&Ua(n.a);function c_(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&an[n[1]]*17,g:255&an[n[2]]*17,b:255&an[n[3]]*17,a:e===5?an[n[4]]*17:255}:(e===7||e===9)&&(t={r:an[n[1]]<<4|an[n[2]],g:an[n[3]]<<4|an[n[4]],b:an[n[5]]<<4|an[n[6]],a:e===9?an[n[7]]<<4|an[n[8]]:255})),t}const u_=(n,e)=>n<255?e(n):"";function d_(n){var e=l_(n)?o_:a_;return n?"#"+e(n.r)+e(n.g)+e(n.b)+u_(n.a,e):void 0}const h_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Qm(n,e,t){const r=e*Math.min(t,1-t),s=(a,l=(a+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function f_(n,e,t){const r=(s,a=(s+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function p_(n,e,t){const r=Qm(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)r[s]*=1-e-t,r[s]+=e;return r}function g_(n,e,t,r,s){return n===s?(e-t)/r+(e<t?6:0):e===s?(t-n)/r+2:(n-e)/r+4}function Cd(n){const t=n.r/255,r=n.g/255,s=n.b/255,a=Math.max(t,r,s),l=Math.min(t,r,s),u=(a+l)/2;let d,f,p;return a!==l&&(p=a-l,f=u>.5?p/(2-a-l):p/(a+l),d=g_(t,r,s,p,a),d=d*60+.5),[d|0,f||0,u]}function Td(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Nr)}function jd(n,e,t){return Td(Qm,n,e,t)}function m_(n,e,t){return Td(p_,n,e,t)}function y_(n,e,t){return Td(f_,n,e,t)}function Xm(n){return(n%360+360)%360}function v_(n){const e=h_.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Js(+e[5]):Nr(+e[5]));const s=Xm(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=m_(s,a,l):e[1]==="hsv"?r=y_(s,a,l):r=jd(s,a,l),{r:r[0],g:r[1],b:r[2],a:t}}function w_(n,e){var t=Cd(n);t[0]=Xm(t[0]+e),t=jd(t),n.r=t[0],n.g=t[1],n.b=t[2]}function __(n){if(!n)return;const e=Cd(n),t=e[0],r=qp(e[1]),s=qp(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${s}%, ${er(n.a)})`:`hsl(${t}, ${r}%, ${s}%)`}const Kp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Yp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function b_(){const n={},e=Object.keys(Yp),t=Object.keys(Kp);let r,s,a,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],s=0;s<t.length;s++)a=t[s],u=u.replace(a,Kp[a]);a=parseInt(Yp[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Ha;function x_(n){Ha||(Ha=b_(),Ha.transparent=[0,0,0,0]);const e=Ha[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const S_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function k_(n){const e=S_.exec(n);let t=255,r,s,a;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?Js(l):Or(l*255,0,255)}return r=+e[1],s=+e[3],a=+e[5],r=255&(e[2]?Js(r):Or(r,0,255)),s=255&(e[4]?Js(s):Or(s,0,255)),a=255&(e[6]?Js(a):Or(a,0,255)),{r,g:s,b:a,a:t}}}function E_(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${er(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Tu=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Di=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function C_(n,e,t){const r=Di(er(n.r)),s=Di(er(n.g)),a=Di(er(n.b));return{r:Nr(Tu(r+t*(Di(er(e.r))-r))),g:Nr(Tu(s+t*(Di(er(e.g))-s))),b:Nr(Tu(a+t*(Di(er(e.b))-a))),a:n.a+t*(e.a-n.a)}}function Wa(n,e,t){if(n){let r=Cd(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=jd(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Zm(n,e){return n&&Object.assign(e||{},n)}function Gp(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Nr(n[3]))):(e=Zm(n,{r:0,g:0,b:0,a:1}),e.a=Nr(e.a)),e}function T_(n){return n.charAt(0)==="r"?k_(n):v_(n)}class ho{constructor(e){if(e instanceof ho)return e;const t=typeof e;let r;t==="object"?r=Gp(e):t==="string"&&(r=c_(e)||x_(e)||T_(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Zm(this._rgb);return e&&(e.a=er(e.a)),e}set rgb(e){this._rgb=Gp(e)}rgbString(){return this._valid?E_(this._rgb):void 0}hexString(){return this._valid?d_(this._rgb):void 0}hslString(){return this._valid?__(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,s=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,d=r.a-s.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;a=1-f,r.r=255&f*r.r+a*s.r+.5,r.g=255&f*r.g+a*s.g+.5,r.b=255&f*r.b+a*s.b+.5,r.a=l*r.a+(1-l)*s.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=C_(this._rgb,e._rgb,t)),this}clone(){return new ho(this.rgb)}alpha(e){return this._rgb.a=Nr(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=xo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Wa(this._rgb,2,e),this}darken(e){return Wa(this._rgb,2,-e),this}saturate(e){return Wa(this._rgb,1,e),this}desaturate(e){return Wa(this._rgb,1,-e),this}rotate(e){return w_(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Jn(){}const j_=(()=>{let n=0;return()=>n++})();function Le(n){return n==null}function at(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Re(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function dn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function In(n,e){return dn(n)?n:e}function Oe(n,e){return typeof n>"u"?e:n}const O_=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,ey=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function He(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function De(n,e,t,r){let s,a,l;if(at(n))for(a=n.length,s=0;s<a;s++)e.call(t,n[s],s);else if(Re(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)e.call(t,n[l[s]],l[s])}function gl(n,e){let t,r,s,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(s=n[t],a=e[t],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function ml(n){if(at(n))return n.map(ml);if(Re(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let s=0;for(;s<r;++s)e[t[s]]=ml(n[t[s]]);return e}return n}function ty(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function R_(n,e,t,r){if(!ty(n))return;const s=e[n],a=t[n];Re(s)&&Re(a)?fo(s,a,r):e[n]=ml(a)}function fo(n,e,t){const r=at(e)?e:[e],s=r.length;if(!Re(n))return n;t=t||{};const a=t.merger||R_;let l;for(let u=0;u<s;++u){if(l=r[u],!Re(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)a(d[f],n,l,t)}return n}function ro(n,e){return fo(n,e,{merger:P_})}function P_(n,e,t){if(!ty(n))return;const r=e[n],s=t[n];Re(r)&&Re(s)?ro(r,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ml(s))}const Jp={"":n=>n,x:n=>n.x,y:n=>n.y};function N_(n){const e=n.split("."),t=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function A_(n){const e=N_(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function ai(n,e){return(Jp[e]||(Jp[e]=A_(e)))(n)}function Od(n){return n.charAt(0).toUpperCase()+n.slice(1)}const po=n=>typeof n<"u",Dr=n=>typeof n=="function",Qp=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function D_(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ie=Math.PI,rt=2*Ie,yl=Number.POSITIVE_INFINITY,M_=Ie/180,lt=Ie/2,Yr=Ie/4,Xp=Ie*2/3,ny=Math.log10,Ar=Math.sign;function cl(n,e,t){return Math.abs(n-e)<t}function Zp(n){const e=Math.round(n);n=cl(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(ny(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function I_(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((s,a)=>s-a).pop(),e}function L_(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function vl(n){return!L_(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function F_(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function $_(n,e,t){let r,s,a;for(r=0,s=n.length;r<s;r++)a=n[r][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function tr(n){return n*(Ie/180)}function z_(n){return n*(180/Ie)}function eg(n){if(!dn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function ry(n,e){const t=e.x-n.x,r=e.y-n.y,s=Math.sqrt(t*t+r*r);let a=Math.atan2(r,t);return a<-.5*Ie&&(a+=rt),{angle:a,distance:s}}function B_(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function $n(n){return(n%rt+rt)%rt}function wl(n,e,t,r){const s=$n(n),a=$n(e),l=$n(t),u=$n(a-s),d=$n(l-s),f=$n(s-a),p=$n(s-l);return s===a||s===l||r&&a===l||u>d&&f<p}function Ht(n,e,t){return Math.max(e,Math.min(t,n))}function U_(n){return Ht(n,-32768,32767)}function ii(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Rd(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,t(a)?s=a:r=a;return{lo:s,hi:r}}const Zu=(n,e,t,r)=>Rd(n,t,r?s=>{const a=n[s][e];return a<t||a===t&&n[s+1][e]===t}:s=>n[s][e]<t),H_=(n,e,t)=>Rd(n,t,r=>n[r][e]>=t);function W_(n,e,t){let r=0,s=n.length;for(;r<s&&n[r]<e;)r++;for(;s>r&&n[s-1]>t;)s--;return r>0||s<n.length?n.slice(r,s):n}const iy=["push","pop","shift","splice","unshift"];function V_(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),iy.forEach(t=>{const r="_onData"+Od(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),l}})})}function tg(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(iy.forEach(a=>{delete n[a]}),delete n._chartjs)}function sy(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const oy=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function ay(n,e){let t=[],r=!1;return function(...s){t=s,r||(r=!0,oy.call(window,()=>{r=!1,n.apply(e,t)}))}}function q_(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Pd=n=>n==="start"?"left":n==="end"?"right":"center",kt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,K_=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,Va=n=>n===0||n===1,ng=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*rt/t)),rg=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*rt/t)+1,io={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*lt)+1,easeOutSine:n=>Math.sin(n*lt),easeInOutSine:n=>-.5*(Math.cos(Ie*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Va(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Va(n)?n:ng(n,.075,.3),easeOutElastic:n=>Va(n)?n:rg(n,.075,.3),easeInOutElastic(n){return Va(n)?n:n<.5?.5*ng(n*2,.1125,.45):.5+.5*rg(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-io.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?io.easeInBounce(n*2)*.5:io.easeOutBounce(n*2-1)*.5+.5};function ly(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ig(n){return ly(n)?n:new ho(n)}function ju(n){return ly(n)?n:new ho(n).saturate(.5).darken(.1).hexString()}const Y_=["x","y","borderWidth","radius","tension"],G_=["color","borderColor","backgroundColor"];function J_(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:G_},numbers:{type:"number",properties:Y_}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Q_(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const sg=new Map;function X_(n,e){e=e||{};const t=n+JSON.stringify(e);let r=sg.get(t);return r||(r=new Intl.NumberFormat(n,e),sg.set(t,r)),r}function Nd(n,e,t){return X_(e,t).format(n)}const Z_={values(n){return at(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let s,a=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=eb(n,t)}const l=ny(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),Nd(n,r,d)}};function eb(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var cy={formatters:Z_};function tb(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const li=Object.create(null),ed=Object.create(null);function so(n,e){if(!e)return n;const t=e.split(".");for(let r=0,s=t.length;r<s;++r){const a=t[r];n=n[a]||(n[a]=Object.create(null))}return n}function Ou(n,e,t){return typeof e=="string"?fo(so(n,e),t):fo(so(n,""),e)}class nb{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>ju(s.backgroundColor),this.hoverBorderColor=(r,s)=>ju(s.borderColor),this.hoverColor=(r,s)=>ju(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ou(this,e,t)}get(e){return so(this,e)}describe(e,t){return Ou(ed,e,t)}override(e,t){return Ou(li,e,t)}route(e,t,r,s){const a=so(this,e),l=so(this,r),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[u],f=l[s];return Re(d)?Object.assign({},f,d):Oe(d,f)},set(d){this[u]=d}}})}apply(e){e.forEach(t=>t(this))}}var Xe=new nb({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[J_,Q_,tb]);function rb(n){return!n||Le(n.size)||Le(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function og(n,e,t,r,s){let a=e[s];return a||(a=e[s]=n.measureText(s).width,t.push(s)),a>r&&(r=a),r}function Gr(n,e,t){const r=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*r)/r+s}function ag(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function lg(n,e,t,r){uy(n,e,t,r,null)}function uy(n,e,t,r,s){let a,l,u,d,f,p,m,w;const _=e.pointStyle,b=e.rotation,x=e.radius;let S=(b||0)*M_;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(S),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),_){default:s?n.ellipse(t,r,s/2,x,0,0,rt):n.arc(t,r,x,0,rt),n.closePath();break;case"triangle":p=s?s/2:x,n.moveTo(t+Math.sin(S)*p,r-Math.cos(S)*x),S+=Xp,n.lineTo(t+Math.sin(S)*p,r-Math.cos(S)*x),S+=Xp,n.lineTo(t+Math.sin(S)*p,r-Math.cos(S)*x),n.closePath();break;case"rectRounded":f=x*.516,d=x-f,l=Math.cos(S+Yr)*d,m=Math.cos(S+Yr)*(s?s/2-f:d),u=Math.sin(S+Yr)*d,w=Math.sin(S+Yr)*(s?s/2-f:d),n.arc(t-m,r-u,f,S-Ie,S-lt),n.arc(t+w,r-l,f,S-lt,S),n.arc(t+m,r+u,f,S,S+lt),n.arc(t-w,r+l,f,S+lt,S+Ie),n.closePath();break;case"rect":if(!b){d=Math.SQRT1_2*x,p=s?s/2:d,n.rect(t-p,r-d,2*p,2*d);break}S+=Yr;case"rectRot":m=Math.cos(S)*(s?s/2:x),l=Math.cos(S)*x,u=Math.sin(S)*x,w=Math.sin(S)*(s?s/2:x),n.moveTo(t-m,r-u),n.lineTo(t+w,r-l),n.lineTo(t+m,r+u),n.lineTo(t-w,r+l),n.closePath();break;case"crossRot":S+=Yr;case"cross":m=Math.cos(S)*(s?s/2:x),l=Math.cos(S)*x,u=Math.sin(S)*x,w=Math.sin(S)*(s?s/2:x),n.moveTo(t-m,r-u),n.lineTo(t+m,r+u),n.moveTo(t+w,r-l),n.lineTo(t-w,r+l);break;case"star":m=Math.cos(S)*(s?s/2:x),l=Math.cos(S)*x,u=Math.sin(S)*x,w=Math.sin(S)*(s?s/2:x),n.moveTo(t-m,r-u),n.lineTo(t+m,r+u),n.moveTo(t+w,r-l),n.lineTo(t-w,r+l),S+=Yr,m=Math.cos(S)*(s?s/2:x),l=Math.cos(S)*x,u=Math.sin(S)*x,w=Math.sin(S)*(s?s/2:x),n.moveTo(t-m,r-u),n.lineTo(t+m,r+u),n.moveTo(t+w,r-l),n.lineTo(t-w,r+l);break;case"line":l=s?s/2:Math.cos(S)*x,u=Math.sin(S)*x,n.moveTo(t-l,r-u),n.lineTo(t+l,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(S)*(s?s/2:x),r+Math.sin(S)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function dy(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Ad(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Dd(n){n.restore()}function ib(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Le(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function sb(n,e,t,r,s){if(s.strikethrough||s.underline){const a=n.measureText(r),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,d=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,p=s.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function ob(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function go(n,e,t,r,s,a={}){const l=at(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let d,f;for(n.save(),n.font=s.string,ib(n,a),d=0;d<l.length;++d)f=l[d],a.backdrop&&ob(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Le(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,r,a.maxWidth)),n.fillText(f,t,r,a.maxWidth),sb(n,t,r,f,a),r+=Number(s.lineHeight);n.restore()}function _l(n,e){const{x:t,y:r,w:s,h:a,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*Ie,Ie,!0),n.lineTo(t,r+a-l.bottomLeft),n.arc(t+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,Ie,lt,!0),n.lineTo(t+s-l.bottomRight,r+a),n.arc(t+s-l.bottomRight,r+a-l.bottomRight,l.bottomRight,lt,0,!0),n.lineTo(t+s,r+l.topRight),n.arc(t+s-l.topRight,r+l.topRight,l.topRight,0,-lt,!0),n.lineTo(t+l.topLeft,r)}const ab=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cb(n,e){const t=(""+n).match(ab);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const ub=n=>+n||0;function Md(n,e){const t={},r=Re(e),s=r?Object.keys(e):e,a=Re(n)?r?l=>Oe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of s)t[l]=ub(a(l));return t}function hy(n){return Md(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Wi(n){return Md(n,["topLeft","topRight","bottomLeft","bottomRight"])}function hn(n){const e=hy(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Et(n,e){n=n||{},e=e||Xe.font;let t=Oe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Oe(n.style,e.style);r&&!(""+r).match(lb)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Oe(n.family,e.family),lineHeight:cb(Oe(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Oe(n.weight,e.weight),string:""};return s.string=rb(s),s}function qa(n,e,t,r){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function db(n,e,t){const{min:r,max:s}=n,a=ey(e,(s-r)/2),l=(u,d)=>t&&u===0?0:u+d;return{min:l(r,-Math.abs(a)),max:l(s,a)}}function Qi(n,e){return Object.assign(Object.create(n),e)}function Id(n,e=[""],t,r,s=()=>n[0]){const a=t||n;typeof r>"u"&&(r=my("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:s,override:u=>Id([u,...n],e,a,r)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return py(u,d,()=>wb(d,e,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return ug(u).includes(d)},ownKeys(u){return ug(u)},set(u,d,f){const p=u._storage||(u._storage=s());return u[d]=p[d]=f,delete u._keys,!0}})}function Gi(n,e,t,r){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:fy(n,r),setContext:a=>Gi(n,a,t,r),override:a=>Gi(n.override(a),e,t,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return py(a,l,()=>fb(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function fy(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:r,isScriptable:Dr(t)?t:()=>t,isIndexable:Dr(r)?r:()=>r}}const hb=(n,e)=>n?n+Od(e):e,Ld=(n,e)=>Re(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function py(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function fb(n,e,t){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=n;let u=r[e];return Dr(u)&&l.isScriptable(e)&&(u=pb(e,u,n,t)),at(u)&&u.length&&(u=gb(e,u,n,l.isIndexable)),Ld(e,u)&&(u=Gi(u,s,a&&a[e],l)),u}function pb(n,e,t,r){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=e(a,l||r);return u.delete(n),Ld(n,d)&&(d=Fd(s._scopes,s,n,d)),d}function gb(n,e,t,r){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&r(n))return e[a.index%e.length];if(Re(e[0])){const d=e,f=s._scopes.filter(p=>p!==d);e=[];for(const p of d){const m=Fd(f,s,n,p);e.push(Gi(m,a,l&&l[n],u))}}return e}function gy(n,e,t){return Dr(n)?n(e,t):n}const mb=(n,e)=>n===!0?e:typeof n=="string"?ai(e,n):void 0;function yb(n,e,t,r,s){for(const a of e){const l=mb(t,a);if(l){n.add(l);const u=gy(l._fallback,t,s);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Fd(n,e,t,r){const s=e._rootScopes,a=gy(e._fallback,t,r),l=[...n,...s],u=new Set;u.add(r);let d=cg(u,l,t,a||t,r);return d===null||typeof a<"u"&&a!==t&&(d=cg(u,l,a,d,r),d===null)?!1:Id(Array.from(u),[""],s,a,()=>vb(e,t,r))}function cg(n,e,t,r,s){for(;t;)t=yb(n,e,t,r,s);return t}function vb(n,e,t){const r=n._getTarget();e in r||(r[e]={});const s=r[e];return at(s)&&Re(t)?t:s||{}}function wb(n,e,t,r){let s;for(const a of e)if(s=my(hb(a,n),t),typeof s<"u")return Ld(n,s)?Fd(t,r,n,s):s}function my(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function ug(n){let e=n._keys;return e||(e=n._keys=_b(n._scopes)),e}function _b(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function $d(){return typeof window<"u"&&typeof document<"u"}function zd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bl(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Il=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function bb(n,e){return Il(n).getPropertyValue(e)}const xb=["top","right","bottom","left"];function oi(n,e,t){const r={};t=t?"-"+t:"";for(let s=0;s<4;s++){const a=xb[s];r[a]=parseFloat(n[e+"-"+a+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Sb=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function kb(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:s,offsetY:a}=r;let l=!1,u,d;if(Sb(s,a,n.target))u=s,d=a;else{const f=e.getBoundingClientRect();u=r.clientX-f.left,d=r.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function Zr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,s=Il(t),a=s.boxSizing==="border-box",l=oi(s,"padding"),u=oi(s,"border","width"),{x:d,y:f,box:p}=kb(n,t),m=l.left+(p&&u.left),w=l.top+(p&&u.top);let{width:_,height:b}=e;return a&&(_-=l.width+u.width,b-=l.height+u.height),{x:Math.round((d-m)/_*t.width/r),y:Math.round((f-w)/b*t.height/r)}}function Eb(n,e,t){let r,s;if(e===void 0||t===void 0){const a=n&&zd(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Il(a),d=oi(u,"border","width"),f=oi(u,"padding");e=l.width-f.width-d.width,t=l.height-f.height-d.height,r=bl(u.maxWidth,a,"clientWidth"),s=bl(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:r||yl,maxHeight:s||yl}}const Rr=n=>Math.round(n*10)/10;function Cb(n,e,t,r){const s=Il(n),a=oi(s,"margin"),l=bl(s.maxWidth,n,"clientWidth")||yl,u=bl(s.maxHeight,n,"clientHeight")||yl,d=Eb(n,e,t);let{width:f,height:p}=d;if(s.boxSizing==="content-box"){const w=oi(s,"border","width"),_=oi(s,"padding");f-=_.width+w.width,p-=_.height+w.height}return f=Math.max(0,f-a.width),p=Math.max(0,r?f/r:p-a.height),f=Rr(Math.min(f,l,d.maxWidth)),p=Rr(Math.min(p,u,d.maxHeight)),f&&!p&&(p=Rr(f/2)),(e!==void 0||t!==void 0)&&r&&d.height&&p>d.height&&(p=d.height,f=Rr(Math.floor(p*r))),{width:f,height:p}}function dg(n,e,t){const r=e||1,s=Rr(n.height*r),a=Rr(n.width*r);n.height=Rr(n.height),n.width=Rr(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=r,l.height=s,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Tb=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};$d()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function hg(n,e){const t=bb(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const jb=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Ob=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Vi(n,e,t){return n?jb(e,t):Ob()}function yy(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function vy(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Ka(n,e,t){return n.options.clip?n[t]:e[t]}function Rb(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Ka(t,e,"left"),right:Ka(t,e,"right"),top:Ka(r,e,"top"),bottom:Ka(r,e,"bottom")}:e}function Pb(n,e){const t=e._clip;if(t.disabled)return!1;const r=Rb(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Nb{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,s){const a=t.listeners[s],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=oy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,u=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,r,e,"progress")),a.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qn=new Nb;const fg="transparent",Ab={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=ig(n||fg),s=r.valid&&ig(e||fg);return s&&s.valid?s.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Db{constructor(e,t,r,s){const a=t[r];s=qa([e.to,s,a,e.from]);const l=qa([e.from,a,s]);this._active=!0,this._fn=e.fn||Ab[e.type||typeof l],this._easing=io[e.easing]||io.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=qa([e.to,t,s,e.from]),this._from=qa([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let d;if(this._active=a!==u&&(l||t<r),!this._active){this._target[s]=u,this._notify(!0);return}if(t<0){this._target[s]=a;return}d=t/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(a,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][t]()}}class wy{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Re(e))return;const t=Object.keys(Xe.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!Re(a))return;const l={};for(const u of t)l[u]=a[u];(at(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,t){const r=t.options,s=Ib(e,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&Mb(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,t));continue}const p=t[f];let m=a[f];const w=r.get(f);if(m)if(w&&m.active()){m.update(w,p,u);continue}else m.cancel();if(!w||!w.duration){e[f]=p;continue}a[f]=m=new Db(w,e,f,p),s.push(m)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Qn.add(this._chart,r),!0}}function Mb(n,e){const t=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const a=n[r[s]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function Ib(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function pg(n,e){const t=n&&n.options||{},r=t.reverse,s=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:r?a:s,end:r?s:a}}function Lb(n,e,t){if(t===!1)return!1;const r=pg(n,t),s=pg(e,t);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function Fb(n){let e,t,r,s;return Re(n)?(e=n.top,t=n.right,r=n.bottom,s=n.left):e=t=r=s=n,{top:e,right:t,bottom:r,left:s,disabled:n===!1}}function _y(n,e){const t=[],r=n._getSortedDatasetMetas(e);let s,a;for(s=0,a=r.length;s<a;++s)t.push(r[s].index);return t}function gg(n,e,t,r={}){const s=n.keys,a=r.mode==="single";let l,u,d,f;if(e===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(d=+s[l],d===t){if(p=!0,r.all)continue;break}f=n.values[d],dn(f)&&(a||e===0||Ar(e)===Ar(f))&&(e+=f)}return!p&&!r.all?0:e}function $b(n,e){const{iScale:t,vScale:r}=e,s=t.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[s]:p,[a]:n[p]};return u}function Ru(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function zb(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Bb(n){const{min:e,max:t,minDefined:r,maxDefined:s}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function Ub(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function mg(n,e,t,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const a=n[s.index];if(t&&a>0||!t&&a<0)return s.index}return null}function yg(n,e){const{chart:t,_cachedMeta:r}=n,s=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=r,d=a.axis,f=l.axis,p=zb(a,l,r),m=e.length;let w;for(let _=0;_<m;++_){const b=e[_],{[d]:x,[f]:S}=b,T=b._stacks||(b._stacks={});w=T[f]=Ub(s,p,x),w[u]=S,w._top=mg(w,l,!0,r.type),w._bottom=mg(w,l,!1,r.type);const R=w._visualValues||(w._visualValues={});R[u]=S}}function Pu(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function Hb(n,e){return Qi(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Wb(n,e,t){return Qi(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Vs(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const s of e){const a=s._stacks;if(!a||a[r]===void 0||a[r][t]===void 0)return;delete a[r][t],a[r]._visualValues!==void 0&&a[r]._visualValues[t]!==void 0&&delete a[r]._visualValues[t]}}}const Nu=n=>n==="reset"||n==="none",vg=(n,e)=>e?n:Object.assign({},n),Vb=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:_y(t,!0),values:null};class qi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ru(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),s=(m,w,_,b)=>m==="x"?w:m==="r"?b:_,a=t.xAxisID=Oe(r.xAxisID,Pu(e,"x")),l=t.yAxisID=Oe(r.yAxisID,Pu(e,"y")),u=t.rAxisID=Oe(r.rAxisID,Pu(e,"r")),d=t.indexAxis,f=t.iAxisID=s(d,a,l,u),p=t.vAxisID=s(d,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&tg(this._data,this),e._stacked&&Vs(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Re(t)){const s=this._cachedMeta;this._data=$b(t,s)}else if(r!==t){if(r){tg(r,this);const s=this._cachedMeta;Vs(s),s._parsed=[]}t&&Object.isExtensible(t)&&V_(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=t._stacked;t._stacked=Ru(t.vScale,t),t.stack!==r.stack&&(s=!0,Vs(t),t.stack=r.stack),this._resyncElements(e),(s||a!==t._stacked)&&(yg(this,t._parsed),t._stacked=Ru(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:l}=r,u=a.axis;let d=e===0&&t===s.length?!0:r._sorted,f=e>0&&r._parsed[e-1],p,m,w;if(this._parsing===!1)r._parsed=s,r._sorted=!0,w=s;else{at(s[e])?w=this.parseArrayData(r,s,e,t):Re(s[e])?w=this.parseObjectData(r,s,e,t):w=this.parsePrimitiveData(r,s,e,t);const _=()=>m[u]===null||f&&m[u]<f[u];for(p=0;p<t;++p)r._parsed[p+e]=m=w[p],d&&(_()&&(d=!1),f=m);r._sorted=d}l&&yg(this,w)}parsePrimitiveData(e,t,r,s){const{iScale:a,vScale:l}=e,u=a.axis,d=l.axis,f=a.getLabels(),p=a===l,m=new Array(s);let w,_,b;for(w=0,_=s;w<_;++w)b=w+r,m[w]={[u]:p||a.parse(f[b],b),[d]:l.parse(t[b],b)};return m}parseArrayData(e,t,r,s){const{xScale:a,yScale:l}=e,u=new Array(s);let d,f,p,m;for(d=0,f=s;d<f;++d)p=d+r,m=t[p],u[d]={x:a.parse(m[0],p),y:l.parse(m[1],p)};return u}parseObjectData(e,t,r,s){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(s);let p,m,w,_;for(p=0,m=s;p<m;++p)w=p+r,_=t[w],f[p]={x:a.parse(ai(_,u),w),y:l.parse(ai(_,d),w)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const s=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:_y(s,!0),values:t._stacks[e.axis]._visualValues};return gg(u,l,a.index,{mode:r})}updateRangeFromParsed(e,t,r,s){const a=r[t.axis];let l=a===null?NaN:a;const u=s&&r._stacks[t.axis];s&&u&&(s.values=u,l=gg(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,l=s.length,u=this._getOtherScale(e),d=Vb(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=Bb(u);let w,_;function b(){_=s[w];const x=_[u.axis];return!dn(_[e.axis])||p>x||m<x}for(w=0;w<l&&!(!b()&&(this.updateRangeFromParsed(f,e,_,d),a));++w);if(a){for(w=l-1;w>=0;--w)if(!b()){this.updateRangeFromParsed(f,e,_,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let s,a,l;for(s=0,a=t.length;s<a;++s)l=t[s][e.axis],dn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,s=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Fb(Oe(this.options.clip,Lb(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,s=r.data||[],a=t.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||s.length-u,f=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,a,u,d),p=u;p<u+d;++p){const m=s[p];m.hidden||(m.active&&f?l.push(m):m.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=Wb(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=Hb(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const s=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],d=this.enableOptionSharing&&po(r);if(u)return vg(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),m=s?[`${e}Hover`,"hover",e,""]:[e,""],w=f.getOptionScopes(this.getDataset(),p),_=Object.keys(Xe.elements[e]),b=()=>this.getContext(r,s,t),x=f.resolveNamedOptions(w,_,b,m);return x.$shared&&(x.$shared=d,a[l]=Object.freeze(vg(x,d))),x}_resolveAnimations(e,t,r){const s=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let d;if(s.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,t),w=p.getOptionScopes(this.getDataset(),m);d=p.createResolver(w,this.getContext(e,r,t))}const f=new wy(s,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Nu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),s=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(t,a)||a!==s;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:l}}updateElement(e,t,r,s){Nu(s)?Object.assign(e,r):this._resolveAnimations(t,s).update(e,r)}updateSharedOptions(e,t,r){e&&!Nu(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,s){e.active=s;const a=this.getStyle(t,s);this._resolveAnimations(t,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const s=r.length,a=t.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,t,r=!0){const s=this._cachedMeta,a=s.data,l=e+t;let u;const d=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(d(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,s){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,t);r._stacked&&Vs(r,s)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,s]=e;this[t](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ve(qi,"defaults",{}),ve(qi,"datasetElementType",null),ve(qi,"dataElementType",null);function qb(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let s=0,a=t.length;s<a;s++)r=r.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=sy(r.sort((s,a)=>s-a))}return n._cache.$bar}function Kb(n){const e=n.iScale,t=qb(e,n.type);let r=e._length,s,a,l,u;const d=()=>{l===32767||l===-32768||(po(u)&&(r=Math.min(r,Math.abs(l-u)||r)),u=l)};for(s=0,a=t.length;s<a;++s)l=e.getPixelForValue(t[s]),d();for(u=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),d();return r}function Yb(n,e,t,r){const s=t.barThickness;let a,l;return Le(s)?(a=e.min*t.categoryPercentage,l=t.barPercentage):(a=s*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[n]-a/2}}function Gb(n,e,t,r){const s=e.pixels,a=s[n];let l=n>0?s[n-1]:null,u=n<s.length-1?s[n+1]:null;const d=t.categoryPercentage;l===null&&(l=a-(u===null?e.end-e.start:u-a)),u===null&&(u=a+a-l);const f=a-(a-Math.min(l,u))/2*d;return{chunk:Math.abs(u-l)/2*d/r,ratio:t.barPercentage,start:f}}function Jb(n,e,t,r){const s=t.parse(n[0],r),a=t.parse(n[1],r),l=Math.min(s,a),u=Math.max(s,a);let d=l,f=u;Math.abs(l)>Math.abs(u)&&(d=u,f=l),e[t.axis]=f,e._custom={barStart:d,barEnd:f,start:s,end:a,min:l,max:u}}function by(n,e,t,r){return at(n)?Jb(n,e,t,r):e[t.axis]=t.parse(n,r),e}function wg(n,e,t,r){const s=n.iScale,a=n.vScale,l=s.getLabels(),u=s===a,d=[];let f,p,m,w;for(f=t,p=t+r;f<p;++f)w=e[f],m={},m[s.axis]=u||s.parse(l[f],f),d.push(by(w,m,a,f));return d}function Au(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Qb(n,e,t){return n!==0?Ar(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Xb(n){let e,t,r,s,a;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(s="end",a="start"):(s="start",a="end"),{start:t,end:r,reverse:e,top:s,bottom:a}}function Zb(n,e,t,r){let s=e.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:d,top:f,bottom:p}=Xb(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?s=f:(t._bottom||0)===r?s=p:(a[_g(p,l,u,d)]=!0,s=f)),a[_g(s,l,u,d)]=!0,n.borderSkipped=a}function _g(n,e,t,r){return r?(n=ex(n,e,t),n=bg(n,t,e)):n=bg(n,e,t),n}function ex(n,e,t){return n===e?t:n===t?e:n}function bg(n,e,t){return n==="start"?e:n==="end"?t:n}function tx(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class ul extends qi{parsePrimitiveData(e,t,r,s){return wg(e,t,r,s)}parseArrayData(e,t,r,s){return wg(e,t,r,s)}parseObjectData(e,t,r,s){const{iScale:a,vScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=a.axis==="x"?u:d,p=l.axis==="x"?u:d,m=[];let w,_,b,x;for(w=r,_=r+s;w<_;++w)x=t[w],b={},b[a.axis]=a.parse(ai(x,f),w),m.push(by(ai(x,p),b,l,w));return m}updateRangeFromParsed(e,t,r,s){super.updateRangeFromParsed(e,t,r,s);const a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:s}=t,a=this.getParsed(e),l=a._custom,u=Au(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,d=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:w}=this._getSharedOptions(t,s);for(let _=t;_<t+r;_++){const b=this.getParsed(_),x=a||Le(b[u.axis])?{base:d,head:d}:this._calculateBarValuePixels(_),S=this._calculateBarIndexPixels(_,p),T=(b._stacks||{})[u.axis],R={horizontal:f,base:x.base,enableBorderRadius:!T||Au(b._custom)||l===T._top||l===T._bottom,x:f?x.head:S.center,y:f?S.center:x.head,height:f?S.size:Math.abs(x.size),width:f?Math.abs(x.size):S.size};w&&(R.options=m||this.resolveDataElementOptions(_,e[_].active?"active":s));const C=R.options||e[_].options;Zb(R,C,T,l),tx(R,C,p.ratio),this.updateElement(e[_],_,R,s)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=r.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(t),d=u&&u[r.axis],f=p=>{const m=p._parsed.find(_=>_[r.axis]===d),w=m&&m[p.vScale.axis];if(Le(w)||isNaN(w))return!0};for(const p of s)if(!(t!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Oe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const s=this._getStacks(e,r),a=t!==void 0?s.indexOf(t):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,s=[];let a,l;for(a=0,l=t.data.length;a<l;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const u=e.barThickness;return{min:u||Kb(t),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:s},options:{base:a,minBarLength:l}}=this,u=a||0,d=this.getParsed(e),f=d._custom,p=Au(f);let m=d[t.axis],w=0,_=r?this.applyStack(t,d,r):m,b,x;_!==m&&(w=_-m,_=m),p&&(m=f.barStart,_=f.barEnd-f.barStart,m!==0&&Ar(m)!==Ar(f.barEnd)&&(w=0),w+=m);const S=!Le(a)&&!p?a:w;let T=t.getPixelForValue(S);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(w+_):b=T,x=b-T,Math.abs(x)<l){x=Qb(x,t,u)*l,m===u&&(T-=x/2);const R=t.getPixelForDecimal(0),C=t.getPixelForDecimal(1),A=Math.min(R,C),M=Math.max(R,C);T=Math.max(Math.min(T,M),A),b=T+x,r&&!p&&(d._stacks[t.axis]._visualValues[s]=t.getValueForPixel(b)-t.getValueForPixel(T))}if(T===t.getPixelForValue(u)){const R=Ar(x)*t.getLineWidthForValue(u)/2;T+=R,x-=R}return{size:x,base:T,head:b,center:b+x/2}}_calculateBarIndexPixels(e,t){const r=t.scale,s=this.options,a=s.skipNull,l=Oe(s.maxBarThickness,1/0);let u,d;const f=this._getAxisCount();if(t.grouped){const p=a?this._getStackCount(e):t.stackCount,m=s.barThickness==="flex"?Gb(e,t,s,p*f):Yb(e,t,s,p*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Oe(w,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+_;u=m.start+m.chunk*b+m.chunk/2,d=Math.min(l,m.chunk*m.ratio)}else u=r.getPixelForValue(this.getParsed(e)[r.axis],e),d=Math.min(l,t.min*t.ratio);return{base:u-d/2,head:u+d/2,center:u,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)this.getParsed(a)[t.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}ve(ul,"id","bar"),ve(ul,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ve(ul,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function nx(n,e,t){let r=1,s=1,a=0,l=0;if(e<rt){const u=n,d=u+e,f=Math.cos(u),p=Math.sin(u),m=Math.cos(d),w=Math.sin(d),_=(C,A,M)=>wl(C,u,d,!0)?1:Math.max(A,A*t,M,M*t),b=(C,A,M)=>wl(C,u,d,!0)?-1:Math.min(A,A*t,M,M*t),x=_(0,f,m),S=_(lt,p,w),T=b(Ie,f,m),R=b(Ie+lt,p,w);r=(x-T)/2,s=(S-R)/2,a=-(x+T)/2,l=-(S+R)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:l}}class Hi extends qi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let a=d=>+r[d];if(Re(r[e])){const{key:d="value"}=this._parsing;a=f=>+ai(r[f],d)}let l,u;for(l=e,u=e+t;l<u;++l)s._parsed[l]=a(l)}}_getRotation(){return tr(this.options.rotation-90)}_getCircumference(){return tr(this.options.circumference)}_getRotationExtents(){let e=rt,t=-rt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),l=s._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(O_(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:w,ratioY:_,offsetX:b,offsetY:x}=nx(m,p,d),S=(r.width-l)/w,T=(r.height-l)/_,R=Math.max(Math.min(S,T)/2,0),C=ey(this.options.radius,R),A=Math.max(C*d,0),M=(C-A)/this._getVisibleDatasetWeightTotal();this.offsetX=b*C,this.offsetY=x*C,s.total=this.calculateTotal(),this.outerRadius=C-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/rt)}updateElements(e,t,r,s){const a=s==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,m=(u.top+u.bottom)/2,w=a&&f.animateScale,_=w?0:this.innerRadius,b=w?0:this.outerRadius,{sharedOptions:x,includeOptions:S}=this._getSharedOptions(t,s);let T=this._getRotation(),R;for(R=0;R<t;++R)T+=this._circumference(R,a);for(R=t;R<t+r;++R){const C=this._circumference(R,a),A=e[R],M={x:p+this.offsetX,y:m+this.offsetY,startAngle:T,endAngle:T+C,circumference:C,outerRadius:b,innerRadius:_};S&&(M.options=x||this.resolveDataElementOptions(R,A.active?"active":s)),T+=C,this.updateElement(A,R,M,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,s;for(s=0;s<t.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?rt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=Nd(t._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let s,a,l,u,d;if(!e){for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),e=l.data,u=l.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)d=u.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ve(Hi,"id","doughnut"),ve(Hi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ve(Hi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ve(Hi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,f)=>{const m=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:m.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(f),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:s,pointStyle:r,borderRadius:l&&(u||m.borderRadius),index:f}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class td extends Hi{}ve(td,"id","pie"),ve(td,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Jr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Bd{constructor(e){ve(this,"options");this.options=e||{}}static override(e){Object.assign(Bd.prototype,e)}init(){}formats(){return Jr()}parse(){return Jr()}format(){return Jr()}add(){return Jr()}diff(){return Jr()}startOf(){return Jr()}endOf(){return Jr()}}var rx={_date:Bd};function ix(n,e,t,r){const{controller:s,data:a,_sorted:l}=n,u=s._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?H_:Zu;if(r){if(s._sharedOptions){const p=a[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){const w=f(a,e,t-m),_=f(a,e,t+m);return{lo:w.lo,hi:_.hi}}}}else{const p=f(a,e,t);if(d){const{vScale:m}=s._cachedMeta,{_parsed:w}=n,_=w.slice(0,p.lo+1).reverse().findIndex(x=>!Le(x[m.axis]));p.lo-=Math.max(0,_);const b=w.slice(p.hi).findIndex(x=>!Le(x[m.axis]));p.hi+=Math.max(0,b)}return p}}return{lo:0,hi:a.length-1}}function Ll(n,e,t,r,s){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,d=a.length;u<d;++u){const{index:f,data:p}=a[u],{lo:m,hi:w}=ix(a[u],e,l,s);for(let _=m;_<=w;++_){const b=p[_];b.skip||r(b,f,_)}}}function sx(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,s){const a=e?Math.abs(r.x-s.x):0,l=t?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Du(n,e,t,r,s){const a=[];return!s&&!n.isPointInArea(e)||Ll(n,t,e,function(u,d,f){!s&&!dy(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&a.push({element:u,datasetIndex:d,index:f})},!0),a}function ox(n,e,t,r){let s=[];function a(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],r),{angle:m}=ry(l,{x:e.x,y:e.y});wl(m,f,p)&&s.push({element:l,datasetIndex:u,index:d})}return Ll(n,t,e,a),s}function ax(n,e,t,r,s,a){let l=[];const u=sx(t);let d=Number.POSITIVE_INFINITY;function f(p,m,w){const _=p.inRange(e.x,e.y,s);if(r&&!_)return;const b=p.getCenterPoint(s);if(!(!!a||n.isPointInArea(b))&&!_)return;const S=u(e,b);S<d?(l=[{element:p,datasetIndex:m,index:w}],d=S):S===d&&l.push({element:p,datasetIndex:m,index:w})}return Ll(n,t,e,f),l}function Mu(n,e,t,r,s,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!r?ox(n,e,t,s):ax(n,e,t,r,s,a)}function xg(n,e,t,r,s){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Ll(n,t,e,(d,f,p)=>{d[l]&&d[l](e[t],s)&&(a.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(e.x,e.y,s))}),r&&!u?[]:a}var lx={modes:{index(n,e,t,r){const s=Zr(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Du(n,s,a,r,l):Mu(n,s,a,!1,r,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,m=f.data[p];m&&!m.skip&&d.push({element:m,datasetIndex:f.index,index:p})}),d):[]},dataset(n,e,t,r){const s=Zr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Du(n,s,a,r,l):Mu(n,s,a,!1,r,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(n,e,t,r){const s=Zr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Du(n,s,a,r,l)},nearest(n,e,t,r){const s=Zr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Mu(n,s,a,t.intersect,r,l)},x(n,e,t,r){const s=Zr(e,n);return xg(n,s,"x",t.intersect,r)},y(n,e,t,r){const s=Zr(e,n);return xg(n,s,"y",t.intersect,r)}}};const xy=["left","top","right","bottom"];function qs(n,e){return n.filter(t=>t.pos===e)}function Sg(n,e){return n.filter(t=>xy.indexOf(t.pos)===-1&&t.box.axis===e)}function Ks(n,e){return n.sort((t,r)=>{const s=e?r:t,a=e?t:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function cx(n){const e=[];let t,r,s,a,l,u;for(t=0,r=(n||[]).length;t<r;++t)s=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=s,e.push({index:t,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return e}function ux(n){const e={};for(const t of n){const{stack:r,pos:s,stackWeight:a}=t;if(!r||!xy.includes(s))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function dx(n,e){const t=ux(n),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:d}=u.box,f=t[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*r:d&&e.availableWidth,u.height=s):(u.width=r,u.height=p?p*s:d&&e.availableHeight)}return t}function hx(n){const e=cx(n),t=Ks(e.filter(f=>f.box.fullSize),!0),r=Ks(qs(e,"left"),!0),s=Ks(qs(e,"right")),a=Ks(qs(e,"top"),!0),l=Ks(qs(e,"bottom")),u=Sg(e,"x"),d=Sg(e,"y");return{fullSize:t,leftAndTop:r.concat(a),rightAndBottom:s.concat(d).concat(l).concat(u),chartArea:qs(e,"chartArea"),vertical:r.concat(s).concat(d),horizontal:a.concat(l).concat(u)}}function kg(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Sy(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function fx(n,e,t,r){const{pos:s,box:a}=t,l=n.maxPadding;if(!Re(s)){t.size&&(n[s]-=t.size);const m=r[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?a.height:a.width),t.size=m.size/m.count,n[s]+=t.size}a.getPadding&&Sy(l,a.getPadding());const u=Math.max(0,e.outerWidth-kg(l,n,"left","right")),d=Math.max(0,e.outerHeight-kg(l,n,"top","bottom")),f=u!==n.w,p=d!==n.h;return n.w=u,n.h=d,t.horizontal?{same:f,other:p}:{same:p,other:f}}function px(n){const e=n.maxPadding;function t(r){const s=Math.max(e[r]-n[r],0);return n[r]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function gx(n,e){const t=e.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return r(n?["left","right"]:["top","bottom"])}function Qs(n,e,t,r){const s=[];let a,l,u,d,f,p;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],d=u.box,d.update(u.width||e.w,u.height||e.h,gx(u.horizontal,e));const{same:m,other:w}=fx(e,t,u,r);f|=m&&s.length,p=p||w,d.fullSize||s.push(u)}return f&&Qs(s,e,t,r)||p}function Ya(n,e,t,r,s){n.top=t,n.left=e,n.right=e+r,n.bottom=t+s,n.width=r,n.height=s}function Eg(n,e,t,r){const s=t.padding;let{x:a,y:l}=e;for(const u of n){const d=u.box,f=r[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const m=e.w*p,w=f.size||d.height;po(f.start)&&(l=f.start),d.fullSize?Ya(d,s.left,l,t.outerWidth-s.right-s.left,w):Ya(d,e.left+f.placed,l,m,w),f.start=l,f.placed+=m,l=d.bottom}else{const m=e.h*p,w=f.size||d.width;po(f.start)&&(a=f.start),d.fullSize?Ya(d,a,s.top,w,t.outerHeight-s.bottom-s.top):Ya(d,a,e.top+f.placed,w,m),f.start=a,f.placed+=m,a=d.right}}e.x=a,e.y=l}var un={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const s=hn(n.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(t-s.height,0),u=hx(n.boxes),d=u.vertical,f=u.horizontal;De(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const p=d.reduce((x,S)=>S.box.options&&S.box.options.display===!1?x:x+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),w=Object.assign({},s);Sy(w,hn(r));const _=Object.assign({maxPadding:w,w:a,h:l,x:s.left,y:s.top},s),b=dx(d.concat(f),m);Qs(u.fullSize,_,m,b),Qs(d,_,m,b),Qs(f,_,m,b)&&Qs(d,_,m,b),px(_),Eg(u.leftAndTop,_,m,b),_.x+=_.w,_.y+=_.h,Eg(u.rightAndBottom,_,m,b),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},De(u.chartArea,x=>{const S=x.box;Object.assign(S,n.chartArea),S.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class ky{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,s){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):r)}}isAttached(e){return!0}updateConfig(e){}}class mx extends ky{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const dl="$chartjs",yx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cg=n=>n===null||n==="";function vx(n,e){const t=n.style,r=n.getAttribute("height"),s=n.getAttribute("width");if(n[dl]={initial:{height:r,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Cg(s)){const a=hg(n,"width");a!==void 0&&(n.width=a)}if(Cg(r))if(n.style.height==="")n.height=n.width/(e||2);else{const a=hg(n,"height");a!==void 0&&(n.height=a)}return n}const Ey=Tb?{passive:!0}:!1;function wx(n,e,t){n&&n.addEventListener(e,t,Ey)}function _x(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Ey)}function bx(n,e){const t=yx[n.type]||n.type,{x:r,y:s}=Zr(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:s!==void 0?s:null}}function xl(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function xx(n,e,t){const r=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||xl(u.addedNodes,r),l=l&&!xl(u.removedNodes,r);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function Sx(n,e,t){const r=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||xl(u.removedNodes,r),l=l&&!xl(u.addedNodes,r);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const mo=new Map;let Tg=0;function Cy(){const n=window.devicePixelRatio;n!==Tg&&(Tg=n,mo.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function kx(n,e){mo.size||window.addEventListener("resize",Cy),mo.set(n,e)}function Ex(n){mo.delete(n),mo.size||window.removeEventListener("resize",Cy)}function Cx(n,e,t){const r=n.canvas,s=r&&zd(r);if(!s)return;const a=ay((u,d)=>{const f=s.clientWidth;t(u,d),f<s.clientWidth&&t()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),kx(n,a),l}function Iu(n,e,t){t&&t.disconnect(),e==="resize"&&Ex(n)}function Tx(n,e,t){const r=n.canvas,s=ay(a=>{n.ctx!==null&&t(bx(a,n))},n);return wx(r,e,s),s}class jx extends ky{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(vx(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[dl])return!1;const r=t[dl].initial;["height","width"].forEach(a=>{const l=r[a];Le(l)?t.removeAttribute(a):t.setAttribute(a,l)});const s=r.style||{};return Object.keys(s).forEach(a=>{t.style[a]=s[a]}),t.width=t.width,delete t[dl],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),l={attach:xx,detach:Sx,resize:Cx}[t]||Tx;s[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),s=r[t];if(!s)return;({attach:Iu,detach:Iu,resize:Iu}[t]||_x)(e,t,s),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,s){return Cb(e,t,r,s)}isAttached(e){const t=e&&zd(e);return!!(t&&t.isConnected)}}function Ox(n){return!$d()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?mx:jx}class nr{constructor(){ve(this,"x");ve(this,"y");ve(this,"active",!1);ve(this,"options");ve(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return vl(this.x)&&vl(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const s={};return e.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}}ve(nr,"defaults",{}),ve(nr,"defaultRoutes");function Rx(n,e){const t=n.options.ticks,r=Px(n),s=Math.min(t.maxTicksLimit||r,r),a=t.major.enabled?Ax(e):[],l=a.length,u=a[0],d=a[l-1],f=[];if(l>s)return Dx(e,f,a,l/s),f;const p=Nx(a,e,s);if(l>0){let m,w;const _=l>1?Math.round((d-u)/(l-1)):null;for(Ga(e,f,p,Le(_)?0:u-_,u),m=0,w=l-1;m<w;m++)Ga(e,f,p,a[m],a[m+1]);return Ga(e,f,p,d,Le(_)?e.length:d+_),f}return Ga(e,f,p),f}function Px(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(r,s))}function Nx(n,e,t){const r=Mx(n),s=e.length/t;if(!r)return Math.max(s,1);const a=I_(r);for(let l=0,u=a.length-1;l<u;l++){const d=a[l];if(d>s)return d}return Math.max(s,1)}function Ax(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function Dx(n,e,t,r){let s=0,a=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(e.push(n[l]),s++,a=t[s*r])}function Ga(n,e,t,r,s){const a=Oe(r,0),l=Math.min(Oe(s,n.length),n.length);let u=0,d,f,p;for(t=Math.ceil(t),s&&(d=s-r,t=d/Math.floor(d/t)),p=a;p<0;)u++,p=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(n[f]),u++,p=Math.round(a+u*t))}function Mx(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const Ix=n=>n==="left"?"right":n==="right"?"left":n,jg=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Og=(n,e)=>Math.min(e||n,n);function Rg(n,e){const t=[],r=n.length/e,s=n.length;let a=0;for(;a<s;a+=r)t.push(n[Math.floor(a)]);return t}function Lx(n,e,t){const r=n.ticks.length,s=Math.min(e,r-1),a=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(s),f;if(!(t&&(r===1?f=Math.max(d-a,l-d):e===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(s-1))/2,d+=s<e?f:-f,d<a-u||d>l+u)))return d}function Fx(n,e){De(n,t=>{const r=t.gc,s=r.length/2;let a;if(s>e){for(a=0;a<s;++a)delete t.data[r[a]];r.splice(0,s)}})}function Ys(n){return n.drawTicks?n.tickLength:0}function Pg(n,e){if(!n.display)return 0;const t=Et(n.font,e),r=hn(n.padding);return(at(n.text)?n.text.length:1)*t.lineHeight+r.height}function $x(n,e){return Qi(n,{scale:e,type:"scale"})}function zx(n,e,t){return Qi(n,{tick:t,index:e,type:"tick"})}function Bx(n,e,t){let r=Pd(n);return(t&&e!=="right"||!t&&e==="right")&&(r=Ix(r)),r}function Ux(n,e,t,r){const{top:s,left:a,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:p}=d;let m=0,w,_,b;const x=l-s,S=u-a;if(n.isHorizontal()){if(_=kt(r,a,u),Re(t)){const T=Object.keys(t)[0],R=t[T];b=p[T].getPixelForValue(R)+x-e}else t==="center"?b=(f.bottom+f.top)/2+x-e:b=jg(n,t,e);w=u-a}else{if(Re(t)){const T=Object.keys(t)[0],R=t[T];_=p[T].getPixelForValue(R)-S+e}else t==="center"?_=(f.left+f.right)/2-S+e:_=jg(n,t,e);b=kt(r,l,s),m=t==="left"?-lt:lt}return{titleX:_,titleY:b,maxWidth:w,rotation:m}}class Xi extends nr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:s}=this;return e=In(e,Number.POSITIVE_INFINITY),t=In(t,Number.NEGATIVE_INFINITY),r=In(r,Number.POSITIVE_INFINITY),s=In(s,Number.NEGATIVE_INFINITY),{min:In(e,r),max:In(t,s),minDefined:dn(e),maxDefined:dn(t)}}getMinMax(e){let{min:t,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,e),s||(t=Math.min(t,l.min)),a||(r=Math.max(r,l.max));return t=a&&t>r?r:t,r=s&&t>r?t:r,{min:In(t,In(r,t)),max:In(r,In(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){He(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=db(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?Rg(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Rx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){He(this.options.afterUpdate,[this])}beforeSetDimensions(){He(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){He(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),He(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){He(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r],a.label=He(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){He(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){He(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Og(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,a=t.maxRotation;let l=s,u,d,f;if(!this._isVisible()||!t.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),m=p.widest.width,w=p.highest.height,_=Ht(this.chart.width-m,0,this.maxWidth);u=e.offset?this.maxWidth/r:_/(r-1),m+6>u&&(u=_/(r-(e.offset?.5:1)),d=this.maxHeight-Ys(e.grid)-t.padding-Pg(e.title,this.chart.options.font),f=Math.sqrt(m*m+w*w),l=z_(Math.min(Math.asin(Ht((p.highest.height+6)/u,-1,1)),Math.asin(Ht(d/f,-1,1))-Math.asin(Ht(w/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){He(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){He(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=Pg(s,t.options.font);if(u?(e.width=this.maxWidth,e.height=Ys(a)+d):(e.height=this.maxHeight,e.width=Ys(a)+d),r.display&&this.ticks.length){const{first:f,last:p,widest:m,highest:w}=this._getLabelSizes(),_=r.padding*2,b=tr(this.labelRotation),x=Math.cos(b),S=Math.sin(b);if(u){const T=r.mirror?0:S*m.width+x*w.height;e.height=Math.min(this.maxHeight,e.height+T+_)}else{const T=r.mirror?0:x*m.width+S*w.height;e.width=Math.min(this.maxWidth,e.width+T+_)}this._calculatePadding(f,p,S,x)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,s){const{ticks:{align:a,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,_=0;d?f?(w=s*e.width,_=r*t.height):(w=r*e.height,_=s*t.width):a==="start"?_=t.width:a==="end"?w=e.width:a!=="inner"&&(w=e.width/2,_=t.width/2),this.paddingLeft=Math.max((w-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-m+l)*this.width/(this.width-m),0)}else{let p=t.height/2,m=e.height/2;a==="start"?(p=0,m=e.height):a==="end"&&(p=t.height,m=0),this.paddingTop=p+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){He(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Le(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Rg(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],d=Math.floor(t/Og(t,r));let f=0,p=0,m,w,_,b,x,S,T,R,C,A,M;for(m=0;m<t;m+=d){if(b=e[m].label,x=this._resolveTickFontOptions(m),s.font=S=x.string,T=a[S]=a[S]||{data:{},gc:[]},R=x.lineHeight,C=A=0,!Le(b)&&!at(b))C=og(s,T.data,T.gc,C,b),A=R;else if(at(b))for(w=0,_=b.length;w<_;++w)M=b[w],!Le(M)&&!at(M)&&(C=og(s,T.data,T.gc,C,M),A+=R);l.push(C),u.push(A),f=Math.max(C,f),p=Math.max(A,p)}Fx(a,t);const I=l.indexOf(f),O=u.indexOf(p),$=L=>({width:l[L]||0,height:u[L]||0});return{first:$(0),last:$(t-1),widest:$(I),highest:$(O),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return U_(this._alignToPixels?Gr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=zx(this.getContext(),e,r))}return this.$context||(this.$context=$x(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=tr(this.labelRotation),r=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>u*s?u/r:d/s:d*s<u*r?d/r:u/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,s=this.options,{grid:a,position:l,border:u}=s,d=a.offset,f=this.isHorizontal(),m=this.ticks.length+(d?1:0),w=Ys(a),_=[],b=u.setContext(this.getContext()),x=b.display?b.width:0,S=x/2,T=function(ye){return Gr(r,ye,x)};let R,C,A,M,I,O,$,L,H,B,Y,ie;if(l==="top")R=T(this.bottom),O=this.bottom-w,L=R-S,B=T(e.top)+S,ie=e.bottom;else if(l==="bottom")R=T(this.top),B=e.top,ie=T(e.bottom)-S,O=R+S,L=this.top+w;else if(l==="left")R=T(this.right),I=this.right-w,$=R-S,H=T(e.left)+S,Y=e.right;else if(l==="right")R=T(this.left),H=e.left,Y=T(e.right)-S,I=R+S,$=this.left+w;else if(t==="x"){if(l==="center")R=T((e.top+e.bottom)/2+.5);else if(Re(l)){const ye=Object.keys(l)[0],le=l[ye];R=T(this.chart.scales[ye].getPixelForValue(le))}B=e.top,ie=e.bottom,O=R+S,L=O+w}else if(t==="y"){if(l==="center")R=T((e.left+e.right)/2);else if(Re(l)){const ye=Object.keys(l)[0],le=l[ye];R=T(this.chart.scales[ye].getPixelForValue(le))}I=R-S,$=I-w,H=e.left,Y=e.right}const de=Oe(s.ticks.maxTicksLimit,m),he=Math.max(1,Math.ceil(m/de));for(C=0;C<m;C+=he){const ye=this.getContext(C),le=a.setContext(ye),K=u.setContext(ye),X=le.lineWidth,P=le.color,W=K.dash||[],Z=K.dashOffset,we=le.tickWidth,pe=le.tickColor,ke=le.tickBorderDash||[],ge=le.tickBorderDashOffset;A=Lx(this,C,d),A!==void 0&&(M=Gr(r,A,X),f?I=$=H=Y=M:O=L=B=ie=M,_.push({tx1:I,ty1:O,tx2:$,ty2:L,x1:H,y1:B,x2:Y,y2:ie,width:X,color:P,borderDash:W,borderDashOffset:Z,tickWidth:we,tickColor:pe,tickBorderDash:ke,tickBorderDashOffset:ge}))}return this._ticksLength=m,this._borderValue=R,_}_computeLabelItems(e){const t=this.axis,r=this.options,{position:s,ticks:a}=r,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:m}=a,w=Ys(r.grid),_=w+p,b=m?-p:_,x=-tr(this.labelRotation),S=[];let T,R,C,A,M,I,O,$,L,H,B,Y,ie="middle";if(s==="top")I=this.bottom-b,O=this._getXAxisLabelAlignment();else if(s==="bottom")I=this.top+b,O=this._getXAxisLabelAlignment();else if(s==="left"){const he=this._getYAxisLabelAlignment(w);O=he.textAlign,M=he.x}else if(s==="right"){const he=this._getYAxisLabelAlignment(w);O=he.textAlign,M=he.x}else if(t==="x"){if(s==="center")I=(e.top+e.bottom)/2+_;else if(Re(s)){const he=Object.keys(s)[0],ye=s[he];I=this.chart.scales[he].getPixelForValue(ye)+_}O=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")M=(e.left+e.right)/2-_;else if(Re(s)){const he=Object.keys(s)[0],ye=s[he];M=this.chart.scales[he].getPixelForValue(ye)}O=this._getYAxisLabelAlignment(w).textAlign}t==="y"&&(d==="start"?ie="top":d==="end"&&(ie="bottom"));const de=this._getLabelSizes();for(T=0,R=u.length;T<R;++T){C=u[T],A=C.label;const he=a.setContext(this.getContext(T));$=this.getPixelForTick(T)+a.labelOffset,L=this._resolveTickFontOptions(T),H=L.lineHeight,B=at(A)?A.length:1;const ye=B/2,le=he.color,K=he.textStrokeColor,X=he.textStrokeWidth;let P=O;l?(M=$,O==="inner"&&(T===R-1?P=this.options.reverse?"left":"right":T===0?P=this.options.reverse?"right":"left":P="center"),s==="top"?f==="near"||x!==0?Y=-B*H+H/2:f==="center"?Y=-de.highest.height/2-ye*H+H:Y=-de.highest.height+H/2:f==="near"||x!==0?Y=H/2:f==="center"?Y=de.highest.height/2-ye*H:Y=de.highest.height-B*H,m&&(Y*=-1),x!==0&&!he.showLabelBackdrop&&(M+=H/2*Math.sin(x))):(I=$,Y=(1-B)*H/2);let W;if(he.showLabelBackdrop){const Z=hn(he.backdropPadding),we=de.heights[T],pe=de.widths[T];let ke=Y-Z.top,ge=0-Z.left;switch(ie){case"middle":ke-=we/2;break;case"bottom":ke-=we;break}switch(O){case"center":ge-=pe/2;break;case"right":ge-=pe;break;case"inner":T===R-1?ge-=pe:T>0&&(ge-=pe/2);break}W={left:ge,top:ke,width:pe+Z.width,height:we+Z.height,color:he.backdropColor}}S.push({label:A,font:L,textOffset:Y,options:{rotation:x,color:le,strokeColor:K,strokeWidth:X,textAlign:P,textBaseline:ie,translation:[M,I],backdrop:W}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-tr(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,d=l.widest.width;let f,p;return t==="left"?s?(p=this.right+a,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p=this.left)):t==="right"?s?(p=this.left+a,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:s,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,s,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(d,f,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(a=0,l=s.length;a<l;++a){const d=s[a];t.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,m,w;this.isHorizontal()?(f=Gr(e,this.left,l)-l/2,p=Gr(e,this.right,u)+u/2,m=w=d):(m=Gr(e,this.top,l)-l/2,w=Gr(e,this.bottom,u)+u/2,f=p=d),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,m),t.lineTo(p,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Ad(r,s);const a=this.getLabelItems(e);for(const l of a){const u=l.options,d=l.font,f=l.label,p=l.textOffset;go(r,f,0,p,d,u)}s&&Dd(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:s}}=this;if(!r.display)return;const a=Et(r.font),l=hn(r.padding),u=r.align;let d=a.lineHeight/2;t==="bottom"||t==="center"||Re(t)?(d+=l.bottom,at(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:m,rotation:w}=Ux(this,d,t,u);go(e,r.text,0,0,a,{color:r.color,maxWidth:m,rotation:w,textAlign:Bx(u,t,s),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Oe(e.grid&&e.grid.z,-1),s=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Xi.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[r]===this.id&&(!e||u.type===e)&&s.push(u)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Et(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ja{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;Vx(t)&&(r=this.register(t));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,Hx(e,l,r),this.override&&Xe.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,s=this.scope;r in t&&delete t[r],s&&r in Xe[s]&&(delete Xe[s][r],this.override&&delete li[r])}}function Hx(n,e,t){const r=fo(Object.create(null),[t?Xe.get(t):{},Xe.get(e),n.defaults]);Xe.set(e,r),n.defaultRoutes&&Wx(e,n.defaultRoutes),n.descriptors&&Xe.describe(e,n.descriptors)}function Wx(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),s=r.pop(),a=[n].concat(r).join("."),l=e[t].split("."),u=l.pop(),d=l.join(".");Xe.route(a,s,d,u)})}function Vx(n){return"id"in n&&"defaults"in n}class qx{constructor(){this.controllers=new Ja(qi,"datasets",!0),this.elements=new Ja(nr,"elements"),this.plugins=new Ja(Object,"plugins"),this.scales=new Ja(Xi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):De(s,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,r){const s=Od(e);He(r["before"+s],[],r),t[e](r),He(r["after"+s],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Fn=new qx;class Kx{constructor(){this._init=void 0}notify(e,t,r,s){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,t,r);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,r,s){s=s||{};for(const a of e){const l=a.plugin,u=l[r],d=[t,s,a.options];if(He(u,d,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,s=Oe(r.options&&r.options.plugins,{}),a=Yx(r);return s===!1&&!t?[]:Jx(e,a,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,s=(a,l)=>a.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(s(t,r),e,"stop"),this._notify(s(r,t),e,"start")}}function Yx(n){const e={},t=[],r=Object.keys(Fn.plugins.items);for(let a=0;a<r.length;a++)t.push(Fn.getPlugin(r[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function Gx(n,e){return!e&&n===!1?null:n===!0?{}:n}function Jx(n,{plugins:e,localIds:t},r,s){const a=[],l=n.getContext();for(const u of e){const d=u.id,f=Gx(r[d],s);f!==null&&a.push({plugin:u,options:Qx(n.config,{plugin:u,local:t[d]},f,l)})}return a}function Qx(n,{plugin:e,local:t},r,s){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(r,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nd(n,e){const t=Xe.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Xx(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function Zx(n,e){return n===e?"_index_":"_value_"}function Ng(n){if(n==="x"||n==="y"||n==="r")return n}function eS(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function rd(n,...e){if(Ng(n))return n;for(const t of e){const r=t.axis||eS(t.position)||n.length>1&&Ng(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ag(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function tS(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Ag(n,"x",t[0])||Ag(n,"y",t[0])}return{}}function nS(n,e){const t=li[n.type]||{scales:{}},r=e.scales||{},s=nd(n.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!Re(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=rd(l,u,tS(l,n),Xe.scales[u.type]),f=Zx(d,s),p=t.scales||{};a[l]=ro(Object.create(null),[{axis:d},u,p[d],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||nd(u,e),p=(li[u]||{}).scales||{};Object.keys(p).forEach(m=>{const w=Xx(m,d),_=l[w+"AxisID"]||w;a[_]=a[_]||Object.create(null),ro(a[_],[{axis:w},r[_],p[m]])})}),Object.keys(a).forEach(l=>{const u=a[l];ro(u,[Xe.scales[u.type],Xe.scale])}),a}function Ty(n){const e=n.options||(n.options={});e.plugins=Oe(e.plugins,{}),e.scales=nS(n,e)}function jy(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function rS(n){return n=n||{},n.data=jy(n.data),Ty(n),n}const Dg=new Map,Oy=new Set;function Qa(n,e){let t=Dg.get(n);return t||(t=e(),Dg.set(n,t),Oy.add(t)),t}const Gs=(n,e,t)=>{const r=ai(e,t);r!==void 0&&n.add(r)};class iS{constructor(e){this._config=rS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ty(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Qa(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Qa(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Qa(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Qa(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let s=r.get(e);return(!s||t)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,t,r){const{options:s,type:a}=this,l=this._cachedScopes(e,r),u=l.get(t);if(u)return u;const d=new Set;t.forEach(p=>{e&&(d.add(e),p.forEach(m=>Gs(d,e,m))),p.forEach(m=>Gs(d,s,m)),p.forEach(m=>Gs(d,li[a]||{},m)),p.forEach(m=>Gs(d,Xe,m)),p.forEach(m=>Gs(d,ed,m))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),Oy.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,li[t]||{},Xe.datasets[t]||{},{type:t},Xe,ed]}resolveNamedOptions(e,t,r,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=Mg(this._resolverCache,e,s);let d=l;if(oS(l,t)){a.$shared=!1,r=Dr(r)?r():r;const f=this.createResolver(e,r,u);d=Gi(l,r,f)}for(const f of t)a[f]=d[f];return a}createResolver(e,t,r=[""],s){const{resolver:a}=Mg(this._resolverCache,e,r);return Re(t)?Gi(a,t,void 0,s):a}}function Mg(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const s=t.join();let a=r.get(s);return a||(a={resolver:Id(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(s,a)),a}const sS=n=>Re(n)&&Object.getOwnPropertyNames(n).some(e=>Dr(n[e]));function oS(n,e){const{isScriptable:t,isIndexable:r}=fy(n);for(const s of e){const a=t(s),l=r(s),u=(l||a)&&n[s];if(a&&(Dr(u)||sS(u))||l&&at(u))return!0}return!1}var aS="4.5.1";const lS=["top","bottom","left","right","chartArea"];function Ig(n,e){return n==="top"||n==="bottom"||lS.indexOf(n)===-1&&e==="x"}function Lg(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Fg(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),He(t&&t.onComplete,[n],e)}function cS(n){const e=n.chart,t=e.options.animation;He(t&&t.onProgress,[n],e)}function Ry(n){return $d()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const hl={},$g=n=>{const e=Ry(n);return Object.values(hl).filter(t=>t.canvas===e).pop()};function uS(n,e,t){const r=Object.keys(n);for(const s of r){const a=+s;if(a>=e){const l=n[s];delete n[s],(t>0||a>e)&&(n[a+t]=l)}}}function dS(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Cr;let Fl=(Cr=class{static register(...e){Fn.add(...e),zg()}static unregister(...e){Fn.remove(...e),zg()}constructor(e,t){const r=this.config=new iS(t),s=Ry(e),a=$g(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Ox(s)),this.platform.updateConfig(r);const u=this.platform.acquireContext(s,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=j_(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=q_(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],hl[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Qn.listen(this,"complete",Fg),Qn.listen(this,"progress",cS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:s,_aspectRatio:a}=this;return Le(e)?t&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ag(this.canvas,this.ctx),this}stop(){return Qn.stop(this),this}resize(e,t){Qn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,t,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,dg(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),He(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};De(t,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,s=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],d=rd(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),De(a,l=>{const u=l.options,d=u.id,f=rd(d,u),p=Oe(u.type,l.dtype);(u.position===void 0||Ig(u.position,f)!==Ig(l.dposition))&&(u.position=l.dposition),s[d]=!0;let m=null;if(d in r&&r[d].type===p)m=r[d];else{const w=Fn.getScale(p);m=new w({id:d,type:p,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(u,e)}),De(s,(l,u)=>{l||delete r[u]}),De(r,l=>{un.configure(this,l,l.options),un.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>t){for(let s=t;s<r;++s)this._destroyDatasetMeta(s);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Lg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,s)=>{t.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=t.length;r<s;r++){const a=t[r];let l=this.getDatasetMeta(r);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=a.indexAxis||nd(u,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=Fn.getController(u),{datasetElementType:f,dataElementType:p}=Xe.datasets[u];Object.assign(d,{dataElementType:Fn.getElement(p),datasetElementType:f&&Fn.getElement(f)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){De(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:m}=this.getDatasetMeta(f),w=!s&&a.indexOf(m)===-1;m.buildOrUpdateElements(w),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||De(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Lg("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){De(this.scales,e=>{un.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Qp(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of t){const l=r==="_removeElements"?-a:a;uS(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=r(0);for(let a=1;a<t;a++)if(!Qp(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;un.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],De(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Dr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qn.has(this)?this.attached&&!Qn.running(this)&&Qn.start(this):(this.draw(),Fg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let s,a;for(s=0,a=t.length;s<a;++s){const l=t[s];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=Pb(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Ad(t,s),e.controller.draw(),s&&Dd(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return dy(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,s){const a=lx.modes[t];return typeof a=="function"?a(this,e,r,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Qi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);po(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(u=>u.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Qn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ag(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete hl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};De(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},s=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},a=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){De(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},De(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const s=r?"set":"remove";let a,l,u,d;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!gl(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const s=this.options.hover,a=(d,f)=>d.filter(p=>!f.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),l=a(t,e),u=r?e:a(e,t);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:s=[],options:a}=this,l=t,u=this._getActiveElements(e,s,r,l),d=D_(e),f=dS(e,this._lastEvent,r,d);r&&(this._lastEvent=null,He(a.onHover,[e,u,this],this),d&&He(a.onClick,[e,u,this],this));const p=!gl(u,s);return(p||t)&&(this._active=u,this._updateHoverStyles(u,s,t)),this._lastEvent=f,p}_getActiveElements(e,t,r,s){if(e.type==="mouseout")return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}},ve(Cr,"defaults",Xe),ve(Cr,"instances",hl),ve(Cr,"overrides",li),ve(Cr,"registry",Fn),ve(Cr,"version",aS),ve(Cr,"getChart",$g),Cr);function zg(){return De(Fl.instances,n=>n._plugins.invalidate())}function hS(n,e,t){const{startAngle:r,x:s,y:a,outerRadius:l,innerRadius:u,options:d}=e,{borderWidth:f,borderJoinStyle:p}=d,m=Math.min(f/l,$n(r-t));if(n.beginPath(),n.arc(s,a,l-f/2,r+m/2,t-m/2),u>0){const w=Math.min(f/u,$n(r-t));n.arc(s,a,u+f/2,t-w/2,r+w/2,!0)}else{const w=Math.min(f/2,l*$n(r-t));if(p==="round")n.arc(s,a,w,t-Ie/2,r+Ie/2,!0);else if(p==="bevel"){const _=2*w*w,b=-_*Math.cos(t+Ie/2)+s,x=-_*Math.sin(t+Ie/2)+a,S=_*Math.cos(r+Ie/2)+s,T=_*Math.sin(r+Ie/2)+a;n.lineTo(b,x),n.lineTo(S,T)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function fS(n,e,t){const{startAngle:r,pixelMargin:s,x:a,y:l,outerRadius:u,innerRadius:d}=e;let f=s/u;n.beginPath(),n.arc(a,l,u,r-f,t+f),d>s?(f=s/d,n.arc(a,l,d,t+f,r-f,!0)):n.arc(a,l,s,t+lt,r-lt),n.closePath(),n.clip()}function pS(n){return Md(n,["outerStart","outerEnd","innerStart","innerEnd"])}function gS(n,e,t,r){const s=pS(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,r*e/2),u=d=>{const f=(t-Math.min(a,d))*r/2;return Ht(d,0,Math.min(a,f))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:Ht(s.innerStart,0,l),innerEnd:Ht(s.innerEnd,0,l)}}function Mi(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Sl(n,e,t,r,s,a){const{x:l,y:u,startAngle:d,pixelMargin:f,innerRadius:p}=e,m=Math.max(e.outerRadius+r+t-f,0),w=p>0?p+r+t+f:0;let _=0;const b=s-d;if(r){const he=p>0?p-r:0,ye=m>0?m-r:0,le=(he+ye)/2,K=le!==0?b*le/(le+r):b;_=(b-K)/2}const x=Math.max(.001,b*m-t/Ie)/m,S=(b-x)/2,T=d+S+_,R=s-S-_,{outerStart:C,outerEnd:A,innerStart:M,innerEnd:I}=gS(e,w,m,R-T),O=m-C,$=m-A,L=T+C/O,H=R-A/$,B=w+M,Y=w+I,ie=T+M/B,de=R-I/Y;if(n.beginPath(),a){const he=(L+H)/2;if(n.arc(l,u,m,L,he),n.arc(l,u,m,he,H),A>0){const X=Mi($,H,l,u);n.arc(X.x,X.y,A,H,R+lt)}const ye=Mi(Y,R,l,u);if(n.lineTo(ye.x,ye.y),I>0){const X=Mi(Y,de,l,u);n.arc(X.x,X.y,I,R+lt,de+Math.PI)}const le=(R-I/w+(T+M/w))/2;if(n.arc(l,u,w,R-I/w,le,!0),n.arc(l,u,w,le,T+M/w,!0),M>0){const X=Mi(B,ie,l,u);n.arc(X.x,X.y,M,ie+Math.PI,T-lt)}const K=Mi(O,T,l,u);if(n.lineTo(K.x,K.y),C>0){const X=Mi(O,L,l,u);n.arc(X.x,X.y,C,T-lt,L)}}else{n.moveTo(l,u);const he=Math.cos(L)*m+l,ye=Math.sin(L)*m+u;n.lineTo(he,ye);const le=Math.cos(H)*m+l,K=Math.sin(H)*m+u;n.lineTo(le,K)}n.closePath()}function mS(n,e,t,r,s){const{fullCircles:a,startAngle:l,circumference:u}=e;let d=e.endAngle;if(a){Sl(n,e,t,r,d,s);for(let f=0;f<a;++f)n.fill();isNaN(u)||(d=l+(u%rt||rt))}return Sl(n,e,t,r,d,s),n.fill(),d}function yS(n,e,t,r,s){const{fullCircles:a,startAngle:l,circumference:u,options:d}=e,{borderWidth:f,borderJoinStyle:p,borderDash:m,borderDashOffset:w,borderRadius:_}=d,b=d.borderAlign==="inner";if(!f)return;n.setLineDash(m||[]),n.lineDashOffset=w,b?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let x=e.endAngle;if(a){Sl(n,e,t,r,x,s);for(let S=0;S<a;++S)n.stroke();isNaN(u)||(x=l+(u%rt||rt))}b&&fS(n,e,x),d.selfJoin&&x-l>=Ie&&_===0&&p!=="miter"&&hS(n,e,x),a||(Sl(n,e,t,r,x,s),n.stroke())}class Xs extends nr{constructor(t){super();ve(this,"circumference");ve(this,"endAngle");ve(this,"fullCircles");ve(this,"innerRadius");ve(this,"outerRadius");ve(this,"pixelMargin");ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,s){const a=this.getProps(["x","y"],s),{angle:l,distance:u}=ry(a,{x:t,y:r}),{startAngle:d,endAngle:f,innerRadius:p,outerRadius:m,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),_=(this.options.spacing+this.options.borderWidth)/2,b=Oe(w,f-d),x=wl(l,d,f)&&d!==f,S=b>=rt||x,T=ii(u,p+_,m+_);return S&&T}getCenterPoint(t){const{x:r,y:s,startAngle:a,endAngle:l,innerRadius:u,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:p}=this.options,m=(a+l)/2,w=(u+d+p+f)/2;return{x:r+Math.cos(m)*w,y:s+Math.sin(m)*w}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:s}=this,a=(r.offset||0)/4,l=(r.spacing||0)/2,u=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>rt?Math.floor(s/rt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*a,Math.sin(d)*a);const f=1-Math.sin(Math.min(Ie,s||0)),p=a*f;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,mS(t,this,p,l,u),yS(t,this,p,l,u),t.restore()}}ve(Xs,"id","arc"),ve(Xs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ve(Xs,"defaultRoutes",{backgroundColor:"backgroundColor"}),ve(Xs,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function Py(n,e){const{x:t,y:r,base:s,width:a,height:l}=n.getProps(["x","y","base","width","height"],e);let u,d,f,p,m;return n.horizontal?(m=l/2,u=Math.min(t,s),d=Math.max(t,s),f=r-m,p=r+m):(m=a/2,u=t-m,d=t+m,f=Math.min(r,s),p=Math.max(r,s)),{left:u,top:f,right:d,bottom:p}}function Pr(n,e,t,r){return n?0:Ht(e,t,r)}function vS(n,e,t){const r=n.options.borderWidth,s=n.borderSkipped,a=hy(r);return{t:Pr(s.top,a.top,0,t),r:Pr(s.right,a.right,0,e),b:Pr(s.bottom,a.bottom,0,t),l:Pr(s.left,a.left,0,e)}}function wS(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=Wi(s),l=Math.min(e,t),u=n.borderSkipped,d=r||Re(s);return{topLeft:Pr(!d||u.top||u.left,a.topLeft,0,l),topRight:Pr(!d||u.top||u.right,a.topRight,0,l),bottomLeft:Pr(!d||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:Pr(!d||u.bottom||u.right,a.bottomRight,0,l)}}function _S(n){const e=Py(n),t=e.right-e.left,r=e.bottom-e.top,s=vS(n,t/2,r/2),a=wS(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Lu(n,e,t,r){const s=e===null,a=t===null,u=n&&!(s&&a)&&Py(n,r);return u&&(s||ii(e,u.left,u.right))&&(a||ii(t,u.top,u.bottom))}function bS(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function xS(n,e){n.rect(e.x,e.y,e.w,e.h)}function Fu(n,e,t={}){const r=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-r,l=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+r,y:n.y+s,w:n.w+a,h:n.h+l,radius:n.radius}}class fl extends nr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:s}}=this,{inner:a,outer:l}=_S(this),u=bS(l.radius)?_l:xS;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),u(e,Fu(l,t,a)),e.clip(),u(e,Fu(a,-t,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),u(e,Fu(a,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,r){return Lu(this,e,t,r)}inXRange(e,t){return Lu(this,e,null,t)}inYRange(e,t){return Lu(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+s)/2:t,y:a?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ve(fl,"id","bar"),ve(fl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ve(fl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Bg=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},SS=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Ug extends nr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=He(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Et(r.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=Bg(r,a);let f,p;t.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,s,u,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+u;let m=e;a.textAlign="left",a.textBaseline="middle";let w=-1,_=-p;return this.legendItems.forEach((b,x)=>{const S=r+t/2+a.measureText(b.text).width;(x===0||f[f.length-1]+S+2*u>l)&&(m+=p,f[f.length-(x>0?0:1)]=0,_+=p,w++),d[x]={left:0,top:_,row:w,width:S,height:s},f[f.length-1]+=S+u}),m}_fitCols(e,t,r,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let m=u,w=0,_=0,b=0,x=0;return this.legendItems.forEach((S,T)=>{const{itemWidth:R,itemHeight:C}=kS(r,t,a,S,s);T>0&&_+C+2*u>p&&(m+=w+u,f.push({width:w,height:_}),b+=w+u,x++,w=_=0),d[T]={left:b,top:_,col:x,width:R,height:C},w=Math.max(w,R),_+=C+u}),m+=w,f.push({width:w,height:_}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:s},rtl:a}}=this,l=Vi(a,this.left,this.width);if(this.isHorizontal()){let u=0,d=kt(r,this.left+s,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,d=kt(r,this.left+s,this.right-this.lineWidths[u])),f.top+=this.top+e+s,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+s}else{let u=0,d=kt(r,this.top+e+s,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,d=kt(r,this.top+e+s,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ad(e,this),this._draw(),Dd(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:s}=this,{align:a,labels:l}=e,u=Xe.color,d=Vi(e.rtl,this.left,this.width),f=Et(l.font),{padding:p}=l,m=f.size,w=m/2;let _;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:b,boxHeight:x,itemHeight:S}=Bg(l,m),T=function(I,O,$){if(isNaN(b)||b<=0||isNaN(x)||x<0)return;s.save();const L=Oe($.lineWidth,1);if(s.fillStyle=Oe($.fillStyle,u),s.lineCap=Oe($.lineCap,"butt"),s.lineDashOffset=Oe($.lineDashOffset,0),s.lineJoin=Oe($.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=Oe($.strokeStyle,u),s.setLineDash(Oe($.lineDash,[])),l.usePointStyle){const H={radius:x*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:L},B=d.xPlus(I,b/2),Y=O+w;uy(s,H,B,Y,l.pointStyleWidth&&b)}else{const H=O+Math.max((m-x)/2,0),B=d.leftForLtr(I,b),Y=Wi($.borderRadius);s.beginPath(),Object.values(Y).some(ie=>ie!==0)?_l(s,{x:B,y:H,w:b,h:x,radius:Y}):s.rect(B,H,b,x),s.fill(),L!==0&&s.stroke()}s.restore()},R=function(I,O,$){go(s,$.text,I,O+S/2,f,{strikethrough:$.hidden,textAlign:d.textAlign($.textAlign)})},C=this.isHorizontal(),A=this._computeTitleHeight();C?_={x:kt(a,this.left+p,this.right-r[0]),y:this.top+p+A,line:0}:_={x:this.left+p,y:kt(a,this.top+A+p,this.bottom-t[0].height),line:0},yy(this.ctx,e.textDirection);const M=S+p;this.legendItems.forEach((I,O)=>{s.strokeStyle=I.fontColor,s.fillStyle=I.fontColor;const $=s.measureText(I.text).width,L=d.textAlign(I.textAlign||(I.textAlign=l.textAlign)),H=b+w+$;let B=_.x,Y=_.y;d.setWidth(this.width),C?O>0&&B+H+p>this.right&&(Y=_.y+=M,_.line++,B=_.x=kt(a,this.left+p,this.right-r[_.line])):O>0&&Y+M>this.bottom&&(B=_.x=B+t[_.line].width+p,_.line++,Y=_.y=kt(a,this.top+A+p,this.bottom-t[_.line].height));const ie=d.x(B);if(T(ie,Y,I),B=K_(L,B+b+w,C?B+H:this.right,e.rtl),R(d.x(B),Y,I),C)_.x+=H+p;else if(typeof I.text!="string"){const de=f.lineHeight;_.y+=Ny(I,de)+p}else _.y+=M}),vy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Et(t.font),s=hn(t.padding);if(!t.display)return;const a=Vi(e.rtl,this.left,this.width),l=this.ctx,u=t.position,d=r.size/2,f=s.top+d;let p,m=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),p=this.top+f,m=kt(e.align,m,this.right-w);else{const b=this.columnSizes.reduce((x,S)=>Math.max(x,S.height),0);p=f+kt(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const _=kt(u,m,m+w);l.textAlign=a.textAlign(Pd(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,go(l,t.text,_,p,r)}_computeTitleHeight(){const e=this.options.title,t=Et(e.font),r=hn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,s,a;if(ii(e,this.left,this.right)&&ii(t,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],ii(e,s.left,s.left+s.width)&&ii(t,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!TS(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=SS(s,r);s&&!a&&He(t.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!a&&He(t.onHover,[e,r,this],this)}else r&&He(t.onClick,[e,r,this],this)}}function kS(n,e,t,r,s){const a=ES(r,n,e,t),l=CS(s,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function ES(n,e,t,r){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+r.measureText(s).width}function CS(n,e,t){let r=n;return typeof e.text!="string"&&(r=Ny(e,t)),r}function Ny(n,e){const t=n.text?n.text.length:0;return e*t}function TS(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var jS={id:"legend",_element:Ug,start(n,e,t){const r=n.legend=new Ug({ctx:n.ctx,options:t,chart:n});un.configure(n,r,t),un.addBox(n,r)},stop(n){un.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;un.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,s=t.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),p=hn(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Ay extends nr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=at(r.text)?r.text.length:1;this._padding=hn(r.padding);const a=s*Et(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:s,right:a,options:l}=this,u=l.align;let d=0,f,p,m;return this.isHorizontal()?(p=kt(u,r,a),m=t+e,f=a-r):(l.position==="left"?(p=r+e,m=kt(u,s,t),d=Ie*-.5):(p=a-e,m=kt(u,t,s),d=Ie*.5),f=s-t),{titleX:p,titleY:m,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Et(t.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(a);go(e,t.text,0,0,r,{color:t.color,maxWidth:d,rotation:f,textAlign:Pd(t.align),textBaseline:"middle",translation:[l,u]})}}function OS(n,e){const t=new Ay({ctx:n.ctx,options:e,chart:n});un.configure(n,t,e),un.addBox(n,t),n.titleBlock=t}var RS={id:"title",_element:Ay,start(n,e,t){OS(n,t)},stop(n){const e=n.titleBlock;un.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;un.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zs={average(n){if(!n.length)return!1;let e,t,r=new Set,s=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();r.add(d.x),s+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,d)=>u+d)/r.size,y:s/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const d=n[a].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=B_(e,f);p<s&&(s=p,u=d)}}if(u){const d=u.tooltipPosition();t=d.x,r=d.y}return{x:t,y:r}}};function Ln(n,e){return e&&(at(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Xn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function PS(n,e){const{element:t,datasetIndex:r,index:s}=e,a=n.getDatasetMeta(r).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[r].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:t}}function Hg(n,e){const t=n.chart.ctx,{body:r,footer:s,title:a}=n,{boxWidth:l,boxHeight:u}=e,d=Et(e.bodyFont),f=Et(e.titleFont),p=Et(e.footerFont),m=a.length,w=s.length,_=r.length,b=hn(e.padding);let x=b.height,S=0,T=r.reduce((A,M)=>A+M.before.length+M.lines.length+M.after.length,0);if(T+=n.beforeBody.length+n.afterBody.length,m&&(x+=m*f.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),T){const A=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;x+=_*A+(T-_)*d.lineHeight+(T-1)*e.bodySpacing}w&&(x+=e.footerMarginTop+w*p.lineHeight+(w-1)*e.footerSpacing);let R=0;const C=function(A){S=Math.max(S,t.measureText(A).width+R)};return t.save(),t.font=f.string,De(n.title,C),t.font=d.string,De(n.beforeBody.concat(n.afterBody),C),R=e.displayColors?l+2+e.boxPadding:0,De(r,A=>{De(A.before,C),De(A.lines,C),De(A.after,C)}),R=0,t.font=p.string,De(n.footer,C),t.restore(),S+=b.width,{width:S,height:x}}function NS(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function AS(n,e,t,r){const{x:s,width:a}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&s+a+l>e.width||n==="right"&&s-a-l<0)return!0}function DS(n,e,t,r){const{x:s,width:a}=t,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return r==="center"?f=s<=(u+d)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),AS(f,n,e,t)&&(f="center"),f}function Wg(n,e,t){const r=t.yAlign||e.yAlign||NS(n,t);return{xAlign:t.xAlign||e.xAlign||DS(n,e,t,r),yAlign:r}}function MS(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function IS(n,e,t){let{y:r,height:s}=n;return e==="top"?r+=t:e==="bottom"?r-=s+t:r-=s/2,r}function Vg(n,e,t,r){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:d}=t,f=s+a,{topLeft:p,topRight:m,bottomLeft:w,bottomRight:_}=Wi(l);let b=MS(e,u);const x=IS(e,d,f);return d==="center"?u==="left"?b+=f:u==="right"&&(b-=f):u==="left"?b-=Math.max(p,w)+s:u==="right"&&(b+=Math.max(m,_)+s),{x:Ht(b,0,r.width-e.width),y:Ht(x,0,r.height-e.height)}}function Xa(n,e,t){const r=hn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function qg(n){return Ln([],Xn(n))}function LS(n,e,t){return Qi(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Kg(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Dy={beforeTitle:Jn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Jn,beforeBody:Jn,beforeLabel:Jn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Le(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Jn,afterBody:Jn,beforeFooter:Jn,footer:Jn,afterFooter:Jn};function zt(n,e,t,r){const s=n[e].call(t,r);return typeof s>"u"?Dy[e].call(t,r):s}class id extends nr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&t.options.animation&&r.animations,a=new wy(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=LS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,s=zt(r,"beforeTitle",this,e),a=zt(r,"title",this,e),l=zt(r,"afterTitle",this,e);let u=[];return u=Ln(u,Xn(s)),u=Ln(u,Xn(a)),u=Ln(u,Xn(l)),u}getBeforeBody(e,t){return qg(zt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,s=[];return De(e,a=>{const l={before:[],lines:[],after:[]},u=Kg(r,a);Ln(l.before,Xn(zt(u,"beforeLabel",this,a))),Ln(l.lines,zt(u,"label",this,a)),Ln(l.after,Xn(zt(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,t){return qg(zt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,s=zt(r,"beforeFooter",this,e),a=zt(r,"footer",this,e),l=zt(r,"afterFooter",this,e);let u=[];return u=Ln(u,Xn(s)),u=Ln(u,Xn(a)),u=Ln(u,Xn(l)),u}_createItems(e){const t=this._active,r=this.chart.data,s=[],a=[],l=[];let u=[],d,f;for(d=0,f=t.length;d<f;++d)u.push(PS(this.chart,t[d]));return e.filter&&(u=u.filter((p,m,w)=>e.filter(p,m,w,r))),e.itemSort&&(u=u.sort((p,m)=>e.itemSort(p,m,r))),De(u,p=>{const m=Kg(e.callbacks,p);s.push(zt(m,"labelColor",this,p)),a.push(zt(m,"labelPointStyle",this,p)),l.push(zt(m,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=Zs[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=Hg(this,r),f=Object.assign({},u,d),p=Wg(this.chart,r,f),m=Vg(r,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:m.x,y:m.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,s){const a=this.getCaretPosition(e,r,s);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=Wi(u),{x:w,y:_}=e,{width:b,height:x}=t;let S,T,R,C,A,M;return a==="center"?(A=_+x/2,s==="left"?(S=w,T=S-l,C=A+l,M=A-l):(S=w+b,T=S+l,C=A-l,M=A+l),R=S):(s==="left"?T=w+Math.max(d,p)+l:s==="right"?T=w+b-Math.max(f,m)-l:T=this.caretX,a==="top"?(C=_,A=C-l,S=T-l,R=T+l):(C=_+x,A=C+l,S=T+l,R=T-l),M=C),{x1:S,x2:T,x3:R,y1:C,y2:A,y3:M}}drawTitle(e,t,r){const s=this.title,a=s.length;let l,u,d;if(a){const f=Vi(r.rtl,this.x,this.width);for(e.x=Xa(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=Et(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,d=0;d<a;++d)t.fillText(s[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===a&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,s,a){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:d,boxWidth:f}=a,p=Et(a.bodyFont),m=Xa(this,"left",a),w=s.x(m),_=d<p.lineHeight?(p.lineHeight-d)/2:0,b=t.y+_;if(a.usePointStyle){const x={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=s.leftForLtr(w,f)+f/2,T=b+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,lg(e,x,S,T),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,lg(e,x,S,T)}else{e.lineWidth=Re(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const x=s.leftForLtr(w,f),S=s.leftForLtr(s.xPlus(w,1),f-2),T=Wi(l.borderRadius);Object.values(T).some(R=>R!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,_l(e,{x,y:b,w:f,h:d,radius:T}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),_l(e,{x:S,y:b+1,w:f-2,h:d-2,radius:T}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(x,b,f,d),e.strokeRect(x,b,f,d),e.fillStyle=l.backgroundColor,e.fillRect(S,b+1,f-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=r,m=Et(r.bodyFont);let w=m.lineHeight,_=0;const b=Vi(r.rtl,this.x,this.width),x=function($){t.fillText($,b.x(e.x+_),e.y+w/2),e.y+=w+a},S=b.textAlign(l);let T,R,C,A,M,I,O;for(t.textAlign=l,t.textBaseline="middle",t.font=m.string,e.x=Xa(this,S,r),t.fillStyle=r.bodyColor,De(this.beforeBody,x),_=u&&S!=="right"?l==="center"?f/2+p:f+2+p:0,A=0,I=s.length;A<I;++A){for(T=s[A],R=this.labelTextColors[A],t.fillStyle=R,De(T.before,x),C=T.lines,u&&C.length&&(this._drawColorBox(t,e,A,b,r),w=Math.max(m.lineHeight,d)),M=0,O=C.length;M<O;++M)x(C[M]),w=m.lineHeight;De(T.after,x)}_=0,w=m.lineHeight,De(this.afterBody,x),e.y-=a}drawFooter(e,t,r){const s=this.footer,a=s.length;let l,u;if(a){const d=Vi(r.rtl,this.x,this.width);for(e.x=Xa(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=d.textAlign(r.footerAlign),t.textBaseline="middle",l=Et(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(s[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,s){const{xAlign:a,yAlign:l}=this,{x:u,y:d}=e,{width:f,height:p}=r,{topLeft:m,topRight:w,bottomLeft:_,bottomRight:b}=Wi(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(u+m,d),l==="top"&&this.drawCaret(e,t,r,s),t.lineTo(u+f-w,d),t.quadraticCurveTo(u+f,d,u+f,d+w),l==="center"&&a==="right"&&this.drawCaret(e,t,r,s),t.lineTo(u+f,d+p-b),t.quadraticCurveTo(u+f,d+p,u+f-b,d+p),l==="bottom"&&this.drawCaret(e,t,r,s),t.lineTo(u+_,d+p),t.quadraticCurveTo(u,d+p,u,d+p-_),l==="center"&&a==="left"&&this.drawCaret(e,t,r,s),t.lineTo(u,d+m),t.quadraticCurveTo(u,d,u+m,d),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const l=Zs[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Hg(this,e),d=Object.assign({},l,this._size),f=Wg(t,e,d),p=Vg(e,d,f,t);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=hn(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,t),yy(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),vy(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,s=e.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),a=!gl(r,s),l=this._positionChanged(s,t);(a||l)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,r),u=this._positionChanged(l,e),d=t||!gl(l,a)||u;return d&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,r,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:s,options:a}=this,l=Zs[a.position].call(this,e,t);return l!==!1&&(r!==l.x||s!==l.y)}}ve(id,"positioners",Zs);var FS={id:"tooltip",_element:id,positioners:Zs,afterInit(n,e,t){t&&(n.tooltip=new id({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Dy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const $S=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function zS(n,e,t,r){const s=n.indexOf(e);if(s===-1)return $S(n,e,t,r);const a=n.lastIndexOf(e);return s!==a?t:s}const BS=(n,e)=>n===null?null:Ht(Math.round(n),0,e);function Yg(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class sd extends Xi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:s,label:a}of t)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Le(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:zS(r,e,Oe(t,e),this._addedLabels),BS(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)s.push({value:l});return s}getLabelForValue(e){return Yg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ve(sd,"id","category"),ve(sd,"defaults",{ticks:{callback:Yg}});function US(n,e){const t=[],{bounds:s,step:a,min:l,max:u,precision:d,count:f,maxTicks:p,maxDigits:m,includeBounds:w}=n,_=a||1,b=p-1,{min:x,max:S}=e,T=!Le(l),R=!Le(u),C=!Le(f),A=(S-x)/(m+1);let M=Zp((S-x)/b/_)*_,I,O,$,L;if(M<1e-14&&!T&&!R)return[{value:x},{value:S}];L=Math.ceil(S/M)-Math.floor(x/M),L>b&&(M=Zp(L*M/b/_)*_),Le(d)||(I=Math.pow(10,d),M=Math.ceil(M*I)/I),s==="ticks"?(O=Math.floor(x/M)*M,$=Math.ceil(S/M)*M):(O=x,$=S),T&&R&&a&&F_((u-l)/a,M/1e3)?(L=Math.round(Math.min((u-l)/M,p)),M=(u-l)/L,O=l,$=u):C?(O=T?l:O,$=R?u:$,L=f-1,M=($-O)/L):(L=($-O)/M,cl(L,Math.round(L),M/1e3)?L=Math.round(L):L=Math.ceil(L));const H=Math.max(eg(M),eg(O));I=Math.pow(10,Le(d)?H:d),O=Math.round(O*I)/I,$=Math.round($*I)/I;let B=0;for(T&&(w&&O!==l?(t.push({value:l}),O<l&&B++,cl(Math.round((O+B*M)*I)/I,l,Gg(l,A,n))&&B++):O<l&&B++);B<L;++B){const Y=Math.round((O+B*M)*I)/I;if(R&&Y>u)break;t.push({value:Y})}return R&&w&&$!==u?t.length&&cl(t[t.length-1].value,u,Gg(u,A,n))?t[t.length-1].value=u:t.push({value:u}):(!R||$===u)&&t.push({value:$}),t}function Gg(n,e,{horizontal:t,minRotation:r}){const s=tr(r),a=(t?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class HS extends Xi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this;const l=d=>s=t?s:d,u=d=>a=r?a:d;if(e){const d=Ar(s),f=Ar(a);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(s===a){let d=a===0?1:Math.abs(a*.05);u(a+d),e||l(s-d)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=US(s,a);return e.bounds==="ticks"&&$_(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-t)/Math.max(e.length-1,1)/2;t-=s,r+=s}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Nd(e,this.chart.options.locale,this.options.ticks.format)}}class od extends HS{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=dn(e)?e:0,this.max=dn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=tr(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ve(od,"id","linear"),ve(od,"defaults",{ticks:{callback:cy.formatters.numeric}});const $l={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ut=Object.keys($l);function Jg(n,e){return n-e}function Qg(n,e){if(Le(e))return null;const t=n._adapter,{parser:r,round:s,isoWeekday:a}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),dn(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(s&&(l=s==="week"&&(vl(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,s)),+l)}function Xg(n,e,t,r){const s=Ut.length;for(let a=Ut.indexOf(n);a<s-1;++a){const l=$l[Ut[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=r)return Ut[a]}return Ut[s-1]}function WS(n,e,t,r,s){for(let a=Ut.length-1;a>=Ut.indexOf(t);a--){const l=Ut[a];if($l[l].common&&n._adapter.diff(s,r,l)>=e-1)return l}return Ut[t?Ut.indexOf(t):0]}function VS(n){for(let e=Ut.indexOf(n)+1,t=Ut.length;e<t;++e)if($l[Ut[e]].common)return Ut[e]}function Zg(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:s}=Rd(t,e),a=t[r]>=e?t[r]:t[s];n[a]=!0}}function qS(n,e,t,r){const s=n._adapter,a=+s.startOf(e[0].value,r),l=e[e.length-1].value;let u,d;for(u=a;u<=l;u=+s.add(u,1,r))d=t[u],d>=0&&(e[d].major=!0);return e}function em(n,e,t){const r=[],s={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],s[u]=l,r.push({value:u,major:!1});return a===0||!t?r:qS(n,r,s,t)}class kl extends Xi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),s=this._adapter=new rx._date(e.adapters.date);s.init(t),ro(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Qg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=dn(s)&&!isNaN(s)?s:+t.startOf(Date.now(),r),a=dn(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=W_(s,a,l);return this._unit=t.unit||(r.autoSkip?Xg(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):WS(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:VS(this._unit),this.initOffsets(s),e.reverse&&u.reverse(),em(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Ht(t,0,l),r=Ht(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,s=this.options,a=s.time,l=a.unit||Xg(a.minUnit,t,r,this._getLabelCapacity(t)),u=Oe(s.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,f=vl(d)||d===!0,p={};let m=t,w,_;if(f&&(m=+e.startOf(m,"isoWeek",d)),m=+e.startOf(m,f?"day":l),e.diff(r,t,l)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+l);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(w=m,_=0;w<r;w=+e.add(w,u,l),_++)Zg(p,w,b);return(w===r||s.bounds==="ticks"||_===1)&&Zg(p,w,b),Object.keys(p).sort(Jg).map(x=>+x)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,a=this._unit,l=t||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,s){const a=this.options,l=a.ticks.callback;if(l)return He(l,[e,t,r],this);const u=a.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],m=f&&u[f],w=r[t],_=f&&m&&w&&w.major;return this._adapter.format(e,s||(_?m:p))}generateTickLabels(e){let t,r,s;for(t=0,r=e.length;t<r;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,s=tr(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*l,h:r*l+u*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,s=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,em(this,[e],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,r=s.length;t<r;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const s=this.getLabels();for(t=0,r=s.length;t<r;++t)e.push(Qg(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return sy(e.sort(Jg))}}ve(kl,"id","time"),ve(kl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Za(n,e,t){let r=0,s=n.length-1,a,l,u,d;t?(e>=n[r].pos&&e<=n[s].pos&&({lo:r,hi:s}=Zu(n,"pos",e)),{pos:a,time:u}=n[r],{pos:l,time:d}=n[s]):(e>=n[r].time&&e<=n[s].time&&({lo:r,hi:s}=Zu(n,"time",e)),{time:a,pos:u}=n[r],{time:l,pos:d}=n[s]);const f=l-a;return f?u+(d-u)*(e-a)/f:u}class tm extends kl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Za(t,this.min),this._tableRange=Za(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,s=[],a=[];let l,u,d,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=r&&s.push(f);if(s.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],d=s[l-1],f=s[l],Math.round((p+d)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Za(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Za(this._table,r*this._tableRange+this._minPos,!0)}}ve(tm,"id","timeseries"),ve(tm,"defaults",kl.defaults);const My="label";function nm(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function KS(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Iy(n,e){n.labels=e}function Ly(n,e,t=My){const r=[];n.datasets=e.map(s=>{const a=n.datasets.find(l=>l[t]===s[t]);return!a||!s.data||r.includes(a)?{...s}:(r.push(a),Object.assign(a,s),a)})}function YS(n,e=My){const t={labels:[],datasets:[]};return Iy(t,n.labels),Ly(t,n.datasets,e),t}function GS(n,e){const{height:t=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:l,data:u,options:d,plugins:f=[],fallbackContent:p,updateMode:m,...w}=n,_=j.useRef(null),b=j.useRef(null),x=()=>{_.current&&(b.current=new Fl(_.current,{type:l,data:YS(u,a),options:d&&{...d},plugins:f}),nm(e,b.current))},S=()=>{nm(e,null),b.current&&(b.current.destroy(),b.current=null)};return j.useEffect(()=>{!s&&b.current&&d&&KS(b.current,d)},[s,d]),j.useEffect(()=>{!s&&b.current&&Iy(b.current.config.data,u.labels)},[s,u.labels]),j.useEffect(()=>{!s&&b.current&&u.datasets&&Ly(b.current.config.data,u.datasets,a)},[s,u.datasets]),j.useEffect(()=>{b.current&&(s?(S(),setTimeout(x)):b.current.update(m))},[s,d,u.labels,u.datasets,m]),j.useEffect(()=>{b.current&&(S(),setTimeout(x))},[l]),j.useEffect(()=>(x(),()=>S()),[]),y.jsx("canvas",{ref:_,role:"img",height:t,width:r,...w,children:p})}const JS=j.forwardRef(GS);function Ud(n,e){return Fl.register(e),j.forwardRef((t,r)=>y.jsx(JS,{...t,ref:r,type:n}))}const rm=Ud("bar",ul),QS=Ud("doughnut",Hi),XS=Ud("pie",td);Fl.register(Xs,sd,od,fl,RS,FS,jS);function ZS({tasks:n}){const e=n.length,t=n.filter(O=>O.completed).length,r=e-t,s=e>0?Math.round(t/e*100):0,a=n.filter(O=>O.priority==="high"&&!O.completed).length,l=n.filter(O=>O.priority==="medium"&&!O.completed).length,u=n.filter(O=>O.priority==="low"&&!O.completed).length,d=n.filter(O=>{if(!O.dueDate||O.completed)return!1;const[$,L,H]=O.dueDate.split("-").map(Number);return new Date($,L-1,H)<new Date}).length,f={};n.forEach(O=>{O.category&&!O.completed&&(f[O.category]=(f[O.category]||0)+1)});const p=new Date,m=new Date(p.getTime()+10080*60*1e3),w=n.filter(O=>{if(!O.dueDate||O.completed)return!1;const[$,L,H]=O.dueDate.split("-").map(Number),B=new Date($,L-1,H);return B>=p&&B<=m}).length,_=n.reduce((O,$)=>O+($.timeSpent||0),0),b=O=>{if(O<60)return`${O}s`;if(O<3600)return`${Math.floor(O/60)}m`;const $=Math.floor(O/3600),L=Math.floor(O%3600/60);return L>0?`${$}h ${L}m`:`${$}h`},x={high:n.filter(O=>O.priority==="high").reduce((O,$)=>O+($.timeSpent||0),0),medium:n.filter(O=>O.priority==="medium").reduce((O,$)=>O+($.timeSpent||0),0),low:n.filter(O=>O.priority==="low").reduce((O,$)=>O+($.timeSpent||0),0)},S=O=>(O/3600).toFixed(1),T={labels:["High","Medium","Low"],datasets:[{label:"Time Spent (hours)",data:[S(x.high),S(x.medium),S(x.low)],backgroundColor:["rgba(255, 107, 107, 0.8)","rgba(255, 212, 59, 0.8)","rgba(81, 207, 102, 0.8)"],borderColor:["#ff6b6b","#ffd43b","#51cf66"],borderWidth:2}]},R={labels:["Completed","Active"],datasets:[{data:[t,r],backgroundColor:["#51cf66","#667eea"],borderColor:["#40c057","#5568d3"],borderWidth:2}]},C={labels:["High","Medium","Low"],datasets:[{label:"Active Tasks by Priority",data:[a,l,u],backgroundColor:["#ff6b6b","#ffd43b","#51cf66"],borderColor:["#ee5a5a","#fcc419","#40c057"],borderWidth:2}]},A={labels:Object.keys(f).length>0?Object.keys(f):["No Categories"],datasets:[{data:Object.keys(f).length>0?Object.values(f):[1],backgroundColor:["#667eea","#764ba2","#f093fb","#4facfe","#43e97b","#fa709a"],borderWidth:2}]},M={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}}},I={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return y.jsxs("div",{className:"dashboard",children:[y.jsx("h2",{className:"dashboard-title",children:"Dashboard"}),y.jsxs("div",{className:"stats-grid",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-info",children:[y.jsx("div",{className:"stat-value",children:e}),y.jsx("div",{className:"stat-label",children:"Total Tasks"})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-info",children:[y.jsx("div",{className:"stat-value",children:t}),y.jsx("div",{className:"stat-label",children:"Completed"})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-info",children:[y.jsx("div",{className:"stat-value",children:r}),y.jsx("div",{className:"stat-label",children:"Active"})]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-info",children:[y.jsxs("div",{className:"stat-value",children:[s,"%"]}),y.jsx("div",{className:"stat-label",children:"Completion Rate"})]})]}),y.jsxs("div",{className:"stat-card alert",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-info",children:[y.jsx("div",{className:"stat-value",children:d}),y.jsx("div",{className:"stat-label",children:"Overdue"})]})]}),y.jsxs("div",{className:"stat-card info",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-info",children:[y.jsx("div",{className:"stat-value",children:w}),y.jsx("div",{className:"stat-label",children:"Due This Week"})]})]}),y.jsxs("div",{className:"stat-card success",children:[y.jsx("div",{className:"stat-icon",children:""}),y.jsxs("div",{className:"stat-info",children:[y.jsx("div",{className:"stat-value",children:b(_)}),y.jsx("div",{className:"stat-label",children:"Time Tracked"})]})]})]}),y.jsxs("div",{className:"charts-grid",children:[y.jsxs("div",{className:"chart-container",children:[y.jsx("h3",{className:"chart-title",children:"Task Completion"}),e>0?y.jsx(XS,{data:R,options:M}):y.jsx("p",{className:"no-data",children:"No tasks to display"})]}),y.jsxs("div",{className:"chart-container",children:[y.jsx("h3",{className:"chart-title",children:"Active Tasks by Priority"}),r>0?y.jsx(rm,{data:C,options:I}):y.jsx("p",{className:"no-data",children:"No active tasks"})]}),y.jsxs("div",{className:"chart-container",children:[y.jsx("h3",{className:"chart-title",children:"Active Tasks by Category"}),Object.keys(f).length>0?y.jsx(QS,{data:A,options:M}):y.jsx("p",{className:"no-data",children:"No categorized tasks"})]}),y.jsxs("div",{className:"chart-container",children:[y.jsx("h3",{className:"chart-title",children:"Time Spent by Priority"}),_>0?y.jsx(rm,{data:T,options:I}):y.jsx("p",{className:"no-data",children:"No time tracked yet"})]})]})]})}function ek({tasks:n,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a}){const l=new Date,u=new Date(l.getFullYear(),l.getMonth(),l.getDate()),d=S=>{if(!S.dueDate)return null;const[T,R,C]=S.dueDate.split("-").map(Number);return new Date(T,R-1,C)},f=n.filter(S=>S.completed||!S.dueDate?!1:d(S)<u),p=n.filter(S=>S.completed||!S.dueDate?!1:d(S).getTime()===u.getTime()),m=n.filter(S=>!S.completed||!S.dueDate?!1:d(S).getTime()===u.getTime()),w=p.length+m.length,_=m.length,b=w>0?Math.round(_/w*100):0,x=()=>{const S={weekday:"long",month:"long",day:"numeric"};return u.toLocaleDateString("en-US",S)};return y.jsxs("div",{className:"today-view",children:[y.jsxs("div",{className:"today-header",children:[y.jsxs("div",{className:"today-title-section",children:[y.jsx("h2",{className:"today-title",children:"Today"}),y.jsx("p",{className:"today-date",children:x()})]}),w>0&&y.jsxs("div",{className:"today-progress",children:[y.jsxs("div",{className:"progress-circle",children:[y.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:[y.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#e0e0e0",strokeWidth:"4"}),y.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#4CAF50",strokeWidth:"4",strokeDasharray:`${2*Math.PI*24}`,strokeDashoffset:`${2*Math.PI*24*(1-b/100)}`,transform:"rotate(-90 30 30)",strokeLinecap:"round"})]}),y.jsxs("span",{className:"progress-text",children:[b,"%"]})]}),y.jsxs("div",{className:"progress-details",children:[y.jsx("p",{className:"progress-label",children:"Progress"}),y.jsxs("p",{className:"progress-count",children:[_," of ",w]})]})]})]}),f.length>0&&y.jsxs("div",{className:"task-section overdue-section",children:[y.jsx("div",{className:"section-header",children:y.jsxs("h3",{className:"section-title overdue-title",children:[y.jsx("span",{className:"overdue-icon",children:""}),"Overdue",y.jsx("span",{className:"task-count-badge overdue-badge",children:f.length})]})}),y.jsx("div",{className:"task-list",children:f.map(S=>y.jsx(no,{task:S,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a},S.id))})]}),y.jsxs("div",{className:"task-section today-tasks-section",children:[y.jsx("div",{className:"section-header",children:y.jsxs("h3",{className:"section-title",children:["Tasks for Today",p.length>0&&y.jsx("span",{className:"task-count-badge",children:p.length})]})}),p.length===0&&f.length===0?y.jsxs("div",{className:"empty-today",children:[y.jsx("div",{className:"empty-today-icon",children:""}),y.jsx("h3",{className:"empty-today-title",children:"All clear!"}),y.jsx("p",{className:"empty-today-message",children:"No tasks scheduled for today. Enjoy your day!"})]}):p.length===0?y.jsx("div",{className:"empty-state-small",children:y.jsx("p",{children:"No tasks scheduled for today"})}):y.jsx("div",{className:"task-list",children:p.map(S=>y.jsx(no,{task:S,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a},S.id))})]}),m.length>0&&y.jsxs("div",{className:"task-section completed-section",children:[y.jsx("div",{className:"section-header",children:y.jsxs("h3",{className:"section-title completed-title",children:[y.jsx("span",{className:"completed-icon",children:""}),"Completed",y.jsx("span",{className:"task-count-badge completed-badge",children:m.length})]})}),y.jsx("div",{className:"task-list",children:m.map(S=>y.jsx(no,{task:S,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a},S.id))})]})]})}function tk({onComplete:n,addTask:e}){const[t,r]=j.useState(["","",""]),s=["Do laundry","Plan a trip to...","Call back...","Buy birthday gift for...","Schedule dentist appointment","Prepare weekly meal plan","Review monthly budget","Organize workspace"],a=(f,p)=>{const m=[...t];m[f]=p,r(m)},l=f=>{const p=t.findIndex(m=>m==="");if(p!==-1){const m=[...t];m[p]=f,r(m)}},u=()=>{t.forEach(f=>{f.trim()&&e({text:f.trim(),priority:"medium",dueDate:"",dueTime:"",category:"",reminderMinutes:null})}),localStorage.setItem("hasCompletedOnboarding","true"),n()},d=()=>{localStorage.setItem("hasCompletedOnboarding","true"),n()};return y.jsx("div",{className:"onboarding-overlay",children:y.jsxs("div",{className:"onboarding-container",children:[y.jsx("button",{className:"skip-button",onClick:d,children:"Skip"}),y.jsx("h1",{className:"onboarding-title",children:"Add your first tasks"}),y.jsx("div",{className:"onboarding-inputs",children:t.map((f,p)=>y.jsx("input",{type:"text",className:`onboarding-input ${p===0?"focused":""}`,placeholder:p===0?"Do laundry":p===1?"Plan a trip to":"Call back",value:f,onChange:m=>a(p,m.target.value)},p))}),y.jsx("div",{className:"suggested-tasks",children:s.slice(0,4).map((f,p)=>y.jsxs("button",{className:"suggested-task-btn",onClick:()=>l(f),children:[y.jsx("span",{className:"plus-icon",children:"+"}),f]},p))}),y.jsx("button",{className:"continue-button",onClick:u,children:"Continue"})]})})}const ad=[{text:"Inspiration is perishable - act on it immediately.",category:"productivity"},{text:"The most important trick to be happy is to realize happiness is a skill you develop and a choice you make.",category:"productivity"},{text:"Specific knowledge is found by pursuing your genuine curiosity.",category:"productivity"},{text:"Play iterated games. All the returns in life come from compound interest over many turns of the game.",category:"productivity"},{text:"Clear thinker  Clear speaker  Clear writer.",category:"productivity"},{text:"Earn with your mind, not your time.",category:"productivity"},{text:"You're not going to get rich renting out your time.",category:"time"},{text:"Set and enforce an aspirational personal hourly rate.",category:"time"},{text:"Ruthlessly decline meetings. Not trying to be rude, optimizing time.",category:"time"},{text:"The direction you're heading in matters more than how fast you move.",category:"time"},{text:"Impatience with actions, patience with results.",category:"time"},{text:"If you can't decide, the answer is no.",category:"time"},{text:"All the benefits in life come from compound interest.",category:"completion"},{text:"The best jobs are neither decreed nor degreed. They are creative expressions of continuous learners.",category:"completion"},{text:"A calm mind, a fit body, a house full of love. These things cannot be bought - they must be earned.",category:"completion"},{text:"The genuine love for reading itself is a superpower.",category:"completion"},{text:"The modern devil is cheap dopamine.",category:"completion"},{text:"Sophistication is removing the unnecessary.",category:"completion"},{text:"Intentions don't matter. Actions do. That's why being ethical is hard.",category:"focus"},{text:"The ability to singularly focus is related to the ability to lose yourself and be present.",category:"focus"},{text:"Meditation is intermittent fasting for the mind.",category:"focus"},{text:"A busy mind accelerates the passage of time. A calm mind slows it down.",category:"focus"},{text:"It's only after you're bored that you have great ideas.",category:"focus"},{text:"Doctors won't make you healthy. Nutritionists won't make you slim. Teachers won't make you smart. Gurus won't make you calm. Mentors won't make you rich. Trainers won't make you fit. Ultimately, you have to take responsibility.",category:"focus"},{text:"Seek wealth, not money or status. Wealth is assets that earn while you sleep.",category:"wisdom"},{text:"Reading is faster than listening. Doing is faster than watching.",category:"wisdom"},{text:"The three big ones in life are wealth, health, and happiness. We pursue them in that order, but their importance is reverse.",category:"wisdom"},{text:"If you can't see yourself working with someone for life, don't work with them for a day.",category:"wisdom"},{text:"Retirement is when you stop sacrificing today for an imaginary tomorrow.",category:"wisdom"},{text:"The best relationships are peer relationships.",category:"wisdom"},{text:"You make your own luck if you stay at it long enough.",category:"wisdom"},{text:"Peace is happiness at rest. Happiness is peace in motion.",category:"wisdom"},{text:"Easy choices, hard life. Hard choices, easy life.",category:"wisdom"},{text:"The measure of wealth is freedom.",category:"wisdom"}],nk=n=>{const e=ad.filter(r=>r.category===n),t=Math.floor(Math.random()*e.length);return e[t].text},rk=()=>{const n=new Date,e=new Date(n.getFullYear(),0,0),t=n.getTime()-e.getTime(),r=1e3*60*60*24,a=Math.floor(t/r)%ad.length;return ad[a].text};function ik({userName:n}){const[e,t]=j.useState(""),[r,s]=j.useState("");j.useEffect(()=>{const l=()=>{const d=new Date().getHours();let f="";d>=5&&d<12?f="Good Morning":d>=12&&d<17?f="Good Afternoon":d>=17&&d<22?f="Good Evening":f="Good Night",t(f)};l(),s(rk());const u=setInterval(l,6e4);return()=>clearInterval(u)},[]);const a=n||"STEVE ARMSTRONG";return y.jsxs("div",{className:"greeting-section",children:[y.jsxs("h1",{className:"greeting-text",children:[e,", ",a]}),y.jsx("p",{className:"motivational-quote",children:r})]})}var ld=function(n,e){return ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},ld(n,e)};function Fy(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ld(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var El=function(){return El=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},El.apply(this,arguments)};function Zi(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function $y(n,e,t,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(l=n[u])&&(a=(s<3?l(a):s>3?l(e,t,a):l(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}function zy(n,e){return function(t,r){e(t,r,n)}}function By(n,e,t,r,s,a){function l(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var u=r.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!e&&n?r.static?n:n.prototype:null,p=e||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),m,w=!1,_=t.length-1;_>=0;_--){var b={};for(var x in r)b[x]=x==="access"?{}:r[x];for(var x in r.access)b.access[x]=r.access[x];b.addInitializer=function(T){if(w)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(T||null))};var S=(0,t[_])(u==="accessor"?{get:p.get,set:p.set}:p[d],b);if(u==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(m=l(S.get))&&(p.get=m),(m=l(S.set))&&(p.set=m),(m=l(S.init))&&s.unshift(m)}else(m=l(S))&&(u==="field"?s.unshift(m):p[d]=m)}f&&Object.defineProperty(f,r.name,p),w=!0}function Uy(n,e,t){for(var r=arguments.length>2,s=0;s<e.length;s++)t=r?e[s].call(n,t):e[s].call(n);return r?t:void 0}function Hy(n){return typeof n=="symbol"?n:"".concat(n)}function Wy(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Vy(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ae(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):s(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})}function qy(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(p){return d([f,p])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(t=0)),t;)try{if(r=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,s=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(p){f=[6,p],s=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var zl=Object.create?(function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}):(function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]});function Ky(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zl(e,n,t)}function Cl(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hd(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),s,a=[],l;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return a}function Yy(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Hd(arguments[e]));return n}function Gy(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var a=arguments[e],l=0,u=a.length;l<u;l++,s++)r[s]=a[l];return r}function Jy(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function Ji(n){return this instanceof Ji?(this.v=n,this):new Ji(n)}function Qy(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(_){return function(b){return Promise.resolve(b).then(_,m)}}function u(_,b){r[_]&&(s[_]=function(x){return new Promise(function(S,T){a.push([_,x,S,T])>1||d(_,x)})},b&&(s[_]=b(s[_])))}function d(_,b){try{f(r[_](b))}catch(x){w(a[0][3],x)}}function f(_){_.value instanceof Ji?Promise.resolve(_.value.v).then(p,m):w(a[0][2],_)}function p(_){d("next",_)}function m(_){d("throw",_)}function w(_,b){_(b),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Xy(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=n[s]?function(l){return(t=!t)?{value:Ji(n[s](l)),done:!1}:a?a(l):l}:a}}function Zy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Cl=="function"?Cl(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(l){return new Promise(function(u,d){l=n[a](l),s(u,d,l.done,l.value)})}}function s(a,l,u,d){Promise.resolve(d).then(function(f){a({value:f,done:u})},l)}}function ev(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var sk=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},cd=function(n){return cd=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},cd(n)};function tv(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=cd(n),r=0;r<t.length;r++)t[r]!=="default"&&zl(e,n,t[r]);return sk(e,n),e}function nv(n){return n&&n.__esModule?n:{default:n}}function rv(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function iv(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t}function sv(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function ov(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}var ok=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function av(n){function e(a){n.error=n.hasError?new ok(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var t,r=0;function s(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(s);if(t.dispose){var a=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(a).then(s,function(l){return e(l),s()})}else r|=1}catch(l){e(l)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return s()}function lv(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,s,a,l){return r?e?".jsx":".js":s&&(!a||!l)?t:s+a+"."+l.toLowerCase()+"js"}):n}const ak={__extends:Fy,__assign:El,__rest:Zi,__decorate:$y,__param:zy,__esDecorate:By,__runInitializers:Uy,__propKey:Hy,__setFunctionName:Wy,__metadata:Vy,__awaiter:ae,__generator:qy,__createBinding:zl,__exportStar:Ky,__values:Cl,__read:Hd,__spread:Yy,__spreadArrays:Gy,__spreadArray:Jy,__await:Ji,__asyncGenerator:Qy,__asyncDelegator:Xy,__asyncValues:Zy,__makeTemplateObject:ev,__importStar:tv,__importDefault:nv,__classPrivateFieldGet:rv,__classPrivateFieldSet:iv,__classPrivateFieldIn:sv,__addDisposableResource:ov,__disposeResources:av,__rewriteRelativeImportExtension:lv},lk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ov,get __assign(){return El},__asyncDelegator:Xy,__asyncGenerator:Qy,__asyncValues:Zy,__await:Ji,__awaiter:ae,__classPrivateFieldGet:rv,__classPrivateFieldIn:sv,__classPrivateFieldSet:iv,__createBinding:zl,__decorate:$y,__disposeResources:av,__esDecorate:By,__exportStar:Ky,__extends:Fy,__generator:qy,__importDefault:nv,__importStar:tv,__makeTemplateObject:ev,__metadata:Vy,__param:zy,__propKey:Hy,__read:Hd,__rest:Zi,__rewriteRelativeImportExtension:lv,__runInitializers:Uy,__setFunctionName:Wy,__spread:Yy,__spreadArray:Jy,__spreadArrays:Gy,__values:Cl,default:ak},Symbol.toStringTag,{value:"Module"})),ck=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Wd extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class uk extends Wd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class im extends Wd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sm extends Wd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ud;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(ud||(ud={}));class dk{constructor(e,{headers:t={},customFetch:r,region:s=ud.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=ck(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ae(this,arguments,void 0,function*(t,r={}){var s;let a,l;try{const{headers:u,method:d,body:f,signal:p,timeout:m}=r;let w={},{region:_}=r;_||(_=this.region);const b=new URL(`${this.url}/${t}`);_&&_!=="any"&&(w["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let x;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(w["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(w["Content-Type"]="application/json",x=JSON.stringify(f)):x=f;let S=p;m&&(l=new AbortController,a=setTimeout(()=>l.abort(),m),p?(S=l.signal,p.addEventListener("abort",()=>l.abort())):S=l.signal);const T=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),u),body:x,signal:S}).catch(M=>{throw new uk(M)}),R=T.headers.get("x-relay-error");if(R&&R==="true")throw new im(T);if(!T.ok)throw new sm(T);let C=((s=T.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),A;return C==="application/json"?A=yield T.json():C==="application/octet-stream"||C==="application/pdf"?A=yield T.blob():C==="text/event-stream"?A=T:C==="multipart/form-data"?A=yield T.formData():A=yield T.text(),{data:A,error:null,response:T}}catch(u){return{data:null,error:u,response:u instanceof sm||u instanceof im?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var St={};const es=Kw(lk);var el={},tl={},nl={},rl={},il={},sl={},om;function cv(){if(om)return sl;om=1,Object.defineProperty(sl,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return sl.default=n,sl}var am;function uv(){if(am)return il;am=1,Object.defineProperty(il,"__esModule",{value:!0});const e=es.__importDefault(cv());class t{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,p,m,w;let _=null,b=null,x=null,S=d.status,T=d.statusText;if(d.ok){if(this.method!=="HEAD"){const M=await d.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=M:b=JSON.parse(M))}const C=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),A=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");C&&A&&A.length>1&&(x=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,S=406,T="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const C=await d.text();try{_=JSON.parse(C),Array.isArray(_)&&d.status===404&&(b=[],_=null,S=200,T="OK")}catch{d.status===404&&C===""?(S=204,T="No Content"):_={message:C}}if(_&&this.isMaybeSingle&&(!((w=_==null?void 0:_.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,S=200,T="OK"),_&&this.shouldThrowOnError)throw new e.default(_)}return{error:_,data:b,count:x,status:S,statusText:T}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,p,m;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=d==null?void 0:d.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return il.default=t,il}var lm;function dv(){if(lm)return rl;lm=1,Object.defineProperty(rl,"__esModule",{value:!0});const e=es.__importDefault(uv());class t extends e.default{select(s){let a=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(f,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const m=[s?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${w}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return rl.default=t,rl}var cm;function Vd(){if(cm)return nl;cm=1,Object.defineProperty(nl,"__esModule",{value:!0});const e=es.__importDefault(dv()),t=new RegExp("[,()]");class r extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${f}fts${p}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return nl.default=r,nl}var um;function hv(){if(um)return tl;um=1,Object.defineProperty(tl,"__esModule",{value:!0});const e=es.__importDefault(Vd());class t{constructor(s,{headers:a={},schema:l,fetch:u}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(s,a){const{head:l=!1,count:u}=a??{},d=l?"HEAD":"GET";let f=!1;const p=(s??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(m.length>0){const w=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var a;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return tl.default=t,tl}var dm;function hk(){if(dm)return el;dm=1,Object.defineProperty(el,"__esModule",{value:!0});const n=es,e=n.__importDefault(hv()),t=n.__importDefault(Vd());class r{constructor(a,{headers:l={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:d=!1,count:f}={}){var p;let m;const w=new URL(`${this.url}/rpc/${a}`);let _;u||d?(m=u?"HEAD":"GET",Object.entries(l).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{w.searchParams.append(x,S)})):(m="POST",_=l);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new t.default({method:m,url:w,headers:b,schema:this.schemaName,body:_,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return el.default=r,el}var hm;function fk(){if(hm)return St;hm=1,Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const n=es,e=n.__importDefault(hk());St.PostgrestClient=e.default;const t=n.__importDefault(hv());St.PostgrestQueryBuilder=t.default;const r=n.__importDefault(Vd());St.PostgrestFilterBuilder=r.default;const s=n.__importDefault(dv());St.PostgrestTransformBuilder=s.default;const a=n.__importDefault(uv());St.PostgrestBuilder=a.default;const l=n.__importDefault(cv());return St.PostgrestError=l.default,St.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:l.default},St}var fv=fk();const pv=kd(fv),pk=qw({__proto__:null,default:pv},[fv]),{PostgrestClient:gk,PostgrestQueryBuilder:bT,PostgrestFilterBuilder:xT,PostgrestTransformBuilder:ST,PostgrestBuilder:kT,PostgrestError:ET}=pv||pk;class mk{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const yk="2.81.1",vk=`realtime-js/${yk}`,gv="1.0.0",wk="2.0.0",fm=gv,dd=1e4,_k=1e3,bk=100;var ti;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ti||(ti={}));var st;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(st||(st={}));var ln;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ln||(ln={}));var hd;(function(n){n.websocket="websocket"})(hd||(hd={}));var ni;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ni||(ni={}));class xk{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:t,ref:r,event:s,topic:a,payload:l}=e,u=this.META_LENGTH+t.length+r.length+a.length+s.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(d),p=0;f.setUint8(p++,this.KINDS.push),f.setUint8(p++,t.length),f.setUint8(p++,r.length),f.setUint8(p++,a.length),f.setUint8(p++,s.length),Array.from(t,w=>f.setUint8(p++,w.charCodeAt(0))),Array.from(r,w=>f.setUint8(p++,w.charCodeAt(0))),Array.from(a,w=>f.setUint8(p++,w.charCodeAt(0))),Array.from(s,w=>f.setUint8(p++,w.charCodeAt(0)));var m=new Uint8Array(d.byteLength+l.byteLength);return m.set(new Uint8Array(d),0),m.set(new Uint8Array(l),d.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const{join_ref:s,ref:a,topic:l}=e,u=e.payload.event,d=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+a.length+l.length+u.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(p),w=0;m.setUint8(w++,this.KINDS.userBroadcastPush),m.setUint8(w++,s.length),m.setUint8(w++,a.length),m.setUint8(w++,l.length),m.setUint8(w++,u.length),m.setUint8(w++,this.BINARY_ENCODING),Array.from(s,b=>m.setUint8(w++,b.charCodeAt(0))),Array.from(a,b=>m.setUint8(w++,b.charCodeAt(0))),Array.from(l,b=>m.setUint8(w++,b.charCodeAt(0))),Array.from(u,b=>m.setUint8(w++,b.charCodeAt(0)));var _=new Uint8Array(p.byteLength+d.byteLength);return _.set(new Uint8Array(p),0),_.set(new Uint8Array(d),p.byteLength),_.buffer}_encodeJsonUserBroadcastPush(e){var t,r;const{join_ref:s,ref:a,topic:l}=e,u=e.payload.event,d=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},p=new TextEncoder().encode(JSON.stringify(d)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+a.length+l.length+u.length,w=new ArrayBuffer(this.HEADER_LENGTH+m);let _=new DataView(w),b=0;_.setUint8(b++,this.KINDS.userBroadcastPush),_.setUint8(b++,s.length),_.setUint8(b++,a.length),_.setUint8(b++,l.length),_.setUint8(b++,u.length),_.setUint8(b++,this.JSON_ENCODING),Array.from(s,S=>_.setUint8(b++,S.charCodeAt(0))),Array.from(a,S=>_.setUint8(b++,S.charCodeAt(0))),Array.from(l,S=>_.setUint8(b++,S.charCodeAt(0))),Array.from(u,S=>_.setUint8(b++,S.charCodeAt(0)));var x=new Uint8Array(w.byteLength+p.byteLength);return x.set(new Uint8Array(w),0),x.set(new Uint8Array(p),w.byteLength),x.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,a,l,u,d]=r;return t({join_ref:s,ref:a,topic:l,event:u,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,t,s);case this.KINDS.reply:return this._decodeReply(e,t,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,s)}}_decodePush(e,t,r){const s=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3);let u=this.HEADER_LENGTH+this.META_LENGTH-1;const d=r.decode(e.slice(u,u+s));u=u+s;const f=r.decode(e.slice(u,u+a));u=u+a;const p=r.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{join_ref:d,ref:null,topic:f,event:p,payload:m}}_decodeReply(e,t,r){const s=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),u=t.getUint8(4);let d=this.HEADER_LENGTH+this.META_LENGTH;const f=r.decode(e.slice(d,d+s));d=d+s;const p=r.decode(e.slice(d,d+a));d=d+a;const m=r.decode(e.slice(d,d+l));d=d+l;const w=r.decode(e.slice(d,d+u));d=d+u;const _=JSON.parse(r.decode(e.slice(d,e.byteLength))),b={status:w,response:_};return{join_ref:f,ref:p,topic:m,event:ln.reply,payload:b}}_decodeBroadcast(e,t,r){const s=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{join_ref:null,ref:null,topic:u,event:d,payload:f}}_decodeUserBroadcast(e,t,r){const s=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),u=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+s));d=d+s;const p=r.decode(e.slice(d,d+a));d=d+a;const m=r.decode(e.slice(d,d+l));d=d+l;const w=e.slice(d,e.byteLength),_=u===this.JSON_ENCODING?JSON.parse(r.decode(w)):w,b={type:this.BROADCAST,event:p,payload:_};return l>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:b}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}}class mv{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})($e||($e={}));const pm=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=Sk(l,n,e,s),a),{}):{}},Sk=(n,e,t,r)=>{const s=e.find(u=>u.name===n),a=s==null?void 0:s.type,l=t[n];return a&&!r.includes(a)?yv(a,l):fd(l)},yv=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Tk(e,t)}switch(n){case $e.bool:return kk(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return Ek(e);case $e.json:case $e.jsonb:return Ck(e);case $e.timestamp:return jk(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return fd(e);default:return fd(e)}},fd=n=>n,kk=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Ek=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Ck=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Tk=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>yv(e,u))}return n},jk=n=>typeof n=="string"?n.replace(" ","T"):n,vv=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class $u{constructor(e,t,r={},s=dd){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(gm||(gm={}));class oo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oo.syncState(this.state,s,a,l),this.pendingDiffs.forEach(d=>{this.state=oo.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=oo.syncDiff(this.state,s,a,l),u())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const a=this.cloneDeep(e),l=this.transformState(t),u={},d={};return this.map(a,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const m=a[f];if(m){const w=p.map(S=>S.presence_ref),_=m.map(S=>S.presence_ref),b=p.filter(S=>_.indexOf(S.presence_ref)<0),x=m.filter(S=>w.indexOf(S.presence_ref)<0);b.length>0&&(u[f]=b),x.length>0&&(d[f]=x)}else u[f]=p}),this.syncDiff(a,{joins:u,leaves:d},r,s)}static syncDiff(e,t,r,s){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(u,d)=>{var f;const p=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),p.length>0){const m=e[u].map(_=>_.presence_ref),w=p.filter(_=>m.indexOf(_.presence_ref)<0);e[u].unshift(...w)}r(u,p,d)}),this.map(l,(u,d)=>{let f=e[u];if(!f)return;const p=d.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=f,s(u,f,d),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mm;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(mm||(mm={}));var ao;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ao||(ao={}));var Zn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class qd{constructor(e,t={config:{}},r){var s,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,ln.join,this.params,this.timeout),this.rejoinTimer=new mv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new oo(this),this.broadcastEndpointURL=vv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[ao.PRESENCE]&&this.bindings[ao.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},w={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(Zn.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(Zn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket.setAuth(),_===void 0){e==null||e(Zn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,T=[];for(let R=0;R<S;R++){const C=x[R],{filter:{event:A,schema:M,table:I,filter:O}}=C,$=_&&_[R];if($&&$.event===A&&$.schema===M&&$.table===I&&$.filter===O)T.push(Object.assign(Object.assign({},C),{id:$.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Zn.SUBSCRIBED);return}}).receive("error",_=>{this.state=st.errored,e==null||e(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===st.joined&&e===ao.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new $u(this,ln.leave,{},e),r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $u(this,e,t,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bk){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,a;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=ln;if(r&&[u,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let w=this._onMessage(l,t,r);if(t&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(_=>{var b,x,S;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(x=_.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(_=>_.callback(w,r)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var b,x,S,T,R,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const A=_.id,M=(b=_.filter)===null||b===void 0?void 0:b.event;return A&&((x=t.ids)===null||x===void 0?void 0:x.includes(A))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const A=(R=(T=_==null?void 0:_.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return A==="*"||A===((C=t==null?void 0:t.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof w=="object"&&"ids"in w){const b=w.data,{schema:x,table:S,commit_timestamp:T,type:R,errors:C}=b;w=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:T,eventType:R,new:{},old:{},errors:C}),this._getPayloadRecords(b))}_.callback(w,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&qd.isEqual(s.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ln.close,{},e)}_onError(e){this._on(ln.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=pm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=pm(e.columns,e.old_record)),t}}const zu=()=>{},ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ok=[1e3,2e3,5e3,1e4],Rk=1e4,Pk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Nk{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dd,this.transport=null,this.heartbeatIntervalMs=ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zu,this.ref=0,this.reconnectTimer=null,this.vsn=fm,this.logger=zu,this.conn=null,this.sendBuffer=[],this.serializer=new xk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${hd.websocket}`,this.httpEndpoint=vv(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ti.connecting:return ni.Connecting;case ti.open:return ni.Open;case ti.closing:return ni.Closing;default:return ni.Closed}}isConnected(){return this.connectionState()===ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new qd(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:s,ref:a}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${t} ${r} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_k,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:l}=t,u=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${s} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ti.open||this.conn.readyState===ti.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ln.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Pk],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const s={access_token:t,version:vk};t&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ln.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,s,a,l,u,d,f,p,m,w,_;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:dd,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ol.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:zu,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:fm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(b=>Ok[b-1]||Rk),this.vsn){case gv:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((b,x)=>x(JSON.stringify(b))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((b,x)=>x(JSON.parse(b)));break;case wk:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Kd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ye(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Ak extends Kd{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pd extends Kd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Yd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Dk=()=>Response,gd=n=>{if(Array.isArray(n))return n.map(t=>gd(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=gd(r)}),e},Mk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Bu=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Ik=(n,e,t)=>ae(void 0,void 0,void 0,function*(){const r=yield Dk();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{const a=n.status||500,l=(s==null?void 0:s.statusCode)||a+"";e(new Ak(Bu(s),a,l))}).catch(s=>{e(new pd(Bu(s),s))}):e(new pd(Bu(n),n))}),Lk=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?s:(Mk(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),t))};function So(n,e,t,r,s,a){return ae(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,Lk(e,r,s,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Ik(d,u,r))})})}function yo(n,e,t,r){return ae(this,void 0,void 0,function*(){return So(n,"GET",e,t,r)})}function Sn(n,e,t,r,s){return ae(this,void 0,void 0,function*(){return So(n,"POST",e,r,s,t)})}function md(n,e,t,r,s){return ae(this,void 0,void 0,function*(){return So(n,"PUT",e,r,s,t)})}function Fk(n,e,t,r){return ae(this,void 0,void 0,function*(){return So(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Gd(n,e,t,r,s){return ae(this,void 0,void 0,function*(){return So(n,"DELETE",e,r,s,t)})}class $k{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}}var wv;class zk{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[wv]="BlobDownloadBuilder",this.promise=null}asStream(){return new $k(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}}wv=Symbol.toStringTag;const Bk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ym={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uk{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Yd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,s){return ae(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},ym),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(t),p=this._getFinalPath(f),m=yield(e=="PUT"?md:Sn)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}upload(e,t,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return ae(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:ym.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield md(this.fetch,u.toString(),d,{headers:p});return{data:{path:a,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ye(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=yield Sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new Kd("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}update(e,t,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return ae(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}copy(e,t,r){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return ae(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Sn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return ae(this,void 0,void 0,function*(){try{const s=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}download(e,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=a?`?${a}`:"",u=this._getFinalPath(e),d=()=>yo(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new zk(d,this.shouldThrowOnError)}info(e){return ae(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield yo(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:gd(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}exists(e){return ae(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Fk(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r)&&r instanceof pd){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&s.push(d);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}list(e,t,r){return ae(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Bk),t),{prefix:e||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}listV2(e,t){return ae(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const _v="2.81.1",bv={"X-Client-Info":`storage-js/${_v}`};class Hk{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bv),t),this.fetch=Yd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield yo(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}createBucket(e){return ae(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return ae(this,void 0,void 0,function*(){try{return{data:yield md(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class Wk{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bv),t),this.fetch=Yd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const r=t.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield yo(this.fetch,s,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}}const Jd={"X-Client-Info":`storage-js/${_v}`,"Content-Type":"application/json"};class xv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Jt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Uu extends xv{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vk extends xv{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var vm;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(vm||(vm={}));const Qd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),qk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},wm=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Kk=(n,e,t)=>ae(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const s=n.status||500,a=n;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new Uu(wm(l),s,u))}).catch(()=>{const l=s+"",u=a.statusText||`HTTP ${s} error`;e(new Uu(u,s,l))});else{const l=s+"",u=a.statusText||`HTTP ${s} error`;e(new Uu(u,s,l))}}else e(new Vk(wm(n),n))}),Yk=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(qk(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),t)):s};function Gk(n,e,t,r,s,a){return ae(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,Yk(e,r,s,a)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>Kk(d,u,r))})})}function Qt(n,e,t,r,s){return ae(this,void 0,void 0,function*(){return Gk(n,"POST",e,r,s,t)})}class Jk{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jd),t),this.fetch=Qd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}getIndex(e,t){return ae(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}listIndexes(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return ae(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}}class Qk{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jd),t),this.fetch=Qd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}getVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}listVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Qt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}queryVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}deleteVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}}class Xk{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jd),t),this.fetch=Qd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}listBuckets(){return ae(this,arguments,void 0,function*(e={}){try{return{data:yield Qt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}}class Zk extends Xk{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new eE(this.url,this.headers,e,this.fetch)}}class eE extends Jk{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new tE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class tE extends Qk{constructor(e,t,r,s,a){super(e,t,a),this.vectorBucketName=r,this.indexName=s}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class nE extends Hk{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new Uk(this.url,this.headers,e,this.fetch)}get vectors(){return new Zk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Wk(this.url+"/iceberg",this.headers,this.fetch)}}const rE="2.81.1";let eo="";typeof Deno<"u"?eo="deno":typeof document<"u"?eo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?eo="react-native":eo="node";const iE={"X-Client-Info":`supabase-js-${eo}/${rE}`},sE={headers:iE},oE={schema:"public"},aE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lE={},cE=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),uE=()=>Headers,dE=(n,e,t)=>{const r=cE(t),s=uE();return async(a,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:n;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:f}))}};function hE(n){return n.endsWith("/")?n:n+"/"}function fE(n,e){var t,r;const{db:s,auth:a,realtime:l,global:u}=n,{db:d,auth:f,realtime:p,global:m}=e,w={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(t=m==null?void 0:m.headers)!==null&&t!==void 0?t:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function pE(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sv="2.81.1",Bi=30*1e3,yd=3,Hu=yd*Bi,gE="http://localhost:9999",mE="supabase.auth.token",yE={"X-Client-Info":`gotrue-js/${Sv}`},vd="X-Supabase-Api-Version",kv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wE=600*1e3;class vo extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ue(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class _E extends vo{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function bE(n){return ue(n)&&n.name==="AuthApiError"}class ri extends vo{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Mr extends vo{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class bn extends Mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xE(n){return ue(n)&&n.name==="AuthSessionMissingError"}class Ii extends Mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class al extends Mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ll extends Mr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SE(n){return ue(n)&&n.name==="AuthImplicitGrantRedirectError"}class _m extends Mr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wd extends Mr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Wu(n){return ue(n)&&n.name==="AuthRetryableFetchError"}class bm extends Mr{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class _d extends Mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xm=` 	
\r=`.split(""),kE=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<xm.length;e+=1)n[xm[e].charCodeAt(0)]=-2;for(let e=0;e<Tl.length;e+=1)n[Tl[e].charCodeAt(0)]=e;return n})();function Sm(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Tl[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Tl[r]),e.queuedBits-=6}}function Ev(n,e,t){const r=kE[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function km(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{TE(l,r,t)};for(let l=0;l<n.length;l+=1)Ev(n.charCodeAt(l),s,a);return e.join("")}function EE(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function CE(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}EE(r,e)}}function TE(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ki(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)Ev(n.charCodeAt(s),t,r);return new Uint8Array(e)}function jE(n){const e=[];return CE(n,t=>e.push(t)),new Uint8Array(e)}function si(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};return n.forEach(s=>Sm(s,t,r)),Sm(null,t,r),e.join("")}function OE(n){return Math.round(Date.now()/1e3)+n}function RE(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},Cv=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function PE(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const Tv=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),NE=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ui=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Xr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Er=async(n,e)=>{await n.removeItem(e)};class Bl{constructor(){this.promise=new Bl.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Bl.promiseConstructor=Promise;function Vu(n){const e=n.split(".");if(e.length!==3)throw new _d("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!vE.test(e[r]))throw new _d("JWT not in base64url format");return{header:JSON.parse(km(e[0])),payload:JSON.parse(km(e[1])),signature:Ki(e[2]),raw:{header:e[0],payload:e[1]}}}async function AE(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function DE(n,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function ME(n){return("0"+n.toString(16)).substr(-2)}function IE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let a=0;a<56;a++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,ME).join("")}async function LE(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function FE(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await LE(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Li(n,e,t=!1){const r=IE();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await Ui(n,`${e}-code-verifier`,s);const a=await FE(r);return[a,r===a?"plain":"s256"]}const $E=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zE(n){const e=n.headers.get(vd);if(!e||!e.match($E))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BE(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function UE(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fi(n){if(!HE.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qu(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WE(n,e){return new Proxy(n,{get:(t,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,s)}})}function Em(n){return JSON.parse(JSON.stringify(n))}const ei=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),VE=[502,503,504];async function Cm(n){var e;if(!NE(n))throw new wd(ei(n),0);if(VE.includes(n.status))throw new wd(ei(n),n.status);let t;try{t=await n.json()}catch(a){throw new ri(ei(a),a)}let r;const s=zE(n);if(s&&s.getTime()>=kv["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new bm(ei(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new bn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new bm(ei(t),n.status,t.weak_password.reasons);throw new _E(ei(t),n.status||500,r)}const qE=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function _e(n,e,t,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[vd]||(a[vd]=kv["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await KE(n,e,t+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function KE(n,e,t,r,s,a){const l=qE(e,r,s,a);let u;try{u=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new wd(ei(d),0)}if(u.ok||await Cm(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await Cm(d)}}function xn(n){var e;let t=null;JE(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=OE(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Tm(n){const e=xn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function jr(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function YE(n){return{data:n,error:null}}function GE(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a}=n,l=Zi(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function jm(n){return n}function JE(n){return n.access_token&&n.refresh_token&&n.expires_in}const Ku=["global","local","others"];class QE{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Tv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Ku[0]){if(Ku.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ku.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:jr})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Zi(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:GE,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ue(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jr})}catch(t){if(ue(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:jm});if(p.error)throw p.error;const m=await p.json(),w=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);f[`${S}Page`]=x}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ue(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Fi(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jr})}catch(t){if(ue(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Fi(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:jr})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Fi(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:jr})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Fi(e.userId);try{const{data:t,error:r}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Fi(e.userId),Fi(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,s,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:jm});if(p.error)throw p.error;const m=await p.json(),w=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);f[`${S}Page`]=x}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(ue(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ue(t))return{data:null,error:t};throw t}}}function Om(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const $i={debug:!!(globalThis&&Cv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class XE extends jv{}async function ZE(n,e,t){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),$i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw $i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new XE(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if($i.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function e1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ov(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function t1(n){return parseInt(n,16)}function n1(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function r1(n){var e;const{chainId:t,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:p,uri:m,version:w}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=Ov(n.address),b=p?`${p}://${r}`:r,x=n.statement?`${n.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${_}

${x}`;let T=`URI: ${m}
Version: ${w}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(s&&(T+=`
Expiration Time: ${s.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),d&&(T+=`
Request ID: ${d}`),f){let R=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);R+=`
- ${C}`}T+=R}return`${S}
${T}`}class nt extends Error{constructor({message:e,code:t,cause:r,name:s}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class jl extends nt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function i1({error:n,options:e}){var t,r,s;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new nt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(Rv(l)){if(a.rp.id!==l)return new nt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function s1({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new nt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(Rv(r)){if(t.rpId!==r)return new nt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class o1{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const a1=new o1;function l1(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,s=Zi(n,["challenge","user","excludeCredentials"]),a=Ki(e).buffer,l=Object.assign(Object.assign({},t),{id:Ki(t.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ki(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function c1(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=Zi(n,["challenge","allowCredentials"]),s=Ki(e).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const u=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ki(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function u1(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:si(new Uint8Array(n.response.attestationObject)),clientDataJSON:si(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function d1(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),s=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:si(new Uint8Array(s.authenticatorData)),clientDataJSON:si(new Uint8Array(s.clientDataJSON)),signature:si(new Uint8Array(s.signature)),userHandle:s.userHandle?si(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Rv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Rm(){var n,e;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function h1(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new jl("Browser returned unexpected credential type",e)}:{data:null,error:new jl("Empty credential response",e)}}catch(e){return{data:null,error:i1({error:e,options:n})}}}async function f1(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new jl("Browser returned unexpected credential type",e)}:{data:null,error:new jl("Empty credential response",e)}}catch(e){return{data:null,error:s1({error:e,options:n})}}}const p1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},g1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ol(...n){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),t=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of n)if(s)for(const a in s){const l=s[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(t(l))r[a]=l;else if(e(l)){const u=r[a];e(u)?r[a]=Ol(u,l):r[a]=Ol(l)}else r[a]=l}return r}function m1(n,e){return Ol(p1,n,e||{})}function y1(n,e){return Ol(g1,n,e||{})}class v1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:s},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:u};const d=s??a1.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=m1(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:m}=await h1({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=y1(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:m}=await f1(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(l){return ue(l)?{data:null,error:l}:{data:null,error:new ri("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!t)return{data:null,error:new vo("rpId is required for WebAuthn authentication")};try{if(!Rm())return{data:null,error:new ri("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:s},{request:a});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ue(l)?{data:null,error:l}:{data:null,error:new ri("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!t)return{data:null,error:new vo("rpId is required for WebAuthn registration")};try{if(!Rm())return{data:null,error:new ri("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:s},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ue(l)?{data:null,error:l}:{data:null,error:new ri("Unexpected error in register",l)}}}}e1();const w1={url:gE,storageKey:mE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Pm(n,e,t){return await t()}const zi={};class wo{get jwks(){var e,t;return(t=(e=zi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=zi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},w1),e);if(this.storageKey=a.storageKey,this.instanceID=(t=wo.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,wo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ft()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new QE({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Tv(a.fetch),this.lock=a.lock||Pm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ZE:this.lock=Pm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new v1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Cv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Om(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Om(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(ft()&&(t=PE(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),SE(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ue(t)?this._returnResult({error:t}):this._returnResult({error:new ri("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:xn}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,s;try{let a;if("email"in e){const{email:p,password:m,options:w}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await Li(this.storage,this.storageKey)),a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:p,password:m,data:(t=w==null?void 0:w.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:_,code_challenge_method:b},xform:xn})}else if("phone"in e){const{phone:p,password:m,options:w}=e;a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(s=w==null?void 0:w.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:xn})}else throw new al("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:u}=e;t=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Tm})}else if("phone"in e){const{phone:a,password:l,options:u}=e;t=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Tm})}else throw new al("You must provide either an email or phone number and a password");const{data:r,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const a=new Ii;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,s,a,l,u,d,f,p,m,w;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:x,wallet:S,statement:T,options:R}=e;let C;if(ft())if(typeof S=="object")C=S;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")C=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const A=new URL((t=R==null?void 0:R.url)!==null&&t!==void 0?t:window.location.href),M=await C.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=Ov(M[0]);let O=(r=R==null?void 0:R.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!O){const L=await C.request({method:"eth_chainId"});O=t1(L)}const $={domain:A.host,address:I,statement:T,uri:A.href,version:"1",chainId:O,nonce:(s=R==null?void 0:R.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(a=R==null?void 0:R.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=R==null?void 0:R.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=R==null?void 0:R.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=R==null?void 0:R.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=R==null?void 0:R.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=r1($),b=await C.request({method:"personal_sign",params:[n1(_),I]})}try{const{data:x,error:S}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:b},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:xn});if(S)throw S;if(!x||!x.session||!x.user){const T=new Ii;return this._returnResult({data:{user:null,session:null},error:T})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:S})}catch(x){if(ue(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var t,r,s,a,l,u,d,f,p,m,w,_;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:S,wallet:T,statement:R,options:C}=e;let A;if(ft())if(typeof T=="object")A=T;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))A=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=T}const M=new URL((t=C==null?void 0:C.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in A&&A.signIn){const I=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),R?{statement:R}:null));let O;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")O=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)O=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)b=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),x=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${M.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(s=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C==null?void 0:C.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(p=C==null?void 0:C.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const I=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=I}}try{const{data:S,error:T}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:si(x)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:xn});if(T)throw T;if(!S||!S.session||!S.user){const R=new Ii;return this._returnResult({data:{user:null,session:null},error:R})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(ue(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const t=await Xr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/");try{const{data:a,error:l}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xn});if(await Er(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new Ii;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:a,nonce:l}=e,u=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:xn}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new Ii;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,s,a,l;try{if("email"in e){const{email:u,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Li(this.storage,this.storageKey));const{error:m}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:p}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new al("You must provide either an email or phone number.")}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var t,r;try{let s,a;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:xn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,r,s,a,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Li(this.storage,this.storageKey));const f=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:YE});return!((a=f.data)===null||a===void 0)&&a.url&&ft()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(ue(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new bn;const{error:s}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:l}=await _e(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:l,error:u}=await _e(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new al("You must provide either an email or phone number and a type")}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Hu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Xr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=qu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=WE(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jr}):await this._useSession(async t=>{var r,s,a;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:jr})})}catch(t){if(ue(t))return xE(t)&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new bn;const l=s.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Li(this.storage,this.storageKey));const{data:f,error:p}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:jr});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(ue(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bn;const t=Date.now()/1e3;let r=t,s=!0,a=null;const{payload:l}=Vu(e.access_token);if(l.exp&&(r=l.exp,s=r<=t),s){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(ue(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new bn;const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!ft())throw new ll("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ll(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new _m("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ll("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _m("No code detected.");const{data:R,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=e;if(!a||!u||!l||!f)throw new ll("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let w=p+m;d&&(w=parseInt(d));const _=w-p;_*1e3<=Bi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const b=w-m;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,w,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,w,p);const{data:x,error:S}=await this._getUser(a);if(S)throw S;const T={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:m,expires_at:w,refresh_token:l,token_type:f,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Xr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return this._returnResult({error:a});const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(bE(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=RE(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Li(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:s}=await this._useSession(async a=>{var l,u,d,f,p;const{data:m,error:w}=a;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return ft()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ue(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:s,data:{session:a}}=t;if(s)throw s;const{options:l,provider:u,token:d,access_token:f,nonce:p}=e,m=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xn}),{data:w,error:_}=m;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ii}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:a,error:l}=t;if(l)throw l;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await DE(async s=>(s>0&&await AE(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xn})),(s,a)=>{const l=200*Math.pow(2,s);return a&&Wu(a)&&Date.now()+l-r<Bi})}catch(r){if(this._debug(t,"error",r),ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ft()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Xr(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Ui(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:qu()}else if(s&&!s.user&&!s.user){const l=await Xr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Er(this.storage,this.storageKey+"-user"),await Ui(this.storage,this.storageKey,s)):s.user=qu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Hu;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Hu}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Wu(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(s.access_token);!u&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bl;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new bn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(s,"error",a),ue(a)){const l={data:null,error:a};return Wu(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Ui(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const a=Em(s);await Ui(this.storage,this.storageKey,a)}else{const s=Em(t);await Ui(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Er(this.storage,this.storageKey),await Er(this.storage,this.storageKey+"-code-verifier"),await Er(this.storage,this.storageKey+"-user"),this.userStorage&&await Er(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Bi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bi}ms, refresh threshold is ${yd} ticks`),s<=yd&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Li(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;return a?this._returnResult({data:null,error:a}):await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?u1(e.webauthn.credential_response):d1(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:l1(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:c1(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Vu(r.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new bn})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new bn});const l=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&ft()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new bn});const l=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&ft()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(u=>u.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+wE>s)return r;const{data:a,error:l}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:_,error:b}=await this.getSession();if(b||!_.session)return this._returnResult({data:null,error:b});r=_.session.access_token}const{header:s,payload:a,signature:l,raw:{header:u,payload:d}}=Vu(r);t!=null&&t.allowExpired||BE(a.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}const p=UE(s.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,jE(`${u}.${d}`)))throw new _d("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}}wo.nextInstanceID={};const _1=wo;class b1 extends _1{constructor(e){super(e)}}class x1{constructor(e,t,r){var s,a,l;this.supabaseUrl=e,this.supabaseKey=t;const u=pE(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:oE,realtime:lE,auth:Object.assign(Object.assign({},aE),{storageKey:d}),global:sE},p=fE(r??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=dE(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new gk(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new nE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new dk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:l,flowType:u,lock:d,debug:f,throwOnError:p},m,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b1({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,flowType:u,lock:d,debug:f,throwOnError:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Nk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S1=(n,e,t)=>new x1(n,e,t);function k1(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}k1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const E1="https://nylvcqjzczvfkjjbeoef.supabase.co",C1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55bHZjcWp6Y3p2ZmtqamJlb2VmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODI0NzgsImV4cCI6MjA3ODQ1ODQ3OH0.1UAbbef2icdl8SNsvDNdQUV_49J_BQLB0vfpOcK6r-8",kn=S1(E1,C1);class T1{async getCurrentUser(){try{const{data:{user:e}}=await kn.auth.getUser();return e}catch(e){return console.error("Error getting current user:",e),null}}async signOut(){try{const{error:e}=await kn.auth.signOut();if(e)throw e;return!0}catch(e){throw console.error("Error signing out:",e),e}}getAuthStateChangeListener(e){return kn.auth.onAuthStateChange((t,r)=>{e(t,r)})}async fetchTasks(e){if(!e)return[];try{const{data:t,error:r}=await kn.from("tasks").select("*").eq("user_email",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){return console.error("Error fetching tasks:",t),[]}}async createTask(e,t){if(!t)throw new Error("User email required");try{const{data:r,error:s}=await kn.from("tasks").insert([{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate||null,due_time:e.dueTime||null,category:e.category||null,reminder_minutes:e.reminderMinutes||null,recurrence:e.recurrence||null,calendar_event_id:e.calendarEventId||null,time_spent:e.timeSpent||0,is_tracking:e.isTracking||!1,tracking_start_time:e.trackingStartTime||null,pomodoro_time:e.pomodoroTime||null,pomodoro_mode:e.pomodoroMode||null,pomodoro_active:e.pomodoroActive||!1,scheduled_start:e.scheduledStart||null,scheduled_duration:e.scheduledDuration||null}]).select().single();if(s)throw s;return r}catch(r){throw console.error("Error creating task:",r),r}}async updateTask(e,t,r){if(!r)throw new Error("User email required");try{const{data:s,error:a}=await kn.from("tasks").update({text:t.text,completed:t.completed,priority:t.priority,due_date:t.dueDate,due_time:t.dueTime,category:t.category,reminder_minutes:t.reminderMinutes,recurrence:t.recurrence,calendar_event_id:t.calendarEventId,time_spent:t.timeSpent,is_tracking:t.isTracking,tracking_start_time:t.trackingStartTime,pomodoro_time:t.pomodoroTime,pomodoro_mode:t.pomodoroMode,pomodoro_active:t.pomodoroActive,scheduled_start:t.scheduledStart,scheduled_duration:t.scheduledDuration}).eq("id",e).eq("user_email",r).select().single();if(a)throw a;return s}catch(s){throw console.error("Error updating task:",s),s}}async deleteTask(e,t){if(!t)throw new Error("User email required");try{const{error:r}=await kn.from("tasks").delete().eq("id",e).eq("user_email",t);if(r)throw r;return!0}catch(r){throw console.error("Error deleting task:",r),r}}async deleteCompletedTasks(e){if(!e)throw new Error("User email required");try{const{error:t}=await kn.from("tasks").delete().eq("user_email",e).eq("completed",!0);if(t)throw t;return!0}catch(t){throw console.error("Error deleting completed tasks:",t),t}}convertToAppFormat(e){return{id:e.id,text:e.text,completed:e.completed,priority:e.priority,dueDate:e.due_date||void 0,dueTime:e.due_time||void 0,category:e.category||void 0,reminderMinutes:e.reminder_minutes||void 0,recurrence:e.recurrence||void 0,calendarEventId:e.calendar_event_id||void 0,timeSpent:e.time_spent||0,isTracking:e.is_tracking||!1,trackingStartTime:e.tracking_start_time||void 0,pomodoroTime:e.pomodoro_time||void 0,pomodoroMode:e.pomodoro_mode||void 0,pomodoroActive:e.pomodoro_active||!1,scheduledStart:e.scheduled_start||void 0,scheduledDuration:e.scheduled_duration||void 0}}convertToDbFormat(e,t){return{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate||null,due_time:e.dueTime||null,category:e.category||null,reminder_minutes:e.reminderMinutes||null,recurrence:e.recurrence||null,calendar_event_id:e.calendarEventId||null,time_spent:e.timeSpent||0,is_tracking:e.isTracking||!1,tracking_start_time:e.trackingStartTime||null,pomodoro_time:e.pomodoroTime||null,pomodoro_mode:e.pomodoroMode||null,pomodoro_active:e.pomodoroActive||!1,scheduled_start:e.scheduledStart||null,scheduled_duration:e.scheduledDuration||null}}}const Bt=new T1;function j1({onSignInSuccess:n,onSwitchToSignUp:e,onSwitchToReset:t,onGuestMode:r}){const[s,a]=j.useState({email:"",password:""}),[l,u]=j.useState(""),[d,f]=j.useState(!1),p=()=>s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?s.password?!0:(u("Please enter your password"),!1):(u("Please enter a valid email address"),!1):(u("Please enter your email"),!1),m=async _=>{if(_.preventDefault(),u(""),!!p()){f(!0);try{const{data:b,error:x}=await kn.auth.signInWithPassword({email:s.email,password:s.password});if(x)throw x;a({email:"",password:""}),n&&b.user&&n(b.user)}catch(b){console.error("Error signing in:",b),b.message.includes("Email not confirmed")?u("Please verify your email before signing in. Check your inbox for the verification link."):b.message.includes("Invalid login credentials")?u("Invalid email or password. Please try again."):u(b.message||"Failed to sign in. Please try again.")}finally{f(!1)}}},w=_=>{a({...s,[_.target.name]:_.target.value}),u("")};return y.jsx("div",{className:"auth-overlay",children:y.jsx("div",{className:"auth-container",children:y.jsxs("div",{className:"auth-content",children:[y.jsx("h1",{className:"auth-title",children:"Welcome Back"}),y.jsx("p",{className:"auth-subtitle",children:"Sign in to access your tasks from anywhere"}),y.jsxs("form",{onSubmit:m,className:"auth-form",children:[y.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:s.email,onChange:w,disabled:d,autoFocus:!0}),y.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password",value:s.password,onChange:w,disabled:d}),l&&y.jsx("p",{className:"auth-error",children:l}),y.jsx("button",{type:"button",className:"forgot-password-link",onClick:t,disabled:d,children:"Forgot password?"}),y.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:d,children:d?"Signing In...":"Sign In"}),y.jsx("button",{type:"button",className:"auth-button guest-button",onClick:r,disabled:d,children:"Continue as Guest"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{className:"auth-switch",children:["Don't have an account?"," ",y.jsx("button",{className:"auth-link",onClick:e,disabled:d,children:"Sign Up"})]})})]})})})}function O1({onSignUpSuccess:n,onSwitchToSignIn:e}){const[t,r]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[s,a]=j.useState(""),[l,u]=j.useState(!1),[d,f]=j.useState(!1),p=()=>t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?t.password?t.password.length<6?(a("Password must be at least 6 characters"),!1):t.password!==t.confirmPassword?(a("Passwords do not match"),!1):!0:(a("Please enter a password"),!1):(a("Please enter a valid email address"),!1):(a("Please enter your email"),!1),m=async _=>{if(_.preventDefault(),a(""),!!p()){u(!0);try{const{error:b}=await kn.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name||t.email.split("@")[0]},emailRedirectTo:`${window.location.origin}/react-todo-app`}});if(b)throw b;f(!0),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{n&&n()},3e3)}catch(b){console.error("Error signing up:",b),a(b.message||"Failed to sign up. Please try again.")}finally{u(!1)}}},w=_=>{r({...t,[_.target.name]:_.target.value}),a("")};return d?y.jsx("div",{className:"auth-overlay",children:y.jsx("div",{className:"auth-container",children:y.jsx("div",{className:"auth-content",children:y.jsxs("div",{className:"verification-success",children:[y.jsx("div",{className:"success-icon",children:""}),y.jsx("h2",{className:"auth-title",children:"Check Your Email"}),y.jsxs("p",{className:"verification-message",children:["We've sent a verification link to ",y.jsx("strong",{children:t.email})]}),y.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to verify your account and start using the app."}),y.jsx("button",{className:"auth-button secondary-button",onClick:e,children:"Back to Sign In"})]})})})}):y.jsx("div",{className:"auth-overlay",children:y.jsx("div",{className:"auth-container",children:y.jsxs("div",{className:"auth-content",children:[y.jsx("h1",{className:"auth-title",children:"Create Account"}),y.jsx("p",{className:"auth-subtitle",children:"Sign up to sync your tasks across all devices"}),y.jsxs("form",{onSubmit:m,className:"auth-form",children:[y.jsx("input",{type:"text",name:"name",className:"auth-input",placeholder:"Your name (optional)",value:t.name,onChange:w,disabled:l}),y.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:t.email,onChange:w,disabled:l,autoFocus:!0}),y.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password (min 6 characters)",value:t.password,onChange:w,disabled:l}),y.jsx("input",{type:"password",name:"confirmPassword",className:"auth-input",placeholder:"Confirm password",value:t.confirmPassword,onChange:w,disabled:l}),s&&y.jsx("p",{className:"auth-error",children:s}),y.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:l,children:l?"Creating Account...":"Sign Up"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{className:"auth-switch",children:["Already have an account?"," ",y.jsx("button",{className:"auth-link",onClick:e,disabled:l,children:"Sign In"})]})}),y.jsx("p",{className:"auth-privacy-note",children:"By signing up, you agree to receive verification emails. We don't send spam or share your data."})]})})})}function R1({onBackToSignIn:n}){const[e,t]=j.useState(""),[r,s]=j.useState(""),[a,l]=j.useState(!1),[u,d]=j.useState(!1),f=()=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!0:(s("Please enter a valid email address"),!1):(s("Please enter your email"),!1),p=async m=>{if(m.preventDefault(),s(""),!!f()){l(!0);try{const{error:w}=await kn.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/react-todo-app`});if(w)throw w;d(!0),t("")}catch(w){console.error("Error sending reset email:",w),s(w.message||"Failed to send reset email. Please try again.")}finally{l(!1)}}};return u?y.jsx("div",{className:"auth-overlay",children:y.jsx("div",{className:"auth-container",children:y.jsx("div",{className:"auth-content",children:y.jsxs("div",{className:"verification-success",children:[y.jsx("div",{className:"success-icon",children:""}),y.jsx("h2",{className:"auth-title",children:"Check Your Email"}),y.jsx("p",{className:"verification-message",children:"We've sent a password reset link to your email."}),y.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to reset your password."}),y.jsx("button",{className:"auth-button secondary-button",onClick:n,children:"Back to Sign In"})]})})})}):y.jsx("div",{className:"auth-overlay",children:y.jsx("div",{className:"auth-container",children:y.jsxs("div",{className:"auth-content",children:[y.jsx("h1",{className:"auth-title",children:"Reset Password"}),y.jsx("p",{className:"auth-subtitle",children:"Enter your email and we'll send you a link to reset your password"}),y.jsxs("form",{onSubmit:p,className:"auth-form",children:[y.jsx("input",{type:"email",className:"auth-input",placeholder:"your@email.com",value:e,onChange:m=>{t(m.target.value),s("")},disabled:a,autoFocus:!0}),r&&y.jsx("p",{className:"auth-error",children:r}),y.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{className:"auth-switch",children:["Remember your password?"," ",y.jsx("button",{className:"auth-link",onClick:n,disabled:a,children:"Sign In"})]})})]})})})}function Nm({addTask:n}){const[e,t]=j.useState(!0),r=[{text:"Drink water",category:"Hydration",priority:"low",icon:""},{text:"Make coffee",category:"Food",priority:"low",icon:""},{text:"Cook meal",category:"Food",priority:"medium",icon:""},{text:"Meal prep",category:"Food",priority:"medium",icon:""},{text:"Exercise",category:"Health",priority:"medium",icon:""},{text:"Meditate",category:"Health",priority:"low",icon:""},{text:"Take vitamins",category:"Health",priority:"low",icon:""},{text:"Code for 1 hour",category:"Coding",priority:"high",icon:""},{text:"Pray",category:"Personal",priority:"medium",icon:""},{text:"Read for 30 min",category:"Personal",priority:"low",icon:""},{text:"Journal",category:"Personal",priority:"low",icon:""},{text:"Clean room",category:"Home",priority:"medium",icon:""},{text:"Do laundry",category:"Home",priority:"low",icon:""},{text:"Study",category:"Education",priority:"high",icon:""}],s=()=>{const l=new Date,u=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");return`${u}-${d}-${f}`},a=l=>{n({text:`${l.icon} ${l.text}`,priority:l.priority,category:l.category,dueDate:s(),dueTime:"",reminderMinutes:null})};return y.jsxs("div",{className:"quick-add-section",children:[y.jsxs("div",{className:"quick-add-header",children:[y.jsxs("h3",{className:"quick-add-title",children:[y.jsx("span",{className:"quick-add-icon",children:""}),"Quick Add"]}),y.jsx("button",{type:"button",className:"quick-add-toggle",onClick:()=>t(!e),children:e?"":""})]}),e&&y.jsx("div",{className:"quick-add-grid",children:r.map((l,u)=>y.jsxs("button",{type:"button",className:`quick-add-task priority-${l.priority}`,onClick:()=>a(l),children:[y.jsx("span",{className:"quick-task-icon",children:l.icon}),y.jsx("span",{className:"quick-task-text",children:l.text})]},u))})]})}function P1(){const[n,e]=j.useState(1500),[t,r]=j.useState(!1),[s,a]=j.useState("work"),[l,u]=j.useState(0),[d,f]=j.useState(!1),[p,m]=j.useState(25),[w,_]=j.useState(5),[b,x]=j.useState(15),S=j.useRef(null),T=j.useRef(null);j.useEffect(()=>{T.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYGGGm98OScTQwOUKzn77RnHAU0jdXzzn0vBSh+zPLaizsIGGS57OihUBELTKXh8bllHQYuhM/z1YU2BhVns+znm08MClCq5O+zaBwGM4rT8s+AMAYnfcvx2Ik5BxdlvO7mnE4LDE6k4PG2ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6Fz/PWhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTKPg8bdlHAUuhdDz1YU2BhVos+vkl1AMCk+m4/C0ZhwGMonS89CDMAcmfMvx2Ik5BxdlvO7mnU4LDE2j4PG3ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6Fz/PWhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTKPg8bdlHAUuhdDz1YU2BhVos+vkl1AMCk+m4/C0ZhwFMonS89CDMAcmfMvx2Ik5BxdlvO7mnU4LDE2j4PG3ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6F0PPVhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTaPg8bdlHAVDV9")},[]),j.useEffect(()=>(t&&n>0?S.current=setInterval(()=>{e(H=>H-1)},1e3):n===0&&R(),()=>{S.current&&clearInterval(S.current)}),[t,n]);const R=()=>{if(r(!1),T.current&&T.current.play().catch(H=>console.log("Audio play failed:",H)),"Notification"in window&&Notification.permission==="granted"){const H=s==="work"?"Work session complete! Time for a break.":"Break time over! Ready to focus?";new Notification("Pomodoro Timer",{body:H})}if(s==="work"){u(B=>B+1);const H=(l+1)%4===0?"longBreak":"shortBreak";C(H)}else C("work")},C=H=>{switch(a(H),r(!1),H){case"work":e(p*60);break;case"shortBreak":e(w*60);break;case"longBreak":e(b*60);break}},A=()=>{r(!t)},M=()=>{switch(r(!1),s){case"work":e(p*60);break;case"shortBreak":e(w*60);break;case"longBreak":e(b*60);break}},I=H=>{const B=Math.floor(H/60),Y=H%60;return`${B.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}`},O=()=>{const H=s==="work"?p*60:s==="shortBreak"?w*60:b*60;return(H-n)/H*100},$=()=>{switch(s){case"work":return"#73ABFF";case"shortBreak":return"#34C759";case"longBreak":return"#FF9500";default:return"#73ABFF"}},L=()=>{switch(s){case"work":return"Focus Time";case"shortBreak":return"Short Break";case"longBreak":return"Long Break";default:return"Focus Time"}};return y.jsxs("div",{className:"pomodoro-timer",children:[y.jsxs("div",{className:"pomodoro-header",children:[y.jsxs("h3",{className:"pomodoro-title",children:[y.jsx("span",{className:"pomodoro-icon",children:""}),"Pomodoro"]}),y.jsx("button",{className:"pomodoro-settings-btn",onClick:()=>f(!d),title:"Settings",children:""})]}),d?y.jsxs("div",{className:"pomodoro-settings",children:[y.jsxs("div",{className:"setting-group",children:[y.jsx("label",{children:"Work Duration (min)"}),y.jsx("input",{type:"number",min:"1",max:"60",value:p,onChange:H=>m(Number(H.target.value))})]}),y.jsxs("div",{className:"setting-group",children:[y.jsx("label",{children:"Short Break (min)"}),y.jsx("input",{type:"number",min:"1",max:"30",value:w,onChange:H=>_(Number(H.target.value))})]}),y.jsxs("div",{className:"setting-group",children:[y.jsx("label",{children:"Long Break (min)"}),y.jsx("input",{type:"number",min:"1",max:"60",value:b,onChange:H=>x(Number(H.target.value))})]}),y.jsx("button",{className:"settings-close-btn",onClick:()=>f(!1),children:"Done"})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"pomodoro-mode",style:{color:$()},children:L()}),y.jsx("div",{className:"pomodoro-display",children:y.jsxs("svg",{className:"progress-ring",width:"200",height:"200",children:[y.jsx("circle",{className:"progress-ring-circle-bg",stroke:"#e0e0e0",strokeWidth:"8",fill:"transparent",r:"90",cx:"100",cy:"100"}),y.jsx("circle",{className:"progress-ring-circle",stroke:$(),strokeWidth:"8",fill:"transparent",r:"90",cx:"100",cy:"100",style:{strokeDasharray:`${2*Math.PI*90}`,strokeDashoffset:`${2*Math.PI*90*(1-O()/100)}`,transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.3s ease"}}),y.jsx("text",{x:"100",y:"100",textAnchor:"middle",dy:".3em",className:"timer-text",children:I(n)})]})}),y.jsxs("div",{className:"pomodoro-controls",children:[y.jsx("button",{className:`pomodoro-btn ${t?"pause":"start"}`,onClick:A,children:t?" Pause":" Start"}),y.jsx("button",{className:"pomodoro-btn reset",onClick:M,children:" Reset"})]}),y.jsxs("div",{className:"pomodoro-mode-selector",children:[y.jsx("button",{className:`mode-btn ${s==="work"?"active":""}`,onClick:()=>C("work"),children:"Work"}),y.jsx("button",{className:`mode-btn ${s==="shortBreak"?"active":""}`,onClick:()=>C("shortBreak"),children:"Short Break"}),y.jsx("button",{className:`mode-btn ${s==="longBreak"?"active":""}`,onClick:()=>C("longBreak"),children:"Long Break"})]}),y.jsxs("div",{className:"pomodoro-sessions",children:[y.jsx("div",{className:"sessions-label",children:"Sessions Today"}),y.jsxs("div",{className:"sessions-count",children:[Array.from({length:Math.min(l,8)},(H,B)=>y.jsx("span",{className:"session-dot",children:""},B)),l>8&&y.jsxs("span",{className:"session-more",children:["+",l-8]})]}),y.jsxs("div",{className:"sessions-total",children:[l," completed"]})]})]})]})}function N1({tasks:n,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a}){const l=_=>{if(!_.dueDate||_.completed)return!1;const b=new Date,x=new Date(b.getFullYear(),b.getMonth(),b.getDate()),[S,T,R]=_.dueDate.split("-").map(Number);return new Date(S,T-1,R)<=x},u=_=>_.priority==="high",d=n.filter(_=>!_.completed&&l(_)&&u(_)),f=n.filter(_=>!_.completed&&!l(_)&&u(_)),p=n.filter(_=>!_.completed&&l(_)&&!u(_)),m=n.filter(_=>!_.completed&&!l(_)&&!u(_)),w=(_,b,x,S,T)=>y.jsxs("div",{className:`matrix-quadrant ${T}`,children:[y.jsxs("div",{className:"quadrant-header",children:[y.jsxs("div",{className:"quadrant-title",children:[y.jsx("span",{className:"quadrant-icon",children:S}),y.jsx("h3",{children:b})]}),y.jsx("p",{className:"quadrant-subtitle",children:x}),y.jsx("span",{className:"quadrant-count",children:_.length})]}),y.jsx("div",{className:"quadrant-tasks",children:_.length===0?y.jsx("p",{className:"empty-quadrant",children:"No tasks in this quadrant"}):_.map(R=>y.jsx(no,{task:R,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:s,onFocus:a},R.id))})]});return y.jsxs("div",{className:"eisenhower-matrix",children:[y.jsxs("div",{className:"matrix-header",children:[y.jsx("h2",{className:"matrix-title",children:"Eisenhower Matrix"}),y.jsx("p",{className:"matrix-description",children:"Organize tasks by urgency and importance to focus on what truly matters"})]}),y.jsxs("div",{className:"matrix-grid",children:[w(d,"Do First","Urgent & Important","","quadrant-urgent-important"),w(f,"Schedule","Not Urgent & Important","","quadrant-not-urgent-important"),w(p,"Delegate","Urgent & Not Important","","quadrant-urgent-not-important"),w(m,"Eliminate","Not Urgent & Not Important","","quadrant-not-urgent-not-important")]}),y.jsxs("div",{className:"matrix-legend",children:[y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-dot urgent-important"}),y.jsx("span",{children:"High priority + Due today/overdue"})]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-dot not-urgent-important"}),y.jsx("span",{children:"High priority + Due later"})]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-dot urgent-not-important"}),y.jsx("span",{children:"Medium/Low priority + Due today/overdue"})]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-dot not-urgent-not-important"}),y.jsx("span",{children:"Medium/Low priority + Due later"})]})]})]})}var to=Vm();const Ul=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ts(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function Xd(n){return"nodeType"in n}function Rt(n){var e,t;return n?ts(n)?n:Xd(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Zd(n){const{Document:e}=Rt(n);return n instanceof e}function ko(n){return ts(n)?!1:n instanceof Rt(n).HTMLElement}function Pv(n){return n instanceof Rt(n).SVGElement}function ns(n){return n?ts(n)?n.document:Xd(n)?Zd(n)?n:ko(n)||Pv(n)?n.ownerDocument:document:document:document}const rr=Ul?j.useLayoutEffect:j.useEffect;function Hl(n){const e=j.useRef(n);return rr(()=>{e.current=n}),j.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function A1(){const n=j.useRef(null),e=j.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=j.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function _o(n,e){e===void 0&&(e=[n]);const t=j.useRef(n);return rr(()=>{t.current!==n&&(t.current=n)},e),t}function Eo(n,e){const t=j.useRef();return j.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Rl(n){const e=Hl(n),t=j.useRef(null),r=j.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function Pl(n){const e=j.useRef();return j.useEffect(()=>{e.current=n},[n]),e.current}let Yu={};function Wl(n,e){return j.useMemo(()=>{if(e)return e;const t=Yu[n]==null?0:Yu[n]+1;return Yu[n]=t,n+"-"+t},[n,e])}function Nv(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const u=Object.entries(l);for(const[d,f]of u){const p=a[d];p!=null&&(a[d]=p+n*f)}return a},{...e})}}const Yi=Nv(1),Nl=Nv(-1);function D1(n){return"clientX"in n&&"clientY"in n}function eh(n){if(!n)return!1;const{KeyboardEvent:e}=Rt(n.target);return e&&n instanceof e}function M1(n){if(!n)return!1;const{TouchEvent:e}=Rt(n.target);return e&&n instanceof e}function Al(n){if(M1(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return D1(n)?{x:n.clientX,y:n.clientY}:null}const ci=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[ci.Translate.toString(n),ci.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),Am="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function I1(n){return n.matches(Am)?n:n.querySelector(Am)}const L1={display:"none"};function F1(n){let{id:e,value:t}=n;return Je.createElement("div",{id:e,style:L1},t)}function $1(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Je.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function z1(){const[n,e]=j.useState("");return{announce:j.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const Av=j.createContext(null);function B1(n){const e=j.useContext(Av);j.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function U1(){const[n]=j.useState(()=>new Set),e=j.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[j.useCallback(r=>{let{type:s,event:a}=r;n.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,a)})},[n]),e]}const H1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},W1={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function V1(n){let{announcements:e=W1,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=H1}=n;const{announce:a,announcement:l}=z1(),u=Wl("DndLiveRegion"),[d,f]=j.useState(!1);if(j.useEffect(()=>{f(!0)},[]),B1(j.useMemo(()=>({onDragStart(m){let{active:w}=m;a(e.onDragStart({active:w}))},onDragMove(m){let{active:w,over:_}=m;e.onDragMove&&a(e.onDragMove({active:w,over:_}))},onDragOver(m){let{active:w,over:_}=m;a(e.onDragOver({active:w,over:_}))},onDragEnd(m){let{active:w,over:_}=m;a(e.onDragEnd({active:w,over:_}))},onDragCancel(m){let{active:w,over:_}=m;a(e.onDragCancel({active:w,over:_}))}}),[a,e])),!d)return null;const p=Je.createElement(Je.Fragment,null,Je.createElement(F1,{id:r,value:s.draggable}),Je.createElement($1,{id:u,announcement:l}));return t?to.createPortal(p,t):p}var ot;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(ot||(ot={}));function Dl(){}function q1(n,e){return j.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function K1(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return j.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const En=Object.freeze({x:0,y:0});function Y1(n,e){const t=Al(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function G1(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function J1(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Q1(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),a=Math.min(e.top+e.height,n.top+n.height),l=s-r,u=a-t;if(r<s&&t<a){const d=e.width*e.height,f=n.width*n.height,p=l*u,m=p/(d+f-p);return Number(m.toFixed(4))}return 0}const X1=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const a of r){const{id:l}=a,u=t.get(l);if(u){const d=Q1(u,e);d>0&&s.push({id:l,data:{droppableContainer:a,value:d}})}}return s.sort(G1)};function Z1(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Dv(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:En}function eC(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,u)=>({...l,top:l.top+n*u.y,bottom:l.bottom+n*u.y,left:l.left+n*u.x,right:l.right+n*u.x}),{...t})}}const tC=eC(1);function Mv(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function nC(n,e,t){const r=Mv(e);if(!r)return n;const{scaleX:s,scaleY:a,x:l,y:u}=r,d=n.left-l-(1-s)*parseFloat(t),f=n.top-u-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),p=s?n.width/s:n.width,m=a?n.height/a:n.height;return{width:p,height:m,top:f,right:d+p,bottom:f+m,left:d}}const rC={ignoreTransform:!1};function Co(n,e){e===void 0&&(e=rC);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:p}=Rt(n).getComputedStyle(n);f&&(t=nC(t,f,p))}const{top:r,left:s,width:a,height:l,bottom:u,right:d}=t;return{top:r,left:s,width:a,height:l,bottom:u,right:d}}function Dm(n){return Co(n,{ignoreTransform:!0})}function iC(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function sC(n,e){return e===void 0&&(e=Rt(n).getComputedStyle(n)),e.position==="fixed"}function oC(n,e){e===void 0&&(e=Rt(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=e[s];return typeof a=="string"?t.test(a):!1})}function th(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(Zd(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!ko(s)||Pv(s)||t.includes(s))return t;const a=Rt(n).getComputedStyle(s);return s!==n&&oC(s,a)&&t.push(s),sC(s,a)?t:r(s.parentNode)}return n?r(n):t}function Iv(n){const[e]=th(n,1);return e??null}function Gu(n){return!Ul||!n?null:ts(n)?n:Xd(n)?Zd(n)||n===ns(n).scrollingElement?window:ko(n)?n:null:null}function Lv(n){return ts(n)?n.scrollX:n.scrollLeft}function Fv(n){return ts(n)?n.scrollY:n.scrollTop}function bd(n){return{x:Lv(n),y:Fv(n)}}var dt;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(dt||(dt={}));function $v(n){return!Ul||!n?!1:n===document.scrollingElement}function zv(n){const e={x:0,y:0},t=$v(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,a=n.scrollLeft<=e.x,l=n.scrollTop>=r.y,u=n.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:u,maxScroll:r,minScroll:e}}const aC={x:.2,y:.2};function lC(n,e,t,r,s){let{top:a,left:l,right:u,bottom:d}=t;r===void 0&&(r=10),s===void 0&&(s=aC);const{isTop:f,isBottom:p,isLeft:m,isRight:w}=zv(n),_={x:0,y:0},b={x:0,y:0},x={height:e.height*s.y,width:e.width*s.x};return!f&&a<=e.top+x.height?(_.y=dt.Backward,b.y=r*Math.abs((e.top+x.height-a)/x.height)):!p&&d>=e.bottom-x.height&&(_.y=dt.Forward,b.y=r*Math.abs((e.bottom-x.height-d)/x.height)),!w&&u>=e.right-x.width?(_.x=dt.Forward,b.x=r*Math.abs((e.right-x.width-u)/x.width)):!m&&l<=e.left+x.width&&(_.x=dt.Backward,b.x=r*Math.abs((e.left+x.width-l)/x.width)),{direction:_,speed:b}}function cC(n){if(n===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function Bv(n){return n.reduce((e,t)=>Yi(e,bd(t)),En)}function uC(n){return n.reduce((e,t)=>e+Lv(t),0)}function dC(n){return n.reduce((e,t)=>e+Fv(t),0)}function Uv(n,e){if(e===void 0&&(e=Co),!n)return;const{top:t,left:r,bottom:s,right:a}=e(n);Iv(n)&&(s<=0||a<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const hC=[["x",["left","right"],uC],["y",["top","bottom"],dC]];class nh{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=th(t),s=Bv(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,l,u]of hC)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=u(r),p=s[a]-f;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class lo{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function fC(n){const{EventTarget:e}=Rt(n);return n instanceof e?n:ns(n)}function Ju(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var cn;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(cn||(cn={}));function Mm(n){n.preventDefault()}function pC(n){n.stopPropagation()}var Me;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Me||(Me={}));const Hv={start:[Me.Space,Me.Enter],cancel:[Me.Esc],end:[Me.Space,Me.Enter,Me.Tab]},gC=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Me.Right:return{...t,x:t.x+25};case Me.Left:return{...t,x:t.x-25};case Me.Down:return{...t,y:t.y+25};case Me.Up:return{...t,y:t.y-25}}};class Wv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new lo(ns(t)),this.windowListeners=new lo(Rt(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(cn.Resize,this.handleCancel),this.windowListeners.add(cn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(cn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&Uv(r),t(En)}handleKeyDown(e){if(eh(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:a=Hv,coordinateGetter:l=gC,scrollBehavior:u="smooth"}=s,{code:d}=e;if(a.end.includes(d)){this.handleEnd(e);return}if(a.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:En;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(e,{active:t,context:r.current,currentCoordinates:p});if(m){const w=Nl(m,p),_={x:0,y:0},{scrollableAncestors:b}=r.current;for(const x of b){const S=e.code,{isTop:T,isRight:R,isLeft:C,isBottom:A,maxScroll:M,minScroll:I}=zv(x),O=cC(x),$={x:Math.min(S===Me.Right?O.right-O.width/2:O.right,Math.max(S===Me.Right?O.left:O.left+O.width/2,m.x)),y:Math.min(S===Me.Down?O.bottom-O.height/2:O.bottom,Math.max(S===Me.Down?O.top:O.top+O.height/2,m.y))},L=S===Me.Right&&!R||S===Me.Left&&!C,H=S===Me.Down&&!A||S===Me.Up&&!T;if(L&&$.x!==m.x){const B=x.scrollLeft+w.x,Y=S===Me.Right&&B<=M.x||S===Me.Left&&B>=I.x;if(Y&&!w.y){x.scrollTo({left:B,behavior:u});return}Y?_.x=x.scrollLeft-B:_.x=S===Me.Right?x.scrollLeft-M.x:x.scrollLeft-I.x,_.x&&x.scrollBy({left:-_.x,behavior:u});break}else if(H&&$.y!==m.y){const B=x.scrollTop+w.y,Y=S===Me.Down&&B<=M.y||S===Me.Up&&B>=I.y;if(Y&&!w.x){x.scrollTo({top:B,behavior:u});return}Y?_.y=x.scrollTop-B:_.y=S===Me.Down?x.scrollTop-M.y:x.scrollTop-I.y,_.y&&x.scrollBy({top:-_.y,behavior:u});break}}this.handleMove(e,Yi(Nl(m,this.referenceCoordinates),_))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wv.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=Hv,onActivation:s}=e,{active:a}=t;const{code:l}=n.nativeEvent;if(r.start.includes(l)){const u=a.activatorNode.current;return u&&n.target!==u?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function Im(n){return!!(n&&"distance"in n)}function Lm(n){return!!(n&&"delay"in n)}class rh{constructor(e,t,r){var s;r===void 0&&(r=fC(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:l}=a;this.props=e,this.events=t,this.document=ns(l),this.documentListeners=new lo(this.document),this.listeners=new lo(r),this.windowListeners=new lo(Rt(l)),this.initialCoordinates=(s=Al(a))!=null?s:En,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(cn.Resize,this.handleCancel),this.windowListeners.add(cn.DragStart,Mm),this.windowListeners.add(cn.VisibilityChange,this.handleCancel),this.windowListeners.add(cn.ContextMenu,Mm),this.documentListeners.add(cn.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Lm(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Im(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(cn.Click,pC,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(cn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:u}}=a;if(!s)return;const d=(t=Al(e))!=null?t:En,f=Nl(s,d);if(!r&&u){if(Im(u)){if(u.tolerance!=null&&Ju(f,u.tolerance))return this.handleCancel();if(Ju(f,u.distance))return this.handleStart()}if(Lm(u)&&Ju(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Me.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const mC={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ih extends rh{constructor(e){const{event:t}=e,r=ns(t.target);super(e,mC,r)}}ih.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const yC={move:{name:"mousemove"},end:{name:"mouseup"}};var xd;(function(n){n[n.RightClick=2]="RightClick"})(xd||(xd={}));class vC extends rh{constructor(e){super(e,yC,ns(e.event.target))}}vC.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===xd.RightClick?!1:(r==null||r({event:t}),!0)}}];const Qu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class wC extends rh{constructor(e){super(e,Qu)}static setup(){return window.addEventListener(Qu.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Qu.move.name,e)};function e(){}}}wC.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var co;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(co||(co={}));var Ml;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ml||(Ml={}));function _C(n){let{acceleration:e,activator:t=co.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:u=Ml.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:w}=n;const _=xC({delta:m,disabled:!a}),[b,x]=A1(),S=j.useRef({x:0,y:0}),T=j.useRef({x:0,y:0}),R=j.useMemo(()=>{switch(t){case co.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case co.DraggableRect:return s}},[t,s,d]),C=j.useRef(null),A=j.useCallback(()=>{const I=C.current;if(!I)return;const O=S.current.x*T.current.x,$=S.current.y*T.current.y;I.scrollBy(O,$)},[]),M=j.useMemo(()=>u===Ml.TreeOrder?[...f].reverse():f,[u,f]);j.useEffect(()=>{if(!a||!f.length||!R){x();return}for(const I of M){if((r==null?void 0:r(I))===!1)continue;const O=f.indexOf(I),$=p[O];if(!$)continue;const{direction:L,speed:H}=lC(I,$,R,e,w);for(const B of["x","y"])_[B][L[B]]||(H[B]=0,L[B]=0);if(H.x>0||H.y>0){x(),C.current=I,b(A,l),S.current=H,T.current=L;return}}S.current={x:0,y:0},T.current={x:0,y:0},x()},[e,A,r,x,a,l,JSON.stringify(R),JSON.stringify(_),b,f,M,p,JSON.stringify(w)])}const bC={x:{[dt.Backward]:!1,[dt.Forward]:!1},y:{[dt.Backward]:!1,[dt.Forward]:!1}};function xC(n){let{delta:e,disabled:t}=n;const r=Pl(e);return Eo(s=>{if(t||!r||!s)return bC;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[dt.Backward]:s.x[dt.Backward]||a.x===-1,[dt.Forward]:s.x[dt.Forward]||a.x===1},y:{[dt.Backward]:s.y[dt.Backward]||a.y===-1,[dt.Forward]:s.y[dt.Forward]||a.y===1}}},[t,e,r])}function SC(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Eo(s=>{var a;return e==null?null:(a=r??s)!=null?a:null},[r,e])}function kC(n,e){return j.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...t,...a]},[]),[n,e])}var bo;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(bo||(bo={}));var Sd;(function(n){n.Optimized="optimized"})(Sd||(Sd={}));const Fm=new Map;function EC(n,e){let{dragging:t,dependencies:r,config:s}=e;const[a,l]=j.useState(null),{frequency:u,measure:d,strategy:f}=s,p=j.useRef(n),m=S(),w=_o(m),_=j.useCallback(function(T){T===void 0&&(T=[]),!w.current&&l(R=>R===null?T:R.concat(T.filter(C=>!R.includes(C))))},[w]),b=j.useRef(null),x=Eo(T=>{if(m&&!t)return Fm;if(!T||T===Fm||p.current!==n||a!=null){const R=new Map;for(let C of n){if(!C)continue;if(a&&a.length>0&&!a.includes(C.id)&&C.rect.current){R.set(C.id,C.rect.current);continue}const A=C.node.current,M=A?new nh(d(A),A):null;C.rect.current=M,M&&R.set(C.id,M)}return R}return T},[n,a,t,m,d]);return j.useEffect(()=>{p.current=n},[n]),j.useEffect(()=>{m||_()},[t,m]),j.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),j.useEffect(()=>{m||typeof u!="number"||b.current!==null||(b.current=setTimeout(()=>{_(),b.current=null},u))},[u,m,_,...r]),{droppableRects:x,measureDroppableContainers:_,measuringScheduled:a!=null};function S(){switch(f){case bo.Always:return!1;case bo.BeforeDragging:return t;default:return!t}}}function sh(n,e){return Eo(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function CC(n,e){return sh(n,e)}function TC(n){let{callback:e,disabled:t}=n;const r=Hl(e),s=j.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,t]);return j.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Vl(n){let{callback:e,disabled:t}=n;const r=Hl(e),s=j.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[t]);return j.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function jC(n){return new nh(Co(n),n)}function $m(n,e,t){e===void 0&&(e=jC);const[r,s]=j.useState(null);function a(){s(d=>{if(!n)return null;if(n.isConnected===!1){var f;return(f=d??t)!=null?f:null}const p=e(n);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const l=TC({callback(d){if(n)for(const f of d){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(n)){a();break}}}}),u=Vl({callback:a});return rr(()=>{a(),n?(u==null||u.observe(n),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[n]),r}function OC(n){const e=sh(n);return Dv(n,e)}const zm=[];function RC(n){const e=j.useRef(n),t=Eo(r=>n?r&&r!==zm&&n&&e.current&&n.parentNode===e.current.parentNode?r:th(n):zm,[n]);return j.useEffect(()=>{e.current=n},[n]),t}function PC(n){const[e,t]=j.useState(null),r=j.useRef(n),s=j.useCallback(a=>{const l=Gu(a.target);l&&t(u=>u?(u.set(l,bd(l)),new Map(u)):null)},[]);return j.useEffect(()=>{const a=r.current;if(n!==a){l(a);const u=n.map(d=>{const f=Gu(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,bd(f)]):null}).filter(d=>d!=null);t(u.length?new Map(u):null),r.current=n}return()=>{l(n),l(a)};function l(u){u.forEach(d=>{const f=Gu(d);f==null||f.removeEventListener("scroll",s)})}},[s,n]),j.useMemo(()=>n.length?e?Array.from(e.values()).reduce((a,l)=>Yi(a,l),En):Bv(n):En,[n,e])}function Bm(n,e){e===void 0&&(e=[]);const t=j.useRef(null);return j.useEffect(()=>{t.current=null},e),j.useEffect(()=>{const r=n!==En;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?Nl(n,t.current):En}function NC(n){j.useEffect(()=>{if(!Ul)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function AC(n,e){return j.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:a}=r;return t[s]=l=>{a(l,e)},t},{}),[n,e])}function Vv(n){return j.useMemo(()=>n?iC(n):null,[n])}const Um=[];function DC(n,e){e===void 0&&(e=Co);const[t]=n,r=Vv(t?Rt(t):null),[s,a]=j.useState(Um);function l(){a(()=>n.length?n.map(d=>$v(d)?r:new nh(e(d),d)):Um)}const u=Vl({callback:l});return rr(()=>{u==null||u.disconnect(),l(),n.forEach(d=>u==null?void 0:u.observe(d))},[n]),s}function qv(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return ko(e)?e:n}function MC(n){let{measure:e}=n;const[t,r]=j.useState(null),s=j.useCallback(f=>{for(const{target:p}of f)if(ko(p)){r(m=>{const w=e(p);return m?{...m,width:w.width,height:w.height}:w});break}},[e]),a=Vl({callback:s}),l=j.useCallback(f=>{const p=qv(f);a==null||a.disconnect(),p&&(a==null||a.observe(p)),r(p?e(p):null)},[e,a]),[u,d]=Rl(l);return j.useMemo(()=>({nodeRef:u,rect:t,setRef:d}),[t,u,d])}const IC=[{sensor:ih,options:{}},{sensor:Wv,options:{}}],LC={current:{}},pl={draggable:{measure:Dm},droppable:{measure:Dm,strategy:bo.WhileDragging,frequency:Sd.Optimized},dragOverlay:{measure:Co}};class uo extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const FC={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new uo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Dl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:pl,measureDroppableContainers:Dl,windowRect:null,measuringScheduled:!1},Kv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Dl,draggableNodes:new Map,over:null,measureDroppableContainers:Dl},To=j.createContext(Kv),Yv=j.createContext(FC);function $C(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new uo}}}function zC(n,e){switch(e.type){case ot.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ot.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case ot.DragEnd:case ot.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ot.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new uo(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case ot.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,a=n.droppable.containers.get(t);if(!a||r!==a.key)return n;const l=new uo(n.droppable.containers);return l.set(t,{...a,disabled:s}),{...n,droppable:{...n.droppable,containers:l}}}case ot.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const a=new uo(n.droppable.containers);return a.delete(t),{...n,droppable:{...n.droppable,containers:a}}}default:return n}}function BC(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=j.useContext(To),a=Pl(r),l=Pl(t==null?void 0:t.id);return j.useEffect(()=>{if(!e&&!r&&a&&l!=null){if(!eh(a)||document.activeElement===a.target)return;const u=s.get(l);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[d.current,f.current]){if(!p)continue;const m=I1(p);if(m){m.focus();break}}})}},[r,e,s,l,a]),null}function Gv(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,a)=>a({transform:s,...r}),t):t}function UC(n){return j.useMemo(()=>({draggable:{...pl.draggable,...n==null?void 0:n.draggable},droppable:{...pl.droppable,...n==null?void 0:n.droppable},dragOverlay:{...pl.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function HC(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const a=j.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;rr(()=>{if(!l&&!u||!e){a.current=!1;return}if(a.current||!r)return;const f=e==null?void 0:e.node.current;if(!f||f.isConnected===!1)return;const p=t(f),m=Dv(p,r);if(l||(m.x=0),u||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const w=Iv(f);w&&w.scrollBy({top:m.y,left:m.x})}},[e,l,u,r,t])}const ql=j.createContext({...En,scaleX:1,scaleY:1});var Tr;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Tr||(Tr={}));const WC=j.memo(function(e){var t,r,s,a;let{id:l,accessibility:u,autoScroll:d=!0,children:f,sensors:p=IC,collisionDetection:m=X1,measuring:w,modifiers:_,...b}=e;const x=j.useReducer(zC,void 0,$C),[S,T]=x,[R,C]=U1(),[A,M]=j.useState(Tr.Uninitialized),I=A===Tr.Initialized,{draggable:{active:O,nodes:$,translate:L},droppable:{containers:H}}=S,B=O!=null?$.get(O):null,Y=j.useRef({initial:null,translated:null}),ie=j.useMemo(()=>{var Ve;return O!=null?{id:O,data:(Ve=B==null?void 0:B.data)!=null?Ve:LC,rect:Y}:null},[O,B]),de=j.useRef(null),[he,ye]=j.useState(null),[le,K]=j.useState(null),X=_o(b,Object.values(b)),P=Wl("DndDescribedBy",l),W=j.useMemo(()=>H.getEnabled(),[H]),Z=UC(w),{droppableRects:we,measureDroppableContainers:pe,measuringScheduled:ke}=EC(W,{dragging:I,dependencies:[L.x,L.y],config:Z.droppable}),ge=SC($,O),Ne=j.useMemo(()=>le?Al(le):null,[le]),Ce=ar(),Ze=CC(ge,Z.draggable.measure);HC({activeNode:O!=null?$.get(O):null,config:Ce.layoutShiftCompensation,initialRect:Ze,measure:Z.draggable.measure});const Q=$m(ge,Z.draggable.measure,Ze),re=$m(ge?ge.parentElement:null),xe=j.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:we,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:H,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),se=H.getNodeFor((t=xe.current.over)==null?void 0:t.id),Se=MC({measure:Z.dragOverlay.measure}),Te=(r=Se.nodeRef.current)!=null?r:ge,Ct=I?(s=Se.rect)!=null?s:Q:null,Cn=!!(Se.nodeRef.current&&Se.rect),fn=OC(Cn?null:Q),Tn=Vv(Te?Rt(Te):null),pt=RC(I?se??ge:null),Wt=DC(pt),ir=Gv(_,{transform:{x:L.x-fn.x,y:L.y-fn.y,scaleX:1,scaleY:1},activatorEvent:le,active:ie,activeNodeRect:Q,containerNodeRect:re,draggingNodeRect:Ct,over:xe.current.over,overlayNodeRect:Se.rect,scrollableAncestors:pt,scrollableAncestorRects:Wt,windowRect:Tn}),rs=Ne?Yi(Ne,L):null,is=PC(pt),jo=Bm(is),Oo=Bm(is,[Q]),jn=Yi(ir,jo),pn=Ct?tC(Ct,ir):null,sr=ie&&pn?m({active:ie,collisionRect:pn,droppableRects:we,droppableContainers:W,pointerCoordinates:rs}):null,or=J1(sr,"id"),[Pt,Ro]=j.useState(null),Po=Cn?ir:Yi(ir,Oo),No=Z1(Po,(a=Pt==null?void 0:Pt.rect)!=null?a:null,Q),ss=j.useRef(null),ui=j.useCallback((Ve,gt)=>{let{sensor:mt,options:gn}=gt;if(de.current==null)return;const Tt=$.get(de.current);if(!Tt)return;const yt=Ve.nativeEvent,Nt=new mt({active:de.current,activeNode:Tt,event:yt,options:gn,context:xe,onAbort(qe){if(!$.get(qe))return;const{onDragAbort:vt}=X.current,mn={id:qe};vt==null||vt(mn),R({type:"onDragAbort",event:mn})},onPending(qe,Xt,vt,mn){if(!$.get(qe))return;const{onDragPending:On}=X.current,Vt={id:qe,constraint:Xt,initialCoordinates:vt,offset:mn};On==null||On(Vt),R({type:"onDragPending",event:Vt})},onStart(qe){const Xt=de.current;if(Xt==null)return;const vt=$.get(Xt);if(!vt)return;const{onDragStart:mn}=X.current,yn={activatorEvent:yt,active:{id:Xt,data:vt.data,rect:Y}};to.unstable_batchedUpdates(()=>{mn==null||mn(yn),M(Tr.Initializing),T({type:ot.DragStart,initialCoordinates:qe,active:Xt}),R({type:"onDragStart",event:yn}),ye(ss.current),K(yt)})},onMove(qe){T({type:ot.DragMove,coordinates:qe})},onEnd:zn(ot.DragEnd),onCancel:zn(ot.DragCancel)});ss.current=Nt;function zn(qe){return async function(){const{active:vt,collisions:mn,over:yn,scrollAdjustedTranslate:On}=xe.current;let Vt=null;if(vt&&On){const{cancelDrop:Bn}=X.current;Vt={activatorEvent:yt,active:vt,collisions:mn,delta:On,over:yn},qe===ot.DragEnd&&typeof Bn=="function"&&await Promise.resolve(Bn(Vt))&&(qe=ot.DragCancel)}de.current=null,to.unstable_batchedUpdates(()=>{T({type:qe}),M(Tr.Uninitialized),Ro(null),ye(null),K(null),ss.current=null;const Bn=qe===ot.DragEnd?"onDragEnd":"onDragCancel";if(Vt){const cs=X.current[Bn];cs==null||cs(Vt),R({type:Bn,event:Vt})}})}}},[$]),os=j.useCallback((Ve,gt)=>(mt,gn)=>{const Tt=mt.nativeEvent,yt=$.get(gn);if(de.current!==null||!yt||Tt.dndKit||Tt.defaultPrevented)return;const Nt={active:yt};Ve(mt,gt.options,Nt)===!0&&(Tt.dndKit={capturedBy:gt.sensor},de.current=gn,ui(mt,gt))},[$,ui]),di=kC(p,os);NC(p),rr(()=>{Q&&A===Tr.Initializing&&M(Tr.Initialized)},[Q,A]),j.useEffect(()=>{const{onDragMove:Ve}=X.current,{active:gt,activatorEvent:mt,collisions:gn,over:Tt}=xe.current;if(!gt||!mt)return;const yt={active:gt,activatorEvent:mt,collisions:gn,delta:{x:jn.x,y:jn.y},over:Tt};to.unstable_batchedUpdates(()=>{Ve==null||Ve(yt),R({type:"onDragMove",event:yt})})},[jn.x,jn.y]),j.useEffect(()=>{const{active:Ve,activatorEvent:gt,collisions:mt,droppableContainers:gn,scrollAdjustedTranslate:Tt}=xe.current;if(!Ve||de.current==null||!gt||!Tt)return;const{onDragOver:yt}=X.current,Nt=gn.get(or),zn=Nt&&Nt.rect.current?{id:Nt.id,rect:Nt.rect.current,data:Nt.data,disabled:Nt.disabled}:null,qe={active:Ve,activatorEvent:gt,collisions:mt,delta:{x:Tt.x,y:Tt.y},over:zn};to.unstable_batchedUpdates(()=>{Ro(zn),yt==null||yt(qe),R({type:"onDragOver",event:qe})})},[or]),rr(()=>{xe.current={activatorEvent:le,active:ie,activeNode:ge,collisionRect:pn,collisions:sr,droppableRects:we,draggableNodes:$,draggingNode:Te,draggingNodeRect:Ct,droppableContainers:H,over:Pt,scrollableAncestors:pt,scrollAdjustedTranslate:jn},Y.current={initial:Ct,translated:pn}},[ie,ge,sr,pn,$,Te,Ct,we,H,Pt,pt,jn]),_C({...Ce,delta:L,draggingRect:pn,pointerCoordinates:rs,scrollableAncestors:pt,scrollableAncestorRects:Wt});const as=j.useMemo(()=>({active:ie,activeNode:ge,activeNodeRect:Q,activatorEvent:le,collisions:sr,containerNodeRect:re,dragOverlay:Se,draggableNodes:$,droppableContainers:H,droppableRects:we,over:Pt,measureDroppableContainers:pe,scrollableAncestors:pt,scrollableAncestorRects:Wt,measuringConfiguration:Z,measuringScheduled:ke,windowRect:Tn}),[ie,ge,Q,le,sr,re,Se,$,H,we,Pt,pe,pt,Wt,Z,ke,Tn]),ls=j.useMemo(()=>({activatorEvent:le,activators:di,active:ie,activeNodeRect:Q,ariaDescribedById:{draggable:P},dispatch:T,draggableNodes:$,over:Pt,measureDroppableContainers:pe}),[le,di,ie,Q,T,P,$,Pt,pe]);return Je.createElement(Av.Provider,{value:C},Je.createElement(To.Provider,{value:ls},Je.createElement(Yv.Provider,{value:as},Je.createElement(ql.Provider,{value:No},f)),Je.createElement(BC,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Je.createElement(V1,{...u,hiddenTextDescribedById:P}));function ar(){const Ve=(he==null?void 0:he.autoScrollEnabled)===!1,gt=typeof d=="object"?d.enabled===!1:d===!1,mt=I&&!Ve&&!gt;return typeof d=="object"?{...d,enabled:mt}:{enabled:mt}}}),VC=j.createContext(null),Hm="button",qC="Draggable";function Jv(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const a=Wl(qC),{activators:l,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:w}=j.useContext(To),{role:_=Hm,roleDescription:b="draggable",tabIndex:x=0}=s??{},S=(d==null?void 0:d.id)===e,T=j.useContext(S?ql:VC),[R,C]=Rl(),[A,M]=Rl(),I=AC(l,e),O=_o(t);rr(()=>(m.set(e,{id:e,key:a,node:R,activatorNode:A,data:O}),()=>{const L=m.get(e);L&&L.key===a&&m.delete(e)}),[m,e]);const $=j.useMemo(()=>({role:_,tabIndex:x,"aria-disabled":r,"aria-pressed":S&&_===Hm?!0:void 0,"aria-roledescription":b,"aria-describedby":p.draggable}),[r,_,x,S,b,p.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:$,isDragging:S,listeners:r?void 0:I,node:R,over:w,setNodeRef:C,setActivatorNodeRef:M,transform:T}}function KC(){return j.useContext(Yv)}const YC="Droppable",GC={timeout:25};function JC(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const a=Wl(YC),{active:l,dispatch:u,over:d,measureDroppableContainers:f}=j.useContext(To),p=j.useRef({disabled:t}),m=j.useRef(!1),w=j.useRef(null),_=j.useRef(null),{disabled:b,updateMeasurementsFor:x,timeout:S}={...GC,...s},T=_o(x??r),R=j.useCallback(()=>{if(!m.current){m.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{f(Array.isArray(T.current)?T.current:[T.current]),_.current=null},S)},[S]),C=Vl({callback:R,disabled:b||!l}),A=j.useCallback(($,L)=>{C&&(L&&(C.unobserve(L),m.current=!1),$&&C.observe($))},[C]),[M,I]=Rl(A),O=_o(e);return j.useEffect(()=>{!C||!M.current||(C.disconnect(),m.current=!1,C.observe(M.current))},[M,C]),j.useEffect(()=>(u({type:ot.RegisterDroppable,element:{id:r,key:a,disabled:t,node:M,rect:w,data:O}}),()=>u({type:ot.UnregisterDroppable,key:a,id:r})),[r]),j.useEffect(()=>{t!==p.current.disabled&&(u({type:ot.SetDroppableDisabled,id:r,key:a,disabled:t}),p.current.disabled=t)},[r,a,t,u]),{active:l,rect:w,isOver:(d==null?void 0:d.id)===r,node:M,over:d,setNodeRef:I}}function QC(n){let{animation:e,children:t}=n;const[r,s]=j.useState(null),[a,l]=j.useState(null),u=Pl(t);return!t&&!r&&u&&s(u),rr(()=>{if(!a)return;const d=r==null?void 0:r.key,f=r==null?void 0:r.props.id;if(d==null||f==null){s(null);return}Promise.resolve(e(f,a)).then(()=>{s(null)})},[e,r,a]),Je.createElement(Je.Fragment,null,t,r?j.cloneElement(r,{ref:l}):null)}const XC={x:0,y:0,scaleX:1,scaleY:1};function ZC(n){let{children:e}=n;return Je.createElement(To.Provider,{value:Kv},Je.createElement(ql.Provider,{value:XC},e))}const eT={position:"fixed",touchAction:"none"},tT=n=>eh(n)?"transform 250ms ease":void 0,nT=j.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:s,children:a,className:l,rect:u,style:d,transform:f,transition:p=tT}=n;if(!u)return null;const m=s?f:{...f,scaleX:1,scaleY:1},w={...eT,width:u.width,height:u.height,top:u.top,left:u.left,transform:ci.Transform.toString(m),transformOrigin:s&&r?Y1(r,u):void 0,transition:typeof p=="function"?p(r):p,...d};return Je.createElement(t,{className:l,style:w,ref:e},a)}),rT=n=>e=>{let{active:t,dragOverlay:r}=e;const s={},{styles:a,className:l}=n;if(a!=null&&a.active)for(const[u,d]of Object.entries(a.active))d!==void 0&&(s[u]=t.node.style.getPropertyValue(u),t.node.style.setProperty(u,d));if(a!=null&&a.dragOverlay)for(const[u,d]of Object.entries(a.dragOverlay))d!==void 0&&r.node.style.setProperty(u,d);return l!=null&&l.active&&t.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[d,f]of Object.entries(s))t.node.style.setProperty(d,f);l!=null&&l.active&&t.node.classList.remove(l.active)}},iT=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:ci.Transform.toString(e)},{transform:ci.Transform.toString(t)}]},sT={duration:250,easing:"ease",keyframes:iT,sideEffects:rT({styles:{active:{opacity:"0"}}})};function oT(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:s}=n;return Hl((a,l)=>{if(e===null)return;const u=t.get(a);if(!u)return;const d=u.node.current;if(!d)return;const f=qv(l);if(!f)return;const{transform:p}=Rt(l).getComputedStyle(l),m=Mv(p);if(!m)return;const w=typeof e=="function"?e:aT(e);return Uv(d,s.draggable.measure),w({active:{id:a,data:u.data,node:d,rect:s.draggable.measure(d)},draggableNodes:t,dragOverlay:{node:l,rect:s.dragOverlay.measure(f)},droppableContainers:r,measuringConfiguration:s,transform:m})})}function aT(n){const{duration:e,easing:t,sideEffects:r,keyframes:s}={...sT,...n};return a=>{let{active:l,dragOverlay:u,transform:d,...f}=a;if(!e)return;const p={x:u.rect.left-l.rect.left,y:u.rect.top-l.rect.top},m={scaleX:d.scaleX!==1?l.rect.width*d.scaleX/u.rect.width:1,scaleY:d.scaleY!==1?l.rect.height*d.scaleY/u.rect.height:1},w={x:d.x-p.x,y:d.y-p.y,...m},_=s({...f,active:l,dragOverlay:u,transform:{initial:d,final:w}}),[b]=_,x=_[_.length-1];if(JSON.stringify(b)===JSON.stringify(x))return;const S=r==null?void 0:r({active:l,dragOverlay:u,...f}),T=u.node.animate(_,{duration:e,easing:t,fill:"forwards"});return new Promise(R=>{T.onfinish=()=>{S==null||S(),R()}})}}let Wm=0;function lT(n){return j.useMemo(()=>{if(n!=null)return Wm++,Wm},[n])}const cT=Je.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:s,transition:a,modifiers:l,wrapperElement:u="div",className:d,zIndex:f=999}=n;const{activatorEvent:p,active:m,activeNodeRect:w,containerNodeRect:_,draggableNodes:b,droppableContainers:x,dragOverlay:S,over:T,measuringConfiguration:R,scrollableAncestors:C,scrollableAncestorRects:A,windowRect:M}=KC(),I=j.useContext(ql),O=lT(m==null?void 0:m.id),$=Gv(l,{activatorEvent:p,active:m,activeNodeRect:w,containerNodeRect:_,draggingNodeRect:S.rect,over:T,overlayNodeRect:S.rect,scrollableAncestors:C,scrollableAncestorRects:A,transform:I,windowRect:M}),L=sh(w),H=oT({config:r,draggableNodes:b,droppableContainers:x,measuringConfiguration:R}),B=L?S.setRef:void 0;return Je.createElement(ZC,null,Je.createElement(QC,{animation:H},m&&O?Je.createElement(nT,{key:O,id:m.id,ref:B,as:u,activatorEvent:p,adjustScale:e,className:d,transition:a,rect:L,style:{zIndex:f,...s},transform:$},t):null))});function uT({task:n,getPriorityColor:e}){const{attributes:t,listeners:r,setNodeRef:s,transform:a,isDragging:l}=Jv({id:`task-${n.id}`,data:{task:n,type:"unscheduled"}}),u={transform:ci.Transform.toString(a),opacity:l?.5:1,cursor:l?"grabbing":"grab"};return y.jsxs("div",{ref:s,className:"unscheduled-task",style:u,...r,...t,children:[y.jsx("div",{className:"task-priority-indicator",style:{backgroundColor:e(n.priority)}}),y.jsxs("div",{className:"task-content",children:[y.jsx("div",{className:"task-text",children:n.text}),n.category&&y.jsx("span",{className:"task-category",children:n.category})]})]})}function dT({task:n,getPriorityColor:e,onUnschedule:t,onTaskClick:r}){const{attributes:s,listeners:a,setNodeRef:l,transform:u,isDragging:d}=Jv({id:`scheduled-${n.id}`,data:{task:n,type:"scheduled"}}),f={transform:ci.Transform.toString(u),opacity:d?.5:1,cursor:d?"grabbing":"grab"};return y.jsxs("div",{ref:l,className:"time-block",style:{...f,borderLeft:`4px solid ${e(n.priority)}`},...a,...s,children:[y.jsxs("div",{className:"time-block-header",children:[y.jsx("span",{className:"time-block-title",children:n.text}),y.jsx("button",{className:"time-block-remove",onClick:p=>{p.stopPropagation(),t(n)},title:"Unschedule",children:""})]}),y.jsxs("div",{className:"time-block-meta",children:[n.category&&y.jsx("span",{className:"block-category",children:n.category}),y.jsxs("span",{className:"block-duration",children:[n.scheduledDuration||60," min"]}),y.jsx("button",{className:"block-focus-btn",onClick:p=>{p.stopPropagation(),r(n)},children:" Focus"})]})]})}function hT({hour:n,children:e}){const{setNodeRef:t,isOver:r}=JC({id:`slot-${n}`,data:{hour:n}});return y.jsx("div",{ref:t,className:`time-content ${r?"drop-target":""}`,children:e})}function fT({tasks:n,onUpdateTask:e,onTaskClick:t}){const[r,s]=j.useState(null),[a]=j.useState(new Date),[l,u]=j.useState(null),d=K1(q1(ih,{activationConstraint:{distance:8}})),f=C=>{var L,H;const{active:A,over:M}=C;if(u(null),!M)return;const I=(L=A.data.current)==null?void 0:L.task,O=(H=M.data.current)==null?void 0:H.hour;if(!I||O===void 0)return;const $=new Date(a);$.setHours(O,0,0,0),e(I.id,{scheduledStart:$.toISOString(),scheduledDuration:I.scheduledDuration||60})},p=C=>{var A;u((A=C.active.data.current)==null?void 0:A.task)},m=n.filter(C=>!C.completed&&!C.scheduledStart),w=n.filter(C=>C.scheduledStart?new Date(C.scheduledStart).toDateString()===a.toDateString()&&!C.completed:!1),b=(()=>{const C=[];for(let A=8;A<=20;A++)C.push({hour:A,label:A>12?`${A-12}:00 PM`:`${A}:00 AM`,time:`${A}:00`});return C})(),x=C=>{e(C.id,{scheduledStart:void 0,scheduledDuration:void 0})},S=C=>w.find(A=>A.scheduledStart?new Date(A.scheduledStart).getHours()===C:!1),T=C=>{const A={weekday:"long",month:"long",day:"numeric"};return C.toLocaleDateString("en-US",A)},R=C=>{switch(C){case"high":return"#ff6b6b";case"medium":return"#ffd93d";case"low":return"#6bcf7f";default:return"#999"}};return y.jsxs(WC,{sensors:d,onDragStart:p,onDragEnd:f,children:[y.jsxs("div",{className:"time-blocks-container",children:[y.jsxs("div",{className:"time-blocks-header",children:[y.jsx("h2",{children:" Time Blocks"}),y.jsx("p",{className:"time-blocks-date",children:T(a)})]}),y.jsxs("div",{className:"time-blocks-content",children:[y.jsxs("div",{className:"unscheduled-tasks",children:[y.jsxs("h3",{children:["Unscheduled Tasks (",m.length,")"]}),m.length===0?y.jsx("p",{className:"empty-state",children:"All tasks are scheduled! "}):y.jsx("div",{className:"task-list",children:m.map(C=>y.jsx(uT,{task:C,getPriorityColor:R},C.id))}),y.jsx("div",{className:"schedule-hint",children:" Drag tasks to time slots to schedule"})]}),y.jsxs("div",{className:"timeline-view",children:[y.jsx("h3",{children:"Today's Schedule"}),y.jsx("div",{className:"timeline",children:b.map(C=>{const A=S(C.hour);return y.jsxs("div",{className:"time-slot",children:[y.jsx("div",{className:"time-label",children:C.label}),y.jsx(hT,{hour:C.hour,children:A?y.jsx(dT,{task:A,getPriorityColor:R,onUnschedule:x,onTaskClick:t}):y.jsx("div",{className:"time-slot-empty",children:"Drop here"})})]},C.hour)})})]})]})]}),y.jsx(cT,{children:l?y.jsxs("div",{className:"drag-overlay-task",children:[y.jsx("div",{className:"task-priority-indicator",style:{backgroundColor:R(l.priority)}}),y.jsxs("div",{className:"task-content",children:[y.jsx("div",{className:"task-text",children:l.text}),l.category&&y.jsx("span",{className:"task-category",children:l.category})]})]}):null})]})}function pT({activeView:n,onViewChange:e,userName:t,onSignOut:r,darkMode:s,onToggleDarkMode:a}){const l=[{id:"today",icon:"",label:"Today"},{id:"tasks",icon:"",label:"All Tasks"},{id:"dashboard",icon:"",label:"Dashboard"},{id:"matrix",icon:"",label:"Matrix"},{id:"timeblocks",icon:"",label:"Time Blocks"},{id:"pomodoro",icon:"",label:"Pomodoro"}];return y.jsxs("div",{className:"sidebar",children:[y.jsx("div",{className:"sidebar-header",children:y.jsxs("h2",{className:"sidebar-logo",children:[y.jsx("span",{className:"logo-icon",children:""}),"Zentask"]})}),y.jsx("nav",{className:"sidebar-nav",children:l.map(u=>y.jsxs("button",{className:`sidebar-nav-item ${n===u.id?"active":""}`,onClick:()=>e(u.id),children:[y.jsx("span",{className:"nav-icon",children:u.icon}),y.jsx("span",{className:"nav-label",children:u.label})]},u.id))}),y.jsxs("div",{className:"sidebar-footer",children:[y.jsxs("div",{className:"sidebar-user",children:[y.jsx("span",{className:"sidebar-avatar",children:t.charAt(0).toUpperCase()}),y.jsx("span",{className:"sidebar-username",children:t})]}),y.jsxs("div",{className:"sidebar-controls",children:[y.jsx("button",{className:"sidebar-control-btn",onClick:a,title:s?"Light Mode":"Dark Mode",children:s?"":""}),y.jsx("button",{className:"sidebar-control-btn",onClick:r,title:"Sign Out",children:""})]})]})]})}function gT({task:n,onClose:e,onComplete:t,onUpdateTime:r}){const[s,a]=j.useState(n.isTracking||!1),[l,u]=j.useState(n.timeSpent||0),[d,f]=j.useState(n.pomodoroActive||!1),[p,m]=j.useState(n.pomodoroTime||1500),[w,_]=j.useState(n.pomodoroMode||"work"),b=j.useRef(null),x=j.useRef(null),S=j.useRef(l),T=B=>{const Y=Math.floor(B/3600),ie=Math.floor(B%3600/60),de=B%60;return Y>0?`${Y}:${String(ie).padStart(2,"0")}:${String(de).padStart(2,"0")}`:`${ie}:${String(de).padStart(2,"0")}`},R=()=>{if(!n.dueDate)return"No due date";const[B,Y,ie]=n.dueDate.split("-").map(Number),de=new Date(B,Y-1,ie),he={weekday:"long",month:"long",day:"numeric"},ye=de.toLocaleDateString("en-US",he);return n.dueTime?`${ye} at ${n.dueTime}`:ye},C=()=>{s?(b.current&&(clearInterval(b.current),b.current=null),r(n.id,{timeSpent:l}),a(!1)):(a(!0),b.current=setInterval(()=>{u(B=>B+1)},1e3))},A=()=>{b.current&&(clearInterval(b.current),b.current=null),u(0),a(!1),r(n.id,{timeSpent:0})},M=()=>{const B=!d;if(B&&!d)if(l>=1500)m(1500),_("work");else{const Y=1500-l;m(Y),_("work")}f(B),d&&x.current&&(clearInterval(x.current),x.current=null)},I=()=>{x.current?(clearInterval(x.current),x.current=null):x.current=setInterval(()=>{w==="work"&&u(B=>B+1),m(B=>B<=1?(x.current&&(clearInterval(x.current),x.current=null),w==="work"?(_("break"),300):(_("work"),1500)):B-1)},1e3)},O=()=>{x.current&&(clearInterval(x.current),x.current=null),_("work"),m(1500)},$=()=>{b.current&&clearInterval(b.current),x.current&&clearInterval(x.current),r(n.id,{timeSpent:l,pomodoroTime:d?p:null,pomodoroMode:d?w:null,pomodoroActive:d}),e()},L=()=>{b.current&&(clearInterval(b.current),r(n.id,{timeSpent:l})),t(n.id),e()};j.useEffect(()=>{const B=Y=>{Y.key==="Escape"?$():Y.key===" "&&(Y.preventDefault(),d?I():C())};return window.addEventListener("keydown",B),()=>{window.removeEventListener("keydown",B)}},[d,l]),j.useEffect(()=>{S.current=l},[l]),j.useEffect(()=>()=>{b.current&&clearInterval(b.current),x.current&&clearInterval(x.current),S.current>0&&r(n.id,{timeSpent:S.current})},[]);const H=()=>{switch(n.priority){case"high":return"#ff6b6b";case"medium":return"#ffd93d";case"low":return"#6bcf7f";default:return"#999"}};return y.jsx("div",{className:"focus-mode-overlay",children:y.jsxs("div",{className:"focus-mode-container",children:[y.jsx("button",{className:"focus-close-button",onClick:$,title:"Exit Focus Mode (ESC)",children:""}),y.jsxs("div",{className:"focus-priority-badge",style:{backgroundColor:H()},children:[n.priority," priority"]}),y.jsx("h1",{className:"focus-task-title",children:n.text}),y.jsx("p",{className:"focus-due-date",children:R()}),n.category&&y.jsx("span",{className:"focus-category",children:n.category}),y.jsx("div",{className:"focus-mode-toggle",children:y.jsx("button",{className:`toggle-button ${d?"active":""}`,onClick:M,children:d?" Time Tracking":" Pomodoro"})}),d?y.jsxs("div",{className:"focus-pomodoro-section",children:[y.jsx("div",{className:`focus-pomodoro-mode ${w}`,children:w==="work"?" Work Session":" Break Time"}),y.jsx("div",{className:"focus-pomodoro-display",children:T(p)}),y.jsxs("div",{className:"focus-pomodoro-controls",children:[y.jsx("button",{className:`focus-timer-button ${x.current?"stop":"start"}`,onClick:I,title:"Space to start/stop",children:x.current?" Pause":" Start"}),y.jsx("button",{className:"focus-reset-button",onClick:O,children:"Reset"})]})]}):y.jsxs("div",{className:"focus-time-section",children:[y.jsx("div",{className:"focus-time-display",children:T(l)}),y.jsxs("div",{className:"focus-time-controls",children:[y.jsx("button",{className:`focus-timer-button ${s?"stop":"start"}`,onClick:C,title:"Space to start/stop",children:s?" Pause":" Start"}),l>0&&y.jsx("button",{className:"focus-reset-button",onClick:A,children:"Reset"})]})]}),y.jsx("button",{className:"focus-complete-button",onClick:L,children:" Mark Complete"}),y.jsxs("div",{className:"focus-shortcuts",children:[y.jsx("span",{children:"ESC to exit"}),y.jsx("span",{children:""}),y.jsx("span",{children:"SPACE to start/stop"})]})]})})}function mT({quote:n,onClose:e,duration:t=5e3}){return j.useEffect(()=>{const r=setTimeout(()=>{e()},t);return()=>clearTimeout(r)},[e,t]),y.jsx("div",{className:"celebration-toast",children:y.jsxs("div",{className:"celebration-content",children:[y.jsx("div",{className:"celebration-icon",children:""}),y.jsxs("div",{className:"celebration-message",children:[y.jsx("h3",{className:"celebration-title",children:"Task Completed!"}),y.jsx("blockquote",{className:"celebration-quote",children:n}),y.jsx("div",{className:"celebration-author",children:" Naval Ravikant"})]}),y.jsx("button",{className:"celebration-close",onClick:e,children:""})]})})}function yT(){const[n,e]=j.useState([]),[t,r]=j.useState("all"),[s,a]=j.useState(""),[l,u]=j.useState(!1),[d,f]=j.useState("today"),[p,m]=j.useState("default"),[w,_]=j.useState(!1),[b,x]=j.useState("signin"),[S,T]=j.useState(null),[R,C]=j.useState(!0),[A,M]=j.useState(""),[I,O]=j.useState(""),[$,L]=j.useState(!1),[H,B]=j.useState(null),[Y,ie]=j.useState(null),de=j.useRef(new Set);j.useEffect(()=>{"Notification"in window&&(m(Notification.permission),Notification.permission==="default"&&Notification.requestPermission().then(Q=>{m(Q)}))},[]),j.useEffect(()=>{if(localStorage.getItem("guestMode")==="true"){L(!0),M("Guest"),C(!1);const xe=localStorage.getItem("guestTasks");xe&&e(JSON.parse(xe));return}Bt.getCurrentUser().then(xe=>{var se,Se;xe&&(T(xe),O(xe.email||""),M(((se=xe.user_metadata)==null?void 0:se.name)||((Se=xe.email)==null?void 0:Se.split("@")[0])||"")),C(!1)});const{data:re}=Bt.getAuthStateChangeListener((xe,se)=>{var Se,Te;xe==="SIGNED_IN"&&(se!=null&&se.user)?(T(se.user),O(se.user.email||""),M(((Se=se.user.user_metadata)==null?void 0:Se.name)||((Te=se.user.email)==null?void 0:Te.split("@")[0])||"")):xe==="SIGNED_OUT"&&(T(null),O(""),M(""),e([]))});return()=>{re!=null&&re.subscription&&re.subscription.unsubscribe()}},[]),j.useEffect(()=>{(async()=>{const re=localStorage.getItem("darkMode");re&&u(JSON.parse(re)),S&&(localStorage.getItem(`hasCompletedOnboarding_${S.id}`)||_(!0))})()},[S]),j.useEffect(()=>{(async()=>{if(I){const xe=(await Bt.fetchTasks(I)).map(se=>Bt.convertToAppFormat(se));e(xe)}})()},[I]),j.useEffect(()=>{$&&localStorage.setItem("guestTasks",JSON.stringify(n))},[n,$]),j.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(l))},[l]),j.useEffect(()=>{const Q=()=>{const xe=new Date;n.forEach(se=>{if(se.completed||!se.dueDate||!se.reminderMinutes)return;const Se=`${se.id}-${se.reminderMinutes}`;if(de.current.has(Se))return;const[Te,Ct,Cn]=se.dueDate.split("-").map(Number),fn=new Date(Te,Ct-1,Cn);if(se.dueTime){const[pt,Wt]=se.dueTime.split(":");fn.setHours(parseInt(pt),parseInt(Wt),0,0)}else fn.setHours(23,59,59,999);const Tn=new Date(fn.getTime()-se.reminderMinutes*60*1e3);xe>=Tn&&xe<new Date(Tn.getTime()+6e4)&&(he(se),de.current.add(Se))})};Q();const re=setInterval(Q,6e4);return()=>clearInterval(re)},[n,p]);const he=Q=>{if(p==="granted"){const re=new Notification("Task Reminder",{body:`${Q.text}${Q.dueTime?` at ${Q.dueTime}`:""}`,icon:"",badge:"",tag:`task-${Q.id}`,requireInteraction:!0});re.onclick=()=>{window.focus(),re.close()}}},ye=(Q,re)=>{if(!re||!Q)return null;const[xe,se,Se]=Q.split("-").map(Number),Te=new Date(xe,se-1,Se);switch(re){case"daily":Te.setDate(Te.getDate()+1);break;case"weekly":Te.setDate(Te.getDate()+7);break;case"biweekly":Te.setDate(Te.getDate()+14);break;case"monthly":Te.setMonth(Te.getMonth()+1);break;case"yearly":Te.setFullYear(Te.getFullYear()+1);break;default:return null}const Ct=Te.getFullYear(),Cn=String(Te.getMonth()+1).padStart(2,"0"),fn=String(Te.getDate()).padStart(2,"0");return`${Ct}-${Cn}-${fn}`},le=Q=>{if(!Q)return Q;const re=Q.charAt(0);return/[a-z]/.test(re)?re.toUpperCase()+Q.slice(1):Q},K=async Q=>{const re={id:Date.now(),text:le(Q.text||""),completed:!1,priority:Q.priority||"medium",dueDate:Q.dueDate||"",dueTime:Q.dueTime||"",category:Q.category||"",reminderMinutes:Q.reminderMinutes||null,recurrence:Q.recurrence||null,timeSpent:0,isTracking:!1,trackingStartTime:null};if(I)try{await Bt.createTask(re,I)}catch(xe){console.error("Failed to save task to Supabase:",xe)}e([re,...n])},X=async Q=>{const re=n.find(se=>se.id===Q);if(!re)return;const xe={...re,completed:!re.completed};if(!re.completed&&xe.completed){const se=nk("completion");ie(se)}if(!re.completed&&re.recurrence&&xe.completed){const se=ye(re.dueDate,re.recurrence);if(se){const Se={id:Date.now()+1,text:re.text,completed:!1,priority:re.priority,dueDate:se,dueTime:re.dueTime,category:re.category,reminderMinutes:re.reminderMinutes,recurrence:re.recurrence,timeSpent:0,isTracking:!1,trackingStartTime:null};if(I)try{await Bt.createTask(Se,I)}catch(Te){console.error("Failed to create recurring task in Supabase:",Te)}if(e([...n.map(Te=>Te.id===Q?xe:Te),Se]),I)try{await Bt.updateTask(Q,xe,I)}catch(Te){console.error("Failed to update task in Supabase:",Te)}return}}if(I)try{await Bt.updateTask(Q,xe,I)}catch(se){console.error("Failed to update task in Supabase:",se)}e(n.map(se=>se.id===Q?xe:se))},P=async Q=>{if(I)try{await Bt.deleteTask(Q,I)}catch(re){console.error("Failed to delete task from Supabase:",re)}e(n.filter(re=>re.id!==Q))},W=async(Q,re)=>{const se={...n.find(Se=>Se.id===Q),...re};if(I)try{await Bt.updateTask(Q,se,I)}catch(Se){console.error("Failed to update task in Supabase:",Se)}e(n.map(Se=>Se.id===Q?se:Se))},Z=async(Q,re)=>{if(re.isTracking){const xe=n.map(se=>{if(se.id===Q)return{...se,...re};if(se.isTracking){const Se=Math.floor((Date.now()-(se.trackingStartTime||0))/1e3),Te={...se,timeSpent:(se.timeSpent||0)+Se,isTracking:!1,trackingStartTime:null};return I&&Bt.updateTask(se.id,Te,I).catch(Ct=>{console.error("Failed to update stopped task in Supabase:",Ct)}),Te}return se});e(xe)}else{const se={...n.find(Se=>Se.id===Q),...re};e(n.map(Se=>Se.id===Q?se:Se))}if(I){const se={...n.find(Se=>Se.id===Q),...re};try{await Bt.updateTask(Q,se,I)}catch(Se){console.error("Failed to update task time in Supabase:",Se)}}},we=async()=>{if(I)try{await Bt.deleteCompletedTasks(I)}catch(Q){console.error("Failed to delete completed tasks from Supabase:",Q)}e(n.filter(Q=>!Q.completed))},pe=()=>{S&&localStorage.setItem(`hasCompletedOnboarding_${S.id}`,"true"),_(!1)},ke=async()=>{if($){localStorage.removeItem("guestMode"),localStorage.removeItem("guestTasks"),L(!1),M(""),e([]);return}try{await Bt.signOut()}catch(Q){console.error("Error signing out:",Q)}},ge=()=>{localStorage.setItem("guestMode","true"),L(!0),M("Guest"),C(!1);const Q=localStorage.getItem("guestTasks");Q&&e(JSON.parse(Q))},Ce=(()=>{let Q=n;switch(t){case"active":Q=Q.filter(re=>!re.completed);break;case"completed":Q=Q.filter(re=>re.completed);break}return s.trim()&&(Q=Q.filter(re=>re.text.toLowerCase().includes(s.toLowerCase())||re.category&&re.category.toLowerCase().includes(s.toLowerCase()))),Q})(),Ze=n.filter(Q=>!Q.completed).length;return R?y.jsx("div",{className:`todo-app ${l?"dark-mode":""}`,children:y.jsxs("div",{className:"auth-loading",children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("p",{children:"Loading..."})]})}):!S&&!$?b==="signup"?y.jsx(O1,{onSignUpSuccess:()=>x("signin"),onSwitchToSignIn:()=>x("signin")}):b==="reset"?y.jsx(R1,{onBackToSignIn:()=>x("signin")}):y.jsx(j1,{onSignInSuccess:()=>{},onSwitchToSignUp:()=>x("signup"),onSwitchToReset:()=>x("reset"),onGuestMode:ge}):y.jsxs("div",{className:`todo-app ${l?"dark-mode":""}`,children:[H&&y.jsx(gT,{task:H,onClose:()=>B(null),onComplete:X,onUpdateTime:Z}),w&&y.jsx(tk,{onComplete:pe,addTask:K}),Y&&y.jsx(mT,{quote:Y,onClose:()=>ie(null)}),y.jsxs("div",{className:"app-layout",children:[y.jsx(pT,{activeView:d,onViewChange:f,userName:A,onSignOut:ke,darkMode:l,onToggleDarkMode:()=>u(!l)}),y.jsxs("div",{className:"main-content",children:[d!=="pomodoro"&&d!=="matrix"&&d!=="timeblocks"&&y.jsx(ik,{userName:A}),d==="today"?y.jsxs(y.Fragment,{children:[y.jsx(Nm,{addTask:K}),y.jsx(Vp,{addTask:K}),y.jsx(ek,{tasks:n,toggleComplete:X,deleteTask:P,editTask:W,onUpdateTime:Z,onFocus:B})]}):d==="tasks"?y.jsxs(y.Fragment,{children:[y.jsx(Nm,{addTask:K}),y.jsx(Vp,{addTask:K}),y.jsx("div",{className:"search-filter-container",children:y.jsx("input",{type:"text",className:"search-input",placeholder:"Search tasks...",value:s,onChange:Q=>a(Q.target.value)})}),y.jsxs("div",{className:"filter-buttons",children:[y.jsx("button",{className:t==="all"?"filter-btn active":"filter-btn",onClick:()=>r("all"),children:"All"}),y.jsx("button",{className:t==="active"?"filter-btn active":"filter-btn",onClick:()=>r("active"),children:"Active"}),y.jsx("button",{className:t==="completed"?"filter-btn active":"filter-btn",onClick:()=>r("completed"),children:"Completed"})]}),y.jsx("div",{className:"todo-list",children:Ce.length===0?y.jsx("p",{className:"empty-state",children:s?"No tasks match your search.":t==="completed"?"No completed tasks yet!":t==="active"?"No active tasks! Add one above.":"No tasks yet! Add your first task above."}):Ce.map(Q=>y.jsx(no,{task:Q,toggleComplete:X,deleteTask:P,editTask:W,onUpdateTime:Z,onFocus:B},Q.id))}),n.length>0&&y.jsxs("div",{className:"todo-footer",children:[y.jsxs("span",{className:"task-count",children:[Ze," ",Ze===1?"task":"tasks"," remaining"]}),n.some(Q=>Q.completed)&&y.jsx("button",{className:"clear-completed",onClick:we,children:"Clear Completed"})]})]}):d==="pomodoro"?y.jsx(P1,{}):d==="matrix"?y.jsx(N1,{tasks:n,toggleComplete:X,deleteTask:P,editTask:W,onUpdateTime:Z,onFocus:B}):d==="timeblocks"?y.jsx(fT,{tasks:n,onUpdateTask:Z,onTaskClick:B}):y.jsx(ZS,{tasks:n})]})]})]})}const Qv=document.getElementById("root");if(!Qv)throw new Error("Failed to find the root element");const vT=n_.createRoot(Qv);vT.render(y.jsx(Je.StrictMode,{children:y.jsx(yT,{})}));
