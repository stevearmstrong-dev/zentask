var d0=Object.defineProperty;var h0=(n,e,t)=>e in n?d0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var fe=(n,e,t)=>h0(n,typeof e!="symbol"?e+"":e,t);function f0(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function gu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function p0(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var bc={exports:{}},ti={},xc={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function g0(){if(Mf)return Se;Mf=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function k(T,H,ie){this.props=T,this.context=H,this.refs=S,this.updater=ie||w}k.prototype.isReactComponent={},k.prototype.setState=function(T,H){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,H,"setState")},k.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function C(){}C.prototype=k.prototype;function P(T,H,ie){this.props=T,this.context=H,this.refs=S,this.updater=ie||w}var R=P.prototype=new C;R.constructor=P,b(R,k.prototype),R.isPureReactComponent=!0;var N=Array.isArray,I=Object.prototype.hasOwnProperty,$={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function W(T,H,ie){var _e,U={},Q=null,ne=null;if(H!=null)for(_e in H.ref!==void 0&&(ne=H.ref),H.key!==void 0&&(Q=""+H.key),H)I.call(H,_e)&&!L.hasOwnProperty(_e)&&(U[_e]=H[_e]);var se=arguments.length-2;if(se===1)U.children=ie;else if(1<se){for(var pe=Array(se),xe=0;xe<se;xe++)pe[xe]=arguments[xe+2];U.children=pe}if(T&&T.defaultProps)for(_e in se=T.defaultProps,se)U[_e]===void 0&&(U[_e]=se[_e]);return{$$typeof:n,type:T,key:Q,ref:ne,props:U,_owner:$.current}}function D(T,H){return{$$typeof:n,type:T.type,key:H,ref:T.ref,props:T.props,_owner:T._owner}}function z(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function J(T){var H={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ie){return H[ie]})}var ee=/\/+/g;function he(T,H){return typeof T=="object"&&T!==null&&T.key!=null?J(""+T.key):H.toString(36)}function be(T,H,ie,_e,U){var Q=typeof T;(Q==="undefined"||Q==="boolean")&&(T=null);var ne=!1;if(T===null)ne=!0;else switch(Q){case"string":case"number":ne=!0;break;case"object":switch(T.$$typeof){case n:case e:ne=!0}}if(ne)return ne=T,U=U(ne),T=_e===""?"."+he(ne,0):_e,N(U)?(ie="",T!=null&&(ie=T.replace(ee,"$&/")+"/"),be(U,H,ie,"",function(xe){return xe})):U!=null&&(z(U)&&(U=D(U,ie+(!U.key||ne&&ne.key===U.key?"":(""+U.key).replace(ee,"$&/")+"/")+T)),H.push(U)),1;if(ne=0,_e=_e===""?".":_e+":",N(T))for(var se=0;se<T.length;se++){Q=T[se];var pe=_e+he(Q,se);ne+=be(Q,H,ie,pe,U)}else if(pe=v(T),typeof pe=="function")for(T=pe.call(T),se=0;!(Q=T.next()).done;)Q=Q.value,pe=_e+he(Q,se++),ne+=be(Q,H,ie,pe,U);else if(Q==="object")throw H=String(T),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ne}function me(T,H,ie){if(T==null)return T;var _e=[],U=0;return be(T,_e,"","",function(Q){return H.call(ie,Q,U++)}),_e}function we(T){if(T._status===-1){var H=T._result;H=H(),H.then(function(ie){(T._status===0||T._status===-1)&&(T._status=1,T._result=ie)},function(ie){(T._status===0||T._status===-1)&&(T._status=2,T._result=ie)}),T._status===-1&&(T._status=0,T._result=H)}if(T._status===1)return T._result.default;throw T._result}var ye={current:null},G={transition:null},te={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:G,ReactCurrentOwner:$};return Se.Children={map:me,forEach:function(T,H,ie){me(T,function(){H.apply(this,arguments)},ie)},count:function(T){var H=0;return me(T,function(){H++}),H},toArray:function(T){return me(T,function(H){return H})||[]},only:function(T){if(!z(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Se.Component=k,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=P,Se.StrictMode=r,Se.Suspense=h,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Se.cloneElement=function(T,H,ie){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var _e=b({},T.props),U=T.key,Q=T.ref,ne=T._owner;if(H!=null){if(H.ref!==void 0&&(Q=H.ref,ne=$.current),H.key!==void 0&&(U=""+H.key),T.type&&T.type.defaultProps)var se=T.type.defaultProps;for(pe in H)I.call(H,pe)&&!L.hasOwnProperty(pe)&&(_e[pe]=H[pe]===void 0&&se!==void 0?se[pe]:H[pe])}var pe=arguments.length-2;if(pe===1)_e.children=ie;else if(1<pe){se=Array(pe);for(var xe=0;xe<pe;xe++)se[xe]=arguments[xe+2];_e.children=se}return{$$typeof:n,type:T.type,key:U,ref:Q,props:_e,_owner:ne}},Se.createContext=function(T){return T={$$typeof:l,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:a,_context:T},T.Consumer=T},Se.createElement=W,Se.createFactory=function(T){var H=W.bind(null,T);return H.type=T,H},Se.createRef=function(){return{current:null}},Se.forwardRef=function(T){return{$$typeof:u,render:T}},Se.isValidElement=z,Se.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:we}},Se.memo=function(T,H){return{$$typeof:f,type:T,compare:H===void 0?null:H}},Se.startTransition=function(T){var H=G.transition;G.transition={};try{T()}finally{G.transition=H}},Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Se.useCallback=function(T,H){return ye.current.useCallback(T,H)},Se.useContext=function(T){return ye.current.useContext(T)},Se.useDebugValue=function(){},Se.useDeferredValue=function(T){return ye.current.useDeferredValue(T)},Se.useEffect=function(T,H){return ye.current.useEffect(T,H)},Se.useId=function(){return ye.current.useId()},Se.useImperativeHandle=function(T,H,ie){return ye.current.useImperativeHandle(T,H,ie)},Se.useInsertionEffect=function(T,H){return ye.current.useInsertionEffect(T,H)},Se.useLayoutEffect=function(T,H){return ye.current.useLayoutEffect(T,H)},Se.useMemo=function(T,H){return ye.current.useMemo(T,H)},Se.useReducer=function(T,H,ie){return ye.current.useReducer(T,H,ie)},Se.useRef=function(T){return ye.current.useRef(T)},Se.useState=function(T){return ye.current.useState(T)},Se.useSyncExternalStore=function(T,H,ie){return ye.current.useSyncExternalStore(T,H,ie)},Se.useTransition=function(){return ye.current.useTransition()},Se.version="18.0.0-fc46dba67-20220329",Se}var Df;function mu(){return Df||(Df=1,xc.exports=g0()),xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function m0(){if(If)return ti;If=1;var n=mu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var g,y={},v=null,w=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:u,key:v,ref:w,props:y,_owner:o.current}}return ti.Fragment=t,ti.jsx=l,ti.jsxs=l,ti}var Lf;function y0(){return Lf||(Lf=1,bc.exports=m0()),bc.exports}var _=y0(),B=mu();const v0=gu(B);var Sc={exports:{}},yt={},kc={exports:{}},Ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function _0(){return Ff||(Ff=1,(function(n){function e(G,te){var T=G.length;G.push(te);e:for(;0<T;){var H=T-1>>>1,ie=G[H];if(0<o(ie,te))G[H]=te,G[T]=ie,T=H;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],T=G.pop();if(T!==te){G[0]=T;e:for(var H=0,ie=G.length,_e=ie>>>1;H<_e;){var U=2*(H+1)-1,Q=G[U],ne=U+1,se=G[ne];if(0>o(Q,T))ne<ie&&0>o(se,Q)?(G[H]=se,G[ne]=T,H=ne):(G[H]=Q,G[U]=T,H=U);else if(ne<ie&&0>o(se,T))G[H]=se,G[ne]=T,H=ne;else break e}}return te}function o(G,te){var T=G.sortIndex-te.sortIndex;return T!==0?T:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],g=1,y=null,v=3,w=!1,b=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(G){for(var te=t(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=G)r(f),te.sortIndex=te.expirationTime,e(h,te);else break;te=t(f)}}function N(G){if(S=!1,R(G),!b)if(t(h)!==null)b=!0,we(I);else{var te=t(f);te!==null&&ye(N,te.startTime-G)}}function I(G,te){b=!1,S&&(S=!1,C(W),W=-1),w=!0;var T=v;try{for(R(te),y=t(h);y!==null&&(!(y.expirationTime>te)||G&&!J());){var H=y.callback;if(typeof H=="function"){y.callback=null,v=y.priorityLevel;var ie=H(y.expirationTime<=te);te=n.unstable_now(),typeof ie=="function"?y.callback=ie:y===t(h)&&r(h),R(te)}else r(h);y=t(h)}if(y!==null)var _e=!0;else{var U=t(f);U!==null&&ye(N,U.startTime-te),_e=!1}return _e}finally{y=null,v=T,w=!1}}var $=!1,L=null,W=-1,D=5,z=-1;function J(){return!(n.unstable_now()-z<D)}function ee(){if(L!==null){var G=n.unstable_now();z=G;var te=!0;try{te=L(!0,G)}finally{te?he():($=!1,L=null)}}else $=!1}var he;if(typeof P=="function")he=function(){P(ee)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,me=be.port2;be.port1.onmessage=ee,he=function(){me.postMessage(null)}}else he=function(){k(ee,0)};function we(G){L=G,$||($=!0,he())}function ye(G,te){W=k(function(){G(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){b||w||(b=!0,we(I))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var T=v;v=te;try{return G()}finally{v=T}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var T=v;v=G;try{return te()}finally{v=T}},n.unstable_scheduleCallback=function(G,te,T){var H=n.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?H+T:H):T=H,G){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=T+ie,G={id:g++,callback:te,priorityLevel:G,startTime:T,expirationTime:ie,sortIndex:-1},T>H?(G.sortIndex=T,e(f,G),t(h)===null&&G===t(f)&&(S?(C(W),W=-1):S=!0,ye(N,T-H))):(G.sortIndex=ie,e(h,G),b||w||(b=!0,we(I))),G},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(G){var te=v;return function(){var T=v;v=te;try{return G.apply(this,arguments)}finally{v=T}}}})(Ec)),Ec}var $f;function w0(){return $f||($f=1,kc.exports=_0()),kc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function b0(){if(zf)return yt;zf=1;var n=mu(),e=w0();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(s){return h.call(y,s)?!0:h.call(g,s)?!1:f.test(s)?y[s]=!0:(g[s]=!0,!1)}function w(s,i,c,d){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,i,c,d){if(i===null||typeof i>"u"||w(s,i,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(s,i,c,d,p,m,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=m,this.removeEmptyString=x}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new S(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(C,P);k[i]=new S(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(C,P);k[i]=new S(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(C,P);k[i]=new S(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,i,c,d){var p=k.hasOwnProperty(i)?k[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,c,p,d)&&(c=null),d||p===null?v(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):p.mustUseProperty?s[p.propertyName]=c===null?p.type===3?!1:"":c:(i=p.attributeName,d=p.attributeNamespace,c===null?s.removeAttribute(i):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,d?s.setAttributeNS(d,i,c):s.setAttribute(i,c))))}var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),$=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),J=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var T=Object.assign,H;function ie(s){if(H===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);H=i&&i[1]||""}return`
`+H+s}var _e=!1;function U(s,i){if(!s||_e)return"";_e=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(F){var d=F}Reflect.construct(s,[],i)}else{try{i.call()}catch(F){d=F}s.call(i.prototype)}else{try{throw Error()}catch(F){d=F}s()}}catch(F){if(F&&d&&typeof F.stack=="string"){for(var p=F.stack.split(`
`),m=d.stack.split(`
`),x=p.length-1,E=m.length-1;1<=x&&0<=E&&p[x]!==m[E];)E--;for(;1<=x&&0<=E;x--,E--)if(p[x]!==m[E]){if(x!==1||E!==1)do if(x--,E--,0>E||p[x]!==m[E]){var O=`
`+p[x].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=x&&0<=E);break}}}finally{_e=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ie(s):""}function Q(s){switch(s.tag){case 5:return ie(s.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return s=U(s.type,!1),s;case 11:return s=U(s.type.render,!1),s;case 1:return s=U(s.type,!0),s;default:return""}}function ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case $:return"Portal";case D:return"Profiler";case W:return"StrictMode";case he:return"Suspense";case be:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case J:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case ee:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case me:return i=s.displayName||null,i!==null?i:ne(s.type)||"Memo";case we:i=s._payload,s=s._init;try{return ne(s(i))}catch{}}return null}function se(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(i);case 8:return i===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function xe(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fs(s){var i=xe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,m=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){d=""+x,m.call(this,x)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function _n(s){s._valueTracker||(s._valueTracker=fs(s))}function wn(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),d="";return s&&(d=xe(s)?s.checked?"true":"false":s.value),s=d,s!==c?(i.setValue(s),!0):!1}function Yn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ps(s,i){var c=i.checked;return T({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ci(s,i){var c=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;c=pe(i.value!=null?i.value:c),s._wrapperState={initialChecked:d,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Hu(s,i){i=i.checked,i!=null&&R(s,"checked",i,!1)}function Ma(s,i){Hu(s,i);var c=pe(i.value),d=i.type;if(c!=null)d==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Da(s,i.type,c):i.hasOwnProperty("defaultValue")&&Da(s,i.type,pe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Wu(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Da(s,i,c){(i!=="number"||Yn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var gs=Array.isArray;function xr(s,i,c,d){if(s=s.options,i){i={};for(var p=0;p<c.length;p++)i["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=i.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&d&&(s[c].defaultSelected=!0)}else{for(c=""+pe(c),i=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Ia(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return T({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Vu(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(gs(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:pe(c)}}function qu(s,i){var c=pe(i.value),d=pe(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),d!=null&&(s.defaultValue=""+d)}function Ku(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Yu(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function La(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Yu(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Oi,Gu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,d,p){MSApp.execUnsafeLocalFunction(function(){return s(i,c,d,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Oi=Oi||document.createElement("div"),Oi.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Oi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ms(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gy=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(s){gy.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ys[i]=ys[s]})});function Ju(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||ys.hasOwnProperty(s)&&ys[s]?(""+i).trim():i+"px"}function Qu(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var d=c.indexOf("--")===0,p=Ju(c,i[c],d);c==="float"&&(c="cssFloat"),d?s.setProperty(c,p):s[c]=p}}var my=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fa(s,i){if(i){if(my[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function $a(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function Ba(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ua=null,Sr=null,kr=null;function Xu(s){if(s=$s(s)){if(typeof Ua!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Ji(i),Ua(s.stateNode,s.type,i))}}function Zu(s){Sr?kr?kr.push(s):kr=[s]:Sr=s}function ed(){if(Sr){var s=Sr,i=kr;if(kr=Sr=null,Xu(s),i)for(s=0;s<i.length;s++)Xu(i[s])}}function td(s,i){return s(i)}function nd(){}var Ha=!1;function rd(s,i,c){if(Ha)return s(i,c);Ha=!0;try{return td(s,i,c)}finally{Ha=!1,(Sr!==null||kr!==null)&&(nd(),ed())}}function vs(s,i){var c=s.stateNode;if(c===null)return null;var d=Ji(c);if(d===null)return null;c=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var Wa=!1;if(u)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Wa=!1}function yy(s,i,c,d,p,m,x,E,O){var F=Array.prototype.slice.call(arguments,3);try{i.apply(c,F)}catch(V){this.onError(V)}}var ws=!1,Pi=null,ji=!1,Va=null,vy={onError:function(s){ws=!0,Pi=s}};function _y(s,i,c,d,p,m,x,E,O){ws=!1,Pi=null,yy.apply(vy,arguments)}function wy(s,i,c,d,p,m,x,E,O){if(_y.apply(this,arguments),ws){if(ws){var F=Pi;ws=!1,Pi=null}else throw Error(t(198));ji||(ji=!0,Va=F)}}function Gn(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function sd(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function id(s){if(Gn(s)!==s)throw Error(t(188))}function by(s){var i=s.alternate;if(!i){if(i=Gn(s),i===null)throw Error(t(188));return i!==s?null:s}for(var c=s,d=i;;){var p=c.return;if(p===null)break;var m=p.alternate;if(m===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===c)return id(p),s;if(m===d)return id(p),i;m=m.sibling}throw Error(t(188))}if(c.return!==d.return)c=p,d=m;else{for(var x=!1,E=p.child;E;){if(E===c){x=!0,c=p,d=m;break}if(E===d){x=!0,d=p,c=m;break}E=E.sibling}if(!x){for(E=m.child;E;){if(E===c){x=!0,c=m,d=p;break}if(E===d){x=!0,d=m,c=p;break}E=E.sibling}if(!x)throw Error(t(189))}}if(c.alternate!==d)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:i}function od(s){return s=by(s),s!==null?ad(s):null}function ad(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=ad(s);if(i!==null)return i;s=s.sibling}return null}var ld=e.unstable_scheduleCallback,cd=e.unstable_cancelCallback,xy=e.unstable_shouldYield,Sy=e.unstable_requestPaint,Ue=e.unstable_now,ky=e.unstable_getCurrentPriorityLevel,qa=e.unstable_ImmediatePriority,ud=e.unstable_UserBlockingPriority,Ri=e.unstable_NormalPriority,Ey=e.unstable_LowPriority,dd=e.unstable_IdlePriority,Ai=null,Kt=null;function Ty(s){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ai,s,void 0,(s.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Py,Cy=Math.log,Oy=Math.LN2;function Py(s){return s>>>=0,s===0?32:31-(Cy(s)/Oy|0)|0}var Ni=64,Mi=4194304;function bs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Di(s,i){var c=s.pendingLanes;if(c===0)return 0;var d=0,p=s.suspendedLanes,m=s.pingedLanes,x=c&268435455;if(x!==0){var E=x&~p;E!==0?d=bs(E):(m&=x,m!==0&&(d=bs(m)))}else x=c&~p,x!==0?d=bs(x):m!==0&&(d=bs(m));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,m=i&-i,p>=m||p===16&&(m&4194240)!==0))return i;if((d&4)!==0&&(d|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)c=31-zt(i),p=1<<c,d|=s[c],i&=~p;return d}function jy(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ry(s,i){for(var c=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,m=s.pendingLanes;0<m;){var x=31-zt(m),E=1<<x,O=p[x];O===-1?((E&c)===0||(E&d)!==0)&&(p[x]=jy(E,i)):O<=i&&(s.expiredLanes|=E),m&=~E}}function Ka(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ya(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function xs(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-zt(i),s[i]=c}function Ay(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<c;){var p=31-zt(c),m=1<<p;i[p]=0,d[p]=-1,s[p]=-1,c&=~m}}function Ga(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var d=31-zt(c),p=1<<d;p&i|s[d]&i&&(s[d]|=i),c&=~p}}var Oe=0;function hd(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var fd,Ja,pd,gd,md,Qa=!1,Ii=[],bn=null,xn=null,Sn=null,Ss=new Map,ks=new Map,kn=[],Ny="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(s,i){switch(s){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Ss.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(i.pointerId)}}function Es(s,i,c,d,p,m){return s===null||s.nativeEvent!==m?(s={blockedOn:i,domEventName:c,eventSystemFlags:d,nativeEvent:m,targetContainers:[p]},i!==null&&(i=$s(i),i!==null&&Ja(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function My(s,i,c,d,p){switch(i){case"focusin":return bn=Es(bn,s,i,c,d,p),!0;case"dragenter":return xn=Es(xn,s,i,c,d,p),!0;case"mouseover":return Sn=Es(Sn,s,i,c,d,p),!0;case"pointerover":var m=p.pointerId;return Ss.set(m,Es(Ss.get(m)||null,s,i,c,d,p)),!0;case"gotpointercapture":return m=p.pointerId,ks.set(m,Es(ks.get(m)||null,s,i,c,d,p)),!0}return!1}function vd(s){var i=Jn(s.target);if(i!==null){var c=Gn(i);if(c!==null){if(i=c.tag,i===13){if(i=sd(c),i!==null){s.blockedOn=i,md(s.priority,function(){pd(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Li(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=Za(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);za=d,c.target.dispatchEvent(d),za=null}else return i=$s(c),i!==null&&Ja(i),s.blockedOn=c,!1;i.shift()}return!0}function _d(s,i,c){Li(s)&&c.delete(i)}function Dy(){Qa=!1,bn!==null&&Li(bn)&&(bn=null),xn!==null&&Li(xn)&&(xn=null),Sn!==null&&Li(Sn)&&(Sn=null),Ss.forEach(_d),ks.forEach(_d)}function Ts(s,i){s.blockedOn===i&&(s.blockedOn=null,Qa||(Qa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dy)))}function Cs(s){function i(p){return Ts(p,s)}if(0<Ii.length){Ts(Ii[0],s);for(var c=1;c<Ii.length;c++){var d=Ii[c];d.blockedOn===s&&(d.blockedOn=null)}}for(bn!==null&&Ts(bn,s),xn!==null&&Ts(xn,s),Sn!==null&&Ts(Sn,s),Ss.forEach(i),ks.forEach(i),c=0;c<kn.length;c++)d=kn[c],d.blockedOn===s&&(d.blockedOn=null);for(;0<kn.length&&(c=kn[0],c.blockedOn===null);)vd(c),c.blockedOn===null&&kn.shift()}var Er=N.ReactCurrentBatchConfig;function Iy(s,i,c,d){var p=Oe,m=Er.transition;Er.transition=null;try{Oe=1,Xa(s,i,c,d)}finally{Oe=p,Er.transition=m}}function Ly(s,i,c,d){var p=Oe,m=Er.transition;Er.transition=null;try{Oe=4,Xa(s,i,c,d)}finally{Oe=p,Er.transition=m}}function Xa(s,i,c,d){var p=Za(s,i,c,d);if(p===null)ml(s,i,d,Fi,c),yd(s,d);else if(My(p,s,i,c,d))d.stopPropagation();else if(yd(s,d),i&4&&-1<Ny.indexOf(s)){for(;p!==null;){var m=$s(p);if(m!==null&&fd(m),m=Za(s,i,c,d),m===null&&ml(s,i,d,Fi,c),m===p)break;p=m}p!==null&&d.stopPropagation()}else ml(s,i,d,null,c)}var Fi=null;function Za(s,i,c,d){if(Fi=null,s=Ba(d),s=Jn(s),s!==null)if(i=Gn(s),i===null)s=null;else if(c=i.tag,c===13){if(s=sd(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Fi=s,null}function wd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ky()){case qa:return 1;case ud:return 4;case Ri:case Ey:return 16;case dd:return 536870912;default:return 16}default:return 16}}var En=null,el=null,$i=null;function bd(){if($i)return $i;var s,i=el,c=i.length,d,p="value"in En?En.value:En.textContent,m=p.length;for(s=0;s<c&&i[s]===p[s];s++);var x=c-s;for(d=1;d<=x&&i[c-d]===p[m-d];d++);return $i=p.slice(s,1<d?1-d:void 0)}function zi(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Bi(){return!0}function xd(){return!1}function bt(s){function i(c,d,p,m,x){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(c=s[E],this[E]=c?c(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Bi:xd,this.isPropagationStopped=xd,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=bt(Tr),Os=T({},Tr,{view:0,detail:0}),Fy=bt(Os),nl,rl,Ps,Ui=T({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:il,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ps&&(Ps&&s.type==="mousemove"?(nl=s.screenX-Ps.screenX,rl=s.screenY-Ps.screenY):rl=nl=0,Ps=s),nl)},movementY:function(s){return"movementY"in s?s.movementY:rl}}),Sd=bt(Ui),$y=T({},Ui,{dataTransfer:0}),zy=bt($y),By=T({},Os,{relatedTarget:0}),sl=bt(By),Uy=T({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=bt(Uy),Wy=T({},Tr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Vy=bt(Wy),qy=T({},Tr,{data:0}),kd=bt(qy),Ky={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Gy[s])?!!i[s]:!1}function il(){return Jy}var Qy=T({},Os,{key:function(s){if(s.key){var i=Ky[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=zi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yy[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:il,charCode:function(s){return s.type==="keypress"?zi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?zi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xy=bt(Qy),Zy=T({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=bt(Zy),ev=T({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:il}),tv=bt(ev),nv=T({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=bt(nv),sv=T({},Ui,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),iv=bt(sv),ov=[9,13,27,32],ol=u&&"CompositionEvent"in window,js=null;u&&"documentMode"in document&&(js=document.documentMode);var av=u&&"TextEvent"in window&&!js,Td=u&&(!ol||js&&8<js&&11>=js),Cd=" ",Od=!1;function Pd(s,i){switch(s){case"keyup":return ov.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Cr=!1;function lv(s,i){switch(s){case"compositionend":return jd(i);case"keypress":return i.which!==32?null:(Od=!0,Cd);case"textInput":return s=i.data,s===Cd&&Od?null:s;default:return null}}function cv(s,i){if(Cr)return s==="compositionend"||!ol&&Pd(s,i)?(s=bd(),$i=el=En=null,Cr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Td&&i.locale!=="ko"?null:i.data;default:return null}}var uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!uv[s.type]:i==="textarea"}function Ad(s,i,c,d){Zu(d),i=Ki(i,"onChange"),0<i.length&&(c=new tl("onChange","change",null,c,d),s.push({event:c,listeners:i}))}var Rs=null,As=null;function dv(s){Jd(s,0)}function Hi(s){var i=Ar(s);if(wn(i))return s}function hv(s,i){if(s==="change")return i}var Nd=!1;if(u){var al;if(u){var ll="oninput"in document;if(!ll){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),ll=typeof Md.oninput=="function"}al=ll}else al=!1;Nd=al&&(!document.documentMode||9<document.documentMode)}function Dd(){Rs&&(Rs.detachEvent("onpropertychange",Id),As=Rs=null)}function Id(s){if(s.propertyName==="value"&&Hi(As)){var i=[];Ad(i,As,s,Ba(s)),rd(dv,i)}}function fv(s,i,c){s==="focusin"?(Dd(),Rs=i,As=c,Rs.attachEvent("onpropertychange",Id)):s==="focusout"&&Dd()}function pv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hi(As)}function gv(s,i){if(s==="click")return Hi(i)}function mv(s,i){if(s==="input"||s==="change")return Hi(i)}function yv(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Yt=typeof Object.is=="function"?Object.is:yv;function Ns(s,i){if(Yt(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),d=Object.keys(i);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!h.call(i,p)||!Yt(s[p],i[p]))return!1}return!0}function Ld(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Fd(s,i){var c=Ld(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=i&&d>=i)return{node:c,offset:i-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ld(c)}}function $d(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?$d(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function zd(){for(var s=window,i=Yn();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=Yn(s.document)}return i}function cl(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function vv(s){var i=zd(),c=s.focusedElem,d=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&$d(c.ownerDocument.documentElement,c)){if(d!==null&&cl(c)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=c.textContent.length,m=Math.min(d.start,p);d=d.end===void 0?m:Math.min(d.end,p),!s.extend&&m>d&&(p=d,d=m,m=p),p=Fd(c,m);var x=Fd(c,d);p&&x&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),m>d?(s.addRange(i),s.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var _v=u&&"documentMode"in document&&11>=document.documentMode,Or=null,ul=null,Ms=null,dl=!1;function Bd(s,i,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;dl||Or==null||Or!==Yn(d)||(d=Or,"selectionStart"in d&&cl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ms&&Ns(Ms,d)||(Ms=d,d=Ki(ul,"onSelect"),0<d.length&&(i=new tl("onSelect","select",null,i,c),s.push({event:i,listeners:d}),i.target=Or)))}function Wi(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Pr={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},hl={},Ud={};u&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Vi(s){if(hl[s])return hl[s];if(!Pr[s])return s;var i=Pr[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in Ud)return hl[s]=i[c];return s}var Hd=Vi("animationend"),Wd=Vi("animationiteration"),Vd=Vi("animationstart"),qd=Vi("transitionend"),Kd=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(s,i){Kd.set(s,i),a(i,[s])}for(var fl=0;fl<Yd.length;fl++){var pl=Yd[fl],wv=pl.toLowerCase(),bv=pl[0].toUpperCase()+pl.slice(1);Tn(wv,"on"+bv)}Tn(Hd,"onAnimationEnd"),Tn(Wd,"onAnimationIteration"),Tn(Vd,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(qd,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function Gd(s,i,c){var d=s.type||"unknown-event";s.currentTarget=c,wy(d,i,void 0,s),s.currentTarget=null}function Jd(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],p=d.event;d=d.listeners;e:{var m=void 0;if(i)for(var x=d.length-1;0<=x;x--){var E=d[x],O=E.instance,F=E.currentTarget;if(E=E.listener,O!==m&&p.isPropagationStopped())break e;Gd(p,E,F),m=O}else for(x=0;x<d.length;x++){if(E=d[x],O=E.instance,F=E.currentTarget,E=E.listener,O!==m&&p.isPropagationStopped())break e;Gd(p,E,F),m=O}}}if(ji)throw s=Va,ji=!1,Va=null,s}function Me(s,i){var c=i[bl];c===void 0&&(c=i[bl]=new Set);var d=s+"__bubble";c.has(d)||(Qd(i,s,2,!1),c.add(d))}function gl(s,i,c){var d=0;i&&(d|=4),Qd(c,s,d,i)}var qi="_reactListening"+Math.random().toString(36).slice(2);function Is(s){if(!s[qi]){s[qi]=!0,r.forEach(function(c){c!=="selectionchange"&&(xv.has(c)||gl(c,!1,s),gl(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[qi]||(i[qi]=!0,gl("selectionchange",!1,i))}}function Qd(s,i,c,d){switch(wd(i)){case 1:var p=Iy;break;case 4:p=Ly;break;default:p=Xa}c=p.bind(null,i,c,s),p=void 0,!Wa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(i,c,{capture:!0,passive:p}):s.addEventListener(i,c,!0):p!==void 0?s.addEventListener(i,c,{passive:p}):s.addEventListener(i,c,!1)}function ml(s,i,c,d,p){var m=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var E=d.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(x===4)for(x=d.return;x!==null;){var O=x.tag;if((O===3||O===4)&&(O=x.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;x=x.return}for(;E!==null;){if(x=Jn(E),x===null)return;if(O=x.tag,O===5||O===6){d=m=x;continue e}E=E.parentNode}}d=d.return}rd(function(){var F=m,V=Ba(c),oe=[];e:{var K=Kd.get(s);if(K!==void 0){var Z=tl,Y=s;switch(s){case"keypress":if(zi(c)===0)break e;case"keydown":case"keyup":Z=Xy;break;case"focusin":Y="focus",Z=sl;break;case"focusout":Y="blur",Z=sl;break;case"beforeblur":case"afterblur":Z=sl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=tv;break;case Hd:case Wd:case Vd:Z=Hy;break;case qd:Z=rv;break;case"scroll":Z=Fy;break;case"wheel":Z=iv;break;case"copy":case"cut":case"paste":Z=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ed}var ve=(i&4)!==0,Ie=!ve&&s==="scroll",A=ve?K!==null?K+"Capture":null:K;ve=[];for(var j=F,M;j!==null;){M=j;var q=M.stateNode;if(M.tag===5&&q!==null&&(M=q,A!==null&&(q=vs(j,A),q!=null&&ve.push(Ls(j,q,M)))),Ie)break;j=j.return}0<ve.length&&(K=new Z(K,Y,null,c,V),oe.push({event:K,listeners:ve}))}}if((i&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",K&&c!==za&&(Y=c.relatedTarget||c.fromElement)&&(Jn(Y)||Y[sn]))break e;if((Z||K)&&(K=V.window===V?V:(K=V.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(Y=c.relatedTarget||c.toElement,Z=F,Y=Y?Jn(Y):null,Y!==null&&(Ie=Gn(Y),Y!==Ie||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(Z=null,Y=F),Z!==Y)){if(ve=Sd,q="onMouseLeave",A="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(ve=Ed,q="onPointerLeave",A="onPointerEnter",j="pointer"),Ie=Z==null?K:Ar(Z),M=Y==null?K:Ar(Y),K=new ve(q,j+"leave",Z,c,V),K.target=Ie,K.relatedTarget=M,q=null,Jn(V)===F&&(ve=new ve(A,j+"enter",Y,c,V),ve.target=M,ve.relatedTarget=Ie,q=ve),Ie=q,Z&&Y)t:{for(ve=Z,A=Y,j=0,M=ve;M;M=jr(M))j++;for(M=0,q=A;q;q=jr(q))M++;for(;0<j-M;)ve=jr(ve),j--;for(;0<M-j;)A=jr(A),M--;for(;j--;){if(ve===A||A!==null&&ve===A.alternate)break t;ve=jr(ve),A=jr(A)}ve=null}else ve=null;Z!==null&&Xd(oe,K,Z,ve,!1),Y!==null&&Ie!==null&&Xd(oe,Ie,Y,ve,!0)}}e:{if(K=F?Ar(F):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var re=hv;else if(Rd(K))if(Nd)re=mv;else{re=pv;var le=fv}else(Z=K.nodeName)&&Z.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(re=gv);if(re&&(re=re(s,F))){Ad(oe,re,c,V);break e}le&&le(s,K,F),s==="focusout"&&(le=K._wrapperState)&&le.controlled&&K.type==="number"&&Da(K,"number",K.value)}switch(le=F?Ar(F):window,s){case"focusin":(Rd(le)||le.contentEditable==="true")&&(Or=le,ul=F,Ms=null);break;case"focusout":Ms=ul=Or=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Bd(oe,c,V);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":Bd(oe,c,V)}var ue;if(ol)e:{switch(s){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Cr?Pd(s,c)&&(de="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(de="onCompositionStart");de&&(Td&&c.locale!=="ko"&&(Cr||de!=="onCompositionStart"?de==="onCompositionEnd"&&Cr&&(ue=bd()):(En=V,el="value"in En?En.value:En.textContent,Cr=!0)),le=Ki(F,de),0<le.length&&(de=new kd(de,s,null,c,V),oe.push({event:de,listeners:le}),ue?de.data=ue:(ue=jd(c),ue!==null&&(de.data=ue)))),(ue=av?lv(s,c):cv(s,c))&&(F=Ki(F,"onBeforeInput"),0<F.length&&(V=new kd("onBeforeInput","beforeinput",null,c,V),oe.push({event:V,listeners:F}),V.data=ue))}Jd(oe,i)})}function Ls(s,i,c){return{instance:s,listener:i,currentTarget:c}}function Ki(s,i){for(var c=i+"Capture",d=[];s!==null;){var p=s,m=p.stateNode;p.tag===5&&m!==null&&(p=m,m=vs(s,c),m!=null&&d.unshift(Ls(s,m,p)),m=vs(s,i),m!=null&&d.push(Ls(s,m,p))),s=s.return}return d}function jr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Xd(s,i,c,d,p){for(var m=i._reactName,x=[];c!==null&&c!==d;){var E=c,O=E.alternate,F=E.stateNode;if(O!==null&&O===d)break;E.tag===5&&F!==null&&(E=F,p?(O=vs(c,m),O!=null&&x.unshift(Ls(c,O,E))):p||(O=vs(c,m),O!=null&&x.push(Ls(c,O,E)))),c=c.return}x.length!==0&&s.push({event:i,listeners:x})}var Sv=/\r\n?/g,kv=/\u0000|\uFFFD/g;function Zd(s){return(typeof s=="string"?s:""+s).replace(Sv,`
`).replace(kv,"")}function Yi(s,i,c){if(i=Zd(i),Zd(s)!==i&&c)throw Error(t(425))}function Gi(){}var yl=null;function vl(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _l=typeof setTimeout=="function"?setTimeout:void 0,Ev=typeof clearTimeout=="function"?clearTimeout:void 0,eh=typeof Promise=="function"?Promise:void 0,Tv=typeof queueMicrotask=="function"?queueMicrotask:typeof eh<"u"?function(s){return eh.resolve(null).then(s).catch(Cv)}:_l;function Cv(s){setTimeout(function(){throw s})}function wl(s,i){var c=i,d=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(d===0){s.removeChild(p),Cs(i);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=p}while(c);Cs(i)}function rn(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function th(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Rr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Rr,Fs="__reactProps$"+Rr,sn="__reactContainer$"+Rr,bl="__reactEvents$"+Rr,Ov="__reactListeners$"+Rr,Pv="__reactHandles$"+Rr;function Jn(s){var i=s[Gt];if(i)return i;for(var c=s.parentNode;c;){if(i=c[sn]||c[Gt]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=th(s);s!==null;){if(c=s[Gt])return c;s=th(s)}return i}s=c,c=s.parentNode}return null}function $s(s){return s=s[Gt]||s[sn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ar(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Ji(s){return s[Fs]||null}var xl=[],Nr=-1;function Cn(s){return{current:s}}function De(s){0>Nr||(s.current=xl[Nr],xl[Nr]=null,Nr--)}function Ae(s,i){Nr++,xl[Nr]=s.current,s.current=i}var On={},nt=Cn(On),dt=Cn(!1),Qn=On;function Mr(s,i){var c=s.type.contextTypes;if(!c)return On;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},m;for(m in c)p[m]=i[m];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function ht(s){return s=s.childContextTypes,s!=null}function Qi(){De(dt),De(nt)}function nh(s,i,c){if(nt.current!==On)throw Error(t(168));Ae(nt,i),Ae(dt,c)}function rh(s,i,c){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(t(108,se(s)||"Unknown",p));return T({},c,d)}function Xi(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||On,Qn=nt.current,Ae(nt,s),Ae(dt,dt.current),!0}function sh(s,i,c){var d=s.stateNode;if(!d)throw Error(t(169));c?(s=rh(s,i,Qn),d.__reactInternalMemoizedMergedChildContext=s,De(dt),De(nt),Ae(nt,s)):De(dt),Ae(dt,c)}var on=null,Zi=!1,Sl=!1;function ih(s){on===null?on=[s]:on.push(s)}function jv(s){Zi=!0,ih(s)}function Pn(){if(!Sl&&on!==null){Sl=!0;var s=0,i=Oe;try{var c=on;for(Oe=1;s<c.length;s++){var d=c[s];do d=d(!0);while(d!==null)}on=null,Zi=!1}catch(p){throw on!==null&&(on=on.slice(s+1)),ld(qa,Pn),p}finally{Oe=i,Sl=!1}}return null}var Rv=N.ReactCurrentBatchConfig;function Bt(s,i){if(s&&s.defaultProps){i=T({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}var eo=Cn(null),to=null,Dr=null,kl=null;function El(){kl=Dr=to=null}function Tl(s){var i=eo.current;De(eo),s._currentValue=i}function Cl(s,i,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===c)break;s=s.return}}function Ir(s,i){to=s,kl=Dr=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(St=!0),s.firstContext=null)}function Ct(s){var i=s._currentValue;if(kl!==s)if(s={context:s,memoizedValue:i,next:null},Dr===null){if(to===null)throw Error(t(308));Dr=s,to.dependencies={lanes:0,firstContext:s}}else Dr=Dr.next=s;return i}var Jt=null,jn=!1;function Ol(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function an(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Rn(s,i){var c=s.updateQueue;c!==null&&(c=c.shared,We!==null&&(s.mode&1)!==0&&(ke&2)===0?(s=c.interleaved,s===null?(i.next=i,Jt===null?Jt=[c]:Jt.push(c)):(i.next=s.next,s.next=i),c.interleaved=i):(s=c.pending,s===null?i.next=i:(i.next=s.next,s.next=i),c.pending=i))}function no(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,c|=d,i.lanes=c,Ga(s,c)}}function ah(s,i){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,m=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};m===null?p=m=x:m=m.next=x,c=c.next}while(c!==null);m===null?p=m=i:m=m.next=i}else p=m=i;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:d.shared,effects:d.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function ro(s,i,c,d){var p=s.updateQueue;jn=!1;var m=p.firstBaseUpdate,x=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var O=E,F=O.next;O.next=null,x===null?m=F:x.next=F,x=O;var V=s.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==x&&(E===null?V.firstBaseUpdate=F:E.next=F,V.lastBaseUpdate=O))}if(m!==null){var oe=p.baseState;x=0,V=F=O=null,E=m;do{var K=E.lane,Z=E.eventTime;if((d&K)===K){V!==null&&(V=V.next={eventTime:Z,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Y=s,ve=E;switch(K=i,Z=c,ve.tag){case 1:if(Y=ve.payload,typeof Y=="function"){oe=Y.call(Z,oe,K);break e}oe=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=ve.payload,K=typeof Y=="function"?Y.call(Z,oe,K):Y,K==null)break e;oe=T({},oe,K);break e;case 2:jn=!0}}E.callback!==null&&E.lane!==0&&(s.flags|=64,K=p.effects,K===null?p.effects=[E]:K.push(E))}else Z={eventTime:Z,lane:K,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(F=V=Z,O=oe):V=V.next=Z,x|=K;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;K=E,E=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);if(V===null&&(O=oe),p.baseState=O,p.firstBaseUpdate=F,p.lastBaseUpdate=V,i=p.shared.interleaved,i!==null){p=i;do x|=p.lane,p=p.next;while(p!==i)}else m===null&&(p.shared.lanes=0);Wr|=x,s.lanes=x,s.memoizedState=oe}}function lh(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],p=d.callback;if(p!==null){if(d.callback=null,d=c,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var ch=new n.Component().refs;function Pl(s,i,c,d){i=s.memoizedState,c=c(d,i),c=c==null?i:T({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var so={isMounted:function(s){return(s=s._reactInternals)?Gn(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var d=ut(),p=Mn(s),m=an(d,p);m.payload=i,c!=null&&(m.callback=c),Rn(s,m),i=At(s,p,d),i!==null&&no(i,s,p)},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var d=ut(),p=Mn(s),m=an(d,p);m.tag=1,m.payload=i,c!=null&&(m.callback=c),Rn(s,m),i=At(s,p,d),i!==null&&no(i,s,p)},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=ut(),d=Mn(s),p=an(c,d);p.tag=2,i!=null&&(p.callback=i),Rn(s,p),i=At(s,d,c),i!==null&&no(i,s,d)}};function uh(s,i,c,d,p,m,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,m,x):i.prototype&&i.prototype.isPureReactComponent?!Ns(c,d)||!Ns(p,m):!0}function dh(s,i,c){var d=!1,p=On,m=i.contextType;return typeof m=="object"&&m!==null?m=Ct(m):(p=ht(i)?Qn:nt.current,d=i.contextTypes,m=(d=d!=null)?Mr(s,p):On),i=new i(c,m),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=so,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=m),i}function hh(s,i,c,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,d),i.state!==s&&so.enqueueReplaceState(i,i.state,null)}function jl(s,i,c,d){var p=s.stateNode;p.props=c,p.state=s.memoizedState,p.refs=ch,Ol(s);var m=i.contextType;typeof m=="object"&&m!==null?p.context=Ct(m):(m=ht(i)?Qn:nt.current,p.context=Mr(s,m)),p.state=s.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Pl(s,i,m,c),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&so.enqueueReplaceState(p,p.state,null),ro(s,c,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}var Lr=[],Fr=0,io=null,oo=0,Ot=[],Pt=0,Xn=null,ln=1,cn="";function Zn(s,i){Lr[Fr++]=oo,Lr[Fr++]=io,io=s,oo=i}function fh(s,i,c){Ot[Pt++]=ln,Ot[Pt++]=cn,Ot[Pt++]=Xn,Xn=s;var d=ln;s=cn;var p=32-zt(d)-1;d&=~(1<<p),c+=1;var m=32-zt(i)+p;if(30<m){var x=p-p%5;m=(d&(1<<x)-1).toString(32),d>>=x,p-=x,ln=1<<32-zt(i)+p|c<<p|d,cn=m+s}else ln=1<<m|c<<p|d,cn=s}function Rl(s){s.return!==null&&(Zn(s,1),fh(s,1,0))}function Al(s){for(;s===io;)io=Lr[--Fr],Lr[Fr]=null,oo=Lr[--Fr],Lr[Fr]=null;for(;s===Xn;)Xn=Ot[--Pt],Ot[Pt]=null,cn=Ot[--Pt],Ot[Pt]=null,ln=Ot[--Pt],Ot[Pt]=null}var xt=null,ft=null,Fe=!1,Ut=null;function ph(s,i){var c=Nt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function gh(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,xt=s,ft=rn(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,xt=s,ft=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Xn!==null?{id:ln,overflow:cn}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Nt(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,xt=s,ft=null,!0):!1;default:return!1}}function Nl(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ml(s){if(Fe){var i=ft;if(i){var c=i;if(!gh(s,i)){if(Nl(s))throw Error(t(418));i=rn(c.nextSibling);var d=xt;i&&gh(s,i)?ph(d,c):(s.flags=s.flags&-4097|2,Fe=!1,xt=s)}}else{if(Nl(s))throw Error(t(418));s.flags=s.flags&-4097|2,Fe=!1,xt=s}}}function mh(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xt=s}function zs(s){if(s!==xt)return!1;if(!Fe)return mh(s),Fe=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!vl(s.type,s.memoizedProps)),i&&(i=ft)){if(Nl(s)){for(s=ft;s;)s=rn(s.nextSibling);throw Error(t(418))}for(;i;)ph(s,i),i=rn(i.nextSibling)}if(mh(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){ft=rn(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}ft=null}}else ft=xt?rn(s.stateNode.nextSibling):null;return!0}function $r(){ft=xt=null,Fe=!1}function Dl(s){Ut===null?Ut=[s]:Ut.push(s)}function Bs(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var d=c.stateNode}if(!d)throw Error(t(147,s));var p=d,m=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(x){var E=p.refs;E===ch&&(E=p.refs={}),x===null?delete E[m]:E[m]=x},i._stringRef=m,i)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function ao(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function yh(s){var i=s._init;return i(s._payload)}function vh(s){function i(A,j){if(s){var M=A.deletions;M===null?(A.deletions=[j],A.flags|=16):M.push(j)}}function c(A,j){if(!s)return null;for(;j!==null;)i(A,j),j=j.sibling;return null}function d(A,j){for(A=new Map;j!==null;)j.key!==null?A.set(j.key,j):A.set(j.index,j),j=j.sibling;return A}function p(A,j){return A=In(A,j),A.index=0,A.sibling=null,A}function m(A,j,M){return A.index=M,s?(M=A.alternate,M!==null?(M=M.index,M<j?(A.flags|=2,j):M):(A.flags|=2,j)):(A.flags|=1048576,j)}function x(A){return s&&A.alternate===null&&(A.flags|=2),A}function E(A,j,M,q){return j===null||j.tag!==6?(j=gc(M,A.mode,q),j.return=A,j):(j=p(j,M),j.return=A,j)}function O(A,j,M,q){var re=M.type;return re===L?V(A,j,M.props.children,q,M.key):j!==null&&(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===we&&yh(re)===j.type)?(q=p(j,M.props),q.ref=Bs(A,j,M),q.return=A,q):(q=Ao(M.type,M.key,M.props,null,A.mode,q),q.ref=Bs(A,j,M),q.return=A,q)}function F(A,j,M,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==M.containerInfo||j.stateNode.implementation!==M.implementation?(j=mc(M,A.mode,q),j.return=A,j):(j=p(j,M.children||[]),j.return=A,j)}function V(A,j,M,q,re){return j===null||j.tag!==7?(j=or(M,A.mode,q,re),j.return=A,j):(j=p(j,M),j.return=A,j)}function oe(A,j,M){if(typeof j=="string"&&j!==""||typeof j=="number")return j=gc(""+j,A.mode,M),j.return=A,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return M=Ao(j.type,j.key,j.props,null,A.mode,M),M.ref=Bs(A,null,j),M.return=A,M;case $:return j=mc(j,A.mode,M),j.return=A,j;case we:var q=j._init;return oe(A,q(j._payload),M)}if(gs(j)||te(j))return j=or(j,A.mode,M,null),j.return=A,j;ao(A,j)}return null}function K(A,j,M,q){var re=j!==null?j.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return re!==null?null:E(A,j,""+M,q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return M.key===re?O(A,j,M,q):null;case $:return M.key===re?F(A,j,M,q):null;case we:return re=M._init,K(A,j,re(M._payload),q)}if(gs(M)||te(M))return re!==null?null:V(A,j,M,q,null);ao(A,M)}return null}function Z(A,j,M,q,re){if(typeof q=="string"&&q!==""||typeof q=="number")return A=A.get(M)||null,E(j,A,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return A=A.get(q.key===null?M:q.key)||null,O(j,A,q,re);case $:return A=A.get(q.key===null?M:q.key)||null,F(j,A,q,re);case we:var le=q._init;return Z(A,j,M,le(q._payload),re)}if(gs(q)||te(q))return A=A.get(M)||null,V(j,A,q,re,null);ao(j,q)}return null}function Y(A,j,M,q){for(var re=null,le=null,ue=j,de=j=0,Ze=null;ue!==null&&de<M.length;de++){ue.index>de?(Ze=ue,ue=null):Ze=ue.sibling;var Ce=K(A,ue,M[de],q);if(Ce===null){ue===null&&(ue=Ze);break}s&&ue&&Ce.alternate===null&&i(A,ue),j=m(Ce,j,de),le===null?re=Ce:le.sibling=Ce,le=Ce,ue=Ze}if(de===M.length)return c(A,ue),Fe&&Zn(A,de),re;if(ue===null){for(;de<M.length;de++)ue=oe(A,M[de],q),ue!==null&&(j=m(ue,j,de),le===null?re=ue:le.sibling=ue,le=ue);return Fe&&Zn(A,de),re}for(ue=d(A,ue);de<M.length;de++)Ze=Z(ue,A,de,M[de],q),Ze!==null&&(s&&Ze.alternate!==null&&ue.delete(Ze.key===null?de:Ze.key),j=m(Ze,j,de),le===null?re=Ze:le.sibling=Ze,le=Ze);return s&&ue.forEach(function(Ln){return i(A,Ln)}),Fe&&Zn(A,de),re}function ve(A,j,M,q){var re=te(M);if(typeof re!="function")throw Error(t(150));if(M=re.call(M),M==null)throw Error(t(151));for(var le=re=null,ue=j,de=j=0,Ze=null,Ce=M.next();ue!==null&&!Ce.done;de++,Ce=M.next()){ue.index>de?(Ze=ue,ue=null):Ze=ue.sibling;var Ln=K(A,ue,Ce.value,q);if(Ln===null){ue===null&&(ue=Ze);break}s&&ue&&Ln.alternate===null&&i(A,ue),j=m(Ln,j,de),le===null?re=Ln:le.sibling=Ln,le=Ln,ue=Ze}if(Ce.done)return c(A,ue),Fe&&Zn(A,de),re;if(ue===null){for(;!Ce.done;de++,Ce=M.next())Ce=oe(A,Ce.value,q),Ce!==null&&(j=m(Ce,j,de),le===null?re=Ce:le.sibling=Ce,le=Ce);return Fe&&Zn(A,de),re}for(ue=d(A,ue);!Ce.done;de++,Ce=M.next())Ce=Z(ue,A,de,Ce.value,q),Ce!==null&&(s&&Ce.alternate!==null&&ue.delete(Ce.key===null?de:Ce.key),j=m(Ce,j,de),le===null?re=Ce:le.sibling=Ce,le=Ce);return s&&ue.forEach(function(u0){return i(A,u0)}),Fe&&Zn(A,de),re}function Ie(A,j,M,q){if(typeof M=="object"&&M!==null&&M.type===L&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case I:e:{for(var re=M.key,le=j;le!==null;){if(le.key===re){if(re=M.type,re===L){if(le.tag===7){c(A,le.sibling),j=p(le,M.props.children),j.return=A,A=j;break e}}else if(le.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===we&&yh(re)===le.type){c(A,le.sibling),j=p(le,M.props),j.ref=Bs(A,le,M),j.return=A,A=j;break e}c(A,le);break}else i(A,le);le=le.sibling}M.type===L?(j=or(M.props.children,A.mode,q,M.key),j.return=A,A=j):(q=Ao(M.type,M.key,M.props,null,A.mode,q),q.ref=Bs(A,j,M),q.return=A,A=q)}return x(A);case $:e:{for(le=M.key;j!==null;){if(j.key===le)if(j.tag===4&&j.stateNode.containerInfo===M.containerInfo&&j.stateNode.implementation===M.implementation){c(A,j.sibling),j=p(j,M.children||[]),j.return=A,A=j;break e}else{c(A,j);break}else i(A,j);j=j.sibling}j=mc(M,A.mode,q),j.return=A,A=j}return x(A);case we:return le=M._init,Ie(A,j,le(M._payload),q)}if(gs(M))return Y(A,j,M,q);if(te(M))return ve(A,j,M,q);ao(A,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,j!==null&&j.tag===6?(c(A,j.sibling),j=p(j,M),j.return=A,A=j):(c(A,j),j=gc(M,A.mode,q),j.return=A,A=j),x(A)):c(A,j)}return Ie}var zr=vh(!0),_h=vh(!1),Us={},Qt=Cn(Us),Hs=Cn(Us),Ws=Cn(Us);function er(s){if(s===Us)throw Error(t(174));return s}function Il(s,i){switch(Ae(Ws,i),Ae(Hs,s),Ae(Qt,Us),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:La(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=La(i,s)}De(Qt),Ae(Qt,i)}function Br(){De(Qt),De(Hs),De(Ws)}function wh(s){er(Ws.current);var i=er(Qt.current),c=La(i,s.type);i!==c&&(Ae(Hs,s),Ae(Qt,c))}function Ll(s){Hs.current===s&&(De(Qt),De(Hs))}var $e=Cn(0);function lo(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fl=[];function $l(){for(var s=0;s<Fl.length;s++)Fl[s]._workInProgressVersionPrimary=null;Fl.length=0}var co=N.ReactCurrentDispatcher,jt=N.ReactCurrentBatchConfig,Ur=0,Be=null,rt=null,Xe=null,uo=!1,Vs=!1,qs=0,Av=0;function st(){throw Error(t(321))}function zl(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!Yt(s[c],i[c]))return!1;return!0}function Bl(s,i,c,d,p,m){if(Ur=m,Be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,co.current=s===null||s.memoizedState===null?Iv:Lv,s=c(d,p),Vs){m=0;do{if(Vs=!1,qs=0,25<=m)throw Error(t(301));m+=1,Xe=rt=null,i.updateQueue=null,co.current=Fv,s=c(d,p)}while(Vs)}if(co.current=mo,i=rt!==null&&rt.next!==null,Ur=0,Xe=rt=Be=null,uo=!1,i)throw Error(t(300));return s}function Ul(){var s=qs!==0;return qs=0,s}function un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Be.memoizedState=Xe=s:Xe=Xe.next=s,Xe}function Xt(){if(rt===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=rt.next;var i=Xe===null?Be.memoizedState:Xe.next;if(i!==null)Xe=i,rt=s;else{if(s===null)throw Error(t(310));rt=s,s={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Xe===null?Be.memoizedState=Xe=s:Xe=Xe.next=s}return Xe}function tr(s,i){return typeof i=="function"?i(s):i}function ho(s){var i=Xt(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var d=rt,p=d.baseQueue,m=c.pending;if(m!==null){if(p!==null){var x=p.next;p.next=m.next,m.next=x}d.baseQueue=p=m,c.pending=null}if(p!==null){m=p.next,d=d.baseState;var E=x=null,O=null,F=m;do{var V=F.lane;if((Ur&V)===V)O!==null&&(O=O.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),d=F.hasEagerState?F.eagerState:s(d,F.action);else{var oe={lane:V,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};O===null?(E=O=oe,x=d):O=O.next=oe,Be.lanes|=V,Wr|=V}F=F.next}while(F!==null&&F!==m);O===null?x=d:O.next=E,Yt(d,i.memoizedState)||(St=!0),i.memoizedState=d,i.baseState=x,i.baseQueue=O,c.lastRenderedState=d}if(s=c.interleaved,s!==null){p=s;do m=p.lane,Be.lanes|=m,Wr|=m,p=p.next;while(p!==s)}else p===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function fo(s){var i=Xt(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var d=c.dispatch,p=c.pending,m=i.memoizedState;if(p!==null){c.pending=null;var x=p=p.next;do m=s(m,x.action),x=x.next;while(x!==p);Yt(m,i.memoizedState)||(St=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),c.lastRenderedState=m}return[m,d]}function bh(){}function xh(s,i){var c=Be,d=Xt(),p=i(),m=!Yt(d.memoizedState,p);if(m&&(d.memoizedState=p,St=!0),d=d.queue,Ys(Eh.bind(null,c,d,s),[s]),d.getSnapshot!==i||m||Xe!==null&&Xe.memoizedState.tag&1){if(c.flags|=2048,Ks(9,kh.bind(null,c,d,p,i),void 0,null),We===null)throw Error(t(349));(Ur&30)!==0||Sh(c,i,p)}return p}function Sh(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Be.updateQueue,i===null?(i={lastEffect:null,stores:null},Be.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function kh(s,i,c,d){i.value=c,i.getSnapshot=d,Th(i)&&At(s,1,-1)}function Eh(s,i,c){return c(function(){Th(i)&&At(s,1,-1)})}function Th(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!Yt(s,c)}catch{return!0}}function Hl(s){var i=un();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:s},i.queue=s,s=s.dispatch=Dv.bind(null,Be,s),[i.memoizedState,s]}function Ks(s,i,c,d){return s={tag:s,create:i,destroy:c,deps:d,next:null},i=Be.updateQueue,i===null?(i={lastEffect:null,stores:null},Be.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,i.lastEffect=s)),s}function Ch(){return Xt().memoizedState}function po(s,i,c,d){var p=un();Be.flags|=s,p.memoizedState=Ks(1|i,c,void 0,d===void 0?null:d)}function go(s,i,c,d){var p=Xt();d=d===void 0?null:d;var m=void 0;if(rt!==null){var x=rt.memoizedState;if(m=x.destroy,d!==null&&zl(d,x.deps)){p.memoizedState=Ks(i,c,m,d);return}}Be.flags|=s,p.memoizedState=Ks(1|i,c,m,d)}function Wl(s,i){return po(8390656,8,s,i)}function Ys(s,i){return go(2048,8,s,i)}function Oh(s,i){return go(4,2,s,i)}function Ph(s,i){return go(4,4,s,i)}function jh(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Rh(s,i,c){return c=c!=null?c.concat([s]):null,go(4,4,jh.bind(null,i,s),c)}function Vl(){}function Ah(s,i){var c=Xt();i=i===void 0?null:i;var d=c.memoizedState;return d!==null&&i!==null&&zl(i,d[1])?d[0]:(c.memoizedState=[s,i],s)}function Nh(s,i){var c=Xt();i=i===void 0?null:i;var d=c.memoizedState;return d!==null&&i!==null&&zl(i,d[1])?d[0]:(s=s(),c.memoizedState=[s,i],s)}function Nv(s,i){var c=Oe;Oe=c!==0&&4>c?c:4,s(!0);var d=jt.transition;jt.transition={};try{s(!1),i()}finally{Oe=c,jt.transition=d}}function Mh(){return Xt().memoizedState}function Mv(s,i,c){var d=Mn(s);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},Dh(s)?Ih(i,c):(Lh(s,i,c),c=ut(),s=At(s,d,c),s!==null&&Fh(s,i,d))}function Dv(s,i,c){var d=Mn(s),p={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Dh(s))Ih(i,p);else{Lh(s,i,p);var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var x=i.lastRenderedState,E=m(x,c);if(p.hasEagerState=!0,p.eagerState=E,Yt(E,x))return}catch{}finally{}c=ut(),s=At(s,d,c),s!==null&&Fh(s,i,d)}}function Dh(s){var i=s.alternate;return s===Be||i!==null&&i===Be}function Ih(s,i){Vs=uo=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function Lh(s,i,c){We!==null&&(s.mode&1)!==0&&(ke&2)===0?(s=i.interleaved,s===null?(c.next=c,Jt===null?Jt=[i]:Jt.push(i)):(c.next=s.next,s.next=c),i.interleaved=c):(s=i.pending,s===null?c.next=c:(c.next=s.next,s.next=c),i.pending=c)}function Fh(s,i,c){if((c&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,c|=d,i.lanes=c,Ga(s,c)}}var mo={readContext:Ct,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Iv={readContext:Ct,useCallback:function(s,i){return un().memoizedState=[s,i===void 0?null:i],s},useContext:Ct,useEffect:Wl,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,po(4194308,4,jh.bind(null,i,s),c)},useLayoutEffect:function(s,i){return po(4194308,4,s,i)},useInsertionEffect:function(s,i){return po(4,2,s,i)},useMemo:function(s,i){var c=un();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var d=un();return i=c!==void 0?c(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=Mv.bind(null,Be,s),[d.memoizedState,s]},useRef:function(s){var i=un();return s={current:s},i.memoizedState=s},useState:Hl,useDebugValue:Vl,useDeferredValue:function(s){var i=Hl(s),c=i[0],d=i[1];return Wl(function(){var p=jt.transition;jt.transition={};try{d(s)}finally{jt.transition=p}},[s]),c},useTransition:function(){var s=Hl(!1),i=s[0];return s=Nv.bind(null,s[1]),un().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var d=Be,p=un();if(Fe){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),We===null)throw Error(t(349));(Ur&30)!==0||Sh(d,i,c)}p.memoizedState=c;var m={value:c,getSnapshot:i};return p.queue=m,Wl(Eh.bind(null,d,m,s),[s]),d.flags|=2048,Ks(9,kh.bind(null,d,m,c,i),void 0,null),c},useId:function(){var s=un(),i=We.identifierPrefix;if(Fe){var c=cn,d=ln;c=(d&~(1<<32-zt(d)-1)).toString(32)+c,i=":"+i+"R"+c,c=qs++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Av++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Lv={readContext:Ct,useCallback:Ah,useContext:Ct,useEffect:Ys,useImperativeHandle:Rh,useInsertionEffect:Oh,useLayoutEffect:Ph,useMemo:Nh,useReducer:ho,useRef:Ch,useState:function(){return ho(tr)},useDebugValue:Vl,useDeferredValue:function(s){var i=ho(tr),c=i[0],d=i[1];return Ys(function(){var p=jt.transition;jt.transition={};try{d(s)}finally{jt.transition=p}},[s]),c},useTransition:function(){var s=ho(tr)[0],i=Xt().memoizedState;return[s,i]},useMutableSource:bh,useSyncExternalStore:xh,useId:Mh,unstable_isNewReconciler:!1},Fv={readContext:Ct,useCallback:Ah,useContext:Ct,useEffect:Ys,useImperativeHandle:Rh,useInsertionEffect:Oh,useLayoutEffect:Ph,useMemo:Nh,useReducer:fo,useRef:Ch,useState:function(){return fo(tr)},useDebugValue:Vl,useDeferredValue:function(s){var i=fo(tr),c=i[0],d=i[1];return Ys(function(){var p=jt.transition;jt.transition={};try{d(s)}finally{jt.transition=p}},[s]),c},useTransition:function(){var s=fo(tr)[0],i=Xt().memoizedState;return[s,i]},useMutableSource:bh,useSyncExternalStore:xh,useId:Mh,unstable_isNewReconciler:!1};function ql(s,i){try{var c="",d=i;do c+=Q(d),d=d.return;while(d);var p=c}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:s,source:i,stack:p}}function Kl(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var $v=typeof WeakMap=="function"?WeakMap:Map;function $h(s,i,c){c=an(-1,c),c.tag=3,c.payload={element:null};var d=i.value;return c.callback=function(){Eo||(Eo=!0,ac=d),Kl(s,i)},c}function zh(s,i,c){c=an(-1,c),c.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;c.payload=function(){return d(p)},c.callback=function(){Kl(s,i)}}var m=s.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(c.callback=function(){Kl(s,i),typeof d!="function"&&(An===null?An=new Set([this]):An.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),c}function Bh(s,i,c){var d=s.pingCache;if(d===null){d=s.pingCache=new $v;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(c)||(p.add(c),s=Zv.bind(null,s,i,c),i.then(s,s))}function Uh(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Hh(s,i,c,d,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=an(-1,1),i.tag=2,Rn(c,i))),c.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var Wh,Yl,Vh,qh;Wh=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Yl=function(){},Vh=function(s,i,c,d){var p=s.memoizedProps;if(p!==d){s=i.stateNode,er(Qt.current);var m=null;switch(c){case"input":p=ps(s,p),d=ps(s,d),m=[];break;case"select":p=T({},p,{value:void 0}),d=T({},d,{value:void 0}),m=[];break;case"textarea":p=Ia(s,p),d=Ia(s,d),m=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Gi)}Fa(c,d);var x;c=null;for(F in p)if(!d.hasOwnProperty(F)&&p.hasOwnProperty(F)&&p[F]!=null)if(F==="style"){var E=p[F];for(x in E)E.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?m||(m=[]):(m=m||[]).push(F,null));for(F in d){var O=d[F];if(E=p!=null?p[F]:void 0,d.hasOwnProperty(F)&&O!==E&&(O!=null||E!=null))if(F==="style")if(E){for(x in E)!E.hasOwnProperty(x)||O&&O.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in O)O.hasOwnProperty(x)&&E[x]!==O[x]&&(c||(c={}),c[x]=O[x])}else c||(m||(m=[]),m.push(F,c)),c=O;else F==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(m=m||[]).push(F,O)):F==="children"?typeof O!="string"&&typeof O!="number"||(m=m||[]).push(F,""+O):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(O!=null&&F==="onScroll"&&Me("scroll",s),m||E===O||(m=[])):(m=m||[]).push(F,O))}c&&(m=m||[]).push("style",c);var F=m;(i.updateQueue=F)&&(i.flags|=4)}},qh=function(s,i,c,d){c!==d&&(i.flags|=4)};function Gs(s,i){if(!Fe)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function it(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(i)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=c,i}function zv(s,i,c){var d=i.pendingProps;switch(Al(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return ht(i.type)&&Qi(),it(i),null;case 3:return d=i.stateNode,Br(),De(dt),De(nt),$l(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(zs(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ut!==null&&(uc(Ut),Ut=null))),Yl(s,i),it(i),null;case 5:Ll(i);var p=er(Ws.current);if(c=i.type,s!==null&&i.stateNode!=null)Vh(s,i,c,d,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return it(i),null}if(s=er(Qt.current),zs(i)){d=i.stateNode,c=i.type;var m=i.memoizedProps;switch(d[Gt]=i,d[Fs]=m,s=(i.mode&1)!==0,c){case"dialog":Me("cancel",d),Me("close",d);break;case"iframe":case"object":case"embed":Me("load",d);break;case"video":case"audio":for(p=0;p<Ds.length;p++)Me(Ds[p],d);break;case"source":Me("error",d);break;case"img":case"image":case"link":Me("error",d),Me("load",d);break;case"details":Me("toggle",d);break;case"input":Ci(d,m),Me("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!m.multiple},Me("invalid",d);break;case"textarea":Vu(d,m),Me("invalid",d)}Fa(c,m),p=null;for(var x in m)if(m.hasOwnProperty(x)){var E=m[x];x==="children"?typeof E=="string"?d.textContent!==E&&(Yi(d.textContent,E,s),p=["children",E]):typeof E=="number"&&d.textContent!==""+E&&(Yi(d.textContent,E,s),p=["children",""+E]):o.hasOwnProperty(x)&&E!=null&&x==="onScroll"&&Me("scroll",d)}switch(c){case"input":_n(d),Wu(d,m,!0);break;case"textarea":_n(d),Ku(d);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(d.onclick=Gi)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Yu(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=x.createElement(c,{is:d.is}):(s=x.createElement(c),c==="select"&&(x=s,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):s=x.createElementNS(s,c),s[Gt]=i,s[Fs]=d,Wh(s,i,!1,!1),i.stateNode=s;e:{switch(x=$a(c,d),c){case"dialog":Me("cancel",s),Me("close",s),p=d;break;case"iframe":case"object":case"embed":Me("load",s),p=d;break;case"video":case"audio":for(p=0;p<Ds.length;p++)Me(Ds[p],s);p=d;break;case"source":Me("error",s),p=d;break;case"img":case"image":case"link":Me("error",s),Me("load",s),p=d;break;case"details":Me("toggle",s),p=d;break;case"input":Ci(s,d),p=ps(s,d),Me("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=T({},d,{value:void 0}),Me("invalid",s);break;case"textarea":Vu(s,d),p=Ia(s,d),Me("invalid",s);break;default:p=d}Fa(c,p),E=p;for(m in E)if(E.hasOwnProperty(m)){var O=E[m];m==="style"?Qu(s,O):m==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Gu(s,O)):m==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&ms(s,O):typeof O=="number"&&ms(s,""+O):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?O!=null&&m==="onScroll"&&Me("scroll",s):O!=null&&R(s,m,O,x))}switch(c){case"input":_n(s),Wu(s,d,!1);break;case"textarea":_n(s),Ku(s);break;case"option":d.value!=null&&s.setAttribute("value",""+pe(d.value));break;case"select":s.multiple=!!d.multiple,m=d.value,m!=null?xr(s,!!d.multiple,m,!1):d.defaultValue!=null&&xr(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Gi)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return it(i),null;case 6:if(s&&i.stateNode!=null)qh(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(c=er(Ws.current),er(Qt.current),zs(i)){if(d=i.stateNode,c=i.memoizedProps,d[Gt]=i,(m=d.nodeValue!==c)&&(s=xt,s!==null))switch(x=(s.mode&1)!==0,s.tag){case 3:Yi(d.nodeValue,c,x);break;case 5:s.memoizedProps[void 0]!==!0&&Yi(d.nodeValue,c,x)}m&&(i.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[Gt]=i,i.stateNode=d}return it(i),null;case 13:if(De($e),d=i.memoizedState,Fe&&ft!==null&&(i.mode&1)!==0&&(i.flags&128)===0){for(d=ft;d;)d=rn(d.nextSibling);return $r(),i.flags|=98560,i}if(d!==null&&d.dehydrated!==null){if(d=zs(i),s===null){if(!d)throw Error(t(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));d[Gt]=i}else $r(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;return it(i),null}return Ut!==null&&(uc(Ut),Ut=null),(i.flags&128)!==0?(i.lanes=c,i):(d=d!==null,c=!1,s===null?zs(i):c=s.memoizedState!==null,d&&!c&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||($e.current&1)!==0?Ye===0&&(Ye=3):fc())),i.updateQueue!==null&&(i.flags|=4),it(i),null);case 4:return Br(),Yl(s,i),s===null&&Is(i.stateNode.containerInfo),it(i),null;case 10:return Tl(i.type._context),it(i),null;case 17:return ht(i.type)&&Qi(),it(i),null;case 19:if(De($e),m=i.memoizedState,m===null)return it(i),null;if(d=(i.flags&128)!==0,x=m.rendering,x===null)if(d)Gs(m,!1);else{if(Ye!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(x=lo(s),x!==null){for(i.flags|=128,Gs(m,!1),d=x.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=c,c=i.child;c!==null;)m=c,s=d,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=s,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,s=x.dependencies,m.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ae($e,$e.current&1|2),i.child}s=s.sibling}m.tail!==null&&Ue()>Vr&&(i.flags|=128,d=!0,Gs(m,!1),i.lanes=4194304)}else{if(!d)if(s=lo(x),s!==null){if(i.flags|=128,d=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Gs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Fe)return it(i),null}else 2*Ue()-m.renderingStartTime>Vr&&c!==1073741824&&(i.flags|=128,d=!0,Gs(m,!1),i.lanes=4194304);m.isBackwards?(x.sibling=i.child,i.child=x):(c=m.last,c!==null?c.sibling=x:i.child=x,m.last=x)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ue(),i.sibling=null,c=$e.current,Ae($e,d?c&1|2:c&1),i):(it(i),null);case 22:case 23:return hc(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(kt&1073741824)!==0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}var Bv=N.ReactCurrentOwner,St=!1;function ct(s,i,c,d){i.child=s===null?_h(i,null,c,d):zr(i,s.child,c,d)}function Kh(s,i,c,d,p){c=c.render;var m=i.ref;return Ir(i,p),d=Bl(s,i,c,d,m,p),c=Ul(),s!==null&&!St?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,dn(s,i,p)):(Fe&&c&&Rl(i),i.flags|=1,ct(s,i,d,p),i.child)}function Yh(s,i,c,d,p){if(s===null){var m=c.type;return typeof m=="function"&&!pc(m)&&m.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=m,Gh(s,i,m,d,p)):(s=Ao(c.type,null,d,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(m=s.child,(s.lanes&p)===0){var x=m.memoizedProps;if(c=c.compare,c=c!==null?c:Ns,c(x,d)&&s.ref===i.ref)return dn(s,i,p)}return i.flags|=1,s=In(m,d),s.ref=i.ref,s.return=i,i.child=s}function Gh(s,i,c,d,p){if(s!==null&&Ns(s.memoizedProps,d)&&s.ref===i.ref)if(St=!1,(s.lanes&p)!==0)(s.flags&131072)!==0&&(St=!0);else return i.lanes=s.lanes,dn(s,i,p);return Gl(s,i,c,d,p)}function Jh(s,i,c){var d=i.pendingProps,p=d.children,m=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null},Ae(Hr,kt),kt|=c;else if((c&1073741824)!==0)i.memoizedState={baseLanes:0,cachePool:null},d=m!==null?m.baseLanes:c,Ae(Hr,kt),kt|=d;else return s=m!==null?m.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null},i.updateQueue=null,Ae(Hr,kt),kt|=s,null;else m!==null?(d=m.baseLanes|c,i.memoizedState=null):d=c,Ae(Hr,kt),kt|=d;return ct(s,i,p,c),i.child}function Qh(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Gl(s,i,c,d,p){var m=ht(c)?Qn:nt.current;return m=Mr(i,m),Ir(i,p),c=Bl(s,i,c,d,m,p),d=Ul(),s!==null&&!St?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,dn(s,i,p)):(Fe&&d&&Rl(i),i.flags|=1,ct(s,i,c,p),i.child)}function Xh(s,i,c,d,p){if(ht(c)){var m=!0;Xi(i)}else m=!1;if(Ir(i,p),i.stateNode===null)s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2),dh(i,c,d),jl(i,c,d,p),d=!0;else if(s===null){var x=i.stateNode,E=i.memoizedProps;x.props=E;var O=x.context,F=c.contextType;typeof F=="object"&&F!==null?F=Ct(F):(F=ht(c)?Qn:nt.current,F=Mr(i,F));var V=c.getDerivedStateFromProps,oe=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function";oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==d||O!==F)&&hh(i,x,d,F),jn=!1;var K=i.memoizedState;x.state=K,ro(i,d,x,p),O=i.memoizedState,E!==d||K!==O||dt.current||jn?(typeof V=="function"&&(Pl(i,c,V,d),O=i.memoizedState),(E=jn||uh(i,c,E,d,K,O,F))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=O),x.props=d,x.state=O,x.context=F,d=E):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{x=i.stateNode,oh(s,i),E=i.memoizedProps,F=i.type===i.elementType?E:Bt(i.type,E),x.props=F,oe=i.pendingProps,K=x.context,O=c.contextType,typeof O=="object"&&O!==null?O=Ct(O):(O=ht(c)?Qn:nt.current,O=Mr(i,O));var Z=c.getDerivedStateFromProps;(V=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==oe||K!==O)&&hh(i,x,d,O),jn=!1,K=i.memoizedState,x.state=K,ro(i,d,x,p);var Y=i.memoizedState;E!==oe||K!==Y||dt.current||jn?(typeof Z=="function"&&(Pl(i,c,Z,d),Y=i.memoizedState),(F=jn||uh(i,c,F,d,K,Y,O)||!1)?(V||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,Y,O),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,Y,O)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Y),x.props=d,x.state=Y,x.context=O,d=F):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),d=!1)}return Jl(s,i,c,d,m,p)}function Jl(s,i,c,d,p,m){Qh(s,i);var x=(i.flags&128)!==0;if(!d&&!x)return p&&sh(i,c,!1),dn(s,i,m);d=i.stateNode,Bv.current=i;var E=x&&typeof c.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&x?(i.child=zr(i,s.child,null,m),i.child=zr(i,null,E,m)):ct(s,i,E,m),i.memoizedState=d.state,p&&sh(i,c,!0),i.child}function Zh(s){var i=s.stateNode;i.pendingContext?nh(s,i.pendingContext,i.pendingContext!==i.context):i.context&&nh(s,i.context,!1),Il(s,i.containerInfo)}function ef(s,i,c,d,p){return $r(),Dl(p),i.flags|=256,ct(s,i,c,d),i.child}var yo={dehydrated:null,treeContext:null,retryLane:0};function vo(s){return{baseLanes:s,cachePool:null}}function tf(s,i,c){var d=i.pendingProps,p=$e.current,m=!1,x=(i.flags&128)!==0,E;if((E=x)||(E=s!==null&&s.memoizedState===null?!1:(p&2)!==0),E?(m=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Ae($e,p&1),s===null)return Ml(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(p=d.children,s=d.fallback,m?(d=i.mode,m=i.child,p={mode:"hidden",children:p},(d&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=p):m=No(p,d,0,null),s=or(s,d,c,null),m.return=i,s.return=i,m.sibling=s,i.child=m,i.child.memoizedState=vo(c),i.memoizedState=yo,s):Ql(i,p));if(p=s.memoizedState,p!==null){if(E=p.dehydrated,E!==null){if(x)return i.flags&256?(i.flags&=-257,_o(s,i,c,Error(t(422)))):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(m=d.fallback,p=i.mode,d=No({mode:"visible",children:d.children},p,0,null),m=or(m,p,c,null),m.flags|=2,d.return=i,m.return=i,d.sibling=m,i.child=d,(i.mode&1)!==0&&zr(i,s.child,null,c),i.child.memoizedState=vo(c),i.memoizedState=yo,m);if((i.mode&1)===0)i=_o(s,i,c,null);else if(E.data==="$!")i=_o(s,i,c,Error(t(419)));else if(d=(c&s.childLanes)!==0,St||d){if(d=We,d!==null){switch(c&-c){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}d=(m&(d.suspendedLanes|c))!==0?0:m,d!==0&&d!==p.retryLane&&(p.retryLane=d,At(s,d,-1))}fc(),i=_o(s,i,c,Error(t(421)))}else E.data==="$?"?(i.flags|=128,i.child=s.child,i=e0.bind(null,s),E._reactRetry=i,i=null):(c=p.treeContext,ft=rn(E.nextSibling),xt=i,Fe=!0,Ut=null,c!==null&&(Ot[Pt++]=ln,Ot[Pt++]=cn,Ot[Pt++]=Xn,ln=c.id,cn=c.overflow,Xn=i),i=Ql(i,i.pendingProps.children),i.flags|=4096);return i}return m?(d=rf(s,i,d.children,d.fallback,c),m=i.child,p=s.child.memoizedState,m.memoizedState=p===null?vo(c):{baseLanes:p.baseLanes|c,cachePool:null},m.childLanes=s.childLanes&~c,i.memoizedState=yo,d):(c=nf(s,i,d.children,c),i.memoizedState=null,c)}return m?(d=rf(s,i,d.children,d.fallback,c),m=i.child,p=s.child.memoizedState,m.memoizedState=p===null?vo(c):{baseLanes:p.baseLanes|c,cachePool:null},m.childLanes=s.childLanes&~c,i.memoizedState=yo,d):(c=nf(s,i,d.children,c),i.memoizedState=null,c)}function Ql(s,i){return i=No({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function nf(s,i,c,d){var p=s.child;return s=p.sibling,c=In(p,{mode:"visible",children:c}),(i.mode&1)===0&&(c.lanes=d),c.return=i,c.sibling=null,s!==null&&(d=i.deletions,d===null?(i.deletions=[s],i.flags|=16):d.push(s)),i.child=c}function rf(s,i,c,d,p){var m=i.mode;s=s.child;var x=s.sibling,E={mode:"hidden",children:c};return(m&1)===0&&i.child!==s?(c=i.child,c.childLanes=0,c.pendingProps=E,i.deletions=null):(c=In(s,E),c.subtreeFlags=s.subtreeFlags&14680064),x!==null?d=In(x,d):(d=or(d,m,p,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,d}function _o(s,i,c,d){return d!==null&&Dl(d),zr(i,s.child,null,c),s=Ql(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function sf(s,i,c){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),Cl(s.return,i,c)}function Xl(s,i,c,d,p){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=c,m.tailMode=p)}function of(s,i,c){var d=i.pendingProps,p=d.revealOrder,m=d.tail;if(ct(s,i,d.children,c),d=$e.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sf(s,c,i);else if(s.tag===19)sf(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Ae($e,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(c=i.child,p=null;c!==null;)s=c.alternate,s!==null&&lo(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=i.child,i.child=null):(p=c.sibling,c.sibling=null),Xl(i,!1,p,c,m);break;case"backwards":for(c=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&lo(s)===null){i.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}Xl(i,!0,c,null,m);break;case"together":Xl(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function dn(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),Wr|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,c=In(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=In(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function Uv(s,i,c){switch(i.tag){case 3:Zh(i),$r();break;case 5:wh(i);break;case 1:ht(i.type)&&Xi(i);break;case 4:Il(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;Ae(eo,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Ae($e,$e.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?tf(s,i,c):(Ae($e,$e.current&1),s=dn(s,i,c),s!==null?s.sibling:null);Ae($e,$e.current&1);break;case 19:if(d=(c&i.childLanes)!==0,(s.flags&128)!==0){if(d)return of(s,i,c);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ae($e,$e.current),d)break;return null;case 22:case 23:return i.lanes=0,Jh(s,i,c)}return dn(s,i,c)}function Hv(s,i){switch(Al(i),i.tag){case 1:return ht(i.type)&&Qi(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Br(),De(dt),De(nt),$l(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Ll(i),null;case 13:if(De($e),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));$r()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return De($e),null;case 4:return Br(),null;case 10:return Tl(i.type._context),null;case 22:case 23:return hc(),null;case 24:return null;default:return null}}var wo=!1,nr=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,X=null;function bo(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){mt(s,i,d)}else c.current=null}function Zl(s,i,c){try{c()}catch(d){mt(s,i,d)}}var af=!1;function Vv(s,i){if(s=zd(),cl(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,m=d.focusNode;d=d.focusOffset;try{c.nodeType,m.nodeType}catch{c=null;break e}var x=0,E=-1,O=-1,F=0,V=0,oe=s,K=null;t:for(;;){for(var Z;oe!==c||p!==0&&oe.nodeType!==3||(E=x+p),oe!==m||d!==0&&oe.nodeType!==3||(O=x+d),oe.nodeType===3&&(x+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)K=oe,oe=Z;for(;;){if(oe===s)break t;if(K===c&&++F===p&&(E=x),K===m&&++V===d&&(O=x),(Z=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=Z}c=E===-1||O===-1?null:{start:E,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(yl={focusedElem:s,selectionRange:c},X=i;X!==null;)if(i=X,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,X=s;else for(;X!==null;){i=X;try{var Y=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var ve=Y.memoizedProps,Ie=Y.memoizedState,A=i.stateNode,j=A.getSnapshotBeforeUpdate(i.elementType===i.type?ve:Bt(i.type,ve),Ie);A.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var M=i.stateNode.containerInfo;if(M.nodeType===1)M.textContent="";else if(M.nodeType===9){var q=M.body;q!=null&&(q.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){mt(i,i.return,re)}if(s=i.sibling,s!==null){s.return=i.return,X=s;break}X=i.return}return Y=af,af=!1,Y}function Js(s,i,c){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var m=p.destroy;p.destroy=void 0,m!==void 0&&Zl(i,c,m)}p=p.next}while(p!==d)}}function xo(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var d=c.create;c.destroy=d()}c=c.next}while(c!==i)}}function ec(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function lf(s,i,c){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ai,i)}catch{}switch(i.tag){case 0:case 11:case 14:case 15:if(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null)){var d=s=s.next;do{var p=d,m=p.destroy;p=p.tag,m!==void 0&&((p&2)!==0||(p&4)!==0)&&Zl(i,c,m),d=d.next}while(d!==s)}break;case 1:if(bo(i,c),s=i.stateNode,typeof s.componentWillUnmount=="function")try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(x){mt(i,c,x)}break;case 5:bo(i,c);break;case 4:ff(s,i,c)}}function cf(s){var i=s.alternate;i!==null&&(s.alternate=null,cf(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Gt],delete i[Fs],delete i[bl],delete i[Ov],delete i[Pv])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function uf(s){return s.tag===5||s.tag===3||s.tag===4}function df(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||uf(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hf(s){e:{for(var i=s.return;i!==null;){if(uf(i))break e;i=i.return}throw Error(t(160))}var c=i;switch(c.tag){case 5:i=c.stateNode,c.flags&32&&(ms(i,""),c.flags&=-33),c=df(s),nc(s,c,i);break;case 3:case 4:i=c.stateNode.containerInfo,c=df(s),tc(s,c,i);break;default:throw Error(t(161))}}function tc(s,i,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Gi));else if(d!==4&&(s=s.child,s!==null))for(tc(s,i,c),s=s.sibling;s!==null;)tc(s,i,c),s=s.sibling}function nc(s,i,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(nc(s,i,c),s=s.sibling;s!==null;)nc(s,i,c),s=s.sibling}function ff(s,i,c){for(var d=i,p=!1,m,x;;){if(!p){p=d.return;e:for(;;){if(p===null)throw Error(t(160));switch(m=p.stateNode,p.tag){case 5:x=!1;break e;case 3:m=m.containerInfo,x=!0;break e;case 4:m=m.containerInfo,x=!0;break e}p=p.return}p=!0}if(d.tag===5||d.tag===6){e:for(var E=s,O=d,F=c,V=O;;)if(lf(E,V,F),V.child!==null&&V.tag!==4)V.child.return=V,V=V.child;else{if(V===O)break e;for(;V.sibling===null;){if(V.return===null||V.return===O)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}x?(E=m,O=d.stateNode,E.nodeType===8?E.parentNode.removeChild(O):E.removeChild(O)):m.removeChild(d.stateNode)}else if(d.tag===18)x?(E=m,O=d.stateNode,E.nodeType===8?wl(E.parentNode,O):E.nodeType===1&&wl(E,O),Cs(E)):wl(m,d.stateNode);else if(d.tag===4){if(d.child!==null){m=d.stateNode.containerInfo,x=!0,d.child.return=d,d=d.child;continue}}else if(lf(s,d,c),d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break;for(;d.sibling===null;){if(d.return===null||d.return===i)return;d=d.return,d.tag===4&&(p=!1)}d.sibling.return=d.return,d=d.sibling}}function rc(s,i){switch(i.tag){case 0:case 11:case 14:case 15:Js(3,i,i.return),xo(3,i),Js(5,i,i.return);return;case 1:return;case 5:var c=i.stateNode;if(c!=null){var d=i.memoizedProps,p=s!==null?s.memoizedProps:d;s=i.type;var m=i.updateQueue;if(i.updateQueue=null,m!==null){for(s==="input"&&d.type==="radio"&&d.name!=null&&Hu(c,d),$a(s,p),i=$a(s,d),p=0;p<m.length;p+=2){var x=m[p],E=m[p+1];x==="style"?Qu(c,E):x==="dangerouslySetInnerHTML"?Gu(c,E):x==="children"?ms(c,E):R(c,x,E,i)}switch(s){case"input":Ma(c,d);break;case"textarea":qu(c,d);break;case"select":s=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,m=d.value,m!=null?xr(c,!!d.multiple,m,!1):s!==!!d.multiple&&(d.defaultValue!=null?xr(c,!!d.multiple,d.defaultValue,!0):xr(c,!!d.multiple,d.multiple?[]:"",!1))}c[Fs]=d}}return;case 6:if(i.stateNode===null)throw Error(t(162));i.stateNode.nodeValue=i.memoizedProps;return;case 3:s!==null&&s.memoizedState.isDehydrated&&Cs(i.stateNode.containerInfo);return;case 12:return;case 13:pf(i);return;case 19:pf(i);return;case 17:return}throw Error(t(163))}function pf(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Wv),i.forEach(function(d){var p=t0.bind(null,s,d);c.has(d)||(c.add(d),d.then(p,p))})}}function qv(s,i){for(X=i;X!==null;){i=X;var c=i.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];try{ff(s,p,i);var m=p.alternate;m!==null&&(m.return=null),p.return=null}catch(de){mt(p,i,de)}}if(c=i.child,(i.subtreeFlags&12854)!==0&&c!==null)c.return=i,X=c;else for(;X!==null;){i=X;try{var x=i.flags;if(x&32&&ms(i.stateNode,""),x&512){var E=i.alternate;if(E!==null){var O=E.ref;O!==null&&(typeof O=="function"?O(null):O.current=null)}}if(x&8192)switch(i.tag){case 13:if(i.memoizedState!==null){var F=i.alternate;(F===null||F.memoizedState===null)&&(oc=Ue())}break;case 22:var V=i.memoizedState!==null,oe=i.alternate,K=oe!==null&&oe.memoizedState!==null;c=i;e:{d=c,p=V;for(var Z=null,Y=d;;){if(Y.tag===5){if(Z===null){Z=Y;var ve=Y.stateNode;if(p){var Ie=ve.style;typeof Ie.setProperty=="function"?Ie.setProperty("display","none","important"):Ie.display="none"}else{var A=Y.stateNode,j=Y.memoizedProps.style,M=j!=null&&j.hasOwnProperty("display")?j.display:null;A.style.display=Ju("display",M)}}}else if(Y.tag===6)Z===null&&(Y.stateNode.nodeValue=p?"":Y.memoizedProps);else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===d)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===d)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===d)break e;Z===Y&&(Z=null),Y=Y.return}Z===Y&&(Z=null),Y.sibling.return=Y.return,Y=Y.sibling}}if(V&&!K&&(c.mode&1)!==0){X=c;for(var q=c.child;q!==null;){for(c=X=q;X!==null;){d=X;var re=d.child;switch(d.tag){case 0:case 11:case 14:case 15:Js(4,d,d.return);break;case 1:bo(d,d.return);var le=d.stateNode;if(typeof le.componentWillUnmount=="function"){var ue=d.return;try{le.props=d.memoizedProps,le.state=d.memoizedState,le.componentWillUnmount()}catch(de){mt(d,ue,de)}}break;case 5:bo(d,d.return);break;case 22:if(d.memoizedState!==null){yf(c);continue}}re!==null?(re.return=d,X=re):yf(c)}q=q.sibling}}}switch(x&4102){case 2:hf(i),i.flags&=-3;break;case 6:hf(i),i.flags&=-3,rc(i.alternate,i);break;case 4096:i.flags&=-4097;break;case 4100:i.flags&=-4097,rc(i.alternate,i);break;case 4:rc(i.alternate,i)}}catch(de){mt(i,i.return,de)}if(c=i.sibling,c!==null){c.return=i.return,X=c;break}X=i.return}}}function Kv(s,i,c){X=s,gf(s)}function gf(s,i,c){for(var d=(s.mode&1)!==0;X!==null;){var p=X,m=p.child;if(p.tag===22&&d){var x=p.memoizedState!==null||wo;if(!x){var E=p.alternate,O=E!==null&&E.memoizedState!==null||nr;E=wo;var F=nr;if(wo=x,(nr=O)&&!F)for(X=p;X!==null;)x=X,O=x.child,x.tag===22&&x.memoizedState!==null?vf(p):O!==null?(O.return=x,X=O):vf(p);for(;m!==null;)X=m,gf(m),m=m.sibling;X=p,wo=E,nr=F}mf(s)}else(p.subtreeFlags&8772)!==0&&m!==null?(m.return=p,X=m):mf(s)}}function mf(s){for(;X!==null;){var i=X;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:nr||xo(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!nr)if(c===null)d.componentDidMount();else{var p=i.elementType===i.type?c.memoizedProps:Bt(i.type,c.memoizedProps);d.componentDidUpdate(p,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&lh(i,m,d);break;case 3:var x=i.updateQueue;if(x!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}lh(i,x,c)}break;case 5:var E=i.stateNode;if(c===null&&i.flags&4){c=E;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var F=i.alternate;if(F!==null){var V=F.memoizedState;if(V!==null){var oe=V.dehydrated;oe!==null&&Cs(oe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(t(163))}nr||i.flags&512&&ec(i)}catch(K){mt(i,i.return,K)}}if(i===s){X=null;break}if(c=i.sibling,c!==null){c.return=i.return,X=c;break}X=i.return}}function yf(s){for(;X!==null;){var i=X;if(i===s){X=null;break}var c=i.sibling;if(c!==null){c.return=i.return,X=c;break}X=i.return}}function vf(s){for(;X!==null;){var i=X;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{xo(4,i)}catch(O){mt(i,c,O)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(O){mt(i,p,O)}}var m=i.return;try{ec(i)}catch(O){mt(i,m,O)}break;case 5:var x=i.return;try{ec(i)}catch(O){mt(i,x,O)}}}catch(O){mt(i,i.return,O)}if(i===s){X=null;break}var E=i.sibling;if(E!==null){E.return=i.return,X=E;break}X=i.return}}var Yv=Math.ceil,So=N.ReactCurrentDispatcher,sc=N.ReactCurrentOwner,Rt=N.ReactCurrentBatchConfig,ke=0,We=null,Ve=null,et=0,kt=0,Hr=Cn(0),Ye=0,Qs=null,Wr=0,ko=0,ic=0,Xs=null,pt=null,oc=0,Vr=1/0,Eo=!1,ac=null,An=null,To=!1,Nn=null,Co=0,Zs=0,lc=null,Oo=-1,Po=0;function ut(){return(ke&6)!==0?Ue():Oo!==-1?Oo:Oo=Ue()}function Mn(s){return(s.mode&1)===0?1:(ke&2)!==0&&et!==0?et&-et:Rv.transition!==null?(Po===0&&(s=Ni,Ni<<=1,(Ni&4194240)===0&&(Ni=64),Po=s),Po):(s=Oe,s!==0||(s=window.event,s=s===void 0?16:wd(s.type)),s)}function At(s,i,c){if(50<Zs)throw Zs=0,lc=null,Error(t(185));var d=jo(s,i);return d===null?null:(xs(d,i,c),((ke&2)===0||d!==We)&&(d===We&&((ke&2)===0&&(ko|=i),Ye===4&&Dn(d,et)),gt(d,c),i===1&&ke===0&&(s.mode&1)===0&&(Vr=Ue()+500,Zi&&Pn())),d)}function jo(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}function gt(s,i){var c=s.callbackNode;Ry(s,i);var d=Di(s,s===We?et:0);if(d===0)c!==null&&cd(c),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(c!=null&&cd(c),i===1)s.tag===0?jv(wf.bind(null,s)):ih(wf.bind(null,s)),Tv(function(){ke===0&&Pn()}),c=null;else{switch(hd(d)){case 1:c=qa;break;case 4:c=ud;break;case 16:c=Ri;break;case 536870912:c=dd;break;default:c=Ri}c=Of(c,_f.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function _f(s,i){if(Oo=-1,Po=0,(ke&6)!==0)throw Error(t(327));var c=s.callbackNode;if(qr()&&s.callbackNode!==c)return null;var d=Di(s,s===We?et:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Ro(s,d);else{i=d;var p=ke;ke|=2;var m=xf();(We!==s||et!==i)&&(Vr=Ue()+500,sr(s,i));do try{Qv();break}catch(E){bf(s,E)}while(!0);El(),So.current=m,ke=p,Ve!==null?i=0:(We=null,et=0,i=Ye)}if(i!==0){if(i===2&&(p=Ka(s),p!==0&&(d=p,i=cc(s,p))),i===1)throw c=Qs,sr(s,0),Dn(s,d),gt(s,Ue()),c;if(i===6)Dn(s,d);else{if(p=s.current.alternate,(d&30)===0&&!Gv(p)&&(i=Ro(s,d),i===2&&(m=Ka(s),m!==0&&(d=m,i=cc(s,m))),i===1))throw c=Qs,sr(s,0),Dn(s,d),gt(s,Ue()),c;switch(s.finishedWork=p,s.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:ir(s,pt);break;case 3:if(Dn(s,d),(d&130023424)===d&&(i=oc+500-Ue(),10<i)){if(Di(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){ut(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=_l(ir.bind(null,s,pt),i);break}ir(s,pt);break;case 4:if(Dn(s,d),(d&4194240)===d)break;for(i=s.eventTimes,p=-1;0<d;){var x=31-zt(d);m=1<<x,x=i[x],x>p&&(p=x),d&=~m}if(d=p,d=Ue()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Yv(d/1960))-d,10<d){s.timeoutHandle=_l(ir.bind(null,s,pt),d);break}ir(s,pt);break;case 5:ir(s,pt);break;default:throw Error(t(329))}}}return gt(s,Ue()),s.callbackNode===c?_f.bind(null,s):null}function cc(s,i){var c=Xs;return s.current.memoizedState.isDehydrated&&(sr(s,i).flags|=256),s=Ro(s,i),s!==2&&(i=pt,pt=c,i!==null&&uc(i)),s}function uc(s){pt===null?pt=s:pt.push.apply(pt,s)}function Gv(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var p=c[d],m=p.getSnapshot;p=p.value;try{if(!Yt(m(),p))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dn(s,i){for(i&=~ic,i&=~ko,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-zt(i),d=1<<c;s[c]=-1,i&=~d}}function wf(s){if((ke&6)!==0)throw Error(t(327));qr();var i=Di(s,0);if((i&1)===0)return gt(s,Ue()),null;var c=Ro(s,i);if(s.tag!==0&&c===2){var d=Ka(s);d!==0&&(i=d,c=cc(s,d))}if(c===1)throw c=Qs,sr(s,0),Dn(s,i),gt(s,Ue()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ir(s,pt),gt(s,Ue()),null}function dc(s,i){var c=ke;ke|=1;try{return s(i)}finally{ke=c,ke===0&&(Vr=Ue()+500,Zi&&Pn())}}function rr(s){Nn!==null&&Nn.tag===0&&(ke&6)===0&&qr();var i=ke;ke|=1;var c=Rt.transition,d=Oe;try{if(Rt.transition=null,Oe=1,s)return s()}finally{Oe=d,Rt.transition=c,ke=i,(ke&6)===0&&Pn()}}function hc(){kt=Hr.current,De(Hr)}function sr(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Ev(c)),Ve!==null)for(c=Ve.return;c!==null;){var d=c;switch(Al(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Qi();break;case 3:Br(),De(dt),De(nt),$l();break;case 5:Ll(d);break;case 4:Br();break;case 13:De($e);break;case 19:De($e);break;case 10:Tl(d.type._context);break;case 22:case 23:hc()}c=c.return}if(We=s,Ve=s=In(s.current,null),et=kt=i,Ye=0,Qs=null,ic=ko=Wr=0,pt=Xs=null,Jt!==null){for(i=0;i<Jt.length;i++)if(c=Jt[i],d=c.interleaved,d!==null){c.interleaved=null;var p=d.next,m=c.pending;if(m!==null){var x=m.next;m.next=p,d.next=x}c.pending=d}Jt=null}return s}function bf(s,i){do{var c=Ve;try{if(El(),co.current=mo,uo){for(var d=Be.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}uo=!1}if(Ur=0,Xe=rt=Be=null,Vs=!1,qs=0,sc.current=null,c===null||c.return===null){Ye=1,Qs=i,Ve=null;break}e:{var m=s,x=c.return,E=c,O=i;if(i=et,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var F=O,V=E,oe=V.tag;if((V.mode&1)===0&&(oe===0||oe===11||oe===15)){var K=V.alternate;K?(V.updateQueue=K.updateQueue,V.memoizedState=K.memoizedState,V.lanes=K.lanes):(V.updateQueue=null,V.memoizedState=null)}var Z=Uh(x);if(Z!==null){Z.flags&=-257,Hh(Z,x,E,m,i),Z.mode&1&&Bh(m,F,i),i=Z,O=F;var Y=i.updateQueue;if(Y===null){var ve=new Set;ve.add(O),i.updateQueue=ve}else Y.add(O);break e}else{if((i&1)===0){Bh(m,F,i),fc();break e}O=Error(t(426))}}else if(Fe&&E.mode&1){var Ie=Uh(x);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),Hh(Ie,x,E,m,i),Dl(O);break e}}m=O,Ye!==4&&(Ye=2),Xs===null?Xs=[m]:Xs.push(m),O=ql(O,E),E=x;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var A=$h(E,O,i);ah(E,A);break e;case 1:m=O;var j=E.type,M=E.stateNode;if((E.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(An===null||!An.has(M)))){E.flags|=65536,i&=-i,E.lanes|=i;var q=zh(E,m,i);ah(E,q);break e}}E=E.return}while(E!==null)}kf(c)}catch(re){i=re,Ve===c&&c!==null&&(Ve=c=c.return);continue}break}while(!0)}function xf(){var s=So.current;return So.current=mo,s===null?mo:s}function fc(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),We===null||(Wr&268435455)===0&&(ko&268435455)===0||Dn(We,et)}function Ro(s,i){var c=ke;ke|=2;var d=xf();We===s&&et===i||sr(s,i);do try{Jv();break}catch(p){bf(s,p)}while(!0);if(El(),ke=c,So.current=d,Ve!==null)throw Error(t(261));return We=null,et=0,Ye}function Jv(){for(;Ve!==null;)Sf(Ve)}function Qv(){for(;Ve!==null&&!xy();)Sf(Ve)}function Sf(s){var i=Cf(s.alternate,s,kt);s.memoizedProps=s.pendingProps,i===null?kf(s):Ve=i,sc.current=null}function kf(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=zv(c,i,kt),c!==null){Ve=c;return}}else{if(c=Hv(c,i),c!==null){c.flags&=32767,Ve=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ye=6,Ve=null;return}}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=s}while(i!==null);Ye===0&&(Ye=5)}function ir(s,i){var c=Oe,d=Rt.transition;try{Rt.transition=null,Oe=1,Xv(s,i,c)}finally{Rt.transition=d,Oe=c}return null}function Xv(s,i,c){do qr();while(Nn!==null);if((ke&6)!==0)throw Error(t(327));var d=s.finishedWork,p=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var m=d.lanes|d.childLanes;if(Ay(s,m),s===We&&(Ve=We=null,et=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||To||(To=!0,Of(Ri,function(){return qr(),null})),m=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||m){m=Rt.transition,Rt.transition=null;var x=Oe;Oe=1;var E=ke;ke|=4,sc.current=null,Vv(s,d),qv(s,d),vv(yl),yl=null,s.current=d,Kv(d),Sy(),ke=E,Oe=x,Rt.transition=m}else s.current=d;if(To&&(To=!1,Nn=s,Co=p),m=s.pendingLanes,m===0&&(An=null),Ty(d.stateNode),gt(s,Ue()),i!==null)for(c=s.onRecoverableError,d=0;d<i.length;d++)c(i[d]);if(Eo)throw Eo=!1,s=ac,ac=null,s;return(Co&1)!==0&&s.tag!==0&&qr(),m=s.pendingLanes,(m&1)!==0?s===lc?Zs++:(Zs=0,lc=s):Zs=0,Pn(),null}function qr(){if(Nn!==null){var s=hd(Co),i=Rt.transition,c=Oe;try{if(Rt.transition=null,Oe=16>s?16:s,Nn===null)var d=!1;else{if(s=Nn,Nn=null,Co=0,(ke&6)!==0)throw Error(t(331));var p=ke;for(ke|=4,X=s.current;X!==null;){var m=X,x=m.child;if((X.flags&16)!==0){var E=m.deletions;if(E!==null){for(var O=0;O<E.length;O++){var F=E[O];for(X=F;X!==null;){var V=X;switch(V.tag){case 0:case 11:case 15:Js(8,V,m)}var oe=V.child;if(oe!==null)oe.return=V,X=oe;else for(;X!==null;){V=X;var K=V.sibling,Z=V.return;if(cf(V),V===F){X=null;break}if(K!==null){K.return=Z,X=K;break}X=Z}}}var Y=m.alternate;if(Y!==null){var ve=Y.child;if(ve!==null){Y.child=null;do{var Ie=ve.sibling;ve.sibling=null,ve=Ie}while(ve!==null)}}X=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,X=x;else e:for(;X!==null;){if(m=X,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Js(9,m,m.return)}var A=m.sibling;if(A!==null){A.return=m.return,X=A;break e}X=m.return}}var j=s.current;for(X=j;X!==null;){x=X;var M=x.child;if((x.subtreeFlags&2064)!==0&&M!==null)M.return=x,X=M;else e:for(x=j;X!==null;){if(E=X,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:xo(9,E)}}catch(re){mt(E,E.return,re)}if(E===x){X=null;break e}var q=E.sibling;if(q!==null){q.return=E.return,X=q;break e}X=E.return}}if(ke=p,Pn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ai,s)}catch{}d=!0}return d}finally{Oe=c,Rt.transition=i}}return!1}function Ef(s,i,c){i=ql(c,i),i=$h(s,i,1),Rn(s,i),i=ut(),s=jo(s,1),s!==null&&(xs(s,1,i),gt(s,i))}function mt(s,i,c){if(s.tag===3)Ef(s,s,c);else for(;i!==null;){if(i.tag===3){Ef(i,s,c);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(An===null||!An.has(d))){s=ql(c,s),s=zh(i,s,1),Rn(i,s),s=ut(),i=jo(i,1),i!==null&&(xs(i,1,s),gt(i,s));break}}i=i.return}}function Zv(s,i,c){var d=s.pingCache;d!==null&&d.delete(i),i=ut(),s.pingedLanes|=s.suspendedLanes&c,We===s&&(et&c)===c&&(Ye===4||Ye===3&&(et&130023424)===et&&500>Ue()-oc?sr(s,0):ic|=c),gt(s,i)}function Tf(s,i){i===0&&((s.mode&1)===0?i=1:(i=Mi,Mi<<=1,(Mi&130023424)===0&&(Mi=4194304)));var c=ut();s=jo(s,i),s!==null&&(xs(s,i,c),gt(s,c))}function e0(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),Tf(s,c)}function t0(s,i){var c=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),Tf(s,c)}var Cf;Cf=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||dt.current)St=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return St=!1,Uv(s,i,c);St=(s.flags&131072)!==0}else St=!1,Fe&&(i.flags&1048576)!==0&&fh(i,oo,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2),s=i.pendingProps;var p=Mr(i,nt.current);Ir(i,c),p=Bl(null,i,d,s,p,c);var m=Ul();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,ht(d)?(m=!0,Xi(i)):m=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Ol(i),p.updater=so,i.stateNode=p,p._reactInternals=i,jl(i,d,s,c),i=Jl(null,i,d,!0,m,c)):(i.tag=0,Fe&&m&&Rl(i),ct(null,i,p,c),i=i.child),i;case 16:d=i.elementType;e:{switch(s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2),s=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=r0(d),s=Bt(d,s),p){case 0:i=Gl(null,i,d,s,c);break e;case 1:i=Xh(null,i,d,s,c);break e;case 11:i=Kh(null,i,d,s,c);break e;case 14:i=Yh(null,i,d,Bt(d.type,s),c);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Bt(d,p),Gl(s,i,d,p,c);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Bt(d,p),Xh(s,i,d,p,c);case 3:e:{if(Zh(i),s===null)throw Error(t(387));d=i.pendingProps,m=i.memoizedState,p=m.element,oh(s,i),ro(i,d,null,c);var x=i.memoizedState;if(d=x.element,m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:x.cache,transitions:x.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){p=Error(t(423)),i=ef(s,i,d,c,p);break e}else if(d!==p){p=Error(t(424)),i=ef(s,i,d,c,p);break e}else for(ft=rn(i.stateNode.containerInfo.firstChild),xt=i,Fe=!0,Ut=null,c=_h(i,null,d,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if($r(),d===p){i=dn(s,i,c);break e}ct(s,i,d,c)}i=i.child}return i;case 5:return wh(i),s===null&&Ml(i),d=i.type,p=i.pendingProps,m=s!==null?s.memoizedProps:null,x=p.children,vl(d,p)?x=null:m!==null&&vl(d,m)&&(i.flags|=32),Qh(s,i),ct(s,i,x,c),i.child;case 6:return s===null&&Ml(i),null;case 13:return tf(s,i,c);case 4:return Il(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=zr(i,null,d,c):ct(s,i,d,c),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Bt(d,p),Kh(s,i,d,p,c);case 7:return ct(s,i,i.pendingProps,c),i.child;case 8:return ct(s,i,i.pendingProps.children,c),i.child;case 12:return ct(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,m=i.memoizedProps,x=p.value,Ae(eo,d._currentValue),d._currentValue=x,m!==null)if(Yt(m.value,x)){if(m.children===p.children&&!dt.current){i=dn(s,i,c);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var E=m.dependencies;if(E!==null){x=m.child;for(var O=E.firstContext;O!==null;){if(O.context===d){if(m.tag===1){O=an(-1,c&-c),O.tag=2;var F=m.updateQueue;if(F!==null){F=F.shared;var V=F.pending;V===null?O.next=O:(O.next=V.next,V.next=O),F.pending=O}}m.lanes|=c,O=m.alternate,O!==null&&(O.lanes|=c),Cl(m.return,c,i),E.lanes|=c;break}O=O.next}}else if(m.tag===10)x=m.type===i.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(t(341));x.lanes|=c,E=x.alternate,E!==null&&(E.lanes|=c),Cl(x,c,i),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===i){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}ct(s,i,p.children,c),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,Ir(i,c),p=Ct(p),d=d(p),i.flags|=1,ct(s,i,d,c),i.child;case 14:return d=i.type,p=Bt(d,i.pendingProps),p=Bt(d.type,p),Yh(s,i,d,p,c);case 15:return Gh(s,i,i.type,i.pendingProps,c);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Bt(d,p),s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2),i.tag=1,ht(d)?(s=!0,Xi(i)):s=!1,Ir(i,c),dh(i,d,p),jl(i,d,p,c),Jl(null,i,d,!0,s,c);case 19:return of(s,i,c);case 22:return Jh(s,i,c)}throw Error(t(156,i.tag))};function Of(s,i){return ld(s,i)}function n0(s,i,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(s,i,c,d){return new n0(s,i,c,d)}function pc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function r0(s){if(typeof s=="function")return pc(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ee)return 11;if(s===me)return 14}return 2}function In(s,i){var c=s.alternate;return c===null?(c=Nt(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ao(s,i,c,d,p,m){var x=2;if(d=s,typeof s=="function")pc(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case L:return or(c.children,p,m,i);case W:x=8,p|=8;break;case D:return s=Nt(12,c,i,p|2),s.elementType=D,s.lanes=m,s;case he:return s=Nt(13,c,i,p),s.elementType=he,s.lanes=m,s;case be:return s=Nt(19,c,i,p),s.elementType=be,s.lanes=m,s;case ye:return No(c,p,m,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:x=10;break e;case J:x=9;break e;case ee:x=11;break e;case me:x=14;break e;case we:x=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Nt(x,c,i,p),i.elementType=s,i.type=d,i.lanes=m,i}function or(s,i,c,d){return s=Nt(7,s,d,i),s.lanes=c,s}function No(s,i,c,d){return s=Nt(22,s,d,i),s.elementType=ye,s.lanes=c,s.stateNode={},s}function gc(s,i,c){return s=Nt(6,s,null,i),s.lanes=c,s}function mc(s,i,c){return i=Nt(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function s0(s,i,c,d,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ya(0),this.expirationTimes=Ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function yc(s,i,c,d,p,m,x,E,O){return s=new s0(s,i,c,E,O),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Nt(3,null,null,i),s.current=m,m.stateNode=s,m.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null},Ol(m),s}function i0(s,i,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:d==null?null:""+d,children:s,containerInfo:i,implementation:c}}function Pf(s){if(!s)return On;s=s._reactInternals;e:{if(Gn(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(ht(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(ht(c))return rh(s,c,i)}return i}function jf(s,i,c,d,p,m,x,E,O){return s=yc(c,d,!0,s,p,m,x,E,O),s.context=Pf(null),c=s.current,d=ut(),p=Mn(c),m=an(d,p),m.callback=i??null,Rn(c,m),s.current.lanes=p,xs(s,p,d),gt(s,d),s}function Mo(s,i,c,d){var p=i.current,m=ut(),x=Mn(p);return c=Pf(c),i.context===null?i.context=c:i.pendingContext=c,i=an(m,x),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),Rn(p,i),s=At(p,x,m),s!==null&&no(s,p,x),x}function Do(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Rf(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function vc(s,i){Rf(s,i),(s=s.alternate)&&Rf(s,i)}function o0(){return null}var Af=typeof reportError=="function"?reportError:function(s){console.error(s)};function _c(s){this._internalRoot=s}Io.prototype.render=_c.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Mo(s,i,null,null)},Io.prototype.unmount=_c.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;rr(function(){Mo(null,s,null,null)}),i[sn]=null}};function Io(s){this._internalRoot=s}Io.prototype.unstable_scheduleHydration=function(s){if(s){var i=gd();s={blockedOn:null,target:s,priority:i};for(var c=0;c<kn.length&&i!==0&&i<kn[c].priority;c++);kn.splice(c,0,s),c===0&&vd(s)}};function wc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Lo(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function a0(s,i,c,d,p){if(p){if(typeof d=="function"){var m=d;d=function(){var F=Do(x);m.call(F)}}var x=jf(i,d,s,0,null,!1,!1,"",Nf);return s._reactRootContainer=x,s[sn]=x.current,Is(s.nodeType===8?s.parentNode:s),rr(),x}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var E=d;d=function(){var F=Do(O);E.call(F)}}var O=yc(s,0,!1,null,null,!1,!1,"",Nf);return s._reactRootContainer=O,s[sn]=O.current,Is(s.nodeType===8?s.parentNode:s),rr(function(){Mo(i,O,c,d)}),O}function Fo(s,i,c,d,p){var m=c._reactRootContainer;if(m){var x=m;if(typeof p=="function"){var E=p;p=function(){var O=Do(x);E.call(O)}}Mo(i,x,s,p)}else x=a0(c,i,s,p,d);return Do(x)}fd=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=bs(i.pendingLanes);c!==0&&(Ga(i,c|1),gt(i,Ue()),(ke&6)===0&&(Vr=Ue()+500,Pn()))}break;case 13:var d=ut();rr(function(){return At(s,1,d)}),vc(s,1)}},Ja=function(s){if(s.tag===13){var i=ut();At(s,134217728,i),vc(s,134217728)}},pd=function(s){if(s.tag===13){var i=ut(),c=Mn(s);At(s,c,i),vc(s,c)}},gd=function(){return Oe},md=function(s,i){var c=Oe;try{return Oe=s,i()}finally{Oe=c}},Ua=function(s,i,c){switch(i){case"input":if(Ma(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var d=c[i];if(d!==s&&d.form===s.form){var p=Ji(d);if(!p)throw Error(t(90));wn(d),Ma(d,p)}}}break;case"textarea":qu(s,c);break;case"select":i=c.value,i!=null&&xr(s,!!c.multiple,i,!1)}},td=dc,nd=rr;var l0={usingClientEntryPoint:!1,Events:[$s,Ar,Ji,Zu,ed,dc]},ei={findFiberByHostInstance:Jn,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},c0={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=od(s),s===null?null:s.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||o0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{Ai=$o.inject(c0),Kt=$o}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0,yt.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(i))throw Error(t(200));return i0(s,i,null,c)},yt.createRoot=function(s,i){if(!wc(s))throw Error(t(299));var c=!1,d="",p=Af;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=yc(s,1,!1,null,null,c,!1,d,p),s[sn]=i.current,Is(s.nodeType===8?s.parentNode:s),new _c(i)},yt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=od(i),s=s===null?null:s.stateNode,s},yt.flushSync=function(s){return rr(s)},yt.hydrate=function(s,i,c){if(!Lo(i))throw Error(t(200));return Fo(null,s,i,!0,c)},yt.hydrateRoot=function(s,i,c){if(!wc(s))throw Error(t(405));var d=c!=null&&c.hydratedSources||null,p=!1,m="",x=Af;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),i=jf(i,null,s,1,c??null,p,!1,m,x),s[sn]=i.current,Is(s),d)for(s=0;s<d.length;s++)c=d[s],p=c._getVersion,p=p(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,p]:i.mutableSourceEagerHydrationData.push(c,p);return new Io(i)},yt.render=function(s,i,c){if(!Lo(i))throw Error(t(200));return Fo(null,s,i,!1,c)},yt.unmountComponentAtNode=function(s){if(!Lo(s))throw Error(t(40));return s._reactRootContainer?(rr(function(){Fo(null,null,s,!1,function(){s._reactRootContainer=null,s[sn]=null})}),!0):!1},yt.unstable_batchedUpdates=dc,yt.unstable_renderSubtreeIntoContainer=function(s,i,c,d){if(!Lo(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Fo(s,i,c,!1,d)},yt.version="18.0.0-fc46dba67-20220329",yt}var Bf;function x0(){if(Bf)return Sc.exports;Bf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sc.exports=b0(),Sc.exports}var S0=x0();const k0=gu(S0);function jg({selectedDate:n,onSelectDate:e,minDate:t}){const[r,o]=B.useState(!1),[a,l]=B.useState(new Date),u=B.useRef(null);B.useEffect(()=>{const D=z=>{u.current&&!u.current.contains(z.target)&&o(!1)};return r&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[r]);const h=D=>{if(!D)return"Select date";const[z,J,ee]=D.split("-").map(Number);return new Date(z,J-1,ee).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},f=D=>{const z=D.getFullYear(),J=D.getMonth(),ee=new Date(z,J,1),be=new Date(z,J+1,0).getDate(),me=ee.getDay();return{daysInMonth:be,startingDayOfWeek:me,year:z,month:J}},{daysInMonth:g,startingDayOfWeek:y,year:v,month:w}=f(a),b=()=>{l(new Date(a.getFullYear(),a.getMonth()-1))},S=()=>{l(new Date(a.getFullYear(),a.getMonth()+1))},k=D=>{const z=a.getFullYear(),J=String(a.getMonth()+1).padStart(2,"0"),ee=String(D).padStart(2,"0"),he=`${z}-${J}-${ee}`;e(he),o(!1)},C=D=>{if(!t)return!1;const z=new Date(v,w,D),[J,ee,he]=t.split("-").map(Number),be=new Date(J,ee-1,he);return z<be},P=D=>{if(!n)return!1;const[z,J,ee]=n.split("-").map(Number);return v===z&&w===J-1&&D===ee},R=D=>{const z=new Date;return v===z.getFullYear()&&w===z.getMonth()&&D===z.getDate()},N=[],I=42,$=new Date(v,w,0).getDate();for(let D=y-1;D>=0;D--)N.push({day:$-D,isCurrentMonth:!1,isNextMonth:!1});for(let D=1;D<=g;D++)N.push({day:D,isCurrentMonth:!0,isNextMonth:!1});const L=I-N.length;for(let D=1;D<=L;D++)N.push({day:D,isCurrentMonth:!1,isNextMonth:!0});const W=["January","February","March","April","May","June","July","August","September","October","November","December"];return _.jsxs("div",{className:"calendar-picker-wrapper",ref:u,children:[_.jsxs("button",{type:"button",className:"calendar-trigger",onClick:()=>o(!r),children:[_.jsx("span",{className:"calendar-icon",children:""}),_.jsx("span",{className:"calendar-display-date",children:h(n)}),_.jsx("span",{className:"calendar-arrow",children:r?"":""})]}),r&&_.jsxs("div",{className:"calendar-dropdown",children:[_.jsxs("div",{className:"calendar-header",children:[_.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:b,children:""}),_.jsxs("div",{className:"calendar-month-year",children:[W[w]," ",v]}),_.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:S,children:""})]}),_.jsx("div",{className:"calendar-weekdays",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(D=>_.jsx("div",{className:"calendar-weekday",children:D},D))}),_.jsx("div",{className:"calendar-days-grid",children:N.map((D,z)=>_.jsx("button",{type:"button",className:`calendar-day ${D.isCurrentMonth?"":"other-month"} ${P(D.day)&&D.isCurrentMonth?"selected":""} ${R(D.day)&&D.isCurrentMonth?"today":""} ${C(D.day)&&D.isCurrentMonth?"disabled":""}`,onClick:()=>D.isCurrentMonth&&!C(D.day)&&k(D.day),disabled:!D.isCurrentMonth||C(D.day),children:D.day},z))})]})]})}function Rg({selectedCategory:n,onSelectCategory:e}){const[t,r]=B.useState(!1),[o,a]=B.useState(""),[l,u]=B.useState(!1),h=B.useRef(null),f=[{value:"",label:"No Category"},{value:"Work",label:"Work"},{value:"Personal",label:"Personal"},{value:"Coding",label:"Coding"},{value:"Shopping",label:"Shopping"},{value:"Health",label:"Health"},{value:"Hydration",label:"Hydration"},{value:"Food",label:"Food"},{value:"Finance",label:"Finance"},{value:"Education",label:"Education"},{value:"Relationship",label:"Relationship"},{value:"Travel",label:"Travel"},{value:"Home",label:"Home"},{value:"Social",label:"Social"}];B.useEffect(()=>{const b=S=>{h.current&&!h.current.contains(S.target)&&(r(!1),u(!1),a(""))};return t&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[t]);const g=b=>{e(b),r(!1),u(!1),a("")},y=()=>{o.trim()&&(e(o.trim()),r(!1),u(!1),a(""))},v=b=>{b.key==="Enter"?y():b.key==="Escape"&&(u(!1),a(""))},w=n||"Category (optional)";return f.some(b=>b.value===n),_.jsxs("div",{className:"category-picker-wrapper",ref:h,children:[_.jsxs("button",{type:"button",className:"category-trigger",onClick:()=>r(!t),children:[_.jsx("span",{className:"category-icon",children:""}),_.jsx("span",{className:"category-display-text",children:w}),_.jsx("span",{className:"category-arrow",children:t?"":""})]}),t&&_.jsx("div",{className:"category-dropdown",children:l?_.jsxs("div",{className:"category-custom-input-wrapper",children:[_.jsx("input",{type:"text",className:"category-custom-input",placeholder:"Enter custom category...",value:o,onChange:b=>a(b.target.value),onKeyDown:v,autoFocus:!0}),_.jsxs("div",{className:"category-custom-actions",children:[_.jsx("button",{type:"button",className:"category-custom-save",onClick:y,children:"Save"}),_.jsx("button",{type:"button",className:"category-custom-cancel",onClick:()=>{u(!1),a("")},children:"Cancel"})]})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"category-list",children:f.map(b=>_.jsxs("button",{type:"button",className:`category-option ${n===b.value?"selected":""}`,onClick:()=>g(b.value),children:[_.jsx("span",{className:"category-check",children:n===b.value?"":""}),_.jsx("span",{className:"category-label",children:b.label})]},b.value))}),_.jsx("div",{className:"category-divider"}),_.jsxs("button",{type:"button",className:"category-custom-btn",onClick:()=>u(!0),children:[_.jsx("span",{className:"category-plus",children:"+"}),_.jsx("span",{children:"Custom Category"})]})]})})]})}function Ag({selectedTime:n,onSelectTime:e}){const[t,r]=B.useState(!1),[o,a]=B.useState(12),[l,u]=B.useState(0),[h,f]=B.useState("PM"),[g,y]=B.useState(!1),v=B.useRef(null);B.useEffect(()=>{if(n){const[L,W]=n.split(":"),D=parseInt(L),z=D===0?12:D>12?D-12:D,J=D>=12?"PM":"AM";a(z),u(parseInt(W)),f(J)}},[n]),B.useEffect(()=>{const L=W=>{v.current&&!v.current.contains(W.target)&&(r(!1),y(!1))};return t&&document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[t]);const w=L=>{if(!L)return"Select time";const[W,D]=L.split(":"),z=parseInt(W),J=z>=12?"PM":"AM";return`${z%12||12}:${String(D).padStart(2,"0")} ${J}`},b=L=>{a(L),y(!0)},S=L=>{u(L)},k=(L=o,W=l,D=h)=>{let z=L;D==="PM"&&z!==12?z+=12:D==="AM"&&z===12&&(z=0);const J=`${String(z).padStart(2,"0")}:${String(W).padStart(2,"0")}`;e(J),r(!1),y(!1)},C=()=>{k()},P=()=>{e(""),r(!1),y(!1)},R=()=>{y(!1)},N=(L,W=12)=>{const J=((L===12?0:L)*360/W-90)*Math.PI/180,ee=72,he=100+ee*Math.cos(J),be=100+ee*Math.sin(J);return{x:he,y:be}},I=Array.from({length:12},(L,W)=>W+1),$=[0,5,10,15,20,25,30,35,40,45,50,55];return _.jsxs("div",{className:"time-picker-wrapper",ref:v,children:[_.jsxs("button",{type:"button",className:"time-trigger",onClick:()=>r(!t),children:[_.jsx("span",{className:"time-icon",children:""}),_.jsx("span",{className:"time-display",children:w(n)}),_.jsx("span",{className:"time-arrow",children:t?"":""})]}),t&&_.jsxs("div",{className:"time-dropdown",children:[_.jsxs("div",{className:"time-picker-header",children:[_.jsx("span",{className:"time-picker-title",children:g?"Select Minute":"Select Hour"}),g&&_.jsx("button",{type:"button",className:"time-back-btn",onClick:R,children:" Back"})]}),g?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"minute-grid",children:$.map(L=>_.jsxs("button",{type:"button",className:`minute-btn ${l===L?"selected":""}`,onClick:()=>S(L),children:[":",String(L).padStart(2,"0")]},L))}),_.jsxs("div",{className:"period-toggle-minutes",children:[_.jsx("button",{type:"button",className:`period-btn ${h==="AM"?"selected":""}`,onClick:()=>f("AM"),children:"AM"}),_.jsx("button",{type:"button",className:`period-btn ${h==="PM"?"selected":""}`,onClick:()=>f("PM"),children:"PM"})]}),_.jsxs("div",{className:"time-current-selection",children:["Selected: ",o,":",String(l).padStart(2,"0")," ",h]})]}):_.jsx(_.Fragment,{children:_.jsxs("div",{className:"clock-container",children:[_.jsxs("svg",{className:"clock-face",viewBox:"0 0 200 200",children:[_.jsx("defs",{children:_.jsxs("linearGradient",{id:"clockGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[_.jsx("stop",{offset:"0%",style:{stopColor:"#73ABFF",stopOpacity:1}}),_.jsx("stop",{offset:"100%",style:{stopColor:"#5A8FE6",stopOpacity:1}})]})}),_.jsx("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:"rgba(115, 171, 255, 0.2)",strokeWidth:"2"}),I.map(L=>{const W=N(L),D=o===L;return _.jsxs("g",{children:[_.jsx("circle",{cx:W.x,cy:W.y,r:"18",className:`clock-number ${D?"selected":""}`,onClick:()=>b(L),style:{cursor:"pointer"}}),_.jsx("text",{x:W.x,y:W.y,textAnchor:"middle",dominantBaseline:"middle",className:`clock-text ${D?"selected":""}`,onClick:()=>b(L),style:{cursor:"pointer",pointerEvents:"none"},children:L})]},L)})]}),_.jsxs("div",{className:"period-toggle-clock",children:[_.jsx("button",{type:"button",className:`period-btn ${h==="AM"?"selected":""}`,onClick:()=>f("AM"),children:"AM"}),_.jsx("button",{type:"button",className:`period-btn ${h==="PM"?"selected":""}`,onClick:()=>f("PM"),children:"PM"})]})]})}),_.jsxs("div",{className:"time-picker-actions",children:[_.jsx("button",{type:"button",className:"time-clear-btn",onClick:P,children:"Clear"}),_.jsx("button",{type:"button",className:"time-apply-btn",onClick:C,disabled:!g,children:"Apply"})]})]})]})}function Ng({selectedPriority:n,onSelectPriority:e}){const[t,r]=B.useState(!1),o=B.useRef(null),a=[{value:"low",label:"Low",icon:"",description:"No rush"},{value:"medium",label:"Medium",icon:"",description:"Moderate importance"},{value:"high",label:"High",icon:"",description:"Urgent"}];B.useEffect(()=>{const f=g=>{o.current&&!o.current.contains(g.target)&&r(!1)};return t&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[t]);const l=f=>{e(f),r(!1)},h=a.find(g=>g.value===n)||a[1];return _.jsxs("div",{className:"priority-picker-wrapper",ref:o,children:[_.jsxs("button",{type:"button",className:`priority-trigger priority-trigger-${n}`,onClick:()=>r(!t),children:[_.jsx("span",{className:"priority-trigger-icon",children:h.icon}),_.jsxs("span",{className:"priority-trigger-text",children:[h.label," Priority"]}),_.jsx("span",{className:"priority-arrow",children:t?"":""})]}),t&&_.jsxs("div",{className:"priority-dropdown",children:[_.jsx("div",{className:"priority-header",children:_.jsx("span",{className:"priority-title",children:"Select Priority"})}),_.jsx("div",{className:"priority-options",children:a.map(f=>_.jsxs("button",{type:"button",className:`priority-option priority-option-${f.value} ${n===f.value?"selected":""}`,onClick:()=>l(f.value),children:[_.jsx("span",{className:"priority-option-icon",children:f.icon}),_.jsxs("div",{className:"priority-option-content",children:[_.jsx("span",{className:"priority-option-label",children:f.label}),_.jsx("span",{className:"priority-option-description",children:f.description})]}),n===f.value&&_.jsx("span",{className:"priority-check",children:""})]},f.value))})]})]})}function Mg({selectedReminder:n,onSelectReminder:e}){const[t,r]=B.useState(!1),o=B.useRef(null),a=[{value:"",label:"No Reminder",icon:"",description:"No notification"},{value:"5",label:"5 minutes",icon:"",description:"5 min before"},{value:"15",label:"15 minutes",icon:"",description:"15 min before"},{value:"30",label:"30 minutes",icon:"",description:"30 min before"},{value:"60",label:"1 hour",icon:"",description:"1 hour before"},{value:"1440",label:"1 day",icon:"",description:"1 day before"}];B.useEffect(()=>{const f=g=>{o.current&&!o.current.contains(g.target)&&r(!1)};return t&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[t]);const l=f=>{e(f),r(!1)},h=a.find(g=>String(g.value)===String(n))||a[0];return _.jsxs("div",{className:"reminder-picker-wrapper",ref:o,children:[_.jsxs("button",{type:"button",className:"reminder-trigger",onClick:()=>r(!t),children:[_.jsx("span",{className:"reminder-trigger-icon",children:h.icon}),_.jsx("span",{className:"reminder-trigger-text",children:h.label}),_.jsx("span",{className:"reminder-arrow",children:t?"":""})]}),t&&_.jsxs("div",{className:"reminder-dropdown",children:[_.jsx("div",{className:"reminder-header",children:_.jsx("span",{className:"reminder-title",children:"Set Reminder"})}),_.jsx("div",{className:"reminder-options",children:a.map(f=>_.jsxs("button",{type:"button",className:`reminder-option ${String(n)===String(f.value)?"selected":""}`,onClick:()=>l(f.value),children:[_.jsx("span",{className:"reminder-option-icon",children:f.icon}),_.jsxs("div",{className:"reminder-option-content",children:[_.jsx("span",{className:"reminder-option-label",children:f.label}),_.jsx("span",{className:"reminder-option-description",children:f.description})]}),String(n)===String(f.value)&&_.jsx("span",{className:"reminder-check",children:""})]},f.value))})]})]})}function E0({selectedRecurrence:n,onSelectRecurrence:e}){var u,h;const[t,r]=B.useState(!1),o=[{value:"none",label:"Does not repeat",icon:""},{value:"daily",label:"Daily",icon:""},{value:"weekly",label:"Weekly",icon:""},{value:"biweekly",label:"Every 2 weeks",icon:""},{value:"monthly",label:"Monthly",icon:""},{value:"yearly",label:"Yearly",icon:""}],a=()=>o.find(f=>f.value===(n||"none")),l=f=>{e(f==="none"?null:f),r(!1)};return _.jsxs("div",{className:"recurrence-picker",children:[_.jsxs("button",{type:"button",className:"picker-button",onClick:()=>r(!t),title:"Set recurrence",children:[_.jsx("span",{className:"picker-icon",children:(u=a())==null?void 0:u.icon}),_.jsx("span",{className:"picker-label",children:(h=a())==null?void 0:h.label}),_.jsx("span",{className:"picker-arrow",children:t?"":""})]}),t&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"picker-overlay",onClick:()=>r(!1)}),_.jsx("div",{className:"recurrence-dropdown picker-dropdown",children:o.map(f=>_.jsxs("button",{type:"button",className:`recurrence-option picker-option ${(n||"none")===f.value?"selected":""}`,onClick:()=>l(f.value),children:[_.jsx("span",{className:"option-icon",children:f.icon}),_.jsx("span",{className:"option-label",children:f.label}),(n||"none")===f.value&&_.jsx("span",{className:"option-check",children:""})]},f.value))})]})]})}function T0({onTranscript:n,onInterimTranscript:e,onError:t,onAddTask:r}){const[o,a]=B.useState(!1),[l,u]=B.useState(!0),[h,f]=B.useState(!1),g=B.useRef(null),y=B.useRef(""),v=B.useRef(!1),w=B.useRef(n),b=B.useRef(e),S=B.useRef(t),k=B.useRef(r);B.useEffect(()=>{w.current=n,b.current=e,S.current=t,k.current=r},[n,e,t,r]),B.useEffect(()=>{const P=window.SpeechRecognition||window.webkitSpeechRecognition;if(!P){u(!1);return}const R=new P;return R.continuous=!1,R.interimResults=!0,R.lang="en-US",R.maxAlternatives=1,R.onresult=N=>{let I="",$=y.current;for(let W=N.resultIndex;W<N.results.length;W++){const D=N.results[W][0].transcript;N.results[W].isFinal?$+=D+" ":I+=D}y.current=$;const L=$+I;L&&b.current&&b.current(L),$&&w.current&&w.current($.trim())},R.onerror=N=>{if(N.error!=="no-speech"&&(a(!1),S.current)){let I="Voice recognition failed";if(N.error==="aborted")return;N.error==="not-allowed"?I="Microphone access denied. Please enable it in your browser settings.":N.error==="network"&&(I="Network error. Please check your connection."),S.current(I)}},R.onend=()=>{a(!1),v.current=!1,y.current&&w.current&&(w.current(y.current.trim()),f(!0)),y.current=""},g.current=R,()=>{g.current&&g.current.abort()}},[]);const C=()=>{if(!l){S.current&&S.current("Voice recognition is not supported in your browser. Please try Chrome or Edge.");return}if(h){k.current&&k.current(),f(!1);return}if(o)g.current.stop(),a(!1),v.current=!1;else try{g.current.start(),a(!0),v.current=!0}catch{S.current&&S.current("Failed to start voice recognition. Please try again.")}};return l?_.jsxs("div",{className:"voice-input-wrapper",children:[_.jsx("button",{type:"button",className:`voice-input-btn ${o?"listening":""} ${h?"add-task":""}`,onClick:C,title:h?"Click to add task":o?"Click to stop":"Add task by voice",children:h?_.jsx("span",{className:"add-task-text",children:" Add Task"}):o?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"mic-icon recording",children:""}),_.jsx("span",{className:"recording-pulse"})]}):_.jsx("span",{className:"mic-icon",children:""})}),o&&_.jsx("span",{className:"listening-indicator",children:"Listening..."})]}):null}function Uf({addTask:n}){const[e,t]=B.useState(""),[r,o]=B.useState("medium"),[a,l]=B.useState(""),[u,h]=B.useState(""),[f,g]=B.useState(""),[y,v]=B.useState("15"),[w,b]=B.useState(null),[S,k]=B.useState(""),C=()=>{const L=new Date,W=L.getFullYear(),D=String(L.getMonth()+1).padStart(2,"0"),z=String(L.getDate()).padStart(2,"0");return`${W}-${D}-${z}`},P=L=>{L.preventDefault(),e.trim()&&(n({text:e,priority:r,dueDate:a||C(),dueTime:u,category:f.trim(),reminderMinutes:y?parseInt(y):null,recurrence:w}),t(""),o("medium"),l(""),h(""),g(""),v("15"),b(null))},R=L=>{t(L),k("")},N=L=>{t(L)},I=L=>{k(L),setTimeout(()=>k(""),5e3)},$=()=>{e.trim()&&P({preventDefault:()=>{}})};return _.jsxs("form",{className:"todo-form",onSubmit:P,children:[_.jsxs("div",{className:"form-row",children:[_.jsxs("div",{className:"input-with-voice",children:[_.jsx("input",{type:"text",className:"todo-input",placeholder:"Add a new task...",value:e,onChange:L=>t(L.target.value),required:!0}),_.jsx(T0,{onTranscript:R,onInterimTranscript:N,onError:I,onAddTask:$})]}),S&&_.jsx("p",{className:"voice-error",children:S})]}),_.jsxs("div",{className:"form-row form-options",children:[_.jsx(Ng,{selectedPriority:r,onSelectPriority:o}),_.jsx(jg,{selectedDate:a,onSelectDate:l,minDate:C()}),_.jsx(Ag,{selectedTime:u,onSelectTime:h}),_.jsx(Rg,{selectedCategory:f,onSelectCategory:g}),_.jsx(Mg,{selectedReminder:y,onSelectReminder:v}),_.jsx(E0,{selectedRecurrence:w,onSelectRecurrence:b}),_.jsx("button",{type:"submit",className:"todo-button",children:"Add Task"})]})]})}function aa({task:n,toggleComplete:e,deleteTask:t,editTask:r}){const[o,a]=B.useState(!1),[l,u]=B.useState(n.text),[h,f]=B.useState(n.priority||"medium"),[g,y]=B.useState(n.dueDate||""),[v,w]=B.useState(n.dueTime||""),[b,S]=B.useState(n.category||""),[k,C]=B.useState(n.reminderMinutes||""),P=()=>{l.trim()&&(r(n.id,{text:l,priority:h,dueDate:g,dueTime:v,category:b.trim(),reminderMinutes:k?parseInt(k):null}),a(!1))},R=()=>{u(n.text),f(n.priority||"medium"),y(n.dueDate||""),w(n.dueTime||""),S(n.category||""),C(n.reminderMinutes||""),a(!1)},N=()=>`priority-${n.priority||"medium"}`,I=()=>{if(!n.dueDate||n.completed)return!1;const D=new Date,[z,J,ee]=n.dueDate.split("-").map(Number),he=new Date(z,J-1,ee);if(n.dueTime){const[be,me]=n.dueTime.split(":");he.setHours(parseInt(be),parseInt(me),0,0)}return he<D},$=D=>{if(!D)return"";const[z,J,ee]=D.split("-").map(Number);return new Date(z,J-1,ee).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},L=D=>{if(!D)return"";const[z,J]=D.split(":"),ee=parseInt(z),he=ee>=12?"PM":"AM";return`${ee%12||12}:${J} ${he}`},W=D=>D?D<60?`${D} min before`:D===60?"1 hour before":D===1440?"1 day before":`${Math.floor(D/60)} hours before`:"";return _.jsx("div",{className:`todo-item ${n.completed?"completed":""} ${N()} ${I()?"overdue":""}`,children:o?_.jsxs("div",{className:"todo-edit",children:[_.jsx("input",{type:"text",className:"todo-edit-input",value:l,onChange:D=>u(D.target.value),onKeyPress:D=>D.key==="Enter"&&P()}),_.jsxs("div",{className:"edit-options",children:[_.jsx(Ng,{selectedPriority:h,onSelectPriority:f}),_.jsx(jg,{selectedDate:g,onSelectDate:y,minDate:""}),_.jsx(Ag,{selectedTime:v,onSelectTime:w}),_.jsx(Rg,{selectedCategory:b,onSelectCategory:S}),_.jsx(Mg,{selectedReminder:k,onSelectReminder:C})]}),_.jsxs("div",{className:"todo-edit-actions",children:[_.jsx("button",{className:"btn-save",onClick:P,children:"Save"}),_.jsx("button",{className:"btn-cancel",onClick:R,children:"Cancel"})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"todo-content",children:[_.jsx("input",{type:"checkbox",className:"todo-checkbox",checked:n.completed,onChange:()=>e(n.id)}),_.jsxs("div",{className:"todo-details",children:[_.jsxs("div",{className:"todo-text-row",children:[_.jsx("span",{className:"todo-text",children:n.text}),n.recurrence&&_.jsxs("span",{className:"recurring-indicator",children:[_.jsx("span",{className:"recurring-indicator-icon",children:""}),n.recurrence==="daily"&&"Daily",n.recurrence==="weekly"&&"Weekly",n.recurrence==="biweekly"&&"Biweekly",n.recurrence==="monthly"&&"Monthly",n.recurrence==="yearly"&&"Yearly"]}),_.jsx("span",{className:`priority-badge priority-badge-${n.priority||"medium"}`,children:(n.priority||"medium").toUpperCase()})]}),_.jsxs("div",{className:"todo-meta",children:[n.category&&_.jsx("span",{className:"category-tag",children:n.category}),n.dueDate&&_.jsxs("span",{className:`due-date ${I()?"overdue-text":""}`,children:["Due: ",$(n.dueDate),n.dueTime&&` at ${L(n.dueTime)}`,I()&&" "]}),n.reminderMinutes&&!n.completed&&_.jsxs("span",{className:"reminder-badge",children:[" ",W(n.reminderMinutes)]})]})]})]}),_.jsxs("div",{className:"todo-actions",children:[_.jsx("button",{className:"btn-edit",onClick:()=>a(!0),disabled:n.completed,children:"Edit"}),_.jsx("button",{className:"btn-delete",onClick:()=>t(n.id),children:"Delete"})]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ei(n){return n+.5|0}const Bn=(n,e,t)=>Math.max(Math.min(n,t),e);function ai(n){return Bn(Ei(n*2.55),0,255)}function Wn(n){return Bn(Ei(n*255),0,255)}function mn(n){return Bn(Ei(n/2.55)/100,0,1)}function Hf(n){return Bn(Ei(n*100),0,100)}const Mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Kc=[..."0123456789ABCDEF"],C0=n=>Kc[n&15],O0=n=>Kc[(n&240)>>4]+Kc[n&15],zo=n=>(n&240)>>4===(n&15),P0=n=>zo(n.r)&&zo(n.g)&&zo(n.b)&&zo(n.a);function j0(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Mt[n[1]]*17,g:255&Mt[n[2]]*17,b:255&Mt[n[3]]*17,a:e===5?Mt[n[4]]*17:255}:(e===7||e===9)&&(t={r:Mt[n[1]]<<4|Mt[n[2]],g:Mt[n[3]]<<4|Mt[n[4]],b:Mt[n[5]]<<4|Mt[n[6]],a:e===9?Mt[n[7]]<<4|Mt[n[8]]:255})),t}const R0=(n,e)=>n<255?e(n):"";function A0(n){var e=P0(n)?C0:O0;return n?"#"+e(n.r)+e(n.g)+e(n.b)+R0(n.a,e):void 0}const N0=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Dg(n,e,t){const r=e*Math.min(t,1-t),o=(a,l=(a+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function M0(n,e,t){const r=(o,a=(o+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function D0(n,e,t){const r=Dg(n,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)r[o]*=1-e-t,r[o]+=e;return r}function I0(n,e,t,r,o){return n===o?(e-t)/r+(e<t?6:0):e===o?(t-n)/r+2:(n-e)/r+4}function yu(n){const t=n.r/255,r=n.g/255,o=n.b/255,a=Math.max(t,r,o),l=Math.min(t,r,o),u=(a+l)/2;let h,f,g;return a!==l&&(g=a-l,f=u>.5?g/(2-a-l):g/(a+l),h=I0(t,r,o,g,a),h=h*60+.5),[h|0,f||0,u]}function vu(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Wn)}function _u(n,e,t){return vu(Dg,n,e,t)}function L0(n,e,t){return vu(D0,n,e,t)}function F0(n,e,t){return vu(M0,n,e,t)}function Ig(n){return(n%360+360)%360}function $0(n){const e=N0.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?ai(+e[5]):Wn(+e[5]));const o=Ig(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=L0(o,a,l):e[1]==="hsv"?r=F0(o,a,l):r=_u(o,a,l),{r:r[0],g:r[1],b:r[2],a:t}}function z0(n,e){var t=yu(n);t[0]=Ig(t[0]+e),t=_u(t),n.r=t[0],n.g=t[1],n.b=t[2]}function B0(n){if(!n)return;const e=yu(n),t=e[0],r=Hf(e[1]),o=Hf(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${o}%, ${mn(n.a)})`:`hsl(${t}, ${r}%, ${o}%)`}const Wf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function U0(){const n={},e=Object.keys(Vf),t=Object.keys(Wf);let r,o,a,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],o=0;o<t.length;o++)a=t[o],u=u.replace(a,Wf[a]);a=parseInt(Vf[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Bo;function H0(n){Bo||(Bo=U0(),Bo.transparent=[0,0,0,0]);const e=Bo[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const W0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function V0(n){const e=W0.exec(n);let t=255,r,o,a;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?ai(l):Bn(l*255,0,255)}return r=+e[1],o=+e[3],a=+e[5],r=255&(e[2]?ai(r):Bn(r,0,255)),o=255&(e[4]?ai(o):Bn(o,0,255)),a=255&(e[6]?ai(a):Bn(a,0,255)),{r,g:o,b:a,a:t}}}function q0(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${mn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Tc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Kr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function K0(n,e,t){const r=Kr(mn(n.r)),o=Kr(mn(n.g)),a=Kr(mn(n.b));return{r:Wn(Tc(r+t*(Kr(mn(e.r))-r))),g:Wn(Tc(o+t*(Kr(mn(e.g))-o))),b:Wn(Tc(a+t*(Kr(mn(e.b))-a))),a:n.a+t*(e.a-n.a)}}function Uo(n,e,t){if(n){let r=yu(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=_u(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Lg(n,e){return n&&Object.assign(e||{},n)}function qf(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Wn(n[3]))):(e=Lg(n,{r:0,g:0,b:0,a:1}),e.a=Wn(e.a)),e}function Y0(n){return n.charAt(0)==="r"?V0(n):$0(n)}class yi{constructor(e){if(e instanceof yi)return e;const t=typeof e;let r;t==="object"?r=qf(e):t==="string"&&(r=j0(e)||H0(e)||Y0(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Lg(this._rgb);return e&&(e.a=mn(e.a)),e}set rgb(e){this._rgb=qf(e)}rgbString(){return this._valid?q0(this._rgb):void 0}hexString(){return this._valid?A0(this._rgb):void 0}hslString(){return this._valid?B0(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,o=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,h=r.a-o.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,r.r=255&f*r.r+a*o.r+.5,r.g=255&f*r.g+a*o.g+.5,r.b=255&f*r.b+a*o.b+.5,r.a=l*r.a+(1-l)*o.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=K0(this._rgb,e._rgb,t)),this}clone(){return new yi(this.rgb)}alpha(e){return this._rgb.a=Wn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ei(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Uo(this._rgb,2,e),this}darken(e){return Uo(this._rgb,2,-e),this}saturate(e){return Uo(this._rgb,1,e),this}desaturate(e){return Uo(this._rgb,1,-e),this}rotate(e){return z0(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function hn(){}const G0=(()=>{let n=0;return()=>n++})();function Re(n){return n==null}function Je(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Te(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ft(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Zt(n,e){return Ft(n)?n:e}function Ee(n,e){return typeof n>"u"?e:n}const J0=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Fg=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Le(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Pe(n,e,t,r){let o,a,l;if(Je(n))for(a=n.length,o=0;o<a;o++)e.call(t,n[o],o);else if(Te(n))for(l=Object.keys(n),a=l.length,o=0;o<a;o++)e.call(t,n[l[o]],l[o])}function fa(n,e){let t,r,o,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(o=n[t],a=e[t],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function pa(n){if(Je(n))return n.map(pa);if(Te(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let o=0;for(;o<r;++o)e[t[o]]=pa(n[t[o]]);return e}return n}function $g(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Q0(n,e,t,r){if(!$g(n))return;const o=e[n],a=t[n];Te(o)&&Te(a)?vi(o,a,r):e[n]=pa(a)}function vi(n,e,t){const r=Je(e)?e:[e],o=r.length;if(!Te(n))return n;t=t||{};const a=t.merger||Q0;let l;for(let u=0;u<o;++u){if(l=r[u],!Te(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)a(h[f],n,l,t)}return n}function hi(n,e){return vi(n,e,{merger:X0})}function X0(n,e,t){if(!$g(n))return;const r=e[n],o=t[n];Te(r)&&Te(o)?hi(r,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=pa(o))}const Kf={"":n=>n,x:n=>n.x,y:n=>n.y};function Z0(n){const e=n.split("."),t=[];let r="";for(const o of e)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function e_(n){const e=Z0(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function wr(n,e){return(Kf[e]||(Kf[e]=e_(e)))(n)}function wu(n){return n.charAt(0).toUpperCase()+n.slice(1)}const _i=n=>typeof n<"u",qn=n=>typeof n=="function",Yf=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function t_(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const je=Math.PI,Ke=2*je,ga=Number.POSITIVE_INFINITY,n_=je/180,Qe=je/2,ar=je/4,Gf=je*2/3,zg=Math.log10,Vn=Math.sign;function la(n,e,t){return Math.abs(n-e)<t}function Jf(n){const e=Math.round(n);n=la(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(zg(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function r_(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((o,a)=>o-a).pop(),e}function s_(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ma(n){return!s_(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function i_(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function o_(n,e,t){let r,o,a;for(r=0,o=n.length;r<o;r++)a=n[r][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function yn(n){return n*(je/180)}function a_(n){return n*(180/je)}function Qf(n){if(!Ft(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Bg(n,e){const t=e.x-n.x,r=e.y-n.y,o=Math.sqrt(t*t+r*r);let a=Math.atan2(r,t);return a<-.5*je&&(a+=Ke),{angle:a,distance:o}}function l_(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function nn(n){return(n%Ke+Ke)%Ke}function ya(n,e,t,r){const o=nn(n),a=nn(e),l=nn(t),u=nn(a-o),h=nn(l-o),f=nn(o-a),g=nn(o-l);return o===a||o===l||r&&a===l||u>h&&f<g}function wt(n,e,t){return Math.max(e,Math.min(t,n))}function c_(n){return wt(n,-32768,32767)}function yr(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function bu(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,o=0,a;for(;r-o>1;)a=o+r>>1,t(a)?o=a:r=a;return{lo:o,hi:r}}const Yc=(n,e,t,r)=>bu(n,t,r?o=>{const a=n[o][e];return a<t||a===t&&n[o+1][e]===t}:o=>n[o][e]<t),u_=(n,e,t)=>bu(n,t,r=>n[r][e]>=t);function d_(n,e,t){let r=0,o=n.length;for(;r<o&&n[r]<e;)r++;for(;o>r&&n[o-1]>t;)o--;return r>0||o<n.length?n.slice(r,o):n}const Ug=["push","pop","shift","splice","unshift"];function h_(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ug.forEach(t=>{const r="_onData"+wu(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),l}})})}function Xf(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,o=r.indexOf(e);o!==-1&&r.splice(o,1),!(r.length>0)&&(Ug.forEach(a=>{delete n[a]}),delete n._chartjs)}function Hg(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Wg=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Vg(n,e){let t=[],r=!1;return function(...o){t=o,r||(r=!0,Wg.call(window,()=>{r=!1,n.apply(e,t)}))}}function f_(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const xu=n=>n==="start"?"left":n==="end"?"right":"center",at=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,p_=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,Ho=n=>n===0||n===1,Zf=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ke/t)),ep=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ke/t)+1,fi={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Qe)+1,easeOutSine:n=>Math.sin(n*Qe),easeInOutSine:n=>-.5*(Math.cos(je*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ho(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ho(n)?n:Zf(n,.075,.3),easeOutElastic:n=>Ho(n)?n:ep(n,.075,.3),easeInOutElastic(n){return Ho(n)?n:n<.5?.5*Zf(n*2,.1125,.45):.5+.5*ep(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-fi.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?fi.easeInBounce(n*2)*.5:fi.easeOutBounce(n*2-1)*.5+.5};function qg(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function tp(n){return qg(n)?n:new yi(n)}function Cc(n){return qg(n)?n:new yi(n).saturate(.5).darken(.1).hexString()}const g_=["x","y","borderWidth","radius","tension"],m_=["color","borderColor","backgroundColor"];function y_(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:m_},numbers:{type:"number",properties:g_}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function v_(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const np=new Map;function __(n,e){e=e||{};const t=n+JSON.stringify(e);let r=np.get(t);return r||(r=new Intl.NumberFormat(n,e),np.set(t,r)),r}function Su(n,e,t){return __(e,t).format(n)}const w_={values(n){return Je(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let o,a=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(o="scientific"),a=b_(n,t)}const l=zg(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:o,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),Su(n,r,h)}};function b_(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Kg={formatters:w_};function x_(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const br=Object.create(null),Gc=Object.create(null);function pi(n,e){if(!e)return n;const t=e.split(".");for(let r=0,o=t.length;r<o;++r){const a=t[r];n=n[a]||(n[a]=Object.create(null))}return n}function Oc(n,e,t){return typeof e=="string"?vi(pi(n,e),t):vi(pi(n,""),e)}class S_{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>Cc(o.backgroundColor),this.hoverBorderColor=(r,o)=>Cc(o.borderColor),this.hoverColor=(r,o)=>Cc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Oc(this,e,t)}get(e){return pi(this,e)}describe(e,t){return Oc(Gc,e,t)}override(e,t){return Oc(br,e,t)}route(e,t,r,o){const a=pi(this,e),l=pi(this,r),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],f=l[o];return Te(h)?Object.assign({},f,h):Ee(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var He=new S_({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[y_,v_,x_]);function k_(n){return!n||Re(n.size)||Re(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function rp(n,e,t,r,o){let a=e[o];return a||(a=e[o]=n.measureText(o).width,t.push(o)),a>r&&(r=a),r}function lr(n,e,t){const r=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*r)/r+o}function sp(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function ip(n,e,t,r){Yg(n,e,t,r,null)}function Yg(n,e,t,r,o){let a,l,u,h,f,g,y,v;const w=e.pointStyle,b=e.rotation,S=e.radius;let k=(b||0)*n_;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(k),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),w){default:o?n.ellipse(t,r,o/2,S,0,0,Ke):n.arc(t,r,S,0,Ke),n.closePath();break;case"triangle":g=o?o/2:S,n.moveTo(t+Math.sin(k)*g,r-Math.cos(k)*S),k+=Gf,n.lineTo(t+Math.sin(k)*g,r-Math.cos(k)*S),k+=Gf,n.lineTo(t+Math.sin(k)*g,r-Math.cos(k)*S),n.closePath();break;case"rectRounded":f=S*.516,h=S-f,l=Math.cos(k+ar)*h,y=Math.cos(k+ar)*(o?o/2-f:h),u=Math.sin(k+ar)*h,v=Math.sin(k+ar)*(o?o/2-f:h),n.arc(t-y,r-u,f,k-je,k-Qe),n.arc(t+v,r-l,f,k-Qe,k),n.arc(t+y,r+u,f,k,k+Qe),n.arc(t-v,r+l,f,k+Qe,k+je),n.closePath();break;case"rect":if(!b){h=Math.SQRT1_2*S,g=o?o/2:h,n.rect(t-g,r-h,2*g,2*h);break}k+=ar;case"rectRot":y=Math.cos(k)*(o?o/2:S),l=Math.cos(k)*S,u=Math.sin(k)*S,v=Math.sin(k)*(o?o/2:S),n.moveTo(t-y,r-u),n.lineTo(t+v,r-l),n.lineTo(t+y,r+u),n.lineTo(t-v,r+l),n.closePath();break;case"crossRot":k+=ar;case"cross":y=Math.cos(k)*(o?o/2:S),l=Math.cos(k)*S,u=Math.sin(k)*S,v=Math.sin(k)*(o?o/2:S),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"star":y=Math.cos(k)*(o?o/2:S),l=Math.cos(k)*S,u=Math.sin(k)*S,v=Math.sin(k)*(o?o/2:S),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l),k+=ar,y=Math.cos(k)*(o?o/2:S),l=Math.cos(k)*S,u=Math.sin(k)*S,v=Math.sin(k)*(o?o/2:S),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"line":l=o?o/2:Math.cos(k)*S,u=Math.sin(k)*S,n.moveTo(t-l,r-u),n.lineTo(t+l,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(k)*(o?o/2:S),r+Math.sin(k)*S);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Gg(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function ku(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Eu(n){n.restore()}function E_(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Re(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function T_(n,e,t,r,o){if(o.strikethrough||o.underline){const a=n.measureText(r),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,g=o.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function C_(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function wi(n,e,t,r,o,a={}){const l=Je(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=o.string,E_(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&C_(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Re(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,r,a.maxWidth)),n.fillText(f,t,r,a.maxWidth),T_(n,t,r,f,a),r+=Number(o.lineHeight);n.restore()}function va(n,e){const{x:t,y:r,w:o,h:a,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*je,je,!0),n.lineTo(t,r+a-l.bottomLeft),n.arc(t+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,je,Qe,!0),n.lineTo(t+o-l.bottomRight,r+a),n.arc(t+o-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Qe,0,!0),n.lineTo(t+o,r+l.topRight),n.arc(t+o-l.topRight,r+l.topRight,l.topRight,0,-Qe,!0),n.lineTo(t+l.topLeft,r)}const O_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,P_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j_(n,e){const t=(""+n).match(O_);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const R_=n=>+n||0;function Tu(n,e){const t={},r=Te(e),o=r?Object.keys(e):e,a=Te(n)?r?l=>Ee(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of o)t[l]=R_(a(l));return t}function Jg(n){return Tu(n,{top:"y",right:"x",bottom:"y",left:"x"})}function rs(n){return Tu(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $t(n){const e=Jg(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function lt(n,e){n=n||{},e=e||He.font;let t=Ee(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Ee(n.style,e.style);r&&!(""+r).match(P_)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:Ee(n.family,e.family),lineHeight:j_(Ee(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Ee(n.weight,e.weight),string:""};return o.string=k_(o),o}function Wo(n,e,t,r){let o,a,l;for(o=0,a=n.length;o<a;++o)if(l=n[o],l!==void 0&&l!==void 0)return l}function A_(n,e,t){const{min:r,max:o}=n,a=Fg(e,(o-r)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(r,-Math.abs(a)),max:l(o,a)}}function cs(n,e){return Object.assign(Object.create(n),e)}function Cu(n,e=[""],t,r,o=()=>n[0]){const a=t||n;typeof r>"u"&&(r=em("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:o,override:u=>Cu([u,...n],e,a,r)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return Xg(u,h,()=>z_(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return ap(u).includes(h)},ownKeys(u){return ap(u)},set(u,h,f){const g=u._storage||(u._storage=o());return u[h]=g[h]=f,delete u._keys,!0}})}function as(n,e,t,r){const o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Qg(n,r),setContext:a=>as(n,a,t,r),override:a=>as(n.override(a),e,t,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return Xg(a,l,()=>M_(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function Qg(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:r,isScriptable:qn(t)?t:()=>t,isIndexable:qn(r)?r:()=>r}}const N_=(n,e)=>n?n+wu(e):e,Ou=(n,e)=>Te(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Xg(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function M_(n,e,t){const{_proxy:r,_context:o,_subProxy:a,_descriptors:l}=n;let u=r[e];return qn(u)&&l.isScriptable(e)&&(u=D_(e,u,n,t)),Je(u)&&u.length&&(u=I_(e,u,n,l.isIndexable)),Ou(e,u)&&(u=as(u,o,a&&a[e],l)),u}function D_(n,e,t,r){const{_proxy:o,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(a,l||r);return u.delete(n),Ou(n,h)&&(h=Pu(o._scopes,o,n,h)),h}function I_(n,e,t,r){const{_proxy:o,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&r(n))return e[a.index%e.length];if(Te(e[0])){const h=e,f=o._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=Pu(f,o,n,g);e.push(as(y,a,l&&l[n],u))}}return e}function Zg(n,e,t){return qn(n)?n(e,t):n}const L_=(n,e)=>n===!0?e:typeof n=="string"?wr(e,n):void 0;function F_(n,e,t,r,o){for(const a of e){const l=L_(t,a);if(l){n.add(l);const u=Zg(l._fallback,t,o);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Pu(n,e,t,r){const o=e._rootScopes,a=Zg(e._fallback,t,r),l=[...n,...o],u=new Set;u.add(r);let h=op(u,l,t,a||t,r);return h===null||typeof a<"u"&&a!==t&&(h=op(u,l,a,h,r),h===null)?!1:Cu(Array.from(u),[""],o,a,()=>$_(e,t,r))}function op(n,e,t,r,o){for(;t;)t=F_(n,e,t,r,o);return t}function $_(n,e,t){const r=n._getTarget();e in r||(r[e]={});const o=r[e];return Je(o)&&Te(t)?t:o||{}}function z_(n,e,t,r){let o;for(const a of e)if(o=em(N_(a,n),t),typeof o<"u")return Ou(n,o)?Pu(t,r,n,o):o}function em(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function ap(n){let e=n._keys;return e||(e=n._keys=B_(n._scopes)),e}function B_(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(r);return Array.from(e)}function ju(){return typeof window<"u"&&typeof document<"u"}function Ru(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _a(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Oa=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function U_(n,e){return Oa(n).getPropertyValue(e)}const H_=["top","right","bottom","left"];function _r(n,e,t){const r={};t=t?"-"+t:"";for(let o=0;o<4;o++){const a=H_[o];r[a]=parseFloat(n[e+"-"+a+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const W_=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function V_(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:o,offsetY:a}=r;let l=!1,u,h;if(W_(o,a,n.target))u=o,h=a;else{const f=e.getBoundingClientRect();u=r.clientX-f.left,h=r.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function hr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,o=Oa(t),a=o.boxSizing==="border-box",l=_r(o,"padding"),u=_r(o,"border","width"),{x:h,y:f,box:g}=V_(n,t),y=l.left+(g&&u.left),v=l.top+(g&&u.top);let{width:w,height:b}=e;return a&&(w-=l.width+u.width,b-=l.height+u.height),{x:Math.round((h-y)/w*t.width/r),y:Math.round((f-v)/b*t.height/r)}}function q_(n,e,t){let r,o;if(e===void 0||t===void 0){const a=n&&Ru(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Oa(a),h=_r(u,"border","width"),f=_r(u,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,r=_a(u.maxWidth,a,"clientWidth"),o=_a(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:r||ga,maxHeight:o||ga}}const Un=n=>Math.round(n*10)/10;function K_(n,e,t,r){const o=Oa(n),a=_r(o,"margin"),l=_a(o.maxWidth,n,"clientWidth")||ga,u=_a(o.maxHeight,n,"clientHeight")||ga,h=q_(n,e,t);let{width:f,height:g}=h;if(o.boxSizing==="content-box"){const v=_r(o,"border","width"),w=_r(o,"padding");f-=w.width+v.width,g-=w.height+v.height}return f=Math.max(0,f-a.width),g=Math.max(0,r?f/r:g-a.height),f=Un(Math.min(f,l,h.maxWidth)),g=Un(Math.min(g,u,h.maxHeight)),f&&!g&&(g=Un(f/2)),(e!==void 0||t!==void 0)&&r&&h.height&&g>h.height&&(g=h.height,f=Un(Math.floor(g*r))),{width:f,height:g}}function lp(n,e,t){const r=e||1,o=Un(n.height*r),a=Un(n.width*r);n.height=Un(n.height),n.width=Un(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==o||l.width!==a?(n.currentDevicePixelRatio=r,l.height=o,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Y_=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};ju()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function cp(n,e){const t=U_(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const G_=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},J_=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ss(n,e,t){return n?G_(e,t):J_()}function tm(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function nm(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Vo(n,e,t){return n.options.clip?n[t]:e[t]}function Q_(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Vo(t,e,"left"),right:Vo(t,e,"right"),top:Vo(r,e,"top"),bottom:Vo(r,e,"bottom")}:e}function X_(n,e){const t=e._clip;if(t.disabled)return!1;const r=Q_(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Z_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,o){const a=t.listeners[o],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Wg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(o.draw(),this._notify(o,r,e,"progress")),a.length||(r.running=!1,this._notify(o,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var fn=new Z_;const up="transparent",ew={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=tp(n||up),o=r.valid&&tp(e||up);return o&&o.valid?o.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class tw{constructor(e,t,r,o){const a=t[r];o=Wo([e.to,o,a,e.from]);const l=Wo([e.from,a,o]);this._active=!0,this._fn=e.fn||ew[e.type||typeof l],this._easing=fi[e.easing]||fi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const o=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Wo([e.to,t,o,e.from]),this._from=Wo([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,o=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||t<r),!this._active){this._target[o]=u,this._notify(!0);return}if(t<0){this._target[o]=a;return}h=t/r%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][t]()}}class rm{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Te(e))return;const t=Object.keys(He.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const a=e[o];if(!Te(a))return;const l={};for(const u of t)l[u]=a[u];(Je(a.properties)&&a.properties||[o]).forEach(u=>{(u===o||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,t){const r=t.options,o=rw(e,r);if(!o)return[];const a=this._createAnimations(o,r);return r.$shared&&nw(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,o=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){o.push(...this._animateOptions(e,t));continue}const g=t[f];let y=a[f];const v=r.get(f);if(y)if(v&&y.active()){y.update(v,g,u);continue}else y.cancel();if(!v||!v.duration){e[f]=g;continue}a[f]=y=new tw(v,e,f,g),o.push(y)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return fn.add(this._chart,r),!0}}function nw(n,e){const t=[],r=Object.keys(e);for(let o=0;o<r.length;o++){const a=n[r[o]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function rw(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function dp(n,e){const t=n&&n.options||{},r=t.reverse,o=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:r?a:o,end:r?o:a}}function sw(n,e,t){if(t===!1)return!1;const r=dp(n,t),o=dp(e,t);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function iw(n){let e,t,r,o;return Te(n)?(e=n.top,t=n.right,r=n.bottom,o=n.left):e=t=r=o=n,{top:e,right:t,bottom:r,left:o,disabled:n===!1}}function sm(n,e){const t=[],r=n._getSortedDatasetMetas(e);let o,a;for(o=0,a=r.length;o<a;++o)t.push(r[o].index);return t}function hp(n,e,t,r={}){const o=n.keys,a=r.mode==="single";let l,u,h,f;if(e===null)return;let g=!1;for(l=0,u=o.length;l<u;++l){if(h=+o[l],h===t){if(g=!0,r.all)continue;break}f=n.values[h],Ft(f)&&(a||e===0||Vn(e)===Vn(f))&&(e+=f)}return!g&&!r.all?0:e}function ow(n,e){const{iScale:t,vScale:r}=e,o=t.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],u[h]={[o]:g,[a]:n[g]};return u}function Pc(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function aw(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function lw(n){const{min:e,max:t,minDefined:r,maxDefined:o}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function cw(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function fp(n,e,t,r){for(const o of e.getMatchingVisibleMetas(r).reverse()){const a=n[o.index];if(t&&a>0||!t&&a<0)return o.index}return null}function pp(n,e){const{chart:t,_cachedMeta:r}=n,o=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=r,h=a.axis,f=l.axis,g=aw(a,l,r),y=e.length;let v;for(let w=0;w<y;++w){const b=e[w],{[h]:S,[f]:k}=b,C=b._stacks||(b._stacks={});v=C[f]=cw(o,g,S),v[u]=k,v._top=fp(v,l,!0,r.type),v._bottom=fp(v,l,!1,r.type);const P=v._visualValues||(v._visualValues={});P[u]=k}}function jc(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function uw(n,e){return cs(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function dw(n,e,t){return cs(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ni(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const o of e){const a=o._stacks;if(!a||a[r]===void 0||a[r][t]===void 0)return;delete a[r][t],a[r]._visualValues!==void 0&&a[r]._visualValues[t]!==void 0&&delete a[r]._visualValues[t]}}}const Rc=n=>n==="reset"||n==="none",gp=(n,e)=>e?n:Object.assign({},n),hw=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:sm(t,!0),values:null};class is{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Pc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ni(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),o=(y,v,w,b)=>y==="x"?v:y==="r"?b:w,a=t.xAxisID=Ee(r.xAxisID,jc(e,"x")),l=t.yAxisID=Ee(r.yAxisID,jc(e,"y")),u=t.rAxisID=Ee(r.rAxisID,jc(e,"r")),h=t.indexAxis,f=t.iAxisID=o(h,a,l,u),g=t.vAxisID=o(h,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Xf(this._data,this),e._stacked&&ni(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Te(t)){const o=this._cachedMeta;this._data=ow(t,o)}else if(r!==t){if(r){Xf(r,this);const o=this._cachedMeta;ni(o),o._parsed=[]}t&&Object.isExtensible(t)&&h_(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const a=t._stacked;t._stacked=Pc(t.vScale,t),t.stack!==r.stack&&(o=!0,ni(t),t.stack=r.stack),this._resyncElements(e),(o||a!==t._stacked)&&(pp(this,t._parsed),t._stacked=Pc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:l}=r,u=a.axis;let h=e===0&&t===o.length?!0:r._sorted,f=e>0&&r._parsed[e-1],g,y,v;if(this._parsing===!1)r._parsed=o,r._sorted=!0,v=o;else{Je(o[e])?v=this.parseArrayData(r,o,e,t):Te(o[e])?v=this.parseObjectData(r,o,e,t):v=this.parsePrimitiveData(r,o,e,t);const w=()=>y[u]===null||f&&y[u]<f[u];for(g=0;g<t;++g)r._parsed[g+e]=y=v[g],h&&(w()&&(h=!1),f=y);r._sorted=h}l&&pp(this,v)}parsePrimitiveData(e,t,r,o){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,f=a.getLabels(),g=a===l,y=new Array(o);let v,w,b;for(v=0,w=o;v<w;++v)b=v+r,y[v]={[u]:g||a.parse(f[b],b),[h]:l.parse(t[b],b)};return y}parseArrayData(e,t,r,o){const{xScale:a,yScale:l}=e,u=new Array(o);let h,f,g,y;for(h=0,f=o;h<f;++h)g=h+r,y=t[g],u[h]={x:a.parse(y[0],g),y:l.parse(y[1],g)};return u}parseObjectData(e,t,r,o){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(o);let g,y,v,w;for(g=0,y=o;g<y;++g)v=g+r,w=t[v],f[g]={x:a.parse(wr(w,u),v),y:l.parse(wr(w,h),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const o=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:sm(o,!0),values:t._stacks[e.axis]._visualValues};return hp(u,l,a.index,{mode:r})}updateRangeFromParsed(e,t,r,o){const a=r[t.axis];let l=a===null?NaN:a;const u=o&&r._stacks[t.axis];o&&u&&(o.values=u,l=hp(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,l=o.length,u=this._getOtherScale(e),h=hw(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=lw(u);let v,w;function b(){w=o[v];const S=w[u.axis];return!Ft(w[e.axis])||g>S||y<S}for(v=0;v<l&&!(!b()&&(this.updateRangeFromParsed(f,e,w,h),a));++v);if(a){for(v=l-1;v>=0;--v)if(!b()){this.updateRangeFromParsed(f,e,w,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let o,a,l;for(o=0,a=t.length;o<a;++o)l=t[o][e.axis],Ft(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,o=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=iw(Ee(this.options.clip,sw(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,o=r.data||[],a=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||o.length-u,f=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,a,u,h),g=u;g<u+h;++g){const y=o[g];y.hidden||(y.active&&f?l.push(y):y.draw(e,a))}for(g=0;g<l.length;++g)l[g].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=dw(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=uw(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const o=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],h=this.enableOptionSharing&&_i(r);if(u)return gp(u,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),g),w=Object.keys(He.elements[e]),b=()=>this.getContext(r,o,t),S=f.resolveNamedOptions(v,w,b,y);return S.$shared&&(S.$shared=h,a[l]=Object.freeze(gp(S,h))),S}_resolveAnimations(e,t,r){const o=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let h;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),v=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(v,this.getContext(e,r,t))}const f=new rm(o,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Rc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),o=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(t,a)||a!==o;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:l}}updateElement(e,t,r,o){Rc(o)?Object.assign(e,r):this._resolveAnimations(t,o).update(e,r)}updateSharedOptions(e,t,r){e&&!Rc(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,o){e.active=o;const a=this.getStyle(t,o);this._resolveAnimations(t,r,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const o=r.length,a=t.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,t,r=!0){const o=this._cachedMeta,a=o.data,l=e+t;let u;const h=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,o){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,t);r._stacked&&ni(r,o)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,o]=e;this[t](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}fe(is,"defaults",{}),fe(is,"datasetElementType",null),fe(is,"dataElementType",null);function fw(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let o=0,a=t.length;o<a;o++)r=r.concat(t[o].controller.getAllParsedValues(n));n._cache.$bar=Hg(r.sort((o,a)=>o-a))}return n._cache.$bar}function pw(n){const e=n.iScale,t=fw(e,n.type);let r=e._length,o,a,l,u;const h=()=>{l===32767||l===-32768||(_i(u)&&(r=Math.min(r,Math.abs(l-u)||r)),u=l)};for(o=0,a=t.length;o<a;++o)l=e.getPixelForValue(t[o]),h();for(u=void 0,o=0,a=e.ticks.length;o<a;++o)l=e.getPixelForTick(o),h();return r}function gw(n,e,t,r){const o=t.barThickness;let a,l;return Re(o)?(a=e.min*t.categoryPercentage,l=t.barPercentage):(a=o*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[n]-a/2}}function mw(n,e,t,r){const o=e.pixels,a=o[n];let l=n>0?o[n-1]:null,u=n<o.length-1?o[n+1]:null;const h=t.categoryPercentage;l===null&&(l=a-(u===null?e.end-e.start:u-a)),u===null&&(u=a+a-l);const f=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/r,ratio:t.barPercentage,start:f}}function yw(n,e,t,r){const o=t.parse(n[0],r),a=t.parse(n[1],r),l=Math.min(o,a),u=Math.max(o,a);let h=l,f=u;Math.abs(l)>Math.abs(u)&&(h=u,f=l),e[t.axis]=f,e._custom={barStart:h,barEnd:f,start:o,end:a,min:l,max:u}}function im(n,e,t,r){return Je(n)?yw(n,e,t,r):e[t.axis]=t.parse(n,r),e}function mp(n,e,t,r){const o=n.iScale,a=n.vScale,l=o.getLabels(),u=o===a,h=[];let f,g,y,v;for(f=t,g=t+r;f<g;++f)v=e[f],y={},y[o.axis]=u||o.parse(l[f],f),h.push(im(v,y,a,f));return h}function Ac(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function vw(n,e,t){return n!==0?Vn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function _w(n){let e,t,r,o,a;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(o="end",a="start"):(o="start",a="end"),{start:t,end:r,reverse:e,top:o,bottom:a}}function ww(n,e,t,r){let o=e.borderSkipped;const a={};if(!o){n.borderSkipped=a;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:f,bottom:g}=_w(n);o==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?o=f:(t._bottom||0)===r?o=g:(a[yp(g,l,u,h)]=!0,o=f)),a[yp(o,l,u,h)]=!0,n.borderSkipped=a}function yp(n,e,t,r){return r?(n=bw(n,e,t),n=vp(n,t,e)):n=vp(n,e,t),n}function bw(n,e,t){return n===e?t:n===t?e:n}function vp(n,e,t){return n==="start"?e:n==="end"?t:n}function xw(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class ca extends is{parsePrimitiveData(e,t,r,o){return mp(e,t,r,o)}parseArrayData(e,t,r,o){return mp(e,t,r,o)}parseObjectData(e,t,r,o){const{iScale:a,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?u:h,g=l.axis==="x"?u:h,y=[];let v,w,b,S;for(v=r,w=r+o;v<w;++v)S=t[v],b={},b[a.axis]=a.parse(wr(S,f),v),y.push(im(wr(S,g),b,l,v));return y}updateRangeFromParsed(e,t,r,o){super.updateRangeFromParsed(e,t,r,o);const a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:o}=t,a=this.getParsed(e),l=a._custom,u=Ac(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,o){const a=o==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),f=u.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,o);for(let w=t;w<t+r;w++){const b=this.getParsed(w),S=a||Re(b[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(w),k=this._calculateBarIndexPixels(w,g),C=(b._stacks||{})[u.axis],P={horizontal:f,base:S.base,enableBorderRadius:!C||Ac(b._custom)||l===C._top||l===C._bottom,x:f?S.head:k.center,y:f?k.center:S.head,height:f?k.size:Math.abs(S.size),width:f?Math.abs(S.size):k.size};v&&(P.options=y||this.resolveDataElementOptions(w,e[w].active?"active":o));const R=P.options||e[w].options;ww(P,R,C,l),xw(P,R,g.ratio),this.updateElement(e[w],w,P,o)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),a=r.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(t),h=u&&u[r.axis],f=g=>{const y=g._parsed.find(w=>w[r.axis]===h),v=y&&y[g.vScale.axis];if(Re(v)||isNaN(v))return!0};for(const g of o)if(!(t!==void 0&&f(g))&&((a===!1||l.indexOf(g.stack)===-1||a===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Ee(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const o=this._getStacks(e,r),a=t!==void 0?o.indexOf(t):-1;return a===-1?o.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,o=[];let a,l;for(a=0,l=t.data.length;a<l;++a)o.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const u=e.barThickness;return{min:u||pw(t),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:o},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(e),f=h._custom,g=Ac(f);let y=h[t.axis],v=0,w=r?this.applyStack(t,h,r):y,b,S;w!==y&&(v=w-y,w=y),g&&(y=f.barStart,w=f.barEnd-f.barStart,y!==0&&Vn(y)!==Vn(f.barEnd)&&(v=0),v+=y);const k=!Re(a)&&!g?a:v;let C=t.getPixelForValue(k);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(v+w):b=C,S=b-C,Math.abs(S)<l){S=vw(S,t,u)*l,y===u&&(C-=S/2);const P=t.getPixelForDecimal(0),R=t.getPixelForDecimal(1),N=Math.min(P,R),I=Math.max(P,R);C=Math.max(Math.min(C,I),N),b=C+S,r&&!g&&(h._stacks[t.axis]._visualValues[o]=t.getValueForPixel(b)-t.getValueForPixel(C))}if(C===t.getPixelForValue(u)){const P=Vn(S)*t.getLineWidthForValue(u)/2;C+=P,S-=P}return{size:S,base:C,head:b,center:b+S/2}}_calculateBarIndexPixels(e,t){const r=t.scale,o=this.options,a=o.skipNull,l=Ee(o.maxBarThickness,1/0);let u,h;const f=this._getAxisCount();if(t.grouped){const g=a?this._getStackCount(e):t.stackCount,y=o.barThickness==="flex"?mw(e,t,o,g*f):gw(e,t,o,g*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Ee(v,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+w;u=y.start+y.chunk*b+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else u=r.getPixelForValue(this.getParsed(e)[r.axis],e),h=Math.min(l,t.min*t.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,o=r.length;let a=0;for(;a<o;++a)this.getParsed(a)[t.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}fe(ca,"id","bar"),fe(ca,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),fe(ca,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Sw(n,e,t){let r=1,o=1,a=0,l=0;if(e<Ke){const u=n,h=u+e,f=Math.cos(u),g=Math.sin(u),y=Math.cos(h),v=Math.sin(h),w=(R,N,I)=>ya(R,u,h,!0)?1:Math.max(N,N*t,I,I*t),b=(R,N,I)=>ya(R,u,h,!0)?-1:Math.min(N,N*t,I,I*t),S=w(0,f,y),k=w(Qe,g,v),C=b(je,f,y),P=b(je+Qe,g,v);r=(S-C)/2,o=(k-P)/2,a=-(S+C)/2,l=-(k+P)/2}return{ratioX:r,ratioY:o,offsetX:a,offsetY:l}}class ns extends is{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let a=h=>+r[h];if(Te(r[e])){const{key:h="value"}=this._parsing;a=f=>+wr(r[f],h)}let l,u;for(l=e,u=e+t;l<u;++l)o._parsed[l]=a(l)}}_getRotation(){return yn(this.options.rotation-90)}_getCircumference(){return yn(this.options.circumference)}_getRotationExtents(){let e=Ke,t=-Ke;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,a=o._getRotation(),l=o._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,o=this._cachedMeta,a=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-l)/2,0),h=Math.min(J0(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:w,offsetX:b,offsetY:S}=Sw(y,g,h),k=(r.width-l)/v,C=(r.height-l)/w,P=Math.max(Math.min(k,C)/2,0),R=Fg(this.options.radius,P),N=Math.max(R*h,0),I=(R-N)/this._getVisibleDatasetWeightTotal();this.offsetX=b*R,this.offsetY=S*R,o.total=this.calculateTotal(),this.outerRadius=R-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,o=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*a/Ke)}updateElements(e,t,r,o){const a=o==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,g=(u.left+u.right)/2,y=(u.top+u.bottom)/2,v=a&&f.animateScale,w=v?0:this.innerRadius,b=v?0:this.outerRadius,{sharedOptions:S,includeOptions:k}=this._getSharedOptions(t,o);let C=this._getRotation(),P;for(P=0;P<t;++P)C+=this._circumference(P,a);for(P=t;P<t+r;++P){const R=this._circumference(P,a),N=e[P],I={x:g+this.offsetX,y:y+this.offsetY,startAngle:C,endAngle:C+R,circumference:R,outerRadius:b,innerRadius:w};k&&(I.options=S||this.resolveDataElementOptions(P,N.active?"active":o)),C+=R,this.updateElement(N,P,I,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,o;for(o=0;o<t.length;o++){const a=e._parsed[o];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ke*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,o=r.data.labels||[],a=Su(t._parsed[e],r.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let o,a,l,u,h;if(!e){for(o=0,a=r.data.datasets.length;o<a;++o)if(r.isDatasetVisible(o)){l=r.getDatasetMeta(o),e=l.data,u=l.controller;break}}if(!e)return 0;for(o=0,a=e.length;o<a;++o)h=u.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,o=e.length;r<o;++r){const a=this.resolveDataElementOptions(r);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Ee(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}fe(ns,"id","doughnut"),fe(ns,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),fe(ns,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),fe(ns,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:o,color:a,useBorderRadius:l,borderRadius:u}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((h,f)=>{const y=e.getDatasetMeta(0).controller.getStyle(f);return{text:h,fillStyle:y.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(f),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:o,pointStyle:r,borderRadius:l&&(u||y.borderRadius),index:f}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Jc extends ns{}fe(Jc,"id","pie"),fe(Jc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function cr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Au{constructor(e){fe(this,"options");this.options=e||{}}static override(e){Object.assign(Au.prototype,e)}init(){}formats(){return cr()}parse(){return cr()}format(){return cr()}add(){return cr()}diff(){return cr()}startOf(){return cr()}endOf(){return cr()}}var kw={_date:Au};function Ew(n,e,t,r){const{controller:o,data:a,_sorted:l}=n,u=o._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?u_:Yc;if(r){if(o._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const v=f(a,e,t-y),w=f(a,e,t+y);return{lo:v.lo,hi:w.hi}}}}else{const g=f(a,e,t);if(h){const{vScale:y}=o._cachedMeta,{_parsed:v}=n,w=v.slice(0,g.lo+1).reverse().findIndex(S=>!Re(S[y.axis]));g.lo-=Math.max(0,w);const b=v.slice(g.hi).findIndex(S=>!Re(S[y.axis]));g.hi+=Math.max(0,b)}return g}}return{lo:0,hi:a.length-1}}function Pa(n,e,t,r,o){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=a.length;u<h;++u){const{index:f,data:g}=a[u],{lo:y,hi:v}=Ew(a[u],e,l,o);for(let w=y;w<=v;++w){const b=g[w];b.skip||r(b,f,w)}}}function Tw(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,o){const a=e?Math.abs(r.x-o.x):0,l=t?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Nc(n,e,t,r,o){const a=[];return!o&&!n.isPointInArea(e)||Pa(n,t,e,function(u,h,f){!o&&!Gg(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function Cw(n,e,t,r){let o=[];function a(l,u,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],r),{angle:y}=Bg(l,{x:e.x,y:e.y});ya(y,f,g)&&o.push({element:l,datasetIndex:u,index:h})}return Pa(n,t,e,a),o}function Ow(n,e,t,r,o,a){let l=[];const u=Tw(t);let h=Number.POSITIVE_INFINITY;function f(g,y,v){const w=g.inRange(e.x,e.y,o);if(r&&!w)return;const b=g.getCenterPoint(o);if(!(!!a||n.isPointInArea(b))&&!w)return;const k=u(e,b);k<h?(l=[{element:g,datasetIndex:y,index:v}],h=k):k===h&&l.push({element:g,datasetIndex:y,index:v})}return Pa(n,t,e,f),l}function Mc(n,e,t,r,o,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!r?Cw(n,e,t,o):Ow(n,e,t,r,o,a)}function _p(n,e,t,r,o){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Pa(n,t,e,(h,f,g)=>{h[l]&&h[l](e[t],o)&&(a.push({element:h,datasetIndex:f,index:g}),u=u||h.inRange(e.x,e.y,o))}),r&&!u?[]:a}var Pw={modes:{index(n,e,t,r){const o=hr(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Nc(n,o,a,r,l):Mc(n,o,a,!1,r,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,y=f.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:g})}),h):[]},dataset(n,e,t,r){const o=hr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Nc(n,o,a,r,l):Mc(n,o,a,!1,r,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:h,index:g})}return u},point(n,e,t,r){const o=hr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Nc(n,o,a,r,l)},nearest(n,e,t,r){const o=hr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Mc(n,o,a,t.intersect,r,l)},x(n,e,t,r){const o=hr(e,n);return _p(n,o,"x",t.intersect,r)},y(n,e,t,r){const o=hr(e,n);return _p(n,o,"y",t.intersect,r)}}};const om=["left","top","right","bottom"];function ri(n,e){return n.filter(t=>t.pos===e)}function wp(n,e){return n.filter(t=>om.indexOf(t.pos)===-1&&t.box.axis===e)}function si(n,e){return n.sort((t,r)=>{const o=e?r:t,a=e?t:r;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function jw(n){const e=[];let t,r,o,a,l,u;for(t=0,r=(n||[]).length;t<r;++t)o=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=o,e.push({index:t,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:u});return e}function Rw(n){const e={};for(const t of n){const{stack:r,pos:o,stackWeight:a}=t;if(!r||!om.includes(o))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function Aw(n,e){const t=Rw(n),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=t[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*r:h&&e.availableWidth,u.height=o):(u.width=r,u.height=g?g*o:h&&e.availableHeight)}return t}function Nw(n){const e=jw(n),t=si(e.filter(f=>f.box.fullSize),!0),r=si(ri(e,"left"),!0),o=si(ri(e,"right")),a=si(ri(e,"top"),!0),l=si(ri(e,"bottom")),u=wp(e,"x"),h=wp(e,"y");return{fullSize:t,leftAndTop:r.concat(a),rightAndBottom:o.concat(h).concat(l).concat(u),chartArea:ri(e,"chartArea"),vertical:r.concat(o).concat(h),horizontal:a.concat(l).concat(u)}}function bp(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function am(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Mw(n,e,t,r){const{pos:o,box:a}=t,l=n.maxPadding;if(!Te(o)){t.size&&(n[o]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?a.height:a.width),t.size=y.size/y.count,n[o]+=t.size}a.getPadding&&am(l,a.getPadding());const u=Math.max(0,e.outerWidth-bp(l,n,"left","right")),h=Math.max(0,e.outerHeight-bp(l,n,"top","bottom")),f=u!==n.w,g=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:f,other:g}:{same:g,other:f}}function Dw(n){const e=n.maxPadding;function t(r){const o=Math.max(e[r]-n[r],0);return n[r]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Iw(n,e){const t=e.maxPadding;function r(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return r(n?["left","right"]:["top","bottom"])}function li(n,e,t,r){const o=[];let a,l,u,h,f,g;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||e.w,u.height||e.h,Iw(u.horizontal,e));const{same:y,other:v}=Mw(e,t,u,r);f|=y&&o.length,g=g||v,h.fullSize||o.push(u)}return f&&li(o,e,t,r)||g}function qo(n,e,t,r,o){n.top=t,n.left=e,n.right=e+r,n.bottom=t+o,n.width=r,n.height=o}function xp(n,e,t,r){const o=t.padding;let{x:a,y:l}=e;for(const u of n){const h=u.box,f=r[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const y=e.w*g,v=f.size||h.height;_i(f.start)&&(l=f.start),h.fullSize?qo(h,o.left,l,t.outerWidth-o.right-o.left,v):qo(h,e.left+f.placed,l,y,v),f.start=l,f.placed+=y,l=h.bottom}else{const y=e.h*g,v=f.size||h.width;_i(f.start)&&(a=f.start),h.fullSize?qo(h,a,o.top,v,t.outerHeight-o.bottom-o.top):qo(h,a,e.top+f.placed,v,y),f.start=a,f.placed+=y,a=h.right}}e.x=a,e.y=l}var Lt={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const o=$t(n.options.layout.padding),a=Math.max(e-o.width,0),l=Math.max(t-o.height,0),u=Nw(n.boxes),h=u.vertical,f=u.horizontal;Pe(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const g=h.reduce((S,k)=>k.box.options&&k.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),v=Object.assign({},o);am(v,$t(r));const w=Object.assign({maxPadding:v,w:a,h:l,x:o.left,y:o.top},o),b=Aw(h.concat(f),y);li(u.fullSize,w,y,b),li(h,w,y,b),li(f,w,y,b)&&li(h,w,y,b),Dw(w),xp(u.leftAndTop,w,y,b),w.x+=w.w,w.y+=w.h,xp(u.rightAndBottom,w,y,b),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Pe(u.chartArea,S=>{const k=S.box;Object.assign(k,n.chartArea),k.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class lm{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,o){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):r)}}isAttached(e){return!0}updateConfig(e){}}class Lw extends lm{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ua="$chartjs",Fw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Sp=n=>n===null||n==="";function $w(n,e){const t=n.style,r=n.getAttribute("height"),o=n.getAttribute("width");if(n[ua]={initial:{height:r,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Sp(o)){const a=cp(n,"width");a!==void 0&&(n.width=a)}if(Sp(r))if(n.style.height==="")n.height=n.width/(e||2);else{const a=cp(n,"height");a!==void 0&&(n.height=a)}return n}const cm=Y_?{passive:!0}:!1;function zw(n,e,t){n&&n.addEventListener(e,t,cm)}function Bw(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,cm)}function Uw(n,e){const t=Fw[n.type]||n.type,{x:r,y:o}=hr(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:o!==void 0?o:null}}function wa(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Hw(n,e,t){const r=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||wa(u.addedNodes,r),l=l&&!wa(u.removedNodes,r);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function Ww(n,e,t){const r=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||wa(u.removedNodes,r),l=l&&!wa(u.addedNodes,r);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const bi=new Map;let kp=0;function um(){const n=window.devicePixelRatio;n!==kp&&(kp=n,bi.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Vw(n,e){bi.size||window.addEventListener("resize",um),bi.set(n,e)}function qw(n){bi.delete(n),bi.size||window.removeEventListener("resize",um)}function Kw(n,e,t){const r=n.canvas,o=r&&Ru(r);if(!o)return;const a=Vg((u,h)=>{const f=o.clientWidth;t(u,h),f<o.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(o),Vw(n,a),l}function Dc(n,e,t){t&&t.disconnect(),e==="resize"&&qw(n)}function Yw(n,e,t){const r=n.canvas,o=Vg(a=>{n.ctx!==null&&t(Uw(a,n))},n);return zw(r,e,o),o}class Gw extends lm{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?($w(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ua])return!1;const r=t[ua].initial;["height","width"].forEach(a=>{const l=r[a];Re(l)?t.removeAttribute(a):t.setAttribute(a,l)});const o=r.style||{};return Object.keys(o).forEach(a=>{t.style[a]=o[a]}),t.width=t.width,delete t[ua],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),l={attach:Hw,detach:Ww,resize:Kw}[t]||Yw;o[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),o=r[t];if(!o)return;({attach:Dc,detach:Dc,resize:Dc}[t]||Bw)(e,t,o),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,o){return K_(e,t,r,o)}isAttached(e){const t=e&&Ru(e);return!!(t&&t.isConnected)}}function Jw(n){return!ju()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Lw:Gw}class vn{constructor(){fe(this,"x");fe(this,"y");fe(this,"active",!1);fe(this,"options");fe(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return ma(this.x)&&ma(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const o={};return e.forEach(a=>{o[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),o}}fe(vn,"defaults",{}),fe(vn,"defaultRoutes");function Qw(n,e){const t=n.options.ticks,r=Xw(n),o=Math.min(t.maxTicksLimit||r,r),a=t.major.enabled?eb(e):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>o)return tb(e,f,a,l/o),f;const g=Zw(a,e,o);if(l>0){let y,v;const w=l>1?Math.round((h-u)/(l-1)):null;for(Ko(e,f,g,Re(w)?0:u-w,u),y=0,v=l-1;y<v;y++)Ko(e,f,g,a[y],a[y+1]);return Ko(e,f,g,h,Re(w)?e.length:h+w),f}return Ko(e,f,g),f}function Xw(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(r,o))}function Zw(n,e,t){const r=nb(n),o=e.length/t;if(!r)return Math.max(o,1);const a=r_(r);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>o)return h}return Math.max(o,1)}function eb(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function tb(n,e,t,r){let o=0,a=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(e.push(n[l]),o++,a=t[o*r])}function Ko(n,e,t,r,o){const a=Ee(r,0),l=Math.min(Ee(o,n.length),n.length);let u=0,h,f,g;for(t=Math.ceil(t),o&&(h=o-r,t=h/Math.floor(h/t)),g=a;g<0;)u++,g=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===g&&(e.push(n[f]),u++,g=Math.round(a+u*t))}function nb(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const rb=n=>n==="left"?"right":n==="right"?"left":n,Ep=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Tp=(n,e)=>Math.min(e||n,n);function Cp(n,e){const t=[],r=n.length/e,o=n.length;let a=0;for(;a<o;a+=r)t.push(n[Math.floor(a)]);return t}function sb(n,e,t){const r=n.ticks.length,o=Math.min(e,r-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(o),f;if(!(t&&(r===1?f=Math.max(h-a,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(o-1))/2,h+=o<e?f:-f,h<a-u||h>l+u)))return h}function ib(n,e){Pe(n,t=>{const r=t.gc,o=r.length/2;let a;if(o>e){for(a=0;a<o;++a)delete t.data[r[a]];r.splice(0,o)}})}function ii(n){return n.drawTicks?n.tickLength:0}function Op(n,e){if(!n.display)return 0;const t=lt(n.font,e),r=$t(n.padding);return(Je(n.text)?n.text.length:1)*t.lineHeight+r.height}function ob(n,e){return cs(n,{scale:e,type:"scale"})}function ab(n,e,t){return cs(n,{tick:t,index:e,type:"tick"})}function lb(n,e,t){let r=xu(n);return(t&&e!=="right"||!t&&e==="right")&&(r=rb(r)),r}function cb(n,e,t,r){const{top:o,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:g}=h;let y=0,v,w,b;const S=l-o,k=u-a;if(n.isHorizontal()){if(w=at(r,a,u),Te(t)){const C=Object.keys(t)[0],P=t[C];b=g[C].getPixelForValue(P)+S-e}else t==="center"?b=(f.bottom+f.top)/2+S-e:b=Ep(n,t,e);v=u-a}else{if(Te(t)){const C=Object.keys(t)[0],P=t[C];w=g[C].getPixelForValue(P)-k+e}else t==="center"?w=(f.left+f.right)/2-k+e:w=Ep(n,t,e);b=at(r,l,o),y=t==="left"?-Qe:Qe}return{titleX:w,titleY:b,maxWidth:v,rotation:y}}class us extends vn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:o}=this;return e=Zt(e,Number.POSITIVE_INFINITY),t=Zt(t,Number.NEGATIVE_INFINITY),r=Zt(r,Number.POSITIVE_INFINITY),o=Zt(o,Number.NEGATIVE_INFINITY),{min:Zt(e,r),max:Zt(t,o),minDefined:Ft(e),maxDefined:Ft(t)}}getMinMax(e){let{min:t,max:r,minDefined:o,maxDefined:a}=this.getUserBounds(),l;if(o&&a)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),o||(t=Math.min(t,l.min)),a||(r=Math.max(r,l.max));return t=a&&t>r?r:t,r=o&&t>r?t:r,{min:Zt(t,Zt(r,t)),max:Zt(r,Zt(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Le(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:o,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=A_(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Cp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Qw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Le(this.options.afterUpdate,[this])}beforeSetDimensions(){Le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Le(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Le(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,o,a;for(r=0,o=e.length;r<o;r++)a=e[r],a.label=Le(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Tp(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,a=t.maxRotation;let l=o,u,h,f;if(!this._isVisible()||!t.display||o>=a||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,v=g.highest.height,w=wt(this.chart.width-y,0,this.maxWidth);u=e.offset?this.maxWidth/r:w/(r-1),y+6>u&&(u=w/(r-(e.offset?.5:1)),h=this.maxHeight-ii(e.grid)-t.padding-Op(e.title,this.chart.options.font),f=Math.sqrt(y*y+v*v),l=a_(Math.min(Math.asin(wt((g.highest.height+6)/u,-1,1)),Math.asin(wt(h/f,-1,1))-Math.asin(wt(v/f,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Le(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:o,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=Op(o,t.options.font);if(u?(e.width=this.maxWidth,e.height=ii(a)+h):(e.height=this.maxHeight,e.width=ii(a)+h),r.display&&this.ticks.length){const{first:f,last:g,widest:y,highest:v}=this._getLabelSizes(),w=r.padding*2,b=yn(this.labelRotation),S=Math.cos(b),k=Math.sin(b);if(u){const C=r.mirror?0:k*y.width+S*v.height;e.height=Math.min(this.maxHeight,e.height+C+w)}else{const C=r.mirror?0:S*y.width+k*v.height;e.width=Math.min(this.maxWidth,e.width+C+w)}this._calculatePadding(f,g,k,S)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,o){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,w=0;h?f?(v=o*e.width,w=r*t.height):(v=r*e.height,w=o*t.width):a==="start"?w=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,w=t.width/2),this.paddingLeft=Math.max((v-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((w-y+l)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;a==="start"?(g=0,y=e.height):a==="end"&&(g=t.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Le(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Re(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Cp(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:o,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(t/Tp(t,r));let f=0,g=0,y,v,w,b,S,k,C,P,R,N,I;for(y=0;y<t;y+=h){if(b=e[y].label,S=this._resolveTickFontOptions(y),o.font=k=S.string,C=a[k]=a[k]||{data:{},gc:[]},P=S.lineHeight,R=N=0,!Re(b)&&!Je(b))R=rp(o,C.data,C.gc,R,b),N=P;else if(Je(b))for(v=0,w=b.length;v<w;++v)I=b[v],!Re(I)&&!Je(I)&&(R=rp(o,C.data,C.gc,R,I),N+=P);l.push(R),u.push(N),f=Math.max(R,f),g=Math.max(N,g)}ib(a,t);const $=l.indexOf(f),L=u.indexOf(g),W=D=>({width:l[D]||0,height:u[D]||0});return{first:W(0),last:W(t-1),widest:W($),highest:W(L),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return c_(this._alignToPixels?lr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=ab(this.getContext(),e,r))}return this.$context||(this.$context=ob(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=yn(this.labelRotation),r=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*r>u*o?u/r:h/o:h*o<u*r?h/r:u/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,o=this.options,{grid:a,position:l,border:u}=o,h=a.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),v=ii(a),w=[],b=u.setContext(this.getContext()),S=b.display?b.width:0,k=S/2,C=function(we){return lr(r,we,S)};let P,R,N,I,$,L,W,D,z,J,ee,he;if(l==="top")P=C(this.bottom),L=this.bottom-v,D=P-k,J=C(e.top)+k,he=e.bottom;else if(l==="bottom")P=C(this.top),J=e.top,he=C(e.bottom)-k,L=P+k,D=this.top+v;else if(l==="left")P=C(this.right),$=this.right-v,W=P-k,z=C(e.left)+k,ee=e.right;else if(l==="right")P=C(this.left),z=e.left,ee=C(e.right)-k,$=P+k,W=this.left+v;else if(t==="x"){if(l==="center")P=C((e.top+e.bottom)/2+.5);else if(Te(l)){const we=Object.keys(l)[0],ye=l[we];P=C(this.chart.scales[we].getPixelForValue(ye))}J=e.top,he=e.bottom,L=P+k,D=L+v}else if(t==="y"){if(l==="center")P=C((e.left+e.right)/2);else if(Te(l)){const we=Object.keys(l)[0],ye=l[we];P=C(this.chart.scales[we].getPixelForValue(ye))}$=P-k,W=$-v,z=e.left,ee=e.right}const be=Ee(o.ticks.maxTicksLimit,y),me=Math.max(1,Math.ceil(y/be));for(R=0;R<y;R+=me){const we=this.getContext(R),ye=a.setContext(we),G=u.setContext(we),te=ye.lineWidth,T=ye.color,H=G.dash||[],ie=G.dashOffset,_e=ye.tickWidth,U=ye.tickColor,Q=ye.tickBorderDash||[],ne=ye.tickBorderDashOffset;N=sb(this,R,h),N!==void 0&&(I=lr(r,N,te),f?$=W=z=ee=I:L=D=J=he=I,w.push({tx1:$,ty1:L,tx2:W,ty2:D,x1:z,y1:J,x2:ee,y2:he,width:te,color:T,borderDash:H,borderDashOffset:ie,tickWidth:_e,tickColor:U,tickBorderDash:Q,tickBorderDashOffset:ne}))}return this._ticksLength=y,this._borderValue=P,w}_computeLabelItems(e){const t=this.axis,r=this.options,{position:o,ticks:a}=r,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:g,mirror:y}=a,v=ii(r.grid),w=v+g,b=y?-g:w,S=-yn(this.labelRotation),k=[];let C,P,R,N,I,$,L,W,D,z,J,ee,he="middle";if(o==="top")$=this.bottom-b,L=this._getXAxisLabelAlignment();else if(o==="bottom")$=this.top+b,L=this._getXAxisLabelAlignment();else if(o==="left"){const me=this._getYAxisLabelAlignment(v);L=me.textAlign,I=me.x}else if(o==="right"){const me=this._getYAxisLabelAlignment(v);L=me.textAlign,I=me.x}else if(t==="x"){if(o==="center")$=(e.top+e.bottom)/2+w;else if(Te(o)){const me=Object.keys(o)[0],we=o[me];$=this.chart.scales[me].getPixelForValue(we)+w}L=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")I=(e.left+e.right)/2-w;else if(Te(o)){const me=Object.keys(o)[0],we=o[me];I=this.chart.scales[me].getPixelForValue(we)}L=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?he="top":h==="end"&&(he="bottom"));const be=this._getLabelSizes();for(C=0,P=u.length;C<P;++C){R=u[C],N=R.label;const me=a.setContext(this.getContext(C));W=this.getPixelForTick(C)+a.labelOffset,D=this._resolveTickFontOptions(C),z=D.lineHeight,J=Je(N)?N.length:1;const we=J/2,ye=me.color,G=me.textStrokeColor,te=me.textStrokeWidth;let T=L;l?(I=W,L==="inner"&&(C===P-1?T=this.options.reverse?"left":"right":C===0?T=this.options.reverse?"right":"left":T="center"),o==="top"?f==="near"||S!==0?ee=-J*z+z/2:f==="center"?ee=-be.highest.height/2-we*z+z:ee=-be.highest.height+z/2:f==="near"||S!==0?ee=z/2:f==="center"?ee=be.highest.height/2-we*z:ee=be.highest.height-J*z,y&&(ee*=-1),S!==0&&!me.showLabelBackdrop&&(I+=z/2*Math.sin(S))):($=W,ee=(1-J)*z/2);let H;if(me.showLabelBackdrop){const ie=$t(me.backdropPadding),_e=be.heights[C],U=be.widths[C];let Q=ee-ie.top,ne=0-ie.left;switch(he){case"middle":Q-=_e/2;break;case"bottom":Q-=_e;break}switch(L){case"center":ne-=U/2;break;case"right":ne-=U;break;case"inner":C===P-1?ne-=U:C>0&&(ne-=U/2);break}H={left:ne,top:Q,width:U+ie.width,height:_e+ie.height,color:me.backdropColor}}k.push({label:N,font:D,textOffset:ee,options:{rotation:S,color:ye,strokeColor:G,strokeWidth:te,textAlign:T,textBaseline:he,translation:[I,$],backdrop:H}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-yn(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:o,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let f,g;return t==="left"?o?(g=this.right+a,r==="near"?f="left":r==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-u,r==="near"?f="right":r==="center"?(f="center",g-=h/2):(f="left",g=this.left)):t==="right"?o?(g=this.left+a,r==="near"?f="right":r==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+u,r==="near"?f="left":r==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:o,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,o,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(a=>a.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,f,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(a=0,l=o.length;a<l;++a){const h=o[a];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:o}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const u=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,y,v;this.isHorizontal()?(f=lr(e,this.left,l)-l/2,g=lr(e,this.right,u)+u/2,y=v=h):(y=lr(e,this.top,l)-l/2,v=lr(e,this.bottom,u)+u/2,f=g=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,y),t.lineTo(g,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&ku(r,o);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,f=l.label,g=l.textOffset;wi(r,f,0,g,h,u)}o&&Eu(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:o}}=this;if(!r.display)return;const a=lt(r.font),l=$t(r.padding),u=r.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||Te(t)?(h+=l.bottom,Je(r.text)&&(h+=a.lineHeight*(r.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:y,rotation:v}=cb(this,h,t,u);wi(e,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:v,textAlign:lb(u,t,o),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Ee(e.grid&&e.grid.z,-1),o=Ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==us.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[r]===this.id&&(!e||u.type===e)&&o.push(u)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return lt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Yo{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;hb(t)&&(r=this.register(t));const o=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,ub(e,l,r),this.override&&He.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,o=this.scope;r in t&&delete t[r],o&&r in He[o]&&(delete He[o][r],this.override&&delete br[r])}}function ub(n,e,t){const r=vi(Object.create(null),[t?He.get(t):{},He.get(e),n.defaults]);He.set(e,r),n.defaultRoutes&&db(e,n.defaultRoutes),n.descriptors&&He.describe(e,n.descriptors)}function db(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),o=r.pop(),a=[n].concat(r).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");He.route(a,o,h,u)})}function hb(n){return"id"in n&&"defaults"in n}class fb{constructor(){this.controllers=new Yo(is,"datasets",!0),this.elements=new Yo(vn,"elements"),this.plugins=new Yo(Object,"plugins"),this.scales=new Yo(us,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(o=>{const a=r||this._getRegistryForType(o);r||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):Pe(o,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,r){const o=wu(e);Le(r["before"+o],[],r),t[e](r),Le(r["after"+o],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return o}}var tn=new fb;class pb{constructor(){this._init=void 0}notify(e,t,r,o){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(a,e,t,r);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,r,o){o=o||{};for(const a of e){const l=a.plugin,u=l[r],h=[t,o,a.options];if(Le(u,h,l)===!1&&o.cancelable)return!1}return!0}invalidate(){Re(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,o=Ee(r.options&&r.options.plugins,{}),a=gb(r);return o===!1&&!t?[]:yb(e,a,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,o=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(o(t,r),e,"stop"),this._notify(o(r,t),e,"start")}}function gb(n){const e={},t=[],r=Object.keys(tn.plugins.items);for(let a=0;a<r.length;a++)t.push(tn.getPlugin(r[a]));const o=n.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function mb(n,e){return!e&&n===!1?null:n===!0?{}:n}function yb(n,{plugins:e,localIds:t},r,o){const a=[],l=n.getContext();for(const u of e){const h=u.id,f=mb(r[h],o);f!==null&&a.push({plugin:u,options:vb(n.config,{plugin:u,local:t[h]},f,l)})}return a}function vb(n,{plugin:e,local:t},r,o){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(r,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qc(n,e){const t=He.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function _b(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function wb(n,e){return n===e?"_index_":"_value_"}function Pp(n){if(n==="x"||n==="y"||n==="r")return n}function bb(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Xc(n,...e){if(Pp(n))return n;for(const t of e){const r=t.axis||bb(t.position)||n.length>1&&Pp(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function jp(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function xb(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return jp(n,"x",t[0])||jp(n,"y",t[0])}return{}}function Sb(n,e){const t=br[n.type]||{scales:{}},r=e.scales||{},o=Qc(n.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!Te(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Xc(l,u,xb(l,n),He.scales[u.type]),f=wb(h,o),g=t.scales||{};a[l]=hi(Object.create(null),[{axis:h},u,g[h],g[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||Qc(u,e),g=(br[u]||{}).scales||{};Object.keys(g).forEach(y=>{const v=_b(y,h),w=l[v+"AxisID"]||v;a[w]=a[w]||Object.create(null),hi(a[w],[{axis:v},r[w],g[y]])})}),Object.keys(a).forEach(l=>{const u=a[l];hi(u,[He.scales[u.type],He.scale])}),a}function dm(n){const e=n.options||(n.options={});e.plugins=Ee(e.plugins,{}),e.scales=Sb(n,e)}function hm(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function kb(n){return n=n||{},n.data=hm(n.data),dm(n),n}const Rp=new Map,fm=new Set;function Go(n,e){let t=Rp.get(n);return t||(t=e(),Rp.set(n,t),fm.add(t)),t}const oi=(n,e,t)=>{const r=wr(e,t);r!==void 0&&n.add(r)};class Eb{constructor(e){this._config=kb(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hm(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dm(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Go(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Go(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Go(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Go(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let o=r.get(e);return(!o||t)&&(o=new Map,r.set(e,o)),o}getOptionScopes(e,t,r){const{options:o,type:a}=this,l=this._cachedScopes(e,r),u=l.get(t);if(u)return u;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(y=>oi(h,e,y))),g.forEach(y=>oi(h,o,y)),g.forEach(y=>oi(h,br[a]||{},y)),g.forEach(y=>oi(h,He,y)),g.forEach(y=>oi(h,Gc,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),fm.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,br[t]||{},He.datasets[t]||{},{type:t},He,Gc]}resolveNamedOptions(e,t,r,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=Ap(this._resolverCache,e,o);let h=l;if(Cb(l,t)){a.$shared=!1,r=qn(r)?r():r;const f=this.createResolver(e,r,u);h=as(l,r,f)}for(const f of t)a[f]=h[f];return a}createResolver(e,t,r=[""],o){const{resolver:a}=Ap(this._resolverCache,e,r);return Te(t)?as(a,t,void 0,o):a}}function Ap(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const o=t.join();let a=r.get(o);return a||(a={resolver:Cu(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(o,a)),a}const Tb=n=>Te(n)&&Object.getOwnPropertyNames(n).some(e=>qn(n[e]));function Cb(n,e){const{isScriptable:t,isIndexable:r}=Qg(n);for(const o of e){const a=t(o),l=r(o),u=(l||a)&&n[o];if(a&&(qn(u)||Tb(u))||l&&Je(u))return!0}return!1}var Ob="4.5.1";const Pb=["top","bottom","left","right","chartArea"];function Np(n,e){return n==="top"||n==="bottom"||Pb.indexOf(n)===-1&&e==="x"}function Mp(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Dp(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Le(t&&t.onComplete,[n],e)}function jb(n){const e=n.chart,t=e.options.animation;Le(t&&t.onProgress,[n],e)}function pm(n){return ju()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const da={},Ip=n=>{const e=pm(n);return Object.values(da).filter(t=>t.canvas===e).pop()};function Rb(n,e,t){const r=Object.keys(n);for(const o of r){const a=+o;if(a>=e){const l=n[o];delete n[o],(t>0||a>e)&&(n[a+t]=l)}}}function Ab(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var $n;let ja=($n=class{static register(...e){tn.add(...e),Lp()}static unregister(...e){tn.remove(...e),Lp()}constructor(e,t){const r=this.config=new Eb(t),o=pm(e),a=Ip(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Jw(o)),this.platform.updateConfig(r);const u=this.platform.acquireContext(o,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,g=h&&h.width;if(this.id=G0(),this.ctx=u,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=f_(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],da[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}fn.listen(this,"complete",Dp),fn.listen(this,"progress",jb),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:o,_aspectRatio:a}=this;return Re(e)?t&&a?a:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return tn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sp(this.canvas,this.ctx),this}stop(){return fn.stop(this),this}resize(e,t){fn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,o=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,t,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,lp(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Le(r.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Pe(t,(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,o=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],h=Xc(l,u),f=h==="r",g=h==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Pe(a,l=>{const u=l.options,h=u.id,f=Xc(h,u),g=Ee(u.type,l.dtype);(u.position===void 0||Np(u.position,f)!==Np(l.dposition))&&(u.position=l.dposition),o[h]=!0;let y=null;if(h in r&&r[h].type===g)y=r[h];else{const v=tn.getScale(g);y=new v({id:h,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(u,e)}),Pe(o,(l,u)=>{l||delete r[u]}),Pe(r,l=>{Lt.configure(this,l,l.options),Lt.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((o,a)=>o.index-a.index),r>t){for(let o=t;o<r;++o)this._destroyDatasetMeta(o);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Mp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,o)=>{t.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=t.length;r<o;r++){const a=t[r];let l=this.getDatasetMeta(r);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=a.indexAxis||Qc(u,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const h=tn.getController(u),{datasetElementType:f,dataElementType:g}=He.datasets[u];Object.assign(h,{dataElementType:tn.getElement(g),datasetElementType:f&&tn.getElement(f)}),l.controller=new h(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Pe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:y}=this.getDatasetMeta(f),v=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),o||Pe(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Mp("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Pe(this.scales,e=>{Lt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Yf(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:a}of t){const l=r==="_removeElements"?-a:a;Rb(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),o=r(0);for(let a=1;a<t;a++)if(!Yf(o,r(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Lt.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Pe(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,qn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fn.has(this)?this.attached&&!fn.running(this)&&fn.start(this):(this.draw(),Dp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let o,a;for(o=0,a=t.length;o<a;++o){const l=t[o];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=X_(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&ku(t,o),e.controller.draw(),o&&Eu(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Gg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,o){const a=Pw.modes[t];return typeof a=="function"?a(this,e,r,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let o=r.filter(a=>a&&a._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=cs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const o=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,o);_i(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(u=>u.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),fn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete da[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},o=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Pe(this.options.events,a=>r(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},o=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{o("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Pe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Pe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const o=r?"set":"remove";let a,l,u,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!fa(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const o=this.options.hover,a=(h,f)=>h.filter(g=>!f.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=a(t,e),u=r?e:a(e,t);l.length&&this.updateHoverStyle(l,o.mode,!1),u.length&&o.mode&&this.updateHoverStyle(u,o.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:o=[],options:a}=this,l=t,u=this._getActiveElements(e,o,r,l),h=t_(e),f=Ab(e,this._lastEvent,r,h);r&&(this._lastEvent=null,Le(a.onHover,[e,u,this],this),h&&Le(a.onClick,[e,u,this],this));const g=!fa(u,o);return(g||t)&&(this._active=u,this._updateHoverStyles(u,o,t)),this._lastEvent=f,g}_getActiveElements(e,t,r,o){if(e.type==="mouseout")return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}},fe($n,"defaults",He),fe($n,"instances",da),fe($n,"overrides",br),fe($n,"registry",tn),fe($n,"version",Ob),fe($n,"getChart",Ip),$n);function Lp(){return Pe(ja.instances,n=>n._plugins.invalidate())}function Nb(n,e,t){const{startAngle:r,x:o,y:a,outerRadius:l,innerRadius:u,options:h}=e,{borderWidth:f,borderJoinStyle:g}=h,y=Math.min(f/l,nn(r-t));if(n.beginPath(),n.arc(o,a,l-f/2,r+y/2,t-y/2),u>0){const v=Math.min(f/u,nn(r-t));n.arc(o,a,u+f/2,t-v/2,r+v/2,!0)}else{const v=Math.min(f/2,l*nn(r-t));if(g==="round")n.arc(o,a,v,t-je/2,r+je/2,!0);else if(g==="bevel"){const w=2*v*v,b=-w*Math.cos(t+je/2)+o,S=-w*Math.sin(t+je/2)+a,k=w*Math.cos(r+je/2)+o,C=w*Math.sin(r+je/2)+a;n.lineTo(b,S),n.lineTo(k,C)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Mb(n,e,t){const{startAngle:r,pixelMargin:o,x:a,y:l,outerRadius:u,innerRadius:h}=e;let f=o/u;n.beginPath(),n.arc(a,l,u,r-f,t+f),h>o?(f=o/h,n.arc(a,l,h,t+f,r-f,!0)):n.arc(a,l,o,t+Qe,r-Qe),n.closePath(),n.clip()}function Db(n){return Tu(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Ib(n,e,t,r){const o=Db(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,r*e/2),u=h=>{const f=(t-Math.min(a,h))*r/2;return wt(h,0,Math.min(a,f))};return{outerStart:u(o.outerStart),outerEnd:u(o.outerEnd),innerStart:wt(o.innerStart,0,l),innerEnd:wt(o.innerEnd,0,l)}}function Yr(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function ba(n,e,t,r,o,a){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:g}=e,y=Math.max(e.outerRadius+r+t-f,0),v=g>0?g+r+t+f:0;let w=0;const b=o-h;if(r){const me=g>0?g-r:0,we=y>0?y-r:0,ye=(me+we)/2,G=ye!==0?b*ye/(ye+r):b;w=(b-G)/2}const S=Math.max(.001,b*y-t/je)/y,k=(b-S)/2,C=h+k+w,P=o-k-w,{outerStart:R,outerEnd:N,innerStart:I,innerEnd:$}=Ib(e,v,y,P-C),L=y-R,W=y-N,D=C+R/L,z=P-N/W,J=v+I,ee=v+$,he=C+I/J,be=P-$/ee;if(n.beginPath(),a){const me=(D+z)/2;if(n.arc(l,u,y,D,me),n.arc(l,u,y,me,z),N>0){const te=Yr(W,z,l,u);n.arc(te.x,te.y,N,z,P+Qe)}const we=Yr(ee,P,l,u);if(n.lineTo(we.x,we.y),$>0){const te=Yr(ee,be,l,u);n.arc(te.x,te.y,$,P+Qe,be+Math.PI)}const ye=(P-$/v+(C+I/v))/2;if(n.arc(l,u,v,P-$/v,ye,!0),n.arc(l,u,v,ye,C+I/v,!0),I>0){const te=Yr(J,he,l,u);n.arc(te.x,te.y,I,he+Math.PI,C-Qe)}const G=Yr(L,C,l,u);if(n.lineTo(G.x,G.y),R>0){const te=Yr(L,D,l,u);n.arc(te.x,te.y,R,C-Qe,D)}}else{n.moveTo(l,u);const me=Math.cos(D)*y+l,we=Math.sin(D)*y+u;n.lineTo(me,we);const ye=Math.cos(z)*y+l,G=Math.sin(z)*y+u;n.lineTo(ye,G)}n.closePath()}function Lb(n,e,t,r,o){const{fullCircles:a,startAngle:l,circumference:u}=e;let h=e.endAngle;if(a){ba(n,e,t,r,h,o);for(let f=0;f<a;++f)n.fill();isNaN(u)||(h=l+(u%Ke||Ke))}return ba(n,e,t,r,h,o),n.fill(),h}function Fb(n,e,t,r,o){const{fullCircles:a,startAngle:l,circumference:u,options:h}=e,{borderWidth:f,borderJoinStyle:g,borderDash:y,borderDashOffset:v,borderRadius:w}=h,b=h.borderAlign==="inner";if(!f)return;n.setLineDash(y||[]),n.lineDashOffset=v,b?(n.lineWidth=f*2,n.lineJoin=g||"round"):(n.lineWidth=f,n.lineJoin=g||"bevel");let S=e.endAngle;if(a){ba(n,e,t,r,S,o);for(let k=0;k<a;++k)n.stroke();isNaN(u)||(S=l+(u%Ke||Ke))}b&&Mb(n,e,S),h.selfJoin&&S-l>=je&&w===0&&g!=="miter"&&Nb(n,e,S),a||(ba(n,e,t,r,S,o),n.stroke())}class ci extends vn{constructor(t){super();fe(this,"circumference");fe(this,"endAngle");fe(this,"fullCircles");fe(this,"innerRadius");fe(this,"outerRadius");fe(this,"pixelMargin");fe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,o){const a=this.getProps(["x","y"],o),{angle:l,distance:u}=Bg(a,{x:t,y:r}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:y,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),w=(this.options.spacing+this.options.borderWidth)/2,b=Ee(v,f-h),S=ya(l,h,f)&&h!==f,k=b>=Ke||S,C=yr(u,g+w,y+w);return k&&C}getCenterPoint(t){const{x:r,y:o,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,y=(a+l)/2,v=(u+h+g+f)/2;return{x:r+Math.cos(y)*v,y:o+Math.sin(y)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:o}=this,a=(r.offset||0)/4,l=(r.spacing||0)/2,u=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=o>Ke?Math.floor(o/Ke):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(je,o||0)),g=a*f;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,Lb(t,this,g,l,u),Fb(t,this,g,l,u),t.restore()}}fe(ci,"id","arc"),fe(ci,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),fe(ci,"defaultRoutes",{backgroundColor:"backgroundColor"}),fe(ci,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function gm(n,e){const{x:t,y:r,base:o,width:a,height:l}=n.getProps(["x","y","base","width","height"],e);let u,h,f,g,y;return n.horizontal?(y=l/2,u=Math.min(t,o),h=Math.max(t,o),f=r-y,g=r+y):(y=a/2,u=t-y,h=t+y,f=Math.min(r,o),g=Math.max(r,o)),{left:u,top:f,right:h,bottom:g}}function Hn(n,e,t,r){return n?0:wt(e,t,r)}function $b(n,e,t){const r=n.options.borderWidth,o=n.borderSkipped,a=Jg(r);return{t:Hn(o.top,a.top,0,t),r:Hn(o.right,a.right,0,e),b:Hn(o.bottom,a.bottom,0,t),l:Hn(o.left,a.left,0,e)}}function zb(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,a=rs(o),l=Math.min(e,t),u=n.borderSkipped,h=r||Te(o);return{topLeft:Hn(!h||u.top||u.left,a.topLeft,0,l),topRight:Hn(!h||u.top||u.right,a.topRight,0,l),bottomLeft:Hn(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:Hn(!h||u.bottom||u.right,a.bottomRight,0,l)}}function Bb(n){const e=gm(n),t=e.right-e.left,r=e.bottom-e.top,o=$b(n,t/2,r/2),a=zb(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:a},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function Ic(n,e,t,r){const o=e===null,a=t===null,u=n&&!(o&&a)&&gm(n,r);return u&&(o||yr(e,u.left,u.right))&&(a||yr(t,u.top,u.bottom))}function Ub(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Hb(n,e){n.rect(e.x,e.y,e.w,e.h)}function Lc(n,e,t={}){const r=n.x!==t.x?-e:0,o=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-r,l=(n.y+n.h!==t.y+t.h?e:0)-o;return{x:n.x+r,y:n.y+o,w:n.w+a,h:n.h+l,radius:n.radius}}class ha extends vn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:o}}=this,{inner:a,outer:l}=Bb(this),u=Ub(l.radius)?va:Hb;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),u(e,Lc(l,t,a)),e.clip(),u(e,Lc(a,-t,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),u(e,Lc(a,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,r){return Ic(this,e,t,r)}inXRange(e,t){return Ic(this,e,null,t)}inYRange(e,t){return Ic(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+o)/2:t,y:a?r:(r+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}fe(ha,"id","bar"),fe(ha,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),fe(ha,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Fp=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},Wb=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class $p extends vn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Le(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,o)=>e.sort(r,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,o=lt(r.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=Fp(r,a);let f,g;t.font=o.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,u,h)+10):(g=this.maxHeight,f=this._fitCols(l,o,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,o){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=o+u;let y=e;a.textAlign="left",a.textBaseline="middle";let v=-1,w=-g;return this.legendItems.forEach((b,S)=>{const k=r+t/2+a.measureText(b.text).width;(S===0||f[f.length-1]+k+2*u>l)&&(y+=g,f[f.length-(S>0?0:1)]=0,w+=g,v++),h[S]={left:0,top:w,row:v,width:k,height:o},f[f.length-1]+=k+u}),y}_fitCols(e,t,r,o){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let y=u,v=0,w=0,b=0,S=0;return this.legendItems.forEach((k,C)=>{const{itemWidth:P,itemHeight:R}=Vb(r,t,a,k,o);C>0&&w+R+2*u>g&&(y+=v+u,f.push({width:v,height:w}),b+=v+u,S++,v=w=0),h[C]={left:b,top:w,col:S,width:P,height:R},v=Math.max(v,P),w+=R+u}),y+=v,f.push({width:v,height:w}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:o},rtl:a}}=this,l=ss(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=at(r,this.left+o,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,h=at(r,this.left+o,this.right-this.lineWidths[u])),f.top+=this.top+e+o,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+o}else{let u=0,h=at(r,this.top+e+o,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,h=at(r,this.top+e+o,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+o,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ku(e,this),this._draw(),Eu(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:o}=this,{align:a,labels:l}=e,u=He.color,h=ss(e.rtl,this.left,this.width),f=lt(l.font),{padding:g}=l,y=f.size,v=y/2;let w;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=f.string;const{boxWidth:b,boxHeight:S,itemHeight:k}=Fp(l,y),C=function($,L,W){if(isNaN(b)||b<=0||isNaN(S)||S<0)return;o.save();const D=Ee(W.lineWidth,1);if(o.fillStyle=Ee(W.fillStyle,u),o.lineCap=Ee(W.lineCap,"butt"),o.lineDashOffset=Ee(W.lineDashOffset,0),o.lineJoin=Ee(W.lineJoin,"miter"),o.lineWidth=D,o.strokeStyle=Ee(W.strokeStyle,u),o.setLineDash(Ee(W.lineDash,[])),l.usePointStyle){const z={radius:S*Math.SQRT2/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:D},J=h.xPlus($,b/2),ee=L+v;Yg(o,z,J,ee,l.pointStyleWidth&&b)}else{const z=L+Math.max((y-S)/2,0),J=h.leftForLtr($,b),ee=rs(W.borderRadius);o.beginPath(),Object.values(ee).some(he=>he!==0)?va(o,{x:J,y:z,w:b,h:S,radius:ee}):o.rect(J,z,b,S),o.fill(),D!==0&&o.stroke()}o.restore()},P=function($,L,W){wi(o,W.text,$,L+k/2,f,{strikethrough:W.hidden,textAlign:h.textAlign(W.textAlign)})},R=this.isHorizontal(),N=this._computeTitleHeight();R?w={x:at(a,this.left+g,this.right-r[0]),y:this.top+g+N,line:0}:w={x:this.left+g,y:at(a,this.top+N+g,this.bottom-t[0].height),line:0},tm(this.ctx,e.textDirection);const I=k+g;this.legendItems.forEach(($,L)=>{o.strokeStyle=$.fontColor,o.fillStyle=$.fontColor;const W=o.measureText($.text).width,D=h.textAlign($.textAlign||($.textAlign=l.textAlign)),z=b+v+W;let J=w.x,ee=w.y;h.setWidth(this.width),R?L>0&&J+z+g>this.right&&(ee=w.y+=I,w.line++,J=w.x=at(a,this.left+g,this.right-r[w.line])):L>0&&ee+I>this.bottom&&(J=w.x=J+t[w.line].width+g,w.line++,ee=w.y=at(a,this.top+N+g,this.bottom-t[w.line].height));const he=h.x(J);if(C(he,ee,$),J=p_(D,J+b+v,R?J+z:this.right,e.rtl),P(h.x(J),ee,$),R)w.x+=z+g;else if(typeof $.text!="string"){const be=f.lineHeight;w.y+=mm($,be)+g}else w.y+=I}),nm(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=lt(t.font),o=$t(t.padding);if(!t.display)return;const a=ss(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=r.size/2,f=o.top+h;let g,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+f,y=at(e.align,y,this.right-v);else{const b=this.columnSizes.reduce((S,k)=>Math.max(S,k.height),0);g=f+at(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const w=at(u,y,y+v);l.textAlign=a.textAlign(xu(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,wi(l,t.text,w,g,r)}_computeTitleHeight(){const e=this.options.title,t=lt(e.font),r=$t(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,o,a;if(yr(e,this.left,this.right)&&yr(t,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(o=a[r],yr(e,o.left,o.left+o.width)&&yr(t,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!Yb(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,a=Wb(o,r);o&&!a&&Le(t.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!a&&Le(t.onHover,[e,r,this],this)}else r&&Le(t.onClick,[e,r,this],this)}}function Vb(n,e,t,r,o){const a=qb(r,n,e,t),l=Kb(o,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function qb(n,e,t,r){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+r.measureText(o).width}function Kb(n,e,t){let r=n;return typeof e.text!="string"&&(r=mm(e,t)),r}function mm(n,e){const t=n.text?n.text.length:0;return e*t}function Yb(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Gb={id:"legend",_element:$p,start(n,e,t){const r=n.legend=new $p({ctx:n.ctx,options:t,chart:n});Lt.configure(n,r,t),Lt.addBox(n,r)},stop(n){Lt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Lt.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,o=t.chart;o.isDatasetVisible(r)?(o.hide(r),e.hidden=!0):(o.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:o,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),g=$t(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:o||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class ym extends vn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const o=Je(r.text)?r.text.length:1;this._padding=$t(r.padding);const a=o*lt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:o,right:a,options:l}=this,u=l.align;let h=0,f,g,y;return this.isHorizontal()?(g=at(u,r,a),y=t+e,f=a-r):(l.position==="left"?(g=r+e,y=at(u,o,t),h=je*-.5):(g=a-e,y=at(u,t,o),h=je*.5),f=o-t),{titleX:g,titleY:y,maxWidth:f,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=lt(t.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(a);wi(e,t.text,0,0,r,{color:t.color,maxWidth:h,rotation:f,textAlign:xu(t.align),textBaseline:"middle",translation:[l,u]})}}function Jb(n,e){const t=new ym({ctx:n.ctx,options:e,chart:n});Lt.configure(n,t,e),Lt.addBox(n,t),n.titleBlock=t}var Qb={id:"title",_element:ym,start(n,e,t){Jb(n,t)},stop(n){const e=n.titleBlock;Lt.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Lt.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ui={average(n){if(!n.length)return!1;let e,t,r=new Set,o=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();r.add(h.x),o+=h.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,h)=>u+h)/r.size,y:o/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,o=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=l_(e,f);g<o&&(o=g,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,r=h.y}return{x:t,y:r}}};function en(n,e){return e&&(Je(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function pn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Xb(n,e){const{element:t,datasetIndex:r,index:o}=e,a=n.getDatasetMeta(r).controller,{label:l,value:u}=a.getLabelAndValue(o);return{chart:n,label:l,parsed:a.getParsed(o),raw:n.data.datasets[r].data[o],formattedValue:u,dataset:a.getDataset(),dataIndex:o,datasetIndex:r,element:t}}function zp(n,e){const t=n.chart.ctx,{body:r,footer:o,title:a}=n,{boxWidth:l,boxHeight:u}=e,h=lt(e.bodyFont),f=lt(e.titleFont),g=lt(e.footerFont),y=a.length,v=o.length,w=r.length,b=$t(e.padding);let S=b.height,k=0,C=r.reduce((N,I)=>N+I.before.length+I.lines.length+I.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,y&&(S+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),C){const N=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;S+=w*N+(C-w)*h.lineHeight+(C-1)*e.bodySpacing}v&&(S+=e.footerMarginTop+v*g.lineHeight+(v-1)*e.footerSpacing);let P=0;const R=function(N){k=Math.max(k,t.measureText(N).width+P)};return t.save(),t.font=f.string,Pe(n.title,R),t.font=h.string,Pe(n.beforeBody.concat(n.afterBody),R),P=e.displayColors?l+2+e.boxPadding:0,Pe(r,N=>{Pe(N.before,R),Pe(N.lines,R),Pe(N.after,R)}),P=0,t.font=g.string,Pe(n.footer,R),t.restore(),k+=b.width,{width:k,height:S}}function Zb(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function ex(n,e,t,r){const{x:o,width:a}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&o+a+l>e.width||n==="right"&&o-a-l<0)return!0}function tx(n,e,t,r){const{x:o,width:a}=t,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return r==="center"?f=o<=(u+h)/2?"left":"right":o<=a/2?f="left":o>=l-a/2&&(f="right"),ex(f,n,e,t)&&(f="center"),f}function Bp(n,e,t){const r=t.yAlign||e.yAlign||Zb(n,t);return{xAlign:t.xAlign||e.xAlign||tx(n,e,t,r),yAlign:r}}function nx(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function rx(n,e,t){let{y:r,height:o}=n;return e==="top"?r+=t:e==="bottom"?r-=o+t:r-=o/2,r}function Up(n,e,t,r){const{caretSize:o,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,f=o+a,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:w}=rs(l);let b=nx(e,u);const S=rx(e,h,f);return h==="center"?u==="left"?b+=f:u==="right"&&(b-=f):u==="left"?b-=Math.max(g,v)+o:u==="right"&&(b+=Math.max(y,w)+o),{x:wt(b,0,r.width-e.width),y:wt(S,0,r.height-e.height)}}function Jo(n,e,t){const r=$t(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Hp(n){return en([],pn(n))}function sx(n,e,t){return cs(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Wp(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const vm={beforeTitle:hn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:hn,beforeBody:hn,beforeLabel:hn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Re(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:hn,afterBody:hn,beforeFooter:hn,footer:hn,afterFooter:hn};function vt(n,e,t,r){const o=n[e].call(t,r);return typeof o>"u"?vm[e].call(t,r):o}class Zc extends vn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&t.options.animation&&r.animations,a=new rm(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=sx(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,o=vt(r,"beforeTitle",this,e),a=vt(r,"title",this,e),l=vt(r,"afterTitle",this,e);let u=[];return u=en(u,pn(o)),u=en(u,pn(a)),u=en(u,pn(l)),u}getBeforeBody(e,t){return Hp(vt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,o=[];return Pe(e,a=>{const l={before:[],lines:[],after:[]},u=Wp(r,a);en(l.before,pn(vt(u,"beforeLabel",this,a))),en(l.lines,vt(u,"label",this,a)),en(l.after,pn(vt(u,"afterLabel",this,a))),o.push(l)}),o}getAfterBody(e,t){return Hp(vt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,o=vt(r,"beforeFooter",this,e),a=vt(r,"footer",this,e),l=vt(r,"afterFooter",this,e);let u=[];return u=en(u,pn(o)),u=en(u,pn(a)),u=en(u,pn(l)),u}_createItems(e){const t=this._active,r=this.chart.data,o=[],a=[],l=[];let u=[],h,f;for(h=0,f=t.length;h<f;++h)u.push(Xb(this.chart,t[h]));return e.filter&&(u=u.filter((g,y,v)=>e.filter(g,y,v,r))),e.itemSort&&(u=u.sort((g,y)=>e.itemSort(g,y,r))),Pe(u,g=>{const y=Wp(e.callbacks,g);o.push(vt(y,"labelColor",this,g)),a.push(vt(y,"labelPointStyle",this,g)),l.push(vt(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const u=ui[r.position].call(this,o,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const h=this._size=zp(this,r),f=Object.assign({},u,h),g=Bp(this.chart,r,f),y=Up(r,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,o){const a=this.getCaretPosition(e,r,o);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:y}=rs(u),{x:v,y:w}=e,{width:b,height:S}=t;let k,C,P,R,N,I;return a==="center"?(N=w+S/2,o==="left"?(k=v,C=k-l,R=N+l,I=N-l):(k=v+b,C=k+l,R=N-l,I=N+l),P=k):(o==="left"?C=v+Math.max(h,g)+l:o==="right"?C=v+b-Math.max(f,y)-l:C=this.caretX,a==="top"?(R=w,N=R-l,k=C-l,P=C+l):(R=w+S,N=R+l,k=C+l,P=C-l),I=R),{x1:k,x2:C,x3:P,y1:R,y2:N,y3:I}}drawTitle(e,t,r){const o=this.title,a=o.length;let l,u,h;if(a){const f=ss(r.rtl,this.x,this.width);for(e.x=Jo(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=lt(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(o[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,o,a){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:h,boxWidth:f}=a,g=lt(a.bodyFont),y=Jo(this,"left",a),v=o.x(y),w=h<g.lineHeight?(g.lineHeight-h)/2:0,b=t.y+w;if(a.usePointStyle){const S={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},k=o.leftForLtr(v,f)+f/2,C=b+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ip(e,S,k,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,ip(e,S,k,C)}else{e.lineWidth=Te(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=o.leftForLtr(v,f),k=o.leftForLtr(o.xPlus(v,1),f-2),C=rs(l.borderRadius);Object.values(C).some(P=>P!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,va(e,{x:S,y:b,w:f,h,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),va(e,{x:k,y:b+1,w:f-2,h:h-2,radius:C}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(S,b,f,h),e.strokeRect(S,b,f,h),e.fillStyle=l.backgroundColor,e.fillRect(k,b+1,f-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:g}=r,y=lt(r.bodyFont);let v=y.lineHeight,w=0;const b=ss(r.rtl,this.x,this.width),S=function(W){t.fillText(W,b.x(e.x+w),e.y+v/2),e.y+=v+a},k=b.textAlign(l);let C,P,R,N,I,$,L;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=Jo(this,k,r),t.fillStyle=r.bodyColor,Pe(this.beforeBody,S),w=u&&k!=="right"?l==="center"?f/2+g:f+2+g:0,N=0,$=o.length;N<$;++N){for(C=o[N],P=this.labelTextColors[N],t.fillStyle=P,Pe(C.before,S),R=C.lines,u&&R.length&&(this._drawColorBox(t,e,N,b,r),v=Math.max(y.lineHeight,h)),I=0,L=R.length;I<L;++I)S(R[I]),v=y.lineHeight;Pe(C.after,S)}w=0,v=y.lineHeight,Pe(this.afterBody,S),e.y-=a}drawFooter(e,t,r){const o=this.footer,a=o.length;let l,u;if(a){const h=ss(r.rtl,this.x,this.width);for(e.x=Jo(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=h.textAlign(r.footerAlign),t.textBaseline="middle",l=lt(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(o[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,o){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:g}=r,{topLeft:y,topRight:v,bottomLeft:w,bottomRight:b}=rs(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(u+y,h),l==="top"&&this.drawCaret(e,t,r,o),t.lineTo(u+f-v,h),t.quadraticCurveTo(u+f,h,u+f,h+v),l==="center"&&a==="right"&&this.drawCaret(e,t,r,o),t.lineTo(u+f,h+g-b),t.quadraticCurveTo(u+f,h+g,u+f-b,h+g),l==="bottom"&&this.drawCaret(e,t,r,o),t.lineTo(u+w,h+g),t.quadraticCurveTo(u,h+g,u,h+g-w),l==="center"&&a==="left"&&this.drawCaret(e,t,r,o),t.lineTo(u,h+y),t.quadraticCurveTo(u,h,u+y,h),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){const l=ui[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=zp(this,e),h=Object.assign({},l,this._size),f=Bp(t,e,h),g=Up(e,h,f,t);(o._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=$t(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,o,t),tm(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),nm(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,o=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!fa(r,o),l=this._positionChanged(o,t);(a||l)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,r),u=this._positionChanged(l,e),h=t||!fa(l,a)||u;return h&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,r,o){const a=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:o,options:a}=this,l=ui[a.position].call(this,e,t);return l!==!1&&(r!==l.x||o!==l.y)}}fe(Zc,"positioners",ui);var ix={id:"tooltip",_element:Zc,positioners:ui,afterInit(n,e,t){t&&(n.tooltip=new Zc({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ox=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function ax(n,e,t,r){const o=n.indexOf(e);if(o===-1)return ox(n,e,t,r);const a=n.lastIndexOf(e);return o!==a?t:o}const lx=(n,e)=>n===null?null:wt(Math.round(n),0,e);function Vp(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class eu extends us{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:o,label:a}of t)r[o]===a&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Re(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:ax(r,e,Ee(t,e),this._addedLabels),lx(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,o=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)o.push({value:l});return o}getLabelForValue(e){return Vp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}fe(eu,"id","category"),fe(eu,"defaults",{ticks:{callback:Vp}});function cx(n,e){const t=[],{bounds:o,step:a,min:l,max:u,precision:h,count:f,maxTicks:g,maxDigits:y,includeBounds:v}=n,w=a||1,b=g-1,{min:S,max:k}=e,C=!Re(l),P=!Re(u),R=!Re(f),N=(k-S)/(y+1);let I=Jf((k-S)/b/w)*w,$,L,W,D;if(I<1e-14&&!C&&!P)return[{value:S},{value:k}];D=Math.ceil(k/I)-Math.floor(S/I),D>b&&(I=Jf(D*I/b/w)*w),Re(h)||($=Math.pow(10,h),I=Math.ceil(I*$)/$),o==="ticks"?(L=Math.floor(S/I)*I,W=Math.ceil(k/I)*I):(L=S,W=k),C&&P&&a&&i_((u-l)/a,I/1e3)?(D=Math.round(Math.min((u-l)/I,g)),I=(u-l)/D,L=l,W=u):R?(L=C?l:L,W=P?u:W,D=f-1,I=(W-L)/D):(D=(W-L)/I,la(D,Math.round(D),I/1e3)?D=Math.round(D):D=Math.ceil(D));const z=Math.max(Qf(I),Qf(L));$=Math.pow(10,Re(h)?z:h),L=Math.round(L*$)/$,W=Math.round(W*$)/$;let J=0;for(C&&(v&&L!==l?(t.push({value:l}),L<l&&J++,la(Math.round((L+J*I)*$)/$,l,qp(l,N,n))&&J++):L<l&&J++);J<D;++J){const ee=Math.round((L+J*I)*$)/$;if(P&&ee>u)break;t.push({value:ee})}return P&&v&&W!==u?t.length&&la(t[t.length-1].value,u,qp(u,N,n))?t[t.length-1].value=u:t.push({value:u}):(!P||W===u)&&t.push({value:W}),t}function qp(n,e,{horizontal:t,minRotation:r}){const o=yn(r),a=(t?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class ux extends us{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Re(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:a}=this;const l=h=>o=t?o:h,u=h=>a=r?a:h;if(e){const h=Vn(o),f=Vn(a);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(o===a){let h=a===0?1:Math.abs(a*.05);u(a+h),e||l(o-h)}this.min=o,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=cx(o,a);return e.bounds==="ticks"&&o_(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const o=(r-t)/Math.max(e.length-1,1)/2;t-=o,r+=o}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Su(e,this.chart.options.locale,this.options.ticks.format)}}class tu extends ux{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ft(e)?e:0,this.max=Ft(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=yn(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}fe(tu,"id","linear"),fe(tu,"defaults",{ticks:{callback:Kg.formatters.numeric}});const Ra={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_t=Object.keys(Ra);function Kp(n,e){return n-e}function Yp(n,e){if(Re(e))return null;const t=n._adapter,{parser:r,round:o,isoWeekday:a}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Ft(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(o&&(l=o==="week"&&(ma(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,o)),+l)}function Gp(n,e,t,r){const o=_t.length;for(let a=_t.indexOf(n);a<o-1;++a){const l=Ra[_t[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=r)return _t[a]}return _t[o-1]}function dx(n,e,t,r,o){for(let a=_t.length-1;a>=_t.indexOf(t);a--){const l=_t[a];if(Ra[l].common&&n._adapter.diff(o,r,l)>=e-1)return l}return _t[t?_t.indexOf(t):0]}function hx(n){for(let e=_t.indexOf(n)+1,t=_t.length;e<t;++e)if(Ra[_t[e]].common)return _t[e]}function Jp(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:o}=bu(t,e),a=t[r]>=e?t[r]:t[o];n[a]=!0}}function fx(n,e,t,r){const o=n._adapter,a=+o.startOf(e[0].value,r),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+o.add(u,1,r))h=t[u],h>=0&&(e[h].major=!0);return e}function Qp(n,e,t){const r=[],o={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],o[u]=l,r.push({value:u,major:!1});return a===0||!t?r:fx(n,r,o,t)}class xa extends us{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),o=this._adapter=new kw._date(e.adapters.date);o.init(t),hi(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Yp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(o=Math.min(o,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=Ft(o)&&!isNaN(o)?o:+t.startOf(Date.now(),r),a=Ft(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,l=this.max,u=d_(o,a,l);return this._unit=t.unit||(r.autoSkip?Gp(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):dx(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:hx(this._unit),this.initOffsets(o),e.reverse&&u.reverse(),Qp(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,o,a;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=wt(t,0,l),r=wt(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,o=this.options,a=o.time,l=a.unit||Gp(a.minUnit,t,r,this._getLabelCapacity(t)),u=Ee(o.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=ma(h)||h===!0,g={};let y=t,v,w;if(f&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,f?"day":l),e.diff(r,t,l)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+l);const b=o.ticks.source==="data"&&this.getDataTimestamps();for(v=y,w=0;v<r;v=+e.add(v,u,l),w++)Jp(g,v,b);return(v===r||o.bounds==="ticks"||w===1)&&Jp(g,v,b),Object.keys(g).sort(Kp).map(S=>+S)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,a=this._unit,l=t||o[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,o){const a=this.options,l=a.ticks.callback;if(l)return Le(l,[e,t,r],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&u[h],y=f&&u[f],v=r[t],w=f&&y&&v&&v.major;return this._adapter.format(e,o||(w?y:g))}generateTickLabels(e){let t,r,o;for(t=0,r=e.length;t<r;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,o=yn(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(o),l=Math.sin(o),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*l,h:r*l+u*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,o=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,Qp(this,[e],this._majorUnit),o),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,r=o.length;t<r;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const o=this.getLabels();for(t=0,r=o.length;t<r;++t)e.push(Yp(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Hg(e.sort(Kp))}}fe(xa,"id","time"),fe(xa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Qo(n,e,t){let r=0,o=n.length-1,a,l,u,h;t?(e>=n[r].pos&&e<=n[o].pos&&({lo:r,hi:o}=Yc(n,"pos",e)),{pos:a,time:u}=n[r],{pos:l,time:h}=n[o]):(e>=n[r].time&&e<=n[o].time&&({lo:r,hi:o}=Yc(n,"time",e)),{time:a,pos:u}=n[r],{time:l,pos:h}=n[o]);const f=l-a;return f?u+(h-u)*(e-a)/f:u}class Xp extends xa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Qo(t,this.min),this._tableRange=Qo(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,o=[],a=[];let l,u,h,f,g;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=r&&o.push(f);if(o.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,u=o.length;l<u;++l)g=o[l+1],h=o[l-1],f=o[l],Math.round((g+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((o,a)=>o-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Qo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Qo(this._table,r*this._tableRange+this._minPos,!0)}}fe(Xp,"id","timeseries"),fe(Xp,"defaults",xa.defaults);const _m="label";function Zp(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function px(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function wm(n,e){n.labels=e}function bm(n,e,t=_m){const r=[];n.datasets=e.map(o=>{const a=n.datasets.find(l=>l[t]===o[t]);return!a||!o.data||r.includes(a)?{...o}:(r.push(a),Object.assign(a,o),a)})}function gx(n,e=_m){const t={labels:[],datasets:[]};return wm(t,n.labels),bm(t,n.datasets,e),t}function mx(n,e){const{height:t=150,width:r=300,redraw:o=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:g,updateMode:y,...v}=n,w=B.useRef(null),b=B.useRef(null),S=()=>{w.current&&(b.current=new ja(w.current,{type:l,data:gx(u,a),options:h&&{...h},plugins:f}),Zp(e,b.current))},k=()=>{Zp(e,null),b.current&&(b.current.destroy(),b.current=null)};return B.useEffect(()=>{!o&&b.current&&h&&px(b.current,h)},[o,h]),B.useEffect(()=>{!o&&b.current&&wm(b.current.config.data,u.labels)},[o,u.labels]),B.useEffect(()=>{!o&&b.current&&u.datasets&&bm(b.current.config.data,u.datasets,a)},[o,u.datasets]),B.useEffect(()=>{b.current&&(o?(k(),setTimeout(S)):b.current.update(y))},[o,h,u.labels,u.datasets,y]),B.useEffect(()=>{b.current&&(k(),setTimeout(S))},[l]),B.useEffect(()=>(S(),()=>k()),[]),_.jsx("canvas",{ref:w,role:"img",height:t,width:r,...v,children:g})}const yx=B.forwardRef(mx);function Nu(n,e){return ja.register(e),B.forwardRef((t,r)=>_.jsx(yx,{...t,ref:r,type:n}))}const vx=Nu("bar",ca),_x=Nu("doughnut",ns),wx=Nu("pie",Jc);ja.register(ci,eu,tu,ha,Qb,ix,Gb);function bx({tasks:n}){const e=n.length,t=n.filter(P=>P.completed).length,r=e-t,o=e>0?Math.round(t/e*100):0,a=n.filter(P=>P.priority==="high"&&!P.completed).length,l=n.filter(P=>P.priority==="medium"&&!P.completed).length,u=n.filter(P=>P.priority==="low"&&!P.completed).length,h=n.filter(P=>{if(!P.dueDate||P.completed)return!1;const[R,N,I]=P.dueDate.split("-").map(Number);return new Date(R,N-1,I)<new Date}).length,f={};n.forEach(P=>{P.category&&!P.completed&&(f[P.category]=(f[P.category]||0)+1)});const g=new Date,y=new Date(g.getTime()+10080*60*1e3),v=n.filter(P=>{if(!P.dueDate||P.completed)return!1;const[R,N,I]=P.dueDate.split("-").map(Number),$=new Date(R,N-1,I);return $>=g&&$<=y}).length,w={labels:["Completed","Active"],datasets:[{data:[t,r],backgroundColor:["#51cf66","#667eea"],borderColor:["#40c057","#5568d3"],borderWidth:2}]},b={labels:["High","Medium","Low"],datasets:[{label:"Active Tasks by Priority",data:[a,l,u],backgroundColor:["#ff6b6b","#ffd43b","#51cf66"],borderColor:["#ee5a5a","#fcc419","#40c057"],borderWidth:2}]},S={labels:Object.keys(f).length>0?Object.keys(f):["No Categories"],datasets:[{data:Object.keys(f).length>0?Object.values(f):[1],backgroundColor:["#667eea","#764ba2","#f093fb","#4facfe","#43e97b","#fa709a"],borderWidth:2}]},k={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}}},C={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return _.jsxs("div",{className:"dashboard",children:[_.jsx("h2",{className:"dashboard-title",children:"Dashboard"}),_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"stat-card",children:[_.jsx("div",{className:"stat-icon",children:""}),_.jsxs("div",{className:"stat-info",children:[_.jsx("div",{className:"stat-value",children:e}),_.jsx("div",{className:"stat-label",children:"Total Tasks"})]})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("div",{className:"stat-icon",children:""}),_.jsxs("div",{className:"stat-info",children:[_.jsx("div",{className:"stat-value",children:t}),_.jsx("div",{className:"stat-label",children:"Completed"})]})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("div",{className:"stat-icon",children:""}),_.jsxs("div",{className:"stat-info",children:[_.jsx("div",{className:"stat-value",children:r}),_.jsx("div",{className:"stat-label",children:"Active"})]})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("div",{className:"stat-icon",children:""}),_.jsxs("div",{className:"stat-info",children:[_.jsxs("div",{className:"stat-value",children:[o,"%"]}),_.jsx("div",{className:"stat-label",children:"Completion Rate"})]})]}),_.jsxs("div",{className:"stat-card alert",children:[_.jsx("div",{className:"stat-icon",children:""}),_.jsxs("div",{className:"stat-info",children:[_.jsx("div",{className:"stat-value",children:h}),_.jsx("div",{className:"stat-label",children:"Overdue"})]})]}),_.jsxs("div",{className:"stat-card info",children:[_.jsx("div",{className:"stat-icon",children:""}),_.jsxs("div",{className:"stat-info",children:[_.jsx("div",{className:"stat-value",children:v}),_.jsx("div",{className:"stat-label",children:"Due This Week"})]})]})]}),_.jsxs("div",{className:"charts-grid",children:[_.jsxs("div",{className:"chart-container",children:[_.jsx("h3",{className:"chart-title",children:"Task Completion"}),e>0?_.jsx(wx,{data:w,options:k}):_.jsx("p",{className:"no-data",children:"No tasks to display"})]}),_.jsxs("div",{className:"chart-container",children:[_.jsx("h3",{className:"chart-title",children:"Active Tasks by Priority"}),r>0?_.jsx(vx,{data:b,options:C}):_.jsx("p",{className:"no-data",children:"No active tasks"})]}),_.jsxs("div",{className:"chart-container",children:[_.jsx("h3",{className:"chart-title",children:"Active Tasks by Category"}),Object.keys(f).length>0?_.jsx(_x,{data:S,options:k}):_.jsx("p",{className:"no-data",children:"No categorized tasks"})]})]})]})}function xx({tasks:n,toggleComplete:e,deleteTask:t,editTask:r}){const o=new Date,a=new Date(o.getFullYear(),o.getMonth(),o.getDate()),l=b=>{if(!b.dueDate)return null;const[S,k,C]=b.dueDate.split("-").map(Number);return new Date(S,k-1,C)},u=n.filter(b=>b.completed||!b.dueDate?!1:l(b)<a),h=n.filter(b=>b.completed||!b.dueDate?!1:l(b).getTime()===a.getTime()),f=n.filter(b=>!b.completed||!b.dueDate?!1:l(b).getTime()===a.getTime()),g=h.length+f.length,y=f.length,v=g>0?Math.round(y/g*100):0,w=()=>{const b={weekday:"long",month:"long",day:"numeric"};return a.toLocaleDateString("en-US",b)};return _.jsxs("div",{className:"today-view",children:[_.jsxs("div",{className:"today-header",children:[_.jsxs("div",{className:"today-title-section",children:[_.jsx("h2",{className:"today-title",children:"Today"}),_.jsx("p",{className:"today-date",children:w()})]}),g>0&&_.jsxs("div",{className:"today-progress",children:[_.jsxs("div",{className:"progress-circle",children:[_.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:[_.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#e0e0e0",strokeWidth:"4"}),_.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#4CAF50",strokeWidth:"4",strokeDasharray:`${2*Math.PI*24}`,strokeDashoffset:`${2*Math.PI*24*(1-v/100)}`,transform:"rotate(-90 30 30)",strokeLinecap:"round"})]}),_.jsxs("span",{className:"progress-text",children:[v,"%"]})]}),_.jsxs("div",{className:"progress-details",children:[_.jsx("p",{className:"progress-label",children:"Progress"}),_.jsxs("p",{className:"progress-count",children:[y," of ",g]})]})]})]}),u.length>0&&_.jsxs("div",{className:"task-section overdue-section",children:[_.jsx("div",{className:"section-header",children:_.jsxs("h3",{className:"section-title overdue-title",children:[_.jsx("span",{className:"overdue-icon",children:""}),"Overdue",_.jsx("span",{className:"task-count-badge overdue-badge",children:u.length})]})}),_.jsx("div",{className:"task-list",children:u.map(b=>_.jsx(aa,{task:b,toggleComplete:e,deleteTask:t,editTask:r,isOverdue:!0},b.id))})]}),_.jsxs("div",{className:"task-section today-tasks-section",children:[_.jsx("div",{className:"section-header",children:_.jsxs("h3",{className:"section-title",children:["Tasks for Today",h.length>0&&_.jsx("span",{className:"task-count-badge",children:h.length})]})}),h.length===0&&u.length===0?_.jsxs("div",{className:"empty-today",children:[_.jsx("div",{className:"empty-today-icon",children:""}),_.jsx("h3",{className:"empty-today-title",children:"All clear!"}),_.jsx("p",{className:"empty-today-message",children:"No tasks scheduled for today. Enjoy your day!"})]}):h.length===0?_.jsx("div",{className:"empty-state-small",children:_.jsx("p",{children:"No tasks scheduled for today"})}):_.jsx("div",{className:"task-list",children:h.map(b=>_.jsx(aa,{task:b,toggleComplete:e,deleteTask:t,editTask:r},b.id))})]}),f.length>0&&_.jsxs("div",{className:"task-section completed-section",children:[_.jsx("div",{className:"section-header",children:_.jsxs("h3",{className:"section-title completed-title",children:[_.jsx("span",{className:"completed-icon",children:""}),"Completed",_.jsx("span",{className:"task-count-badge completed-badge",children:f.length})]})}),_.jsx("div",{className:"task-list",children:f.map(b=>_.jsx(aa,{task:b,toggleComplete:e,deleteTask:t,editTask:r},b.id))})]})]})}function Sx({onComplete:n,addTask:e}){const[t,r]=B.useState(["","",""]),o=["Do laundry","Plan a trip to...","Call back...","Buy birthday gift for...","Schedule dentist appointment","Prepare weekly meal plan","Review monthly budget","Organize workspace"],a=(f,g)=>{const y=[...t];y[f]=g,r(y)},l=f=>{const g=t.findIndex(y=>y==="");if(g!==-1){const y=[...t];y[g]=f,r(y)}},u=()=>{t.forEach(f=>{f.trim()&&e({text:f.trim(),priority:"medium",dueDate:"",dueTime:"",category:"",reminderMinutes:null})}),localStorage.setItem("hasCompletedOnboarding","true"),n()},h=()=>{localStorage.setItem("hasCompletedOnboarding","true"),n()};return _.jsx("div",{className:"onboarding-overlay",children:_.jsxs("div",{className:"onboarding-container",children:[_.jsx("button",{className:"skip-button",onClick:h,children:"Skip"}),_.jsx("h1",{className:"onboarding-title",children:"Add your first tasks"}),_.jsx("div",{className:"onboarding-inputs",children:t.map((f,g)=>_.jsx("input",{type:"text",className:`onboarding-input ${g===0?"focused":""}`,placeholder:g===0?"Do laundry":g===1?"Plan a trip to":"Call back",value:f,onChange:y=>a(g,y.target.value)},g))}),_.jsx("div",{className:"suggested-tasks",children:o.slice(0,4).map((f,g)=>_.jsxs("button",{className:"suggested-task-btn",onClick:()=>l(f),children:[_.jsx("span",{className:"plus-icon",children:"+"}),f]},g))}),_.jsx("button",{className:"continue-button",onClick:u,children:"Continue"})]})})}const eg=["Be so good no one can ignore you","Focus on being productive instead of busy","The secret of getting ahead is getting started","Small progress is still progress","Today is a great day to accomplish something","Make each day your masterpiece","The harder you work, the luckier you get","Success is the sum of small efforts repeated daily","Dream big, start small, act now","Your limitationit's only your imagination","Great things never come from comfort zones","Don't stop when you're tired. Stop when you're done","Wake up with determination. Go to bed with satisfaction","Do something today that your future self will thank you for","Little things make big days"];function kx({userName:n}){const[e,t]=B.useState(""),[r,o]=B.useState("");B.useEffect(()=>{const l=()=>{const f=new Date().getHours();let g="";f>=5&&f<12?g="Good Morning":f>=12&&f<17?g="Good Afternoon":f>=17&&f<22?g="Good Evening":g="Good Night",t(g)},u=()=>{const f=Math.floor(Math.random()*eg.length);o(eg[f])};l(),u();const h=setInterval(l,6e4);return()=>clearInterval(h)},[]);const a=n||"STEVE ARMSTRONG";return _.jsxs("div",{className:"greeting-section",children:[_.jsxs("h1",{className:"greeting-text",children:[e,", ",a]}),_.jsx("p",{className:"motivational-quote",children:r})]})}var nu=function(n,e){return nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},nu(n,e)};function xm(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nu(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Sa=function(){return Sa=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Sa.apply(this,arguments)};function ds(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function Sm(n,e,t,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(l=n[u])&&(a=(o<3?l(a):o>3?l(e,t,a):l(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a}function km(n,e){return function(t,r){e(t,r,n)}}function Em(n,e,t,r,o,a){function l(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var u=r.kind,h=u==="getter"?"get":u==="setter"?"set":"value",f=!e&&n?r.static?n:n.prototype:null,g=e||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),y,v=!1,w=t.length-1;w>=0;w--){var b={};for(var S in r)b[S]=S==="access"?{}:r[S];for(var S in r.access)b.access[S]=r.access[S];b.addInitializer=function(C){if(v)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(C||null))};var k=(0,t[w])(u==="accessor"?{get:g.get,set:g.set}:g[h],b);if(u==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(y=l(k.get))&&(g.get=y),(y=l(k.set))&&(g.set=y),(y=l(k.init))&&o.unshift(y)}else(y=l(k))&&(u==="field"?o.unshift(y):g[h]=y)}f&&Object.defineProperty(f,r.name,g),v=!0}function Tm(n,e,t){for(var r=arguments.length>2,o=0;o<e.length;o++)t=r?e[o].call(n,t):e[o].call(n);return r?t:void 0}function Cm(n){return typeof n=="symbol"?n:"".concat(n)}function Om(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Pm(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ae(n,e,t,r){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function h(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(u,h)}f((r=r.apply(n,e||[])).next())})}function jm(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(g){return h([f,g])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(t=0)),t;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(g){f=[6,g],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Aa=Object.create?(function(n,e,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,o)}):(function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]});function Rm(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Aa(e,n,t)}function ka(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mu(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],l;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(u){l={error:u}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return a}function Am(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Mu(arguments[e]));return n}function Nm(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var a=arguments[e],l=0,u=a.length;l<u;l++,o++)r[o]=a[l];return r}function Mm(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function ls(n){return this instanceof ls?(this.v=n,this):new ls(n)}function Dm(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(w){return function(b){return Promise.resolve(b).then(w,y)}}function u(w,b){r[w]&&(o[w]=function(S){return new Promise(function(k,C){a.push([w,S,k,C])>1||h(w,S)})},b&&(o[w]=b(o[w])))}function h(w,b){try{f(r[w](b))}catch(S){v(a[0][3],S)}}function f(w){w.value instanceof ls?Promise.resolve(w.value.v).then(g,y):v(a[0][2],w)}function g(w){h("next",w)}function y(w){h("throw",w)}function v(w,b){w(b),a.shift(),a.length&&h(a[0][0],a[0][1])}}function Im(n){var e,t;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,a){e[o]=n[o]?function(l){return(t=!t)?{value:ls(n[o](l)),done:!1}:a?a(l):l}:a}}function Lm(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ka=="function"?ka(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(l){return new Promise(function(u,h){l=n[a](l),o(u,h,l.done,l.value)})}}function o(a,l,u,h){Promise.resolve(h).then(function(f){a({value:f,done:u})},l)}}function Fm(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var Ex=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},ru=function(n){return ru=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},ru(n)};function $m(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=ru(n),r=0;r<t.length;r++)t[r]!=="default"&&Aa(e,n,t[r]);return Ex(e,n),e}function zm(n){return n&&n.__esModule?n:{default:n}}function Bm(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Um(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t}function Hm(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Wm(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}var Tx=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Vm(n){function e(a){n.error=n.hasError?new Tx(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var t,r=0;function o(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(o);if(t.dispose){var a=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(a).then(o,function(l){return e(l),o()})}else r|=1}catch(l){e(l)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function qm(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,o,a,l){return r?e?".jsx":".js":o&&(!a||!l)?t:o+a+"."+l.toLowerCase()+"js"}):n}const Cx={__extends:xm,__assign:Sa,__rest:ds,__decorate:Sm,__param:km,__esDecorate:Em,__runInitializers:Tm,__propKey:Cm,__setFunctionName:Om,__metadata:Pm,__awaiter:ae,__generator:jm,__createBinding:Aa,__exportStar:Rm,__values:ka,__read:Mu,__spread:Am,__spreadArrays:Nm,__spreadArray:Mm,__await:ls,__asyncGenerator:Dm,__asyncDelegator:Im,__asyncValues:Lm,__makeTemplateObject:Fm,__importStar:$m,__importDefault:zm,__classPrivateFieldGet:Bm,__classPrivateFieldSet:Um,__classPrivateFieldIn:Hm,__addDisposableResource:Wm,__disposeResources:Vm,__rewriteRelativeImportExtension:qm},Ox=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Wm,get __assign(){return Sa},__asyncDelegator:Im,__asyncGenerator:Dm,__asyncValues:Lm,__await:ls,__awaiter:ae,__classPrivateFieldGet:Bm,__classPrivateFieldIn:Hm,__classPrivateFieldSet:Um,__createBinding:Aa,__decorate:Sm,__disposeResources:Vm,__esDecorate:Em,__exportStar:Rm,__extends:xm,__generator:jm,__importDefault:zm,__importStar:$m,__makeTemplateObject:Fm,__metadata:Pm,__param:km,__propKey:Cm,__read:Mu,__rest:ds,__rewriteRelativeImportExtension:qm,__runInitializers:Tm,__setFunctionName:Om,__spread:Am,__spreadArray:Mm,__spreadArrays:Nm,__values:ka,default:Cx},Symbol.toStringTag,{value:"Module"})),Px=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Du extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class jx extends Du{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tg extends Du{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ng extends Du{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var su;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(su||(su={}));class Rx{constructor(e,{headers:t={},customFetch:r,region:o=su.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=Px(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ae(this,arguments,void 0,function*(t,r={}){var o;let a,l;try{const{headers:u,method:h,body:f,signal:g,timeout:y}=r;let v={},{region:w}=r;w||(w=this.region);const b=new URL(`${this.url}/${t}`);w&&w!=="any"&&(v["x-region"]=w,b.searchParams.set("forceFunctionRegion",w));let S;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(v["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(v["Content-Type"]="application/json",S=JSON.stringify(f)):S=f;let k=g;y&&(l=new AbortController,a=setTimeout(()=>l.abort(),y),g?(k=l.signal,g.addEventListener("abort",()=>l.abort())):k=l.signal);const C=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:S,signal:k}).catch(I=>{throw new jx(I)}),P=C.headers.get("x-relay-error");if(P&&P==="true")throw new tg(C);if(!C.ok)throw new ng(C);let R=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return R==="application/json"?N=yield C.json():R==="application/octet-stream"||R==="application/pdf"?N=yield C.blob():R==="text/event-stream"?N=C:R==="multipart/form-data"?N=yield C.formData():N=yield C.text(),{data:N,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof ng||u instanceof tg?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var ot={};const hs=p0(Ox);var Xo={},Zo={},ea={},ta={},na={},ra={},rg;function Km(){if(rg)return ra;rg=1,Object.defineProperty(ra,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return ra.default=n,ra}var sg;function Ym(){if(sg)return na;sg=1,Object.defineProperty(na,"__esModule",{value:!0});const e=hs.__importDefault(Km());class t{constructor(o){var a,l;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(l=o.isMaybeSingle)!==null&&l!==void 0?l:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,g,y,v;let w=null,b=null,S=null,k=h.status,C=h.statusText;if(h.ok){if(this.method!=="HEAD"){const I=await h.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=I:b=JSON.parse(I))}const R=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),N=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");R&&N&&N.length>1&&(S=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(w={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,k=406,C="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const R=await h.text();try{w=JSON.parse(R),Array.isArray(w)&&h.status===404&&(b=[],w=null,k=200,C="OK")}catch{h.status===404&&R===""?(k=204,C="No Content"):w={message:R}}if(w&&this.isMaybeSingle&&(!((v=w==null?void 0:w.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,k=200,C="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:b,count:S,status:k,statusText:C}});return this.shouldThrowOnError||(u=u.catch(h=>{var f,g,y;return{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(g=h==null?void 0:h.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=h==null?void 0:h.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),u.then(o,a)}returns(){return this}overrideTypes(){return this}}return na.default=t,na}var ig;function Gm(){if(ig)return ta;ig=1,Object.defineProperty(ta,"__esModule",{value:!0});const e=hs.__importDefault(Ym());class t extends e.default{select(o){let a=!1;const l=(o??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${o}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,a,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(f,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:h=!1,format:f="text"}={}){var g;const y=[o?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${y};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ta.default=t,ta}var og;function Iu(){if(og)return ea;og=1,Object.defineProperty(ea,"__esModule",{value:!0});const e=hs.__importDefault(Gm()),t=new RegExp("[,()]");class r extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(h=>typeof h=="string"&&t.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${f}fts${g}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return ea.default=r,ea}var ag;function Jm(){if(ag)return Zo;ag=1,Object.defineProperty(Zo,"__esModule",{value:!0});const e=hs.__importDefault(Iu());class t{constructor(o,{headers:a={},schema:l,fetch:u}){this.url=o,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(o,a){const{head:l=!1,count:u}=a??{},h=l?"HEAD":"GET";let f=!1;const g=(o??"*").split("").map(y=>/\s/.test(y)&&!f?"":(y==='"'&&(f=!f),y)).join("");return this.url.searchParams.set("select",g),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:l=!0}={}){var u;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:h=!0}={}){var f;const g="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(y.length>0){const v=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var a;const l="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Zo.default=t,Zo}var lg;function Ax(){if(lg)return Xo;lg=1,Object.defineProperty(Xo,"__esModule",{value:!0});const n=hs,e=n.__importDefault(Jm()),t=n.__importDefault(Iu());class r{constructor(a,{headers:l={},schema:u,fetch:h}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=h}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:h=!1,count:f}={}){var g;let y;const v=new URL(`${this.url}/rpc/${a}`);let w;u||h?(y=u?"HEAD":"GET",Object.entries(l).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{v.searchParams.append(S,k)})):(y="POST",w=l);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new t.default({method:y,url:v,headers:b,schema:this.schemaName,body:w,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Xo.default=r,Xo}var cg;function Nx(){if(cg)return ot;cg=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const n=hs,e=n.__importDefault(Ax());ot.PostgrestClient=e.default;const t=n.__importDefault(Jm());ot.PostgrestQueryBuilder=t.default;const r=n.__importDefault(Iu());ot.PostgrestFilterBuilder=r.default;const o=n.__importDefault(Gm());ot.PostgrestTransformBuilder=o.default;const a=n.__importDefault(Ym());ot.PostgrestBuilder=a.default;const l=n.__importDefault(Km());return ot.PostgrestError=l.default,ot.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:l.default},ot}var Qm=Nx();const Xm=gu(Qm),Mx=f0({__proto__:null,default:Xm},[Qm]),{PostgrestClient:Dx,PostgrestQueryBuilder:n1,PostgrestFilterBuilder:r1,PostgrestTransformBuilder:s1,PostgrestBuilder:i1,PostgrestError:o1}=Xm||Mx;class Ix{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Lx="2.81.1",Fx=`realtime-js/${Lx}`,Zm="1.0.0",$x="2.0.0",ug=Zm,iu=1e4,zx=1e3,Bx=100;var pr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(pr||(pr={}));var Ge;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ge||(Ge={}));var It;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(It||(It={}));var ou;(function(n){n.websocket="websocket"})(ou||(ou={}));var gr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(gr||(gr={}));class Ux{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:t,ref:r,event:o,topic:a,payload:l}=e,u=this.META_LENGTH+t.length+r.length+a.length+o.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(h),g=0;f.setUint8(g++,this.KINDS.push),f.setUint8(g++,t.length),f.setUint8(g++,r.length),f.setUint8(g++,a.length),f.setUint8(g++,o.length),Array.from(t,v=>f.setUint8(g++,v.charCodeAt(0))),Array.from(r,v=>f.setUint8(g++,v.charCodeAt(0))),Array.from(a,v=>f.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>f.setUint8(g++,v.charCodeAt(0)));var y=new Uint8Array(h.byteLength+l.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(l),h.byteLength),y.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const{join_ref:o,ref:a,topic:l}=e,u=e.payload.event,h=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+a.length+l.length+u.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(g),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,o.length),y.setUint8(v++,a.length),y.setUint8(v++,l.length),y.setUint8(v++,u.length),y.setUint8(v++,this.BINARY_ENCODING),Array.from(o,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(l,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(v++,b.charCodeAt(0)));var w=new Uint8Array(g.byteLength+h.byteLength);return w.set(new Uint8Array(g),0),w.set(new Uint8Array(h),g.byteLength),w.buffer}_encodeJsonUserBroadcastPush(e){var t,r;const{join_ref:o,ref:a,topic:l}=e,u=e.payload.event,h=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},g=new TextEncoder().encode(JSON.stringify(h)).buffer,y=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+a.length+l.length+u.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(v),b=0;w.setUint8(b++,this.KINDS.userBroadcastPush),w.setUint8(b++,o.length),w.setUint8(b++,a.length),w.setUint8(b++,l.length),w.setUint8(b++,u.length),w.setUint8(b++,this.JSON_ENCODING),Array.from(o,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(a,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(l,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(u,k=>w.setUint8(b++,k.charCodeAt(0)));var S=new Uint8Array(v.byteLength+g.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(g),v.byteLength),S.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,a,l,u,h]=r;return t({join_ref:o,ref:a,topic:l,event:u,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,t,o);case this.KINDS.reply:return this._decodeReply(e,t,o);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,o);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,o)}}_decodePush(e,t,r){const o=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3);let u=this.HEADER_LENGTH+this.META_LENGTH-1;const h=r.decode(e.slice(u,u+o));u=u+o;const f=r.decode(e.slice(u,u+a));u=u+a;const g=r.decode(e.slice(u,u+l));u=u+l;const y=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{join_ref:h,ref:null,topic:f,event:g,payload:y}}_decodeReply(e,t,r){const o=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),u=t.getUint8(4);let h=this.HEADER_LENGTH+this.META_LENGTH;const f=r.decode(e.slice(h,h+o));h=h+o;const g=r.decode(e.slice(h,h+a));h=h+a;const y=r.decode(e.slice(h,h+l));h=h+l;const v=r.decode(e.slice(h,h+u));h=h+u;const w=JSON.parse(r.decode(e.slice(h,e.byteLength))),b={status:v,response:w};return{join_ref:f,ref:g,topic:y,event:It.reply,payload:b}}_decodeBroadcast(e,t,r){const o=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+o));l=l+o;const h=r.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{join_ref:null,ref:null,topic:u,event:h,payload:f}}_decodeUserBroadcast(e,t,r){const o=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),u=t.getUint8(4);let h=this.HEADER_LENGTH+4;const f=r.decode(e.slice(h,h+o));h=h+o;const g=r.decode(e.slice(h,h+a));h=h+a;const y=r.decode(e.slice(h,h+l));h=h+l;const v=e.slice(h,e.byteLength),w=u===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,b={type:this.BROADCAST,event:g,payload:w};return l>0&&(b.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:b}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}}class ey{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ne||(Ne={}));const dg=(n,e,t={})=>{var r;const o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=Hx(l,n,e,o),a),{}):{}},Hx=(n,e,t,r)=>{const o=e.find(u=>u.name===n),a=o==null?void 0:o.type,l=t[n];return a&&!r.includes(a)?ty(a,l):au(l)},ty=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Kx(e,t)}switch(n){case Ne.bool:return Wx(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return Vx(e);case Ne.json:case Ne.jsonb:return qx(e);case Ne.timestamp:return Yx(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return au(e);default:return au(e)}},au=n=>n,Wx=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Vx=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},qx=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Kx=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>ty(e,u))}return n},Yx=n=>typeof n=="string"?n.replace(" ","T"):n,ny=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Fc{constructor(e,t,r={},o=iu){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(hg||(hg={}));class gi{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gi.syncState(this.state,o,a,l),this.pendingDiffs.forEach(h=>{this.state=gi.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=gi.syncDiff(this.state,o,a,l),u())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const a=this.cloneDeep(e),l=this.transformState(t),u={},h={};return this.map(a,(f,g)=>{l[f]||(h[f]=g)}),this.map(l,(f,g)=>{const y=a[f];if(y){const v=g.map(k=>k.presence_ref),w=y.map(k=>k.presence_ref),b=g.filter(k=>w.indexOf(k.presence_ref)<0),S=y.filter(k=>v.indexOf(k.presence_ref)<0);b.length>0&&(u[f]=b),S.length>0&&(h[f]=S)}else u[f]=g}),this.syncDiff(a,{joins:u,leaves:h},r,o)}static syncDiff(e,t,r,o){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(u,h)=>{var f;const g=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(h),g.length>0){const y=e[u].map(w=>w.presence_ref),v=g.filter(w=>y.indexOf(w.presence_ref)<0);e[u].unshift(...v)}r(u,g,h)}),this.map(l,(u,h)=>{let f=e[u];if(!f)return;const g=h.map(y=>y.presence_ref);f=f.filter(y=>g.indexOf(y.presence_ref)<0),e[u]=f,o(u,f,h),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return"metas"in o?t[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(fg||(fg={}));var mi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(mi||(mi={}));var gn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class Lu{constructor(e,t={config:{}},r){var o,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Fc(this,It.join,this.params,this.timeout),this.rejoinTimer=new ey(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new gi(this),this.broadcastEndpointURL=ny(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:l,presence:u,private:h}}=this.params,f=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[mi.PRESENCE]&&this.bindings[mi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(gn.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:w})=>{var b;if(this.socket.setAuth(),w===void 0){e==null||e(gn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,C=[];for(let P=0;P<k;P++){const R=S[P],{filter:{event:N,schema:I,table:$,filter:L}}=R,W=w&&w[P];if(W&&W.event===N&&W.schema===I&&W.table===$&&W.filter===L)C.push(Object.assign(Object.assign({},R),{id:W.id}));else{this.unsubscribe(),this.state=Ge.errored,e==null||e(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(gn.SUBSCRIBED);return}}).receive("error",w=>{this.state=Ge.errored,e==null||e(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Ge.joined&&e===mi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const f=await u.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,h;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ge.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Fc(this,It.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Fc(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Bx){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,a;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:f,join:g}=It;if(r&&[u,h,f,g].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var b,S,k;return((b=w.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(S=w.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(w=>w.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(w=>{var b,S,k,C,P,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const N=w.id,I=(b=w.filter)===null||b===void 0?void 0:b.event;return N&&((S=t.ids)===null||S===void 0?void 0:S.includes(N))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const N=(P=(C=w==null?void 0:w.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return N==="*"||N===((R=t==null?void 0:t.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:S,table:k,commit_timestamp:C,type:P,errors:R}=b;v=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:C,eventType:P,new:{},old:{},errors:R}),this._getPayloadRecords(b))}w.callback(v,r)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),a={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Lu.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(It.close,{},e)}_onError(e){this._on(It.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=dg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=dg(e.columns,e.old_record)),t}}const $c=()=>{},sa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gx=[1e3,2e3,5e3,1e4],Jx=1e4,Qx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xx{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=iu,this.transport=null,this.heartbeatIntervalMs=sa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$c,this.ref=0,this.reconnectTimer=null,this.vsn=ug,this.logger=$c,this.conn=null,this.sendBuffer=[],this.serializer=new Ux,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ou.websocket}`,this.httpEndpoint=ny(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ix.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pr.connecting:return gr.Connecting;case pr.open:return gr.Open;case pr.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new Lu(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:o,ref:a}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${t} ${r} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zx,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},sa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:l}=t,u=l?`(${l})`:"",h=a.status||"";this.log("receive",`${h} ${r} ${o} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(o,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===pr.open||this.conn.readyState===pr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(It.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Qx],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:Fx};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(It.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ey(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,a,l,u,h,f,g,y,v,w;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:iu,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:sa.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:$c,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:ug,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(b=>Gx[b-1]||Jx),this.vsn){case Zm:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((b,S)=>S(JSON.stringify(b))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:((b,S)=>S(JSON.parse(b)));break;case $x:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Fu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ze(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Zx extends Fu{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lu extends Fu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const $u=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),eS=()=>Response,cu=n=>{if(Array.isArray(n))return n.map(t=>cu(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=cu(r)}),e},tS=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},zc=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},nS=(n,e,t)=>ae(void 0,void 0,void 0,function*(){const r=yield eS();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(o=>{const a=n.status||500,l=(o==null?void 0:o.statusCode)||a+"";e(new Zx(zc(o),a,l))}).catch(o=>{e(new lu(zc(o),o))}):e(new lu(zc(n),n))}),rS=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?o:(tS(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Ti(n,e,t,r,o,a){return ae(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,rS(e,r,o,a)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>nS(h,u,r))})})}function xi(n,e,t,r){return ae(this,void 0,void 0,function*(){return Ti(n,"GET",e,t,r)})}function Vt(n,e,t,r,o){return ae(this,void 0,void 0,function*(){return Ti(n,"POST",e,r,o,t)})}function uu(n,e,t,r,o){return ae(this,void 0,void 0,function*(){return Ti(n,"PUT",e,r,o,t)})}function sS(n,e,t,r){return ae(this,void 0,void 0,function*(){return Ti(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function zu(n,e,t,r,o){return ae(this,void 0,void 0,function*(){return Ti(n,"DELETE",e,r,o,t)})}class iS{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ze(e))return{data:null,error:e};throw e}})}}var ry;class oS{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ry]="BlobDownloadBuilder",this.promise=null}asStream(){return new iS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ze(e))return{data:null,error:e};throw e}})}}ry=Symbol.toStringTag;const aS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lS{constructor(e,t={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=$u(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,o){return ae(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},pg),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),h&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(h))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const f=this._removeEmptyFolders(t),g=this._getFinalPath(f),y=yield(e=="PUT"?uu:Vt)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}upload(e,t,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return ae(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let h;const f=Object.assign({upsert:pg.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",f.cacheControl)):(h=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const y=yield uu(this.fetch,u.toString(),h,{headers:g});return{data:{path:a,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(ze(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,t){return ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const a=yield Vt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new Fu("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}update(e,t,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return ae(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}copy(e,t,r){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return ae(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Vt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return ae(this,void 0,void 0,function*(){try{const o=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}download(e,t){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=a?`?${a}`:"",u=this._getFinalPath(e),h=()=>xi(this.fetch,`${this.url}/${o}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new oS(h,this.shouldThrowOnError)}info(e){return ae(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield xi(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:cu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}exists(e){return ae(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield sS(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r)&&r instanceof lu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&o.push(a);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});h!==""&&o.push(h);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return ae(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}list(e,t,r){return ae(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},aS),t),{prefix:e||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}listV2(e,t){return ae(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const sy="2.81.1",iy={"X-Client-Info":`storage-js/${sy}`};class cS{constructor(e,t={},r,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iy),t),this.fetch=$u(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield xi(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}createBucket(e){return ae(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return ae(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class uS{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iy),t),this.fetch=$u(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const r=t.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield xi(this.fetch,o,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}}const Bu={"X-Client-Info":`storage-js/${sy}`,"Content-Type":"application/json"};class oy extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Et(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Bc extends oy{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dS extends oy{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var gg;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gg||(gg={}));const Uu=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),hS=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},mg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),fS=(n,e,t)=>ae(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const o=n.status||500,a=n;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new Bc(mg(l),o,u))}).catch(()=>{const l=o+"",u=a.statusText||`HTTP ${o} error`;e(new Bc(u,o,l))});else{const l=o+"",u=a.statusText||`HTTP ${o} error`;e(new Bc(u,o,l))}}else e(new dS(mg(n),n))}),pS=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(hS(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t)):o};function gS(n,e,t,r,o,a){return ae(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,pS(e,r,o,a)).then(h=>{if(!h.ok)throw h;if(r!=null&&r.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>l(h)).catch(h=>fS(h,u,r))})})}function Tt(n,e,t,r,o){return ae(this,void 0,void 0,function*(){return gS(n,"POST",e,r,o,t)})}class mS{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bu),t),this.fetch=Uu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}getIndex(e,t){return ae(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}listIndexes(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return ae(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}}class yS{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bu),t),this.fetch=Uu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}getVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}listVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Tt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}queryVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}deleteVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}}class vS{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bu),t),this.fetch=Uu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}listBuckets(){return ae(this,arguments,void 0,function*(e={}){try{return{data:yield Tt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}}class _S extends vS{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new wS(this.url,this.headers,e,this.fetch)}}class wS extends mS{constructor(e,t,r,o){super(e,t,o),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new bS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class bS extends yS{constructor(e,t,r,o,a){super(e,t,a),this.vectorBucketName=r,this.indexName=o}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class xS extends cS{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new lS(this.url,this.headers,e,this.fetch)}get vectors(){return new _S(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uS(this.url+"/iceberg",this.headers,this.fetch)}}const SS="2.81.1";let di="";typeof Deno<"u"?di="deno":typeof document<"u"?di="web":typeof navigator<"u"&&navigator.product==="ReactNative"?di="react-native":di="node";const kS={"X-Client-Info":`supabase-js-${di}/${SS}`},ES={headers:kS},TS={schema:"public"},CS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OS={},PS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),jS=()=>Headers,RS=(n,e,t)=>{const r=PS(t),o=jS();return async(a,l)=>{var u;const h=(u=await e())!==null&&u!==void 0?u:n;let f=new o(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),r(a,Object.assign(Object.assign({},l),{headers:f}))}};function AS(n){return n.endsWith("/")?n:n+"/"}function NS(n,e){var t,r;const{db:o,auth:a,realtime:l,global:u}=n,{db:h,auth:f,realtime:g,global:y}=e,v={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},g),l),storage:{},global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function MS(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ay="2.81.1",es=30*1e3,du=3,Uc=du*es,DS="http://localhost:9999",IS="supabase.auth.token",LS={"X-Client-Info":`gotrue-js/${ay}`},hu="X-Supabase-Api-Version",ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$S=600*1e3;class Si extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ce(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class zS extends Si{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function BS(n){return ce(n)&&n.name==="AuthApiError"}class mr extends Si{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Kn extends Si{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class Ht extends Kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function US(n){return ce(n)&&n.name==="AuthSessionMissingError"}class Gr extends Kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ia extends Kn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class oa extends Kn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HS(n){return ce(n)&&n.name==="AuthImplicitGrantRedirectError"}class yg extends Kn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fu extends Kn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Hc(n){return ce(n)&&n.name==="AuthRetryableFetchError"}class vg extends Kn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class pu extends Kn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_g=` 	
\r=`.split(""),WS=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<_g.length;e+=1)n[_g[e].charCodeAt(0)]=-2;for(let e=0;e<Ea.length;e+=1)n[Ea[e].charCodeAt(0)]=e;return n})();function wg(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Ea[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Ea[r]),e.queuedBits-=6}}function cy(n,e,t){const r=WS[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function bg(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{KS(l,r,t)};for(let l=0;l<n.length;l+=1)cy(n.charCodeAt(l),o,a);return e.join("")}function VS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function qS(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}VS(r,e)}}function KS(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function os(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)cy(n.charCodeAt(o),t,r);return new Uint8Array(e)}function YS(n){const e=[];return qS(n,t=>e.push(t)),new Uint8Array(e)}function vr(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>wg(o,t,r)),wg(null,t,r),e.join("")}function GS(n){return Math.round(Date.now()/1e3)+n}function JS(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",ur={tested:!1,writable:!1},uy=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ur.tested)return ur.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ur.tested=!0,ur.writable=!0}catch{ur.tested=!0,ur.writable=!1}return ur.writable};function QS(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}const dy=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),XS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ts=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},dr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Fn=async(n,e)=>{await n.removeItem(e)};class Na{constructor(){this.promise=new Na.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Na.promiseConstructor=Promise;function Wc(n){const e=n.split(".");if(e.length!==3)throw new pu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!FS.test(e[r]))throw new pu("JWT not in base64url format");return{header:JSON.parse(bg(e[0])),payload:JSON.parse(bg(e[1])),signature:os(e[2]),raw:{header:e[0],payload:e[1]}}}async function ZS(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function ek(n,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function tk(n){return("0"+n.toString(16)).substr(-2)}function nk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let a=0;a<56;a++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,tk).join("")}async function rk(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function sk(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await rk(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jr(n,e,t=!1){const r=nk();let o=r;t&&(o+="/PASSWORD_RECOVERY"),await ts(n,`${e}-code-verifier`,o);const a=await sk(r);return[a,r===a?"plain":"s256"]}const ik=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ok(n){const e=n.headers.get(hu);if(!e||!e.match(ik))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ak(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function lk(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ck=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qr(n){if(!ck.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vc(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uk(n,e){return new Proxy(n,{get:(t,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,o)}})}function xg(n){return JSON.parse(JSON.stringify(n))}const fr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),dk=[502,503,504];async function Sg(n){var e;if(!XS(n))throw new fu(fr(n),0);if(dk.includes(n.status))throw new fu(fr(n),n.status);let t;try{t=await n.json()}catch(a){throw new mr(fr(a),a)}let r;const o=ok(n);if(o&&o.getTime()>=ly["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new vg(fr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ht}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new vg(fr(t),n.status,t.weak_password.reasons);throw new zS(fr(t),n.status||500,r)}const hk=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function ge(n,e,t,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[hu]||(a[hu]=ly["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await fk(n,e,t+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function fk(n,e,t,r,o,a){const l=hk(e,r,o,a);let u;try{u=await n(t,Object.assign({},l))}catch(h){throw console.error(h),new fu(fr(h),0)}if(u.ok||await Sg(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(h){await Sg(h)}}function Wt(n){var e;let t=null;mk(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=GS(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function kg(n){const e=Wt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function zn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function pk(n){return{data:n,error:null}}function gk(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:a}=n,l=ds(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:a},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function Eg(n){return n}function mk(n){return n.access_token&&n.refresh_token&&n.expires_in}const qc=["global","local","others"];class yk{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=dy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=qc[0]){if(qc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qc.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:zn})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=ds(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:gk,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ce(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zn})}catch(t){if(ce(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,a,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},g=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Eg});if(g.error)throw g.error;const y=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);f[`${k}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ce(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Qr(e);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zn})}catch(t){if(ce(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Qr(e);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:zn})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Qr(e);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:zn})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Qr(e.userId);try{const{data:t,error:r}=await ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Qr(e.userId),Qr(e.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,o,a,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},g=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Eg});if(g.error)throw g.error;const y=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);f[`${k}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ce(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}}function Tg(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Xr={debug:!!(globalThis&&uy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vk extends hy{}async function _k(n,e,t){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new vk(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Xr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function wk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fy(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function bk(n){return parseInt(n,16)}function xk(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Sk(n){var e;const{chainId:t,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:h,resources:f,scheme:g,uri:y,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const w=fy(n.address),b=g?`${g}://${r}`:r,S=n.statement?`${n.statement}
`:"",k=`${b} wants you to sign in with your Ethereum account:
${w}

${S}`;let C=`URI: ${y}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),h&&(C+=`
Request ID: ${h}`),f){let P=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);P+=`
- ${R}`}C+=P}return`${k}
${C}`}class qe extends Error{constructor({message:e,code:t,cause:r,name:o}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class Ta extends qe{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function kk({error:n,options:e}){var t,r,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new qe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(py(l)){if(a.rp.id!==l)return new qe({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Ek({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new qe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(py(r)){if(t.rpId!==r)return new qe({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Tk{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ck=new Tk;function Ok(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,o=ds(n,["challenge","user","excludeCredentials"]),a=os(e).buffer,l=Object.assign(Object.assign({},t),{id:os(t.id).buffer}),u=Object.assign(Object.assign({},o),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const f=r[h];u.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:os(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Pk(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=ds(n,["challenge","allowCredentials"]),o=os(e).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const u=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:os(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function jk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:vr(new Uint8Array(n.response.attestationObject)),clientDataJSON:vr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Rk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:vr(new Uint8Array(o.authenticatorData)),clientDataJSON:vr(new Uint8Array(o.clientDataJSON)),signature:vr(new Uint8Array(o.signature)),userHandle:o.userHandle?vr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function py(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Cg(){var n,e;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Ak(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:kk({error:e,options:n})}}}async function Nk(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:Ek({error:e,options:n})}}}const Mk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Dk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ca(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of n)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(t(l))r[a]=l;else if(e(l)){const u=r[a];e(u)?r[a]=Ca(u,l):r[a]=Ca(l)}else r[a]=l}return r}function Ik(n,e){return Ca(Mk,n,e||{})}function Lk(n,e){return Ca(Dk,n,e||{})}class Fk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:o},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:u};const h=o??Ck.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=Ik(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:g,error:y}=await Ak({publicKey:f,signal:h});return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const f=Lk(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:g,error:y}=await Nk(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:h}));return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(l){return ce(l)?{data:null,error:l}:{data:null,error:new mr("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new Si("rpId is required for WebAuthn authentication")};try{if(!Cg())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:o},{request:a});if(!l)return{data:null,error:u};const{webauthn:h}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:r,credential_response:h.credential_response}})}catch(l){return ce(l)?{data:null,error:l}:{data:null,error:new mr("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new Si("rpId is required for WebAuthn registration")};try{if(!Cg())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:u};const{data:h,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:o},{create:a});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ce(l)?{data:null,error:l}:{data:null,error:new mr("Unexpected error in register",l)}}}}wk();const $k={url:DS,storageKey:IS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Og(n,e,t){return await t()}const Zr={};class ki{get jwks(){var e,t;return(t=(e=Zr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Zr[this.storageKey]=Object.assign(Object.assign({},Zr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Zr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Zr[this.storageKey]=Object.assign(Object.assign({},Zr[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},$k),e);if(this.storageKey=a.storageKey,this.instanceID=(t=ki.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,ki.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&tt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new yk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=dy(a.fetch),this.lock=a.lock||Og,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_k:this.lock=Og,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Fk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:uy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ay}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(tt()&&(t=QS(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),HS(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ce(t)?this._returnResult({error:t}):this._returnResult({error:new mr("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Wt}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,o;try{let a;if("email"in e){const{email:g,password:y,options:v}=e;let w=null,b=null;this.flowType==="pkce"&&([w,b]=await Jr(this.storage,this.storageKey)),a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:y,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:w,code_challenge_method:b},xform:Wt})}else if("phone"in e){const{phone:g,password:y,options:v}=e;a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Wt})}else throw new ia("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:u}=e;t=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:kg})}else if("phone"in e){const{phone:a,password:l,options:u}=e;t=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:kg})}else throw new ia("You must provide either an email or phone number and a password");const{data:r,error:o}=t;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const a=new Gr;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,o,a,l,u,h,f,g,y,v;let w,b;if("message"in e)w=e.message,b=e.signature;else{const{chain:S,wallet:k,statement:C,options:P}=e;let R;if(tt())if(typeof k=="object")R=k;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")R=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=k}const N=new URL((t=P==null?void 0:P.url)!==null&&t!==void 0?t:window.location.href),I=await R.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=fy(I[0]);let L=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!L){const D=await R.request({method:"eth_chainId"});L=bk(D)}const W={domain:N.host,address:$,statement:C,uri:N.href,version:"1",chainId:L,nonce:(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=P==null?void 0:P.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=Sk(W),b=await R.request({method:"personal_sign",params:[xk(w),$]})}try{const{data:S,error:k}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:b},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Wt});if(k)throw k;if(!S||!S.session||!S.user){const C=new Gr;return this._returnResult({data:{user:null,session:null},error:C})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:k})}catch(S){if(ce(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,r,o,a,l,u,h,f,g,y,v,w;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:k,wallet:C,statement:P,options:R}=e;let N;if(tt())if(typeof C=="object")N=C;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))N=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=C}const I=new URL((t=R==null?void 0:R.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in N&&N.signIn){const $=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),P?{statement:P}:null));let L;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")L=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)L=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)b=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),S=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${I.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=R==null?void 0:R.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R==null?void 0:R.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(g=R==null?void 0:R.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const $=await N.signMessage(new TextEncoder().encode(b),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=$}}try{const{data:k,error:C}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:vr(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Wt});if(C)throw C;if(!k||!k.session||!k.user){const P=new Gr;return this._returnResult({data:{user:null,session:null},error:P})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(ce(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const t=await dr(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(t??"").split("/");try{const{data:a,error:l}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Wt});if(await Fn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new Gr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(ce(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:a,nonce:l}=e,u=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Wt}),{data:h,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const g=new Gr;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,o,a,l;try{if("email"in e){const{email:u,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Jr(this.storage,this.storageKey));const{error:y}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:u,options:h}=e,{data:f,error:g}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new ia("You must provide either an email or phone number.")}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var t,r;try{let o,a;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Wt});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var t,r,o,a,l;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Jr(this.storage,this.storageKey));const f=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:pk});return!((a=f.data)===null||a===void 0)&&a.url&&tt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(ce(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Ht;const{error:o}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:l}=await ge(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:l,error:u}=await ge(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new ia("You must provide either an email or phone number and a type")}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Uc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await dr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Vc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=uk(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zn}):await this._useSession(async t=>{var r,o,a;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:zn})})}catch(t){if(ce(t))return US(t)&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new Ht;const l=o.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await Jr(this.storage,this.storageKey));const{data:f,error:g}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:zn});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(ce(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const t=Date.now()/1e3;let r=t,o=!0,a=null;const{payload:l}=Wc(e.access_token);if(l.exp&&(r=l.exp,o=r<=t),o){const{data:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(ce(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ht;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!tt())throw new oa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new oa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oa("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yg("No code detected.");const{data:P,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:u,expires_at:h,token_type:f}=e;if(!a||!u||!l||!f)throw new oa("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(u);let v=g+y;h&&(v=parseInt(h));const w=v-g;w*1e3<=es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const b=v-y;g-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,g):g-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,g);const{data:S,error:k}=await this._getUser(a);if(k)throw k;const C={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await dr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return this._returnResult({error:a});const l=(r=o.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(BS(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=JS(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Jr(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ce(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:o}=await this._useSession(async a=>{var l,u,h,f,g;const{data:y,error:v}=a;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return tt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ce(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:o,data:{session:a}}=t;if(o)throw o;const{options:l,provider:u,token:h,access_token:f,nonce:g}=e,y=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:h,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wt}),{data:v,error:w}=y;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Gr}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:a,error:l}=t;if(l)throw l;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await ek(async o=>(o>0&&await ZS(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(o,a)=>{const l=200*Math.pow(2,o);return a&&Hc(a)&&Date.now()+l-r<es})}catch(r){if(this._debug(t,"error",r),ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),tt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await dr(this.storage,this.storageKey);if(o&&this.userStorage){let l=await dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await ts(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Vc()}else if(o&&!o.user&&!o.user){const l=await dr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(o.user=l.user,await Fn(this.storage,this.storageKey+"-user"),await ts(this.storage,this.storageKey,o)):o.user=Vc()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Uc;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Uc}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),Hc(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(o.access_token);!u&&(l!=null&&l.user)?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Na;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Ht;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),ce(a)){const l={data:null,error:a};return Hc(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await ts(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const a=xg(o);await ts(this.storage,this.storageKey,a)}else{const o=xg(t);await ts(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Fn(this.storage,this.storageKey),await Fn(this.storage,this.storageKey+"-code-verifier"),await Fn(this.storage,this.storageKey+"-user"),this.userStorage&&await Fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),es);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${es}ms, refresh threshold is ${du} ticks`),o<=du&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Jr(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;return a?this._returnResult({data:null,error:a}):await ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?jk(e.webauthn.credential_response):Rk(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:h}=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Ok(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Pk(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Wc(r.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;return o?this._returnResult({data:null,error:o}):r?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Ht});const l=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&tt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Ht});const l=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&tt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(u=>u.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+$S>o)return r;const{data:a,error:l}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:w,error:b}=await this.getSession();if(b||!w.session)return this._returnResult({data:null,error:b});r=w.session.access_token}const{header:o,payload:a,signature:l,raw:{header:u,payload:h}}=Wc(r);t!=null&&t.allowExpired||ak(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!f){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:a,header:o,signature:l},error:null}}const g=lk(o.alg),y=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,l,YS(`${u}.${h}`)))throw new pu("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}}ki.nextInstanceID={};const zk=ki;class Bk extends zk{constructor(e){super(e)}}class Uk{constructor(e,t,r){var o,a,l;this.supabaseUrl=e,this.supabaseKey=t;const u=MS(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:TS,realtime:OS,auth:Object.assign(Object.assign({},CS),{storageKey:h}),global:ES},g=NS(r??{},f);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=RS(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Dx(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new xS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Rx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:a,storageKey:l,flowType:u,lock:h,debug:f,throwOnError:g},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bk({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:a,flowType:u,lock:h,debug:f,throwOnError:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Xx(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hk=(n,e,t)=>new Uk(n,e,t);function Wk(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Wk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vk="https://nylvcqjzczvfkjjbeoef.supabase.co",qk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55bHZjcWp6Y3p2ZmtqamJlb2VmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODI0NzgsImV4cCI6MjA3ODQ1ODQ3OH0.1UAbbef2icdl8SNsvDNdQUV_49J_BQLB0vfpOcK6r-8",qt=Hk(Vk,qk);class Kk{async getCurrentUser(){try{const{data:{user:e}}=await qt.auth.getUser();return e}catch(e){return console.error("Error getting current user:",e),null}}async signOut(){try{const{error:e}=await qt.auth.signOut();if(e)throw e;return!0}catch(e){throw console.error("Error signing out:",e),e}}getAuthStateChangeListener(e){return qt.auth.onAuthStateChange((t,r)=>{e(t,r)})}async fetchTasks(e){if(!e)return[];try{const{data:t,error:r}=await qt.from("tasks").select("*").eq("user_email",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){return console.error("Error fetching tasks:",t),[]}}async createTask(e,t){if(!t)throw new Error("User email required");try{const{data:r,error:o}=await qt.from("tasks").insert([{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate,due_time:e.dueTime,category:e.category,reminder_minutes:e.reminderMinutes,calendar_event_id:e.calendarEventId}]).select().single();if(o)throw o;return r}catch(r){throw console.error("Error creating task:",r),r}}async updateTask(e,t,r){if(!r)throw new Error("User email required");try{const{data:o,error:a}=await qt.from("tasks").update({text:t.text,completed:t.completed,priority:t.priority,due_date:t.dueDate,due_time:t.dueTime,category:t.category,reminder_minutes:t.reminderMinutes,calendar_event_id:t.calendarEventId}).eq("id",e).eq("user_email",r).select().single();if(a)throw a;return o}catch(o){throw console.error("Error updating task:",o),o}}async deleteTask(e,t){if(!t)throw new Error("User email required");try{const{error:r}=await qt.from("tasks").delete().eq("id",e).eq("user_email",t);if(r)throw r;return!0}catch(r){throw console.error("Error deleting task:",r),r}}async deleteCompletedTasks(e){if(!e)throw new Error("User email required");try{const{error:t}=await qt.from("tasks").delete().eq("user_email",e).eq("completed",!0);if(t)throw t;return!0}catch(t){throw console.error("Error deleting completed tasks:",t),t}}convertToAppFormat(e){return{id:e.id,text:e.text,completed:e.completed,priority:e.priority,dueDate:e.due_date,dueTime:e.due_time,category:e.category,reminderMinutes:e.reminder_minutes,calendarEventId:e.calendar_event_id}}convertToDbFormat(e,t){return{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate,due_time:e.dueTime,category:e.category,reminder_minutes:e.reminderMinutes,calendar_event_id:e.calendarEventId}}}const Dt=new Kk;function Yk({onSignInSuccess:n,onSwitchToSignUp:e,onSwitchToReset:t,onGuestMode:r}){const[o,a]=B.useState({email:"",password:""}),[l,u]=B.useState(""),[h,f]=B.useState(!1),g=()=>o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)?o.password?!0:(u("Please enter your password"),!1):(u("Please enter a valid email address"),!1):(u("Please enter your email"),!1),y=async w=>{if(w.preventDefault(),u(""),!!g()){f(!0);try{const{data:b,error:S}=await qt.auth.signInWithPassword({email:o.email,password:o.password});if(S)throw S;a({email:"",password:""}),n&&n(b.user)}catch(b){console.error("Error signing in:",b),b.message.includes("Email not confirmed")?u("Please verify your email before signing in. Check your inbox for the verification link."):b.message.includes("Invalid login credentials")?u("Invalid email or password. Please try again."):u(b.message||"Failed to sign in. Please try again.")}finally{f(!1)}}},v=w=>{a({...o,[w.target.name]:w.target.value}),u("")};return _.jsx("div",{className:"auth-overlay",children:_.jsx("div",{className:"auth-container",children:_.jsxs("div",{className:"auth-content",children:[_.jsx("h1",{className:"auth-title",children:"Welcome Back"}),_.jsx("p",{className:"auth-subtitle",children:"Sign in to access your tasks from anywhere"}),_.jsxs("form",{onSubmit:y,className:"auth-form",children:[_.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:o.email,onChange:v,disabled:h,autoFocus:!0}),_.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password",value:o.password,onChange:v,disabled:h}),l&&_.jsx("p",{className:"auth-error",children:l}),_.jsx("button",{type:"button",className:"forgot-password-link",onClick:t,disabled:h,children:"Forgot password?"}),_.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:h,children:h?"Signing In...":"Sign In"}),_.jsx("button",{type:"button",className:"auth-button guest-button",onClick:r,disabled:h,children:"Continue as Guest"})]}),_.jsx("div",{className:"auth-footer",children:_.jsxs("p",{className:"auth-switch",children:["Don't have an account?"," ",_.jsx("button",{className:"auth-link",onClick:e,disabled:h,children:"Sign Up"})]})})]})})})}function Gk({onSignUpSuccess:n,onSwitchToSignIn:e}){const[t,r]=B.useState({name:"",email:"",password:"",confirmPassword:""}),[o,a]=B.useState(""),[l,u]=B.useState(!1),[h,f]=B.useState(!1),g=()=>t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?t.password?t.password.length<6?(a("Password must be at least 6 characters"),!1):t.password!==t.confirmPassword?(a("Passwords do not match"),!1):!0:(a("Please enter a password"),!1):(a("Please enter a valid email address"),!1):(a("Please enter your email"),!1),y=async w=>{if(w.preventDefault(),a(""),!!g()){u(!0);try{const{error:b}=await qt.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name||t.email.split("@")[0]},emailRedirectTo:`${window.location.origin}/react-todo-app`}});if(b)throw b;f(!0),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{n&&n()},3e3)}catch(b){console.error("Error signing up:",b),a(b.message||"Failed to sign up. Please try again.")}finally{u(!1)}}},v=w=>{r({...t,[w.target.name]:w.target.value}),a("")};return h?_.jsx("div",{className:"auth-overlay",children:_.jsx("div",{className:"auth-container",children:_.jsx("div",{className:"auth-content",children:_.jsxs("div",{className:"verification-success",children:[_.jsx("div",{className:"success-icon",children:""}),_.jsx("h2",{className:"auth-title",children:"Check Your Email"}),_.jsxs("p",{className:"verification-message",children:["We've sent a verification link to ",_.jsx("strong",{children:t.email})]}),_.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to verify your account and start using the app."}),_.jsx("button",{className:"auth-button secondary-button",onClick:e,children:"Back to Sign In"})]})})})}):_.jsx("div",{className:"auth-overlay",children:_.jsx("div",{className:"auth-container",children:_.jsxs("div",{className:"auth-content",children:[_.jsx("h1",{className:"auth-title",children:"Create Account"}),_.jsx("p",{className:"auth-subtitle",children:"Sign up to sync your tasks across all devices"}),_.jsxs("form",{onSubmit:y,className:"auth-form",children:[_.jsx("input",{type:"text",name:"name",className:"auth-input",placeholder:"Your name (optional)",value:t.name,onChange:v,disabled:l}),_.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:t.email,onChange:v,disabled:l,autoFocus:!0}),_.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password (min 6 characters)",value:t.password,onChange:v,disabled:l}),_.jsx("input",{type:"password",name:"confirmPassword",className:"auth-input",placeholder:"Confirm password",value:t.confirmPassword,onChange:v,disabled:l}),o&&_.jsx("p",{className:"auth-error",children:o}),_.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:l,children:l?"Creating Account...":"Sign Up"})]}),_.jsx("div",{className:"auth-footer",children:_.jsxs("p",{className:"auth-switch",children:["Already have an account?"," ",_.jsx("button",{className:"auth-link",onClick:e,disabled:l,children:"Sign In"})]})}),_.jsx("p",{className:"auth-privacy-note",children:"By signing up, you agree to receive verification emails. We don't send spam or share your data."})]})})})}function Jk({onBackToSignIn:n}){const[e,t]=B.useState(""),[r,o]=B.useState(""),[a,l]=B.useState(!1),[u,h]=B.useState(!1),f=()=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!0:(o("Please enter a valid email address"),!1):(o("Please enter your email"),!1),g=async y=>{if(y.preventDefault(),o(""),!!f()){l(!0);try{const{error:v}=await qt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/react-todo-app`});if(v)throw v;h(!0),t("")}catch(v){console.error("Error sending reset email:",v),o(v.message||"Failed to send reset email. Please try again.")}finally{l(!1)}}};return u?_.jsx("div",{className:"auth-overlay",children:_.jsx("div",{className:"auth-container",children:_.jsx("div",{className:"auth-content",children:_.jsxs("div",{className:"verification-success",children:[_.jsx("div",{className:"success-icon",children:""}),_.jsx("h2",{className:"auth-title",children:"Check Your Email"}),_.jsx("p",{className:"verification-message",children:"We've sent a password reset link to your email."}),_.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to reset your password."}),_.jsx("button",{className:"auth-button secondary-button",onClick:n,children:"Back to Sign In"})]})})})}):_.jsx("div",{className:"auth-overlay",children:_.jsx("div",{className:"auth-container",children:_.jsxs("div",{className:"auth-content",children:[_.jsx("h1",{className:"auth-title",children:"Reset Password"}),_.jsx("p",{className:"auth-subtitle",children:"Enter your email and we'll send you a link to reset your password"}),_.jsxs("form",{onSubmit:g,className:"auth-form",children:[_.jsx("input",{type:"email",className:"auth-input",placeholder:"your@email.com",value:e,onChange:y=>{t(y.target.value),o("")},disabled:a,autoFocus:!0}),r&&_.jsx("p",{className:"auth-error",children:r}),_.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),_.jsx("div",{className:"auth-footer",children:_.jsxs("p",{className:"auth-switch",children:["Remember your password?"," ",_.jsx("button",{className:"auth-link",onClick:n,disabled:a,children:"Sign In"})]})})]})})})}function Pg({addTask:n}){const[e,t]=B.useState(!0),r=[{text:"Drink water",category:"Hydration",priority:"low",icon:""},{text:"Make coffee",category:"Food",priority:"low",icon:""},{text:"Cook meal",category:"Food",priority:"medium",icon:""},{text:"Meal prep",category:"Food",priority:"medium",icon:""},{text:"Exercise",category:"Health",priority:"medium",icon:""},{text:"Meditate",category:"Health",priority:"low",icon:""},{text:"Take vitamins",category:"Health",priority:"low",icon:""},{text:"Code for 1 hour",category:"Coding",priority:"high",icon:""},{text:"Pray",category:"Personal",priority:"medium",icon:""},{text:"Read for 30 min",category:"Personal",priority:"low",icon:""},{text:"Journal",category:"Personal",priority:"low",icon:""},{text:"Clean room",category:"Home",priority:"medium",icon:""},{text:"Do laundry",category:"Home",priority:"low",icon:""},{text:"Study",category:"Education",priority:"high",icon:""}],o=()=>{const l=new Date,u=l.getFullYear(),h=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");return`${u}-${h}-${f}`},a=l=>{n({text:`${l.icon} ${l.text}`,priority:l.priority,category:l.category,dueDate:o(),dueTime:"",reminderMinutes:null})};return _.jsxs("div",{className:"quick-add-section",children:[_.jsxs("div",{className:"quick-add-header",children:[_.jsxs("h3",{className:"quick-add-title",children:[_.jsx("span",{className:"quick-add-icon",children:""}),"Quick Add"]}),_.jsx("button",{type:"button",className:"quick-add-toggle",onClick:()=>t(!e),children:e?"":""})]}),e&&_.jsx("div",{className:"quick-add-grid",children:r.map((l,u)=>_.jsxs("button",{type:"button",className:`quick-add-task priority-${l.priority}`,onClick:()=>a(l),children:[_.jsx("span",{className:"quick-task-icon",children:l.icon}),_.jsx("span",{className:"quick-task-text",children:l.text})]},u))})]})}function Qk(){const[n,e]=B.useState(1500),[t,r]=B.useState(!1),[o,a]=B.useState("work"),[l,u]=B.useState(0),[h,f]=B.useState(!1),[g,y]=B.useState(25),[v,w]=B.useState(5),[b,S]=B.useState(15),k=B.useRef(null),C=B.useRef(null);B.useEffect(()=>{C.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYGGGm98OScTQwOUKzn77RnHAU0jdXzzn0vBSh+zPLaizsIGGS57OihUBELTKXh8bllHQYuhM/z1YU2BhVns+znm08MClCq5O+zaBwGM4rT8s+AMAYnfcvx2Ik5BxdlvO7mnE4LDE6k4PG2ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6Fz/PWhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTKPg8bdlHAUuhdDz1YU2BhVos+vkl1AMCk+m4/C0ZhwGMonS89CDMAcmfMvx2Ik5BxdlvO7mnU4LDE2j4PG3ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6Fz/PWhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTKPg8bdlHAUuhdDz1YU2BhVos+vkl1AMCk+m4/C0ZhwFMonS89CDMAcmfMvx2Ik5BxdlvO7mnU4LDE2j4PG3ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6F0PPVhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTKPg8bdlHAUuhdDz1YU2BhVos+vkl1AMCk+m4/C0ZhwFMonS89CDMAcmfMvx2Ik5BxdlvO7mnU4LDE2j4PG3ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6F0PPVhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTaPg8bdlHAVDV9")},[]),B.useEffect(()=>(t&&n>0?k.current=setInterval(()=>{e(z=>z-1)},1e3):n===0&&P(),()=>{k.current&&clearInterval(k.current)}),[t,n]);const P=()=>{if(r(!1),C.current&&C.current.play().catch(z=>console.log("Audio play failed:",z)),"Notification"in window&&Notification.permission==="granted"){const z=o==="work"?"Work session complete! Time for a break.":"Break time over! Ready to focus?";new Notification("Pomodoro Timer",{body:z})}if(o==="work"){u(J=>J+1);const z=(l+1)%4===0?"longBreak":"shortBreak";R(z)}else R("work")},R=z=>{switch(a(z),r(!1),z){case"work":e(g*60);break;case"shortBreak":e(v*60);break;case"longBreak":e(b*60);break}},N=()=>{r(!t)},I=()=>{switch(r(!1),o){case"work":e(g*60);break;case"shortBreak":e(v*60);break;case"longBreak":e(b*60);break}},$=z=>{const J=Math.floor(z/60),ee=z%60;return`${J.toString().padStart(2,"0")}:${ee.toString().padStart(2,"0")}`},L=()=>{const z=o==="work"?g*60:o==="shortBreak"?v*60:b*60;return(z-n)/z*100},W=()=>{switch(o){case"work":return"#73ABFF";case"shortBreak":return"#34C759";case"longBreak":return"#FF9500";default:return"#73ABFF"}},D=()=>{switch(o){case"work":return"Focus Time";case"shortBreak":return"Short Break";case"longBreak":return"Long Break";default:return"Focus Time"}};return _.jsxs("div",{className:"pomodoro-timer",children:[_.jsxs("div",{className:"pomodoro-header",children:[_.jsxs("h3",{className:"pomodoro-title",children:[_.jsx("span",{className:"pomodoro-icon",children:""}),"Pomodoro"]}),_.jsx("button",{className:"pomodoro-settings-btn",onClick:()=>f(!h),title:"Settings",children:""})]}),h?_.jsxs("div",{className:"pomodoro-settings",children:[_.jsxs("div",{className:"setting-group",children:[_.jsx("label",{children:"Work Duration (min)"}),_.jsx("input",{type:"number",min:"1",max:"60",value:g,onChange:z=>y(Number(z.target.value))})]}),_.jsxs("div",{className:"setting-group",children:[_.jsx("label",{children:"Short Break (min)"}),_.jsx("input",{type:"number",min:"1",max:"30",value:v,onChange:z=>w(Number(z.target.value))})]}),_.jsxs("div",{className:"setting-group",children:[_.jsx("label",{children:"Long Break (min)"}),_.jsx("input",{type:"number",min:"1",max:"60",value:b,onChange:z=>S(Number(z.target.value))})]}),_.jsx("button",{className:"settings-close-btn",onClick:()=>f(!1),children:"Done"})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"pomodoro-mode",style:{color:W()},children:D()}),_.jsx("div",{className:"pomodoro-display",children:_.jsxs("svg",{className:"progress-ring",width:"200",height:"200",children:[_.jsx("circle",{className:"progress-ring-circle-bg",stroke:"#e0e0e0",strokeWidth:"8",fill:"transparent",r:"90",cx:"100",cy:"100"}),_.jsx("circle",{className:"progress-ring-circle",stroke:W(),strokeWidth:"8",fill:"transparent",r:"90",cx:"100",cy:"100",style:{strokeDasharray:`${2*Math.PI*90}`,strokeDashoffset:`${2*Math.PI*90*(1-L()/100)}`,transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.3s ease"}}),_.jsx("text",{x:"100",y:"100",textAnchor:"middle",dy:".3em",className:"timer-text",children:$(n)})]})}),_.jsxs("div",{className:"pomodoro-controls",children:[_.jsx("button",{className:`pomodoro-btn ${t?"pause":"start"}`,onClick:N,children:t?" Pause":" Start"}),_.jsx("button",{className:"pomodoro-btn reset",onClick:I,children:" Reset"})]}),_.jsxs("div",{className:"pomodoro-mode-selector",children:[_.jsx("button",{className:`mode-btn ${o==="work"?"active":""}`,onClick:()=>R("work"),children:"Work"}),_.jsx("button",{className:`mode-btn ${o==="shortBreak"?"active":""}`,onClick:()=>R("shortBreak"),children:"Short Break"}),_.jsx("button",{className:`mode-btn ${o==="longBreak"?"active":""}`,onClick:()=>R("longBreak"),children:"Long Break"})]}),_.jsxs("div",{className:"pomodoro-sessions",children:[_.jsx("div",{className:"sessions-label",children:"Sessions Today"}),_.jsxs("div",{className:"sessions-count",children:[Array.from({length:Math.min(l,8)},(z,J)=>_.jsx("span",{className:"session-dot",children:""},J)),l>8&&_.jsxs("span",{className:"session-more",children:["+",l-8]})]}),_.jsxs("div",{className:"sessions-total",children:[l," completed"]})]})]})]})}function Xk({activeView:n,onViewChange:e,userName:t,onSignOut:r,darkMode:o,onToggleDarkMode:a}){const l=[{id:"today",icon:"",label:"Today"},{id:"tasks",icon:"",label:"All Tasks"},{id:"dashboard",icon:"",label:"Dashboard"},{id:"pomodoro",icon:"",label:"Pomodoro"}];return _.jsxs("div",{className:"sidebar",children:[_.jsx("div",{className:"sidebar-header",children:_.jsxs("h2",{className:"sidebar-logo",children:[_.jsx("span",{className:"logo-icon",children:""}),"Zentask"]})}),_.jsx("nav",{className:"sidebar-nav",children:l.map(u=>_.jsxs("button",{className:`sidebar-nav-item ${n===u.id?"active":""}`,onClick:()=>e(u.id),children:[_.jsx("span",{className:"nav-icon",children:u.icon}),_.jsx("span",{className:"nav-label",children:u.label})]},u.id))}),_.jsxs("div",{className:"sidebar-footer",children:[_.jsxs("div",{className:"sidebar-user",children:[_.jsx("span",{className:"sidebar-avatar",children:t.charAt(0).toUpperCase()}),_.jsx("span",{className:"sidebar-username",children:t})]}),_.jsxs("div",{className:"sidebar-controls",children:[_.jsx("button",{className:"sidebar-control-btn",onClick:a,title:o?"Light Mode":"Dark Mode",children:o?"":""}),_.jsx("button",{className:"sidebar-control-btn",onClick:r,title:"Sign Out",children:""})]})]})]})}function Zk(){const[n,e]=B.useState([]),[t,r]=B.useState("all"),[o,a]=B.useState(""),[l,u]=B.useState(!1),[h,f]=B.useState("today"),[g,y]=B.useState("default"),[v,w]=B.useState(!1),[b,S]=B.useState("signin"),[k,C]=B.useState(null),[P,R]=B.useState(!0),[N,I]=B.useState(""),[$,L]=B.useState(""),[W,D]=B.useState(!1),z=B.useRef(new Set);B.useEffect(()=>{"Notification"in window&&(y(Notification.permission),Notification.permission==="default"&&Notification.requestPermission().then(U=>{y(U)}))},[]),B.useEffect(()=>{if(localStorage.getItem("guestMode")==="true"){D(!0),I("Guest"),R(!1);const ne=localStorage.getItem("guestTasks");ne&&e(JSON.parse(ne));return}Dt.getCurrentUser().then(ne=>{var se;ne&&(C(ne),L(ne.email),I(((se=ne.user_metadata)==null?void 0:se.name)||ne.email.split("@")[0])),R(!1)});const{data:Q}=Dt.getAuthStateChangeListener((ne,se)=>{var pe;ne==="SIGNED_IN"&&(se!=null&&se.user)?(C(se.user),L(se.user.email),I(((pe=se.user.user_metadata)==null?void 0:pe.name)||se.user.email.split("@")[0])):ne==="SIGNED_OUT"&&(C(null),L(""),I(""),e([]))});return()=>{Q!=null&&Q.subscription&&Q.subscription.unsubscribe()}},[]),B.useEffect(()=>{(async()=>{const Q=localStorage.getItem("darkMode");Q&&u(JSON.parse(Q)),k&&(localStorage.getItem(`hasCompletedOnboarding_${k.id}`)||w(!0))})()},[k]),B.useEffect(()=>{(async()=>{if($){const ne=(await Dt.fetchTasks($)).map(se=>Dt.convertToAppFormat(se));e(ne)}})()},[$]),B.useEffect(()=>{W&&localStorage.setItem("guestTasks",JSON.stringify(n))},[n,W]),B.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(l))},[l]),B.useEffect(()=>{const U=()=>{const ne=new Date;n.forEach(se=>{if(se.completed||!se.dueDate||!se.reminderMinutes)return;const pe=`${se.id}-${se.reminderMinutes}`;if(z.current.has(pe))return;const[xe,fs,_n]=se.dueDate.split("-").map(Number),wn=new Date(xe,fs-1,_n);if(se.dueTime){const[ps,Ci]=se.dueTime.split(":");wn.setHours(parseInt(ps),parseInt(Ci),0,0)}else wn.setHours(23,59,59,999);const Yn=new Date(wn.getTime()-se.reminderMinutes*60*1e3);ne>=Yn&&ne<new Date(Yn.getTime()+6e4)&&(J(se),z.current.add(pe))})};U();const Q=setInterval(U,6e4);return()=>clearInterval(Q)},[n,g]);const J=U=>{if(g==="granted"){const Q=new Notification("Task Reminder",{body:`${U.text}${U.dueTime?` at ${U.dueTime}`:""}`,icon:"",badge:"",tag:`task-${U.id}`,requireInteraction:!0});Q.onclick=()=>{window.focus(),Q.close()}}},ee=(U,Q)=>{if(!Q||!U)return null;const[ne,se,pe]=U.split("-").map(Number),xe=new Date(ne,se-1,pe);switch(Q){case"daily":xe.setDate(xe.getDate()+1);break;case"weekly":xe.setDate(xe.getDate()+7);break;case"biweekly":xe.setDate(xe.getDate()+14);break;case"monthly":xe.setMonth(xe.getMonth()+1);break;case"yearly":xe.setFullYear(xe.getFullYear()+1);break;default:return null}const fs=xe.getFullYear(),_n=String(xe.getMonth()+1).padStart(2,"0"),wn=String(xe.getDate()).padStart(2,"0");return`${fs}-${_n}-${wn}`},he=async U=>{const Q={id:Date.now(),text:U.text,completed:!1,priority:U.priority||"medium",dueDate:U.dueDate||"",dueTime:U.dueTime||"",category:U.category||"",reminderMinutes:U.reminderMinutes||null,recurrence:U.recurrence||null};if($)try{await Dt.createTask(Q,$)}catch(ne){console.error("Failed to save task to Supabase:",ne)}e([Q,...n])},be=async U=>{const Q=n.find(se=>se.id===U);if(!Q)return;const ne={...Q,completed:!Q.completed};if(!Q.completed&&Q.recurrence&&ne.completed){const se=ee(Q.dueDate,Q.recurrence);if(se){const pe={id:Date.now()+1,text:Q.text,completed:!1,priority:Q.priority,dueDate:se,dueTime:Q.dueTime,category:Q.category,reminderMinutes:Q.reminderMinutes,recurrence:Q.recurrence};if($)try{await Dt.createTask(pe,$)}catch(xe){console.error("Failed to create recurring task in Supabase:",xe)}if(e([...n.map(xe=>xe.id===U?ne:xe),pe]),$)try{await Dt.updateTask(U,ne,$)}catch(xe){console.error("Failed to update task in Supabase:",xe)}return}}if($)try{await Dt.updateTask(U,ne,$)}catch(se){console.error("Failed to update task in Supabase:",se)}e(n.map(se=>se.id===U?ne:se))},me=async U=>{if($)try{await Dt.deleteTask(U,$)}catch(Q){console.error("Failed to delete task from Supabase:",Q)}e(n.filter(Q=>Q.id!==U))},we=async(U,Q)=>{const se={...n.find(pe=>pe.id===U),...Q};if($)try{await Dt.updateTask(U,se,$)}catch(pe){console.error("Failed to update task in Supabase:",pe)}e(n.map(pe=>pe.id===U?se:pe))},ye=async()=>{if($)try{await Dt.deleteCompletedTasks($)}catch(U){console.error("Failed to delete completed tasks from Supabase:",U)}e(n.filter(U=>!U.completed))},G=()=>{k&&localStorage.setItem(`hasCompletedOnboarding_${k.id}`,"true"),w(!1)},te=async()=>{if(W){localStorage.removeItem("guestMode"),localStorage.removeItem("guestTasks"),D(!1),I(""),e([]);return}try{await Dt.signOut()}catch(U){console.error("Error signing out:",U)}},T=()=>{localStorage.setItem("guestMode","true"),D(!0),I("Guest"),R(!1);const U=localStorage.getItem("guestTasks");U&&e(JSON.parse(U))},ie=(()=>{let U=n;switch(t){case"active":U=U.filter(Q=>!Q.completed);break;case"completed":U=U.filter(Q=>Q.completed);break}return o.trim()&&(U=U.filter(Q=>Q.text.toLowerCase().includes(o.toLowerCase())||Q.category&&Q.category.toLowerCase().includes(o.toLowerCase()))),U})(),_e=n.filter(U=>!U.completed).length;return P?_.jsx("div",{className:`todo-app ${l?"dark-mode":""}`,children:_.jsxs("div",{className:"auth-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading..."})]})}):!k&&!W?b==="signup"?_.jsx(Gk,{onSignUpSuccess:()=>S("signin"),onSwitchToSignIn:()=>S("signin")}):b==="reset"?_.jsx(Jk,{onBackToSignIn:()=>S("signin")}):_.jsx(Yk,{onSignInSuccess:()=>{},onSwitchToSignUp:()=>S("signup"),onSwitchToReset:()=>S("reset"),onGuestMode:T}):_.jsxs("div",{className:`todo-app ${l?"dark-mode":""}`,children:[v&&_.jsx(Sx,{onComplete:G,addTask:he}),_.jsxs("div",{className:"app-layout",children:[_.jsx(Xk,{activeView:h,onViewChange:f,userName:N,onSignOut:te,darkMode:l,onToggleDarkMode:()=>u(!l)}),_.jsxs("div",{className:"main-content",children:[h!=="today"&&h!=="pomodoro"&&_.jsx(kx,{userName:N}),h==="today"?_.jsxs(_.Fragment,{children:[_.jsx(Pg,{addTask:he}),_.jsx(Uf,{addTask:he}),_.jsx(xx,{tasks:n,toggleComplete:be,deleteTask:me,editTask:we})]}):h==="tasks"?_.jsxs(_.Fragment,{children:[_.jsx(Pg,{addTask:he}),_.jsx(Uf,{addTask:he}),_.jsx("div",{className:"search-filter-container",children:_.jsx("input",{type:"text",className:"search-input",placeholder:"Search tasks...",value:o,onChange:U=>a(U.target.value)})}),_.jsxs("div",{className:"filter-buttons",children:[_.jsx("button",{className:t==="all"?"filter-btn active":"filter-btn",onClick:()=>r("all"),children:"All"}),_.jsx("button",{className:t==="active"?"filter-btn active":"filter-btn",onClick:()=>r("active"),children:"Active"}),_.jsx("button",{className:t==="completed"?"filter-btn active":"filter-btn",onClick:()=>r("completed"),children:"Completed"})]}),_.jsx("div",{className:"todo-list",children:ie.length===0?_.jsx("p",{className:"empty-state",children:o?"No tasks match your search.":t==="completed"?"No completed tasks yet!":t==="active"?"No active tasks! Add one above.":"No tasks yet! Add your first task above."}):ie.map(U=>_.jsx(aa,{task:U,toggleComplete:be,deleteTask:me,editTask:we},U.id))}),n.length>0&&_.jsxs("div",{className:"todo-footer",children:[_.jsxs("span",{className:"task-count",children:[_e," ",_e===1?"task":"tasks"," remaining"]}),n.some(U=>U.completed)&&_.jsx("button",{className:"clear-completed",onClick:ye,children:"Clear Completed"})]})]}):h==="pomodoro"?_.jsx(Qk,{}):_.jsx(bx,{tasks:n})]})]})]})}k0.render(_.jsx(v0.StrictMode,{children:_.jsx(Zk,{})}),document.getElementById("root"));
