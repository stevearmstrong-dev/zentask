var l0=Object.defineProperty;var u0=(n,e,t)=>e in n?l0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ce=(n,e,t)=>u0(n,typeof e!="symbol"?e+"":e,t);function c0(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function fc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function h0(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var _u={exports:{}},Qi={},wu={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df;function d0(){if(Df)return ve;Df=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function k(E,D,q){this.props=E,this.context=D,this.refs=S,this.updater=q||_}k.prototype.isReactComponent={},k.prototype.setState=function(E,D){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,D,"setState")},k.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function C(){}C.prototype=k.prototype;function R(E,D,q){this.props=E,this.context=D,this.refs=S,this.updater=q||_}var j=R.prototype=new C;j.constructor=R,b(j,k.prototype),j.isPureReactComponent=!0;var M=Array.isArray,F=Object.prototype.hasOwnProperty,$={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function K(E,D,q){var te,oe={},we=null,ye=null;if(D!=null)for(te in D.ref!==void 0&&(ye=D.ref),D.key!==void 0&&(we=""+D.key),D)F.call(D,te)&&!B.hasOwnProperty(te)&&(oe[te]=D[te]);var Te=arguments.length-2;if(Te===1)oe.children=q;else if(1<Te){for(var be=Array(Te),Ze=0;Ze<Te;Ze++)be[Ze]=arguments[Ze+2];oe.children=be}if(E&&E.defaultProps)for(te in Te=E.defaultProps,Te)oe[te]===void 0&&(oe[te]=Te[te]);return{$$typeof:n,type:E,key:we,ref:ye,props:oe,_owner:$.current}}function L(E,D){return{$$typeof:n,type:E.type,key:D,ref:E.ref,props:E.props,_owner:E._owner}}function Y(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function ee(E){var D={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(q){return D[q]})}var ne=/\/+/g;function de(E,D){return typeof E=="object"&&E!==null&&E.key!=null?ee(""+E.key):D.toString(36)}function _e(E,D,q,te,oe){var we=typeof E;(we==="undefined"||we==="boolean")&&(E=null);var ye=!1;if(E===null)ye=!0;else switch(we){case"string":case"number":ye=!0;break;case"object":switch(E.$$typeof){case n:case e:ye=!0}}if(ye)return ye=E,oe=oe(ye),E=te===""?"."+de(ye,0):te,M(oe)?(q="",E!=null&&(q=E.replace(ne,"$&/")+"/"),_e(oe,D,q,"",function(Ze){return Ze})):oe!=null&&(Y(oe)&&(oe=L(oe,q+(!oe.key||ye&&ye.key===oe.key?"":(""+oe.key).replace(ne,"$&/")+"/")+E)),D.push(oe)),1;if(ye=0,te=te===""?".":te+":",M(E))for(var Te=0;Te<E.length;Te++){we=E[Te];var be=te+de(we,Te);ye+=_e(we,D,q,be,oe)}else if(be=v(E),typeof be=="function")for(E=be.call(E),Te=0;!(we=E.next()).done;)we=we.value,be=te+de(we,Te++),ye+=_e(we,D,q,be,oe);else if(we==="object")throw D=String(E),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ye}function pe(E,D,q){if(E==null)return E;var te=[],oe=0;return _e(E,te,"","",function(we){return D.call(q,we,oe++)}),te}function me(E){if(E._status===-1){var D=E._result;D=D(),D.then(function(q){(E._status===0||E._status===-1)&&(E._status=1,E._result=q)},function(q){(E._status===0||E._status===-1)&&(E._status=2,E._result=q)}),E._status===-1&&(E._status=0,E._result=D)}if(E._status===1)return E._result.default;throw E._result}var ge={current:null},V={transition:null},Q={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:V,ReactCurrentOwner:$};return ve.Children={map:pe,forEach:function(E,D,q){pe(E,function(){D.apply(this,arguments)},q)},count:function(E){var D=0;return pe(E,function(){D++}),D},toArray:function(E){return pe(E,function(D){return D})||[]},only:function(E){if(!Y(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ve.Component=k,ve.Fragment=t,ve.Profiler=o,ve.PureComponent=R,ve.StrictMode=r,ve.Suspense=d,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,ve.cloneElement=function(E,D,q){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var te=b({},E.props),oe=E.key,we=E.ref,ye=E._owner;if(D!=null){if(D.ref!==void 0&&(we=D.ref,ye=$.current),D.key!==void 0&&(oe=""+D.key),E.type&&E.type.defaultProps)var Te=E.type.defaultProps;for(be in D)F.call(D,be)&&!B.hasOwnProperty(be)&&(te[be]=D[be]===void 0&&Te!==void 0?Te[be]:D[be])}var be=arguments.length-2;if(be===1)te.children=q;else if(1<be){Te=Array(be);for(var Ze=0;Ze<be;Ze++)Te[Ze]=arguments[Ze+2];te.children=Te}return{$$typeof:n,type:E.type,key:oe,ref:we,props:te,_owner:ye}},ve.createContext=function(E){return E={$$typeof:l,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:a,_context:E},E.Consumer=E},ve.createElement=K,ve.createFactory=function(E){var D=K.bind(null,E);return D.type=E,D},ve.createRef=function(){return{current:null}},ve.forwardRef=function(E){return{$$typeof:c,render:E}},ve.isValidElement=Y,ve.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:me}},ve.memo=function(E,D){return{$$typeof:f,type:E,compare:D===void 0?null:D}},ve.startTransition=function(E){var D=V.transition;V.transition={};try{E()}finally{V.transition=D}},ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ve.useCallback=function(E,D){return ge.current.useCallback(E,D)},ve.useContext=function(E){return ge.current.useContext(E)},ve.useDebugValue=function(){},ve.useDeferredValue=function(E){return ge.current.useDeferredValue(E)},ve.useEffect=function(E,D){return ge.current.useEffect(E,D)},ve.useId=function(){return ge.current.useId()},ve.useImperativeHandle=function(E,D,q){return ge.current.useImperativeHandle(E,D,q)},ve.useInsertionEffect=function(E,D){return ge.current.useInsertionEffect(E,D)},ve.useLayoutEffect=function(E,D){return ge.current.useLayoutEffect(E,D)},ve.useMemo=function(E,D){return ge.current.useMemo(E,D)},ve.useReducer=function(E,D,q){return ge.current.useReducer(E,D,q)},ve.useRef=function(E){return ge.current.useRef(E)},ve.useState=function(E){return ge.current.useState(E)},ve.useSyncExternalStore=function(E,D,q){return ge.current.useSyncExternalStore(E,D,q)},ve.useTransition=function(){return ge.current.useTransition()},ve.version="18.0.0-fc46dba67-20220329",ve}var Mf;function pc(){return Mf||(Mf=1,wu.exports=d0()),wu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function f0(){if(If)return Qi;If=1;var n=pc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var g,y={},v=null,_=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(_=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:v,ref:_,props:y,_owner:o.current}}return Qi.Fragment=t,Qi.jsx=l,Qi.jsxs=l,Qi}var Lf;function p0(){return Lf||(Lf=1,_u.exports=f0()),_u.exports}var x=p0(),X=pc();const g0=fc(X);var bu={exports:{}},yt={},xu={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function m0(){return Ff||(Ff=1,(function(n){function e(V,Q){var E=V.length;V.push(Q);e:for(;0<E;){var D=E-1>>>1,q=V[D];if(0<o(q,Q))V[D]=Q,V[E]=q,E=D;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],E=V.pop();if(E!==Q){V[0]=E;e:for(var D=0,q=V.length,te=q>>>1;D<te;){var oe=2*(D+1)-1,we=V[oe],ye=oe+1,Te=V[ye];if(0>o(we,E))ye<q&&0>o(Te,we)?(V[D]=Te,V[ye]=E,D=ye):(V[D]=we,V[oe]=E,D=oe);else if(ye<q&&0>o(Te,E))V[D]=Te,V[ye]=E,D=ye;else break e}}return Q}function o(V,Q){var E=V.sortIndex-Q.sortIndex;return E!==0?E:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],g=1,y=null,v=3,_=!1,b=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(V){for(var Q=t(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=V)r(f),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=t(f)}}function M(V){if(S=!1,j(V),!b)if(t(d)!==null)b=!0,me(F);else{var Q=t(f);Q!==null&&ge(M,Q.startTime-V)}}function F(V,Q){b=!1,S&&(S=!1,C(K),K=-1),_=!0;var E=v;try{for(j(Q),y=t(d);y!==null&&(!(y.expirationTime>Q)||V&&!ee());){var D=y.callback;if(typeof D=="function"){y.callback=null,v=y.priorityLevel;var q=D(y.expirationTime<=Q);Q=n.unstable_now(),typeof q=="function"?y.callback=q:y===t(d)&&r(d),j(Q)}else r(d);y=t(d)}if(y!==null)var te=!0;else{var oe=t(f);oe!==null&&ge(M,oe.startTime-Q),te=!1}return te}finally{y=null,v=E,_=!1}}var $=!1,B=null,K=-1,L=5,Y=-1;function ee(){return!(n.unstable_now()-Y<L)}function ne(){if(B!==null){var V=n.unstable_now();Y=V;var Q=!0;try{Q=B(!0,V)}finally{Q?de():($=!1,B=null)}}else $=!1}var de;if(typeof R=="function")de=function(){R(ne)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,pe=_e.port2;_e.port1.onmessage=ne,de=function(){pe.postMessage(null)}}else de=function(){k(ne,0)};function me(V){B=V,$||($=!0,de())}function ge(V,Q){K=k(function(){V(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){b||_||(b=!0,me(F))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(V){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var E=v;v=Q;try{return V()}finally{v=E}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var E=v;v=V;try{return Q()}finally{v=E}},n.unstable_scheduleCallback=function(V,Q,E){var D=n.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?D+E:D):E=D,V){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=E+q,V={id:g++,callback:Q,priorityLevel:V,startTime:E,expirationTime:q,sortIndex:-1},E>D?(V.sortIndex=E,e(f,V),t(d)===null&&V===t(f)&&(S?(C(K),K=-1):S=!0,ge(M,E-D))):(V.sortIndex=q,e(d,V),b||_||(b=!0,me(F))),V},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function(V){var Q=v;return function(){var E=v;v=Q;try{return V.apply(this,arguments)}finally{v=E}}}})(Su)),Su}var $f;function y0(){return $f||($f=1,xu.exports=m0()),xu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function v0(){if(zf)return yt;zf=1;var n=pc(),e=y0();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(i){return d.call(y,i)?!0:d.call(g,i)?!1:f.test(i)?y[i]=!0:(g[i]=!0,!1)}function _(i,s,u,h){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,s,u,h){if(s===null||typeof s>"u"||_(i,s,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(i,s,u,h,p,m,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=m,this.removeEmptyString=w}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];k[s]=new S(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(C,R);k[s]=new S(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(C,R);k[s]=new S(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(C,R);k[s]=new S(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,s,u,h){var p=k.hasOwnProperty(s)?k[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,u,p,h)&&(u=null),h||p===null?v(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):p.mustUseProperty?i[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,h=p.attributeNamespace,u===null?i.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,h?i.setAttributeNS(h,s,u):i.setAttribute(s,u))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),$=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ee=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),V=Symbol.iterator;function Q(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var E=Object.assign,D;function q(i){if(D===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+i}var te=!1;function oe(i,s){if(!i||te)return"";te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(I){var h=I}Reflect.construct(i,[],s)}else{try{s.call()}catch(I){h=I}i.call(s.prototype)}else{try{throw Error()}catch(I){h=I}i()}}catch(I){if(I&&h&&typeof I.stack=="string"){for(var p=I.stack.split(`
`),m=h.stack.split(`
`),w=p.length-1,T=m.length-1;1<=w&&0<=T&&p[w]!==m[T];)T--;for(;1<=w&&0<=T;w--,T--)if(p[w]!==m[T]){if(w!==1||T!==1)do if(w--,T--,0>T||p[w]!==m[T]){var O=`
`+p[w].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=w&&0<=T);break}}}finally{te=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?q(i):""}function we(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=oe(i.type,!1),i;case 11:return i=oe(i.type.render,!1),i;case 1:return i=oe(i.type,!0),i;default:return""}}function ye(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case $:return"Portal";case L:return"Profiler";case K:return"StrictMode";case de:return"Suspense";case _e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ee:return(i.displayName||"Context")+".Consumer";case Y:return(i._context.displayName||"Context")+".Provider";case ne:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case pe:return s=i.displayName||null,s!==null?s:ye(i.type)||"Memo";case me:s=i._payload,i=i._init;try{return ye(i(s))}catch{}}return null}function Te(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(s);case 8:return s===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ze(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ra(i){var s=Ze(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,m=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){h=""+w,m.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function _r(i){i._valueTracker||(i._valueTracker=Ra(i))}function Uc(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=Ze(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function Ss(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ja(i,s){var u=s.checked;return E({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Bc(i,s){var u=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;u=be(s.value!=null?s.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Wc(i,s){s=s.checked,s!=null&&j(i,"checked",s,!1)}function Aa(i,s){Wc(i,s);var u=be(s.value),h=s.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Na(i,s.type,u):s.hasOwnProperty("defaultValue")&&Na(i,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Hc(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Na(i,s,u){(s!=="number"||Ss(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var hi=Array.isArray;function wr(i,s,u,h){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&h&&(i[u].defaultSelected=!0)}else{for(u=""+be(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Da(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return E({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Vc(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(hi(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:be(u)}}function qc(i,s){var u=be(s.value),h=be(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function Kc(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Yc(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Yc(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ks,Gc=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,u,h,p)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ks.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function di(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dy=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(i){dy.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),fi[s]=fi[i]})});function Jc(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||fi.hasOwnProperty(i)&&fi[i]?(""+s).trim():s+"px"}function Qc(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var h=u.indexOf("--")===0,p=Jc(u,s[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,p):i[u]=p}}var fy=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ia(i,s){if(s){if(fy[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function La(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fa=null;function $a(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var za=null,br=null,xr=null;function Xc(i){if(i=Mi(i)){if(typeof za!="function")throw Error(t(280));var s=i.stateNode;s&&(s=qs(s),za(i.stateNode,i.type,s))}}function Zc(i){br?xr?xr.push(i):xr=[i]:br=i}function eh(){if(br){var i=br,s=xr;if(xr=br=null,Xc(i),s)for(i=0;i<s.length;i++)Xc(s[i])}}function th(i,s){return i(s)}function nh(){}var Ua=!1;function rh(i,s,u){if(Ua)return i(s,u);Ua=!0;try{return th(i,s,u)}finally{Ua=!1,(br!==null||xr!==null)&&(nh(),eh())}}function pi(i,s){var u=i.stateNode;if(u===null)return null;var h=qs(u);if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var Ba=!1;if(c)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{Ba=!1}function py(i,s,u,h,p,m,w,T,O){var I=Array.prototype.slice.call(arguments,3);try{s.apply(u,I)}catch(z){this.onError(z)}}var mi=!1,Es=null,Ts=!1,Wa=null,gy={onError:function(i){mi=!0,Es=i}};function my(i,s,u,h,p,m,w,T,O){mi=!1,Es=null,py.apply(gy,arguments)}function yy(i,s,u,h,p,m,w,T,O){if(my.apply(this,arguments),mi){if(mi){var I=Es;mi=!1,Es=null}else throw Error(t(198));Ts||(Ts=!0,Wa=I)}}function qn(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function ih(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function sh(i){if(qn(i)!==i)throw Error(t(188))}function vy(i){var s=i.alternate;if(!s){if(s=qn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var u=i,h=s;;){var p=u.return;if(p===null)break;var m=p.alternate;if(m===null){if(h=p.return,h!==null){u=h;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===u)return sh(p),i;if(m===h)return sh(p),s;m=m.sibling}throw Error(t(188))}if(u.return!==h.return)u=p,h=m;else{for(var w=!1,T=p.child;T;){if(T===u){w=!0,u=p,h=m;break}if(T===h){w=!0,h=p,u=m;break}T=T.sibling}if(!w){for(T=m.child;T;){if(T===u){w=!0,u=m,h=p;break}if(T===h){w=!0,h=m,u=p;break}T=T.sibling}if(!w)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:s}function oh(i){return i=vy(i),i!==null?ah(i):null}function ah(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ah(i);if(s!==null)return s;i=i.sibling}return null}var lh=e.unstable_scheduleCallback,uh=e.unstable_cancelCallback,_y=e.unstable_shouldYield,wy=e.unstable_requestPaint,Ue=e.unstable_now,by=e.unstable_getCurrentPriorityLevel,Ha=e.unstable_ImmediatePriority,ch=e.unstable_UserBlockingPriority,Cs=e.unstable_NormalPriority,xy=e.unstable_LowPriority,hh=e.unstable_IdlePriority,Os=null,qt=null;function Sy(i){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Os,i,void 0,(i.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Ty,ky=Math.log,Ey=Math.LN2;function Ty(i){return i>>>=0,i===0?32:31-(ky(i)/Ey|0)|0}var Ps=64,Rs=4194304;function yi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function js(i,s){var u=i.pendingLanes;if(u===0)return 0;var h=0,p=i.suspendedLanes,m=i.pingedLanes,w=u&268435455;if(w!==0){var T=w&~p;T!==0?h=yi(T):(m&=w,m!==0&&(h=yi(m)))}else w=u&~p,w!==0?h=yi(w):m!==0&&(h=yi(m));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,m=s&-s,p>=m||p===16&&(m&4194240)!==0))return s;if((h&4)!==0&&(h|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)u=31-$t(s),p=1<<u,h|=i[u],s&=~p;return h}function Cy(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oy(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,m=i.pendingLanes;0<m;){var w=31-$t(m),T=1<<w,O=p[w];O===-1?((T&u)===0||(T&h)!==0)&&(p[w]=Cy(T,s)):O<=s&&(i.expiredLanes|=T),m&=~T}}function Va(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function qa(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function vi(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-$t(s),i[s]=u}function Py(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var p=31-$t(u),m=1<<p;s[p]=0,h[p]=-1,i[p]=-1,u&=~m}}function Ka(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-$t(u),p=1<<h;p&s|i[h]&s&&(i[h]|=s),u&=~p}}var Ce=0;function dh(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var fh,Ya,ph,gh,mh,Ga=!1,As=[],_n=null,wn=null,bn=null,_i=new Map,wi=new Map,xn=[],Ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yh(i,s){switch(i){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":_i.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(s.pointerId)}}function bi(i,s,u,h,p,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:m,targetContainers:[p]},s!==null&&(s=Mi(s),s!==null&&Ya(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function jy(i,s,u,h,p){switch(s){case"focusin":return _n=bi(_n,i,s,u,h,p),!0;case"dragenter":return wn=bi(wn,i,s,u,h,p),!0;case"mouseover":return bn=bi(bn,i,s,u,h,p),!0;case"pointerover":var m=p.pointerId;return _i.set(m,bi(_i.get(m)||null,i,s,u,h,p)),!0;case"gotpointercapture":return m=p.pointerId,wi.set(m,bi(wi.get(m)||null,i,s,u,h,p)),!0}return!1}function vh(i){var s=Kn(i.target);if(s!==null){var u=qn(s);if(u!==null){if(s=u.tag,s===13){if(s=ih(u),s!==null){i.blockedOn=s,mh(i.priority,function(){ph(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ns(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Qa(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Fa=h,u.target.dispatchEvent(h),Fa=null}else return s=Mi(u),s!==null&&Ya(s),i.blockedOn=u,!1;s.shift()}return!0}function _h(i,s,u){Ns(i)&&u.delete(s)}function Ay(){Ga=!1,_n!==null&&Ns(_n)&&(_n=null),wn!==null&&Ns(wn)&&(wn=null),bn!==null&&Ns(bn)&&(bn=null),_i.forEach(_h),wi.forEach(_h)}function xi(i,s){i.blockedOn===s&&(i.blockedOn=null,Ga||(Ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ay)))}function Si(i){function s(p){return xi(p,i)}if(0<As.length){xi(As[0],i);for(var u=1;u<As.length;u++){var h=As[u];h.blockedOn===i&&(h.blockedOn=null)}}for(_n!==null&&xi(_n,i),wn!==null&&xi(wn,i),bn!==null&&xi(bn,i),_i.forEach(s),wi.forEach(s),u=0;u<xn.length;u++)h=xn[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<xn.length&&(u=xn[0],u.blockedOn===null);)vh(u),u.blockedOn===null&&xn.shift()}var Sr=M.ReactCurrentBatchConfig;function Ny(i,s,u,h){var p=Ce,m=Sr.transition;Sr.transition=null;try{Ce=1,Ja(i,s,u,h)}finally{Ce=p,Sr.transition=m}}function Dy(i,s,u,h){var p=Ce,m=Sr.transition;Sr.transition=null;try{Ce=4,Ja(i,s,u,h)}finally{Ce=p,Sr.transition=m}}function Ja(i,s,u,h){var p=Qa(i,s,u,h);if(p===null)pl(i,s,h,Ds,u),yh(i,h);else if(jy(p,i,s,u,h))h.stopPropagation();else if(yh(i,h),s&4&&-1<Ry.indexOf(i)){for(;p!==null;){var m=Mi(p);if(m!==null&&fh(m),m=Qa(i,s,u,h),m===null&&pl(i,s,h,Ds,u),m===p)break;p=m}p!==null&&h.stopPropagation()}else pl(i,s,h,null,u)}var Ds=null;function Qa(i,s,u,h){if(Ds=null,i=$a(h),i=Kn(i),i!==null)if(s=qn(i),s===null)i=null;else if(u=s.tag,u===13){if(i=ih(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Ds=i,null}function wh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(by()){case Ha:return 1;case ch:return 4;case Cs:case xy:return 16;case hh:return 536870912;default:return 16}default:return 16}}var Sn=null,Xa=null,Ms=null;function bh(){if(Ms)return Ms;var i,s=Xa,u=s.length,h,p="value"in Sn?Sn.value:Sn.textContent,m=p.length;for(i=0;i<u&&s[i]===p[i];i++);var w=u-i;for(h=1;h<=w&&s[u-h]===p[m-h];h++);return Ms=p.slice(i,1<h?1-h:void 0)}function Is(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ls(){return!0}function xh(){return!1}function bt(i){function s(u,h,p,m,w){this._reactName=u,this._targetInst=p,this.type=h,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(u=i[T],this[T]=u?u(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ls:xh,this.isPropagationStopped=xh,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),s}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=bt(kr),ki=E({},kr,{view:0,detail:0}),My=bt(ki),el,tl,Ei,Fs=E({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ei&&(Ei&&i.type==="mousemove"?(el=i.screenX-Ei.screenX,tl=i.screenY-Ei.screenY):tl=el=0,Ei=i),el)},movementY:function(i){return"movementY"in i?i.movementY:tl}}),Sh=bt(Fs),Iy=E({},Fs,{dataTransfer:0}),Ly=bt(Iy),Fy=E({},ki,{relatedTarget:0}),nl=bt(Fy),$y=E({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),zy=bt($y),Uy=E({},kr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),By=bt(Uy),Wy=E({},kr,{data:0}),kh=bt(Wy),Hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ky(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=qy[i])?!!s[i]:!1}function rl(){return Ky}var Yy=E({},ki,{key:function(i){if(i.key){var s=Hy[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Is(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Vy[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(i){return i.type==="keypress"?Is(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Is(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Gy=bt(Yy),Jy=E({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=bt(Jy),Qy=E({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),Xy=bt(Qy),Zy=E({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ev=bt(Zy),tv=E({},Fs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),nv=bt(tv),rv=[9,13,27,32],il=c&&"CompositionEvent"in window,Ti=null;c&&"documentMode"in document&&(Ti=document.documentMode);var iv=c&&"TextEvent"in window&&!Ti,Th=c&&(!il||Ti&&8<Ti&&11>=Ti),Ch=" ",Oh=!1;function Ph(i,s){switch(i){case"keyup":return rv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Er=!1;function sv(i,s){switch(i){case"compositionend":return Rh(s);case"keypress":return s.which!==32?null:(Oh=!0,Ch);case"textInput":return i=s.data,i===Ch&&Oh?null:i;default:return null}}function ov(i,s){if(Er)return i==="compositionend"||!il&&Ph(i,s)?(i=bh(),Ms=Xa=Sn=null,Er=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Th&&s.locale!=="ko"?null:s.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!av[i.type]:s==="textarea"}function Ah(i,s,u,h){Zc(h),s=Ws(s,"onChange"),0<s.length&&(u=new Za("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var Ci=null,Oi=null;function lv(i){Jh(i,0)}function $s(i){var s=Rr(i);if(Uc(s))return i}function uv(i,s){if(i==="change")return s}var Nh=!1;if(c){var sl;if(c){var ol="oninput"in document;if(!ol){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),ol=typeof Dh.oninput=="function"}sl=ol}else sl=!1;Nh=sl&&(!document.documentMode||9<document.documentMode)}function Mh(){Ci&&(Ci.detachEvent("onpropertychange",Ih),Oi=Ci=null)}function Ih(i){if(i.propertyName==="value"&&$s(Oi)){var s=[];Ah(s,Oi,i,$a(i)),rh(lv,s)}}function cv(i,s,u){i==="focusin"?(Mh(),Ci=s,Oi=u,Ci.attachEvent("onpropertychange",Ih)):i==="focusout"&&Mh()}function hv(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $s(Oi)}function dv(i,s){if(i==="click")return $s(s)}function fv(i,s){if(i==="input"||i==="change")return $s(s)}function pv(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Kt=typeof Object.is=="function"?Object.is:pv;function Pi(i,s){if(Kt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var p=u[h];if(!d.call(s,p)||!Kt(i[p],s[p]))return!1}return!0}function Lh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Fh(i,s){var u=Lh(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Lh(u)}}function $h(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$h(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function zh(){for(var i=window,s=Ss();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Ss(i.document)}return s}function al(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function gv(i){var s=zh(),u=i.focusedElem,h=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&$h(u.ownerDocument.documentElement,u)){if(h!==null&&al(u)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=u.textContent.length,m=Math.min(h.start,p);h=h.end===void 0?m:Math.min(h.end,p),!i.extend&&m>h&&(p=h,h=m,m=p),p=Fh(u,m);var w=Fh(u,h);p&&w&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),m>h?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var mv=c&&"documentMode"in document&&11>=document.documentMode,Tr=null,ll=null,Ri=null,ul=!1;function Uh(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ul||Tr==null||Tr!==Ss(h)||(h=Tr,"selectionStart"in h&&al(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ri&&Pi(Ri,h)||(Ri=h,h=Ws(ll,"onSelect"),0<h.length&&(s=new Za("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=Tr)))}function zs(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Cr={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},cl={},Bh={};c&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Us(i){if(cl[i])return cl[i];if(!Cr[i])return i;var s=Cr[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Bh)return cl[i]=s[u];return i}var Wh=Us("animationend"),Hh=Us("animationiteration"),Vh=Us("animationstart"),qh=Us("transitionend"),Kh=new Map,Yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(i,s){Kh.set(i,s),a(s,[i])}for(var hl=0;hl<Yh.length;hl++){var dl=Yh[hl],yv=dl.toLowerCase(),vv=dl[0].toUpperCase()+dl.slice(1);kn(yv,"on"+vv)}kn(Wh,"onAnimationEnd"),kn(Hh,"onAnimationIteration"),kn(Vh,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(qh,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function Gh(i,s,u){var h=i.type||"unknown-event";i.currentTarget=u,yy(h,s,void 0,i),i.currentTarget=null}function Jh(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],p=h.event;h=h.listeners;e:{var m=void 0;if(s)for(var w=h.length-1;0<=w;w--){var T=h[w],O=T.instance,I=T.currentTarget;if(T=T.listener,O!==m&&p.isPropagationStopped())break e;Gh(p,T,I),m=O}else for(w=0;w<h.length;w++){if(T=h[w],O=T.instance,I=T.currentTarget,T=T.listener,O!==m&&p.isPropagationStopped())break e;Gh(p,T,I),m=O}}}if(Ts)throw i=Wa,Ts=!1,Wa=null,i}function Ne(i,s){var u=s[_l];u===void 0&&(u=s[_l]=new Set);var h=i+"__bubble";u.has(h)||(Qh(s,i,2,!1),u.add(h))}function fl(i,s,u){var h=0;s&&(h|=4),Qh(u,i,h,s)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function Ai(i){if(!i[Bs]){i[Bs]=!0,r.forEach(function(u){u!=="selectionchange"&&(_v.has(u)||fl(u,!1,i),fl(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Bs]||(s[Bs]=!0,fl("selectionchange",!1,s))}}function Qh(i,s,u,h){switch(wh(s)){case 1:var p=Ny;break;case 4:p=Dy;break;default:p=Ja}u=p.bind(null,s,u,i),p=void 0,!Ba||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function pl(i,s,u,h,p){var m=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var T=h.stateNode.containerInfo;if(T===p||T.nodeType===8&&T.parentNode===p)break;if(w===4)for(w=h.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;w=w.return}for(;T!==null;){if(w=Kn(T),w===null)return;if(O=w.tag,O===5||O===6){h=m=w;continue e}T=T.parentNode}}h=h.return}rh(function(){var I=m,z=$a(u),re=[];e:{var W=Kh.get(i);if(W!==void 0){var J=Za,H=i;switch(i){case"keypress":if(Is(u)===0)break e;case"keydown":case"keyup":J=Gy;break;case"focusin":H="focus",J=nl;break;case"focusout":H="blur",J=nl;break;case"beforeblur":case"afterblur":J=nl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Xy;break;case Wh:case Hh:case Vh:J=zy;break;case qh:J=ev;break;case"scroll":J=My;break;case"wheel":J=nv;break;case"copy":case"cut":case"paste":J=By;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Eh}var fe=(s&4)!==0,Me=!fe&&i==="scroll",A=fe?W!==null?W+"Capture":null:W;fe=[];for(var P=I,N;P!==null;){N=P;var U=N.stateNode;if(N.tag===5&&U!==null&&(N=U,A!==null&&(U=pi(P,A),U!=null&&fe.push(Ni(P,U,N)))),Me)break;P=P.return}0<fe.length&&(W=new J(W,H,null,u,z),re.push({event:W,listeners:fe}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",W&&u!==Fa&&(H=u.relatedTarget||u.fromElement)&&(Kn(H)||H[sn]))break e;if((J||W)&&(W=z.window===z?z:(W=z.ownerDocument)?W.defaultView||W.parentWindow:window,J?(H=u.relatedTarget||u.toElement,J=I,H=H?Kn(H):null,H!==null&&(Me=qn(H),H!==Me||H.tag!==5&&H.tag!==6)&&(H=null)):(J=null,H=I),J!==H)){if(fe=Sh,U="onMouseLeave",A="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(fe=Eh,U="onPointerLeave",A="onPointerEnter",P="pointer"),Me=J==null?W:Rr(J),N=H==null?W:Rr(H),W=new fe(U,P+"leave",J,u,z),W.target=Me,W.relatedTarget=N,U=null,Kn(z)===I&&(fe=new fe(A,P+"enter",H,u,z),fe.target=N,fe.relatedTarget=Me,U=fe),Me=U,J&&H)t:{for(fe=J,A=H,P=0,N=fe;N;N=Or(N))P++;for(N=0,U=A;U;U=Or(U))N++;for(;0<P-N;)fe=Or(fe),P--;for(;0<N-P;)A=Or(A),N--;for(;P--;){if(fe===A||A!==null&&fe===A.alternate)break t;fe=Or(fe),A=Or(A)}fe=null}else fe=null;J!==null&&Xh(re,W,J,fe,!1),H!==null&&Me!==null&&Xh(re,Me,H,fe,!0)}}e:{if(W=I?Rr(I):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Z=uv;else if(jh(W))if(Nh)Z=fv;else{Z=hv;var se=cv}else(J=W.nodeName)&&J.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(Z=dv);if(Z&&(Z=Z(i,I))){Ah(re,Z,u,z);break e}se&&se(i,W,I),i==="focusout"&&(se=W._wrapperState)&&se.controlled&&W.type==="number"&&Na(W,"number",W.value)}switch(se=I?Rr(I):window,i){case"focusin":(jh(se)||se.contentEditable==="true")&&(Tr=se,ll=I,Ri=null);break;case"focusout":Ri=ll=Tr=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,Uh(re,u,z);break;case"selectionchange":if(mv)break;case"keydown":case"keyup":Uh(re,u,z)}var le;if(il)e:{switch(i){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Er?Ph(i,u)&&(ue="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ue="onCompositionStart");ue&&(Th&&u.locale!=="ko"&&(Er||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Er&&(le=bh()):(Sn=z,Xa="value"in Sn?Sn.value:Sn.textContent,Er=!0)),se=Ws(I,ue),0<se.length&&(ue=new kh(ue,i,null,u,z),re.push({event:ue,listeners:se}),le?ue.data=le:(le=Rh(u),le!==null&&(ue.data=le)))),(le=iv?sv(i,u):ov(i,u))&&(I=Ws(I,"onBeforeInput"),0<I.length&&(z=new kh("onBeforeInput","beforeinput",null,u,z),re.push({event:z,listeners:I}),z.data=le))}Jh(re,s)})}function Ni(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Ws(i,s){for(var u=s+"Capture",h=[];i!==null;){var p=i,m=p.stateNode;p.tag===5&&m!==null&&(p=m,m=pi(i,u),m!=null&&h.unshift(Ni(i,m,p)),m=pi(i,s),m!=null&&h.push(Ni(i,m,p))),i=i.return}return h}function Or(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Xh(i,s,u,h,p){for(var m=s._reactName,w=[];u!==null&&u!==h;){var T=u,O=T.alternate,I=T.stateNode;if(O!==null&&O===h)break;T.tag===5&&I!==null&&(T=I,p?(O=pi(u,m),O!=null&&w.unshift(Ni(u,O,T))):p||(O=pi(u,m),O!=null&&w.push(Ni(u,O,T)))),u=u.return}w.length!==0&&i.push({event:s,listeners:w})}var wv=/\r\n?/g,bv=/\u0000|\uFFFD/g;function Zh(i){return(typeof i=="string"?i:""+i).replace(wv,`
`).replace(bv,"")}function Hs(i,s,u){if(s=Zh(s),Zh(i)!==s&&u)throw Error(t(425))}function Vs(){}var gl=null;function ml(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,xv=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,Sv=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(i){return ed.resolve(null).then(i).catch(kv)}:yl;function kv(i){setTimeout(function(){throw i})}function vl(i,s){var u=s,h=0;do{var p=u.nextSibling;if(i.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(h===0){i.removeChild(p),Si(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=p}while(u);Si(s)}function rn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function td(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Pr,Di="__reactProps$"+Pr,sn="__reactContainer$"+Pr,_l="__reactEvents$"+Pr,Ev="__reactListeners$"+Pr,Tv="__reactHandles$"+Pr;function Kn(i){var s=i[Yt];if(s)return s;for(var u=i.parentNode;u;){if(s=u[sn]||u[Yt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=td(i);i!==null;){if(u=i[Yt])return u;i=td(i)}return s}i=u,u=i.parentNode}return null}function Mi(i){return i=i[Yt]||i[sn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Rr(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function qs(i){return i[Di]||null}var wl=[],jr=-1;function En(i){return{current:i}}function De(i){0>jr||(i.current=wl[jr],wl[jr]=null,jr--)}function je(i,s){jr++,wl[jr]=i.current,i.current=s}var Tn={},nt=En(Tn),ht=En(!1),Yn=Tn;function Ar(i,s){var u=i.type.contextTypes;if(!u)return Tn;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},m;for(m in u)p[m]=s[m];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function dt(i){return i=i.childContextTypes,i!=null}function Ks(){De(ht),De(nt)}function nd(i,s,u){if(nt.current!==Tn)throw Error(t(168));je(nt,s),je(ht,u)}function rd(i,s,u){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Te(i)||"Unknown",p));return E({},u,h)}function Ys(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Tn,Yn=nt.current,je(nt,i),je(ht,ht.current),!0}function id(i,s,u){var h=i.stateNode;if(!h)throw Error(t(169));u?(i=rd(i,s,Yn),h.__reactInternalMemoizedMergedChildContext=i,De(ht),De(nt),je(nt,i)):De(ht),je(ht,u)}var on=null,Gs=!1,bl=!1;function sd(i){on===null?on=[i]:on.push(i)}function Cv(i){Gs=!0,sd(i)}function Cn(){if(!bl&&on!==null){bl=!0;var i=0,s=Ce;try{var u=on;for(Ce=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}on=null,Gs=!1}catch(p){throw on!==null&&(on=on.slice(i+1)),lh(Ha,Cn),p}finally{Ce=s,bl=!1}}return null}var Ov=M.ReactCurrentBatchConfig;function zt(i,s){if(i&&i.defaultProps){s=E({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}var Js=En(null),Qs=null,Nr=null,xl=null;function Sl(){xl=Nr=Qs=null}function kl(i){var s=Js.current;De(Js),i._currentValue=s}function El(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function Dr(i,s){Qs=i,xl=Nr=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(St=!0),i.firstContext=null)}function Ct(i){var s=i._currentValue;if(xl!==i)if(i={context:i,memoizedValue:s,next:null},Nr===null){if(Qs===null)throw Error(t(308));Nr=i,Qs.dependencies={lanes:0,firstContext:i}}else Nr=Nr.next=i;return s}var Gt=null,On=!1;function Tl(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function od(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function an(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Pn(i,s){var u=i.updateQueue;u!==null&&(u=u.shared,We!==null&&(i.mode&1)!==0&&(xe&2)===0?(i=u.interleaved,i===null?(s.next=s,Gt===null?Gt=[u]:Gt.push(u)):(s.next=i.next,i.next=s),u.interleaved=s):(i=u.pending,i===null?s.next=s:(s.next=i.next,i.next=s),u.pending=s))}function Xs(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Ka(i,u)}}function ad(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var p=null,m=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};m===null?p=m=w:m=m.next=w,u=u.next}while(u!==null);m===null?p=m=s:m=m.next=s}else p=m=s;u={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Zs(i,s,u,h){var p=i.updateQueue;On=!1;var m=p.firstBaseUpdate,w=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var O=T,I=O.next;O.next=null,w===null?m=I:w.next=I,w=O;var z=i.alternate;z!==null&&(z=z.updateQueue,T=z.lastBaseUpdate,T!==w&&(T===null?z.firstBaseUpdate=I:T.next=I,z.lastBaseUpdate=O))}if(m!==null){var re=p.baseState;w=0,z=I=O=null,T=m;do{var W=T.lane,J=T.eventTime;if((h&W)===W){z!==null&&(z=z.next={eventTime:J,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var H=i,fe=T;switch(W=s,J=u,fe.tag){case 1:if(H=fe.payload,typeof H=="function"){re=H.call(J,re,W);break e}re=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=fe.payload,W=typeof H=="function"?H.call(J,re,W):H,W==null)break e;re=E({},re,W);break e;case 2:On=!0}}T.callback!==null&&T.lane!==0&&(i.flags|=64,W=p.effects,W===null?p.effects=[T]:W.push(T))}else J={eventTime:J,lane:W,tag:T.tag,payload:T.payload,callback:T.callback,next:null},z===null?(I=z=J,O=re):z=z.next=J,w|=W;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;W=T,T=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);if(z===null&&(O=re),p.baseState=O,p.firstBaseUpdate=I,p.lastBaseUpdate=z,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else m===null&&(p.shared.lanes=0);Br|=w,i.lanes=w,i.memoizedState=re}}function ld(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=u,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var ud=new n.Component().refs;function Cl(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:E({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var eo={isMounted:function(i){return(i=i._reactInternals)?qn(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var h=ct(),p=An(i),m=an(h,p);m.payload=s,u!=null&&(m.callback=u),Pn(i,m),s=At(i,p,h),s!==null&&Xs(s,i,p)},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=ct(),p=An(i),m=an(h,p);m.tag=1,m.payload=s,u!=null&&(m.callback=u),Pn(i,m),s=At(i,p,h),s!==null&&Xs(s,i,p)},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=ct(),h=An(i),p=an(u,h);p.tag=2,s!=null&&(p.callback=s),Pn(i,p),s=At(i,h,u),s!==null&&Xs(s,i,h)}};function cd(i,s,u,h,p,m,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,m,w):s.prototype&&s.prototype.isPureReactComponent?!Pi(u,h)||!Pi(p,m):!0}function hd(i,s,u){var h=!1,p=Tn,m=s.contextType;return typeof m=="object"&&m!==null?m=Ct(m):(p=dt(s)?Yn:nt.current,h=s.contextTypes,m=(h=h!=null)?Ar(i,p):Tn),s=new s(u,m),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=eo,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=m),s}function dd(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&eo.enqueueReplaceState(s,s.state,null)}function Ol(i,s,u,h){var p=i.stateNode;p.props=u,p.state=i.memoizedState,p.refs=ud,Tl(i);var m=s.contextType;typeof m=="object"&&m!==null?p.context=Ct(m):(m=dt(s)?Yn:nt.current,p.context=Ar(i,m)),p.state=i.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Cl(i,s,m,u),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&eo.enqueueReplaceState(p,p.state,null),Zs(i,u,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}var Mr=[],Ir=0,to=null,no=0,Ot=[],Pt=0,Gn=null,ln=1,un="";function Jn(i,s){Mr[Ir++]=no,Mr[Ir++]=to,to=i,no=s}function fd(i,s,u){Ot[Pt++]=ln,Ot[Pt++]=un,Ot[Pt++]=Gn,Gn=i;var h=ln;i=un;var p=32-$t(h)-1;h&=~(1<<p),u+=1;var m=32-$t(s)+p;if(30<m){var w=p-p%5;m=(h&(1<<w)-1).toString(32),h>>=w,p-=w,ln=1<<32-$t(s)+p|u<<p|h,un=m+i}else ln=1<<m|u<<p|h,un=i}function Pl(i){i.return!==null&&(Jn(i,1),fd(i,1,0))}function Rl(i){for(;i===to;)to=Mr[--Ir],Mr[Ir]=null,no=Mr[--Ir],Mr[Ir]=null;for(;i===Gn;)Gn=Ot[--Pt],Ot[Pt]=null,un=Ot[--Pt],Ot[Pt]=null,ln=Ot[--Pt],Ot[Pt]=null}var xt=null,ft=null,Le=!1,Ut=null;function pd(i,s){var u=Nt(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function gd(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xt=i,ft=rn(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xt=i,ft=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Gn!==null?{id:ln,overflow:un}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Nt(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,xt=i,ft=null,!0):!1;default:return!1}}function jl(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Al(i){if(Le){var s=ft;if(s){var u=s;if(!gd(i,s)){if(jl(i))throw Error(t(418));s=rn(u.nextSibling);var h=xt;s&&gd(i,s)?pd(h,u):(i.flags=i.flags&-4097|2,Le=!1,xt=i)}}else{if(jl(i))throw Error(t(418));i.flags=i.flags&-4097|2,Le=!1,xt=i}}}function md(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xt=i}function Ii(i){if(i!==xt)return!1;if(!Le)return md(i),Le=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!ml(i.type,i.memoizedProps)),s&&(s=ft)){if(jl(i)){for(i=ft;i;)i=rn(i.nextSibling);throw Error(t(418))}for(;s;)pd(i,s),s=rn(s.nextSibling)}if(md(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){ft=rn(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}ft=null}}else ft=xt?rn(i.stateNode.nextSibling):null;return!0}function Lr(){ft=xt=null,Le=!1}function Nl(i){Ut===null?Ut=[i]:Ut.push(i)}function Li(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,i));var p=h,m=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(w){var T=p.refs;T===ud&&(T=p.refs={}),w===null?delete T[m]:T[m]=w},s._stringRef=m,s)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function ro(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function yd(i){var s=i._init;return s(i._payload)}function vd(i){function s(A,P){if(i){var N=A.deletions;N===null?(A.deletions=[P],A.flags|=16):N.push(P)}}function u(A,P){if(!i)return null;for(;P!==null;)s(A,P),P=P.sibling;return null}function h(A,P){for(A=new Map;P!==null;)P.key!==null?A.set(P.key,P):A.set(P.index,P),P=P.sibling;return A}function p(A,P){return A=Dn(A,P),A.index=0,A.sibling=null,A}function m(A,P,N){return A.index=N,i?(N=A.alternate,N!==null?(N=N.index,N<P?(A.flags|=2,P):N):(A.flags|=2,P)):(A.flags|=1048576,P)}function w(A){return i&&A.alternate===null&&(A.flags|=2),A}function T(A,P,N,U){return P===null||P.tag!==6?(P=fu(N,A.mode,U),P.return=A,P):(P=p(P,N),P.return=A,P)}function O(A,P,N,U){var Z=N.type;return Z===B?z(A,P,N.props.children,U,N.key):P!==null&&(P.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===me&&yd(Z)===P.type)?(U=p(P,N.props),U.ref=Li(A,P,N),U.return=A,U):(U=Oo(N.type,N.key,N.props,null,A.mode,U),U.ref=Li(A,P,N),U.return=A,U)}function I(A,P,N,U){return P===null||P.tag!==4||P.stateNode.containerInfo!==N.containerInfo||P.stateNode.implementation!==N.implementation?(P=pu(N,A.mode,U),P.return=A,P):(P=p(P,N.children||[]),P.return=A,P)}function z(A,P,N,U,Z){return P===null||P.tag!==7?(P=rr(N,A.mode,U,Z),P.return=A,P):(P=p(P,N),P.return=A,P)}function re(A,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return P=fu(""+P,A.mode,N),P.return=A,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return N=Oo(P.type,P.key,P.props,null,A.mode,N),N.ref=Li(A,null,P),N.return=A,N;case $:return P=pu(P,A.mode,N),P.return=A,P;case me:var U=P._init;return re(A,U(P._payload),N)}if(hi(P)||Q(P))return P=rr(P,A.mode,N,null),P.return=A,P;ro(A,P)}return null}function W(A,P,N,U){var Z=P!==null?P.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Z!==null?null:T(A,P,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return N.key===Z?O(A,P,N,U):null;case $:return N.key===Z?I(A,P,N,U):null;case me:return Z=N._init,W(A,P,Z(N._payload),U)}if(hi(N)||Q(N))return Z!==null?null:z(A,P,N,U,null);ro(A,N)}return null}function J(A,P,N,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number")return A=A.get(N)||null,T(P,A,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return A=A.get(U.key===null?N:U.key)||null,O(P,A,U,Z);case $:return A=A.get(U.key===null?N:U.key)||null,I(P,A,U,Z);case me:var se=U._init;return J(A,P,N,se(U._payload),Z)}if(hi(U)||Q(U))return A=A.get(N)||null,z(P,A,U,Z,null);ro(P,U)}return null}function H(A,P,N,U){for(var Z=null,se=null,le=P,ue=P=0,Xe=null;le!==null&&ue<N.length;ue++){le.index>ue?(Xe=le,le=null):Xe=le.sibling;var Ee=W(A,le,N[ue],U);if(Ee===null){le===null&&(le=Xe);break}i&&le&&Ee.alternate===null&&s(A,le),P=m(Ee,P,ue),se===null?Z=Ee:se.sibling=Ee,se=Ee,le=Xe}if(ue===N.length)return u(A,le),Le&&Jn(A,ue),Z;if(le===null){for(;ue<N.length;ue++)le=re(A,N[ue],U),le!==null&&(P=m(le,P,ue),se===null?Z=le:se.sibling=le,se=le);return Le&&Jn(A,ue),Z}for(le=h(A,le);ue<N.length;ue++)Xe=J(le,A,ue,N[ue],U),Xe!==null&&(i&&Xe.alternate!==null&&le.delete(Xe.key===null?ue:Xe.key),P=m(Xe,P,ue),se===null?Z=Xe:se.sibling=Xe,se=Xe);return i&&le.forEach(function(Mn){return s(A,Mn)}),Le&&Jn(A,ue),Z}function fe(A,P,N,U){var Z=Q(N);if(typeof Z!="function")throw Error(t(150));if(N=Z.call(N),N==null)throw Error(t(151));for(var se=Z=null,le=P,ue=P=0,Xe=null,Ee=N.next();le!==null&&!Ee.done;ue++,Ee=N.next()){le.index>ue?(Xe=le,le=null):Xe=le.sibling;var Mn=W(A,le,Ee.value,U);if(Mn===null){le===null&&(le=Xe);break}i&&le&&Mn.alternate===null&&s(A,le),P=m(Mn,P,ue),se===null?Z=Mn:se.sibling=Mn,se=Mn,le=Xe}if(Ee.done)return u(A,le),Le&&Jn(A,ue),Z;if(le===null){for(;!Ee.done;ue++,Ee=N.next())Ee=re(A,Ee.value,U),Ee!==null&&(P=m(Ee,P,ue),se===null?Z=Ee:se.sibling=Ee,se=Ee);return Le&&Jn(A,ue),Z}for(le=h(A,le);!Ee.done;ue++,Ee=N.next())Ee=J(le,A,ue,Ee.value,U),Ee!==null&&(i&&Ee.alternate!==null&&le.delete(Ee.key===null?ue:Ee.key),P=m(Ee,P,ue),se===null?Z=Ee:se.sibling=Ee,se=Ee);return i&&le.forEach(function(a0){return s(A,a0)}),Le&&Jn(A,ue),Z}function Me(A,P,N,U){if(typeof N=="object"&&N!==null&&N.type===B&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case F:e:{for(var Z=N.key,se=P;se!==null;){if(se.key===Z){if(Z=N.type,Z===B){if(se.tag===7){u(A,se.sibling),P=p(se,N.props.children),P.return=A,A=P;break e}}else if(se.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===me&&yd(Z)===se.type){u(A,se.sibling),P=p(se,N.props),P.ref=Li(A,se,N),P.return=A,A=P;break e}u(A,se);break}else s(A,se);se=se.sibling}N.type===B?(P=rr(N.props.children,A.mode,U,N.key),P.return=A,A=P):(U=Oo(N.type,N.key,N.props,null,A.mode,U),U.ref=Li(A,P,N),U.return=A,A=U)}return w(A);case $:e:{for(se=N.key;P!==null;){if(P.key===se)if(P.tag===4&&P.stateNode.containerInfo===N.containerInfo&&P.stateNode.implementation===N.implementation){u(A,P.sibling),P=p(P,N.children||[]),P.return=A,A=P;break e}else{u(A,P);break}else s(A,P);P=P.sibling}P=pu(N,A.mode,U),P.return=A,A=P}return w(A);case me:return se=N._init,Me(A,P,se(N._payload),U)}if(hi(N))return H(A,P,N,U);if(Q(N))return fe(A,P,N,U);ro(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,P!==null&&P.tag===6?(u(A,P.sibling),P=p(P,N),P.return=A,A=P):(u(A,P),P=fu(N,A.mode,U),P.return=A,A=P),w(A)):u(A,P)}return Me}var Fr=vd(!0),_d=vd(!1),Fi={},Jt=En(Fi),$i=En(Fi),zi=En(Fi);function Qn(i){if(i===Fi)throw Error(t(174));return i}function Dl(i,s){switch(je(zi,s),je($i,i),je(Jt,Fi),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ma(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Ma(s,i)}De(Jt),je(Jt,s)}function $r(){De(Jt),De($i),De(zi)}function wd(i){Qn(zi.current);var s=Qn(Jt.current),u=Ma(s,i.type);s!==u&&(je($i,i),je(Jt,u))}function Ml(i){$i.current===i&&(De(Jt),De($i))}var Fe=En(0);function io(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Il=[];function Ll(){for(var i=0;i<Il.length;i++)Il[i]._workInProgressVersionPrimary=null;Il.length=0}var so=M.ReactCurrentDispatcher,Rt=M.ReactCurrentBatchConfig,zr=0,ze=null,rt=null,Qe=null,oo=!1,Ui=!1,Bi=0,Pv=0;function it(){throw Error(t(321))}function Fl(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Kt(i[u],s[u]))return!1;return!0}function $l(i,s,u,h,p,m){if(zr=m,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,so.current=i===null||i.memoizedState===null?Nv:Dv,i=u(h,p),Ui){m=0;do{if(Ui=!1,Bi=0,25<=m)throw Error(t(301));m+=1,Qe=rt=null,s.updateQueue=null,so.current=Mv,i=u(h,p)}while(Ui)}if(so.current=ho,s=rt!==null&&rt.next!==null,zr=0,Qe=rt=ze=null,oo=!1,s)throw Error(t(300));return i}function zl(){var i=Bi!==0;return Bi=0,i}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ze.memoizedState=Qe=i:Qe=Qe.next=i,Qe}function Qt(){if(rt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=rt.next;var s=Qe===null?ze.memoizedState:Qe.next;if(s!==null)Qe=s,rt=i;else{if(i===null)throw Error(t(310));rt=i,i={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Qe===null?ze.memoizedState=Qe=i:Qe=Qe.next=i}return Qe}function Xn(i,s){return typeof s=="function"?s(i):s}function ao(i){var s=Qt(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=rt,p=h.baseQueue,m=u.pending;if(m!==null){if(p!==null){var w=p.next;p.next=m.next,m.next=w}h.baseQueue=p=m,u.pending=null}if(p!==null){m=p.next,h=h.baseState;var T=w=null,O=null,I=m;do{var z=I.lane;if((zr&z)===z)O!==null&&(O=O.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),h=I.hasEagerState?I.eagerState:i(h,I.action);else{var re={lane:z,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};O===null?(T=O=re,w=h):O=O.next=re,ze.lanes|=z,Br|=z}I=I.next}while(I!==null&&I!==m);O===null?w=h:O.next=T,Kt(h,s.memoizedState)||(St=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=O,u.lastRenderedState=h}if(i=u.interleaved,i!==null){p=i;do m=p.lane,ze.lanes|=m,Br|=m,p=p.next;while(p!==i)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function lo(i){var s=Qt(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=u.dispatch,p=u.pending,m=s.memoizedState;if(p!==null){u.pending=null;var w=p=p.next;do m=i(m,w.action),w=w.next;while(w!==p);Kt(m,s.memoizedState)||(St=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),u.lastRenderedState=m}return[m,h]}function bd(){}function xd(i,s){var u=ze,h=Qt(),p=s(),m=!Kt(h.memoizedState,p);if(m&&(h.memoizedState=p,St=!0),h=h.queue,Hi(Ed.bind(null,u,h,i),[i]),h.getSnapshot!==s||m||Qe!==null&&Qe.memoizedState.tag&1){if(u.flags|=2048,Wi(9,kd.bind(null,u,h,p,s),void 0,null),We===null)throw Error(t(349));(zr&30)!==0||Sd(u,s,p)}return p}function Sd(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=ze.updateQueue,s===null?(s={lastEffect:null,stores:null},ze.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function kd(i,s,u,h){s.value=u,s.getSnapshot=h,Td(s)&&At(i,1,-1)}function Ed(i,s,u){return u(function(){Td(s)&&At(i,1,-1)})}function Td(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Kt(i,u)}catch{return!0}}function Ul(i){var s=cn();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:i},s.queue=i,i=i.dispatch=Av.bind(null,ze,i),[s.memoizedState,i]}function Wi(i,s,u,h){return i={tag:i,create:s,destroy:u,deps:h,next:null},s=ze.updateQueue,s===null?(s={lastEffect:null,stores:null},ze.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i)),i}function Cd(){return Qt().memoizedState}function uo(i,s,u,h){var p=cn();ze.flags|=i,p.memoizedState=Wi(1|s,u,void 0,h===void 0?null:h)}function co(i,s,u,h){var p=Qt();h=h===void 0?null:h;var m=void 0;if(rt!==null){var w=rt.memoizedState;if(m=w.destroy,h!==null&&Fl(h,w.deps)){p.memoizedState=Wi(s,u,m,h);return}}ze.flags|=i,p.memoizedState=Wi(1|s,u,m,h)}function Bl(i,s){return uo(8390656,8,i,s)}function Hi(i,s){return co(2048,8,i,s)}function Od(i,s){return co(4,2,i,s)}function Pd(i,s){return co(4,4,i,s)}function Rd(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function jd(i,s,u){return u=u!=null?u.concat([i]):null,co(4,4,Rd.bind(null,s,i),u)}function Wl(){}function Ad(i,s){var u=Qt();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&Fl(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Nd(i,s){var u=Qt();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&Fl(s,h[1])?h[0]:(i=i(),u.memoizedState=[i,s],i)}function Rv(i,s){var u=Ce;Ce=u!==0&&4>u?u:4,i(!0);var h=Rt.transition;Rt.transition={};try{i(!1),s()}finally{Ce=u,Rt.transition=h}}function Dd(){return Qt().memoizedState}function jv(i,s,u){var h=An(i);u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Md(i)?Id(s,u):(Ld(i,s,u),u=ct(),i=At(i,h,u),i!==null&&Fd(i,s,h))}function Av(i,s,u){var h=An(i),p={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Md(i))Id(s,p);else{Ld(i,s,p);var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,T=m(w,u);if(p.hasEagerState=!0,p.eagerState=T,Kt(T,w))return}catch{}finally{}u=ct(),i=At(i,h,u),i!==null&&Fd(i,s,h)}}function Md(i){var s=i.alternate;return i===ze||s!==null&&s===ze}function Id(i,s){Ui=oo=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Ld(i,s,u){We!==null&&(i.mode&1)!==0&&(xe&2)===0?(i=s.interleaved,i===null?(u.next=u,Gt===null?Gt=[s]:Gt.push(s)):(u.next=i.next,i.next=u),s.interleaved=u):(i=s.pending,i===null?u.next=u:(u.next=i.next,i.next=u),s.pending=u)}function Fd(i,s,u){if((u&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Ka(i,u)}}var ho={readContext:Ct,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Nv={readContext:Ct,useCallback:function(i,s){return cn().memoizedState=[i,s===void 0?null:s],i},useContext:Ct,useEffect:Bl,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,uo(4194308,4,Rd.bind(null,s,i),u)},useLayoutEffect:function(i,s){return uo(4194308,4,i,s)},useInsertionEffect:function(i,s){return uo(4,2,i,s)},useMemo:function(i,s){var u=cn();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var h=cn();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=jv.bind(null,ze,i),[h.memoizedState,i]},useRef:function(i){var s=cn();return i={current:i},s.memoizedState=i},useState:Ul,useDebugValue:Wl,useDeferredValue:function(i){var s=Ul(i),u=s[0],h=s[1];return Bl(function(){var p=Rt.transition;Rt.transition={};try{h(i)}finally{Rt.transition=p}},[i]),u},useTransition:function(){var i=Ul(!1),s=i[0];return i=Rv.bind(null,i[1]),cn().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var h=ze,p=cn();if(Le){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),We===null)throw Error(t(349));(zr&30)!==0||Sd(h,s,u)}p.memoizedState=u;var m={value:u,getSnapshot:s};return p.queue=m,Bl(Ed.bind(null,h,m,i),[i]),h.flags|=2048,Wi(9,kd.bind(null,h,m,u,s),void 0,null),u},useId:function(){var i=cn(),s=We.identifierPrefix;if(Le){var u=un,h=ln;u=(h&~(1<<32-$t(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=Bi++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Pv++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Dv={readContext:Ct,useCallback:Ad,useContext:Ct,useEffect:Hi,useImperativeHandle:jd,useInsertionEffect:Od,useLayoutEffect:Pd,useMemo:Nd,useReducer:ao,useRef:Cd,useState:function(){return ao(Xn)},useDebugValue:Wl,useDeferredValue:function(i){var s=ao(Xn),u=s[0],h=s[1];return Hi(function(){var p=Rt.transition;Rt.transition={};try{h(i)}finally{Rt.transition=p}},[i]),u},useTransition:function(){var i=ao(Xn)[0],s=Qt().memoizedState;return[i,s]},useMutableSource:bd,useSyncExternalStore:xd,useId:Dd,unstable_isNewReconciler:!1},Mv={readContext:Ct,useCallback:Ad,useContext:Ct,useEffect:Hi,useImperativeHandle:jd,useInsertionEffect:Od,useLayoutEffect:Pd,useMemo:Nd,useReducer:lo,useRef:Cd,useState:function(){return lo(Xn)},useDebugValue:Wl,useDeferredValue:function(i){var s=lo(Xn),u=s[0],h=s[1];return Hi(function(){var p=Rt.transition;Rt.transition={};try{h(i)}finally{Rt.transition=p}},[i]),u},useTransition:function(){var i=lo(Xn)[0],s=Qt().memoizedState;return[i,s]},useMutableSource:bd,useSyncExternalStore:xd,useId:Dd,unstable_isNewReconciler:!1};function Hl(i,s){try{var u="",h=s;do u+=we(h),h=h.return;while(h);var p=u}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:i,source:s,stack:p}}function Vl(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var Iv=typeof WeakMap=="function"?WeakMap:Map;function $d(i,s,u){u=an(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){bo||(bo=!0,su=h),Vl(i,s)},u}function zd(i,s,u){u=an(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;u.payload=function(){return h(p)},u.callback=function(){Vl(i,s)}}var m=i.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(u.callback=function(){Vl(i,s),typeof h!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),u}function Ud(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new Iv;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(u)||(p.add(u),i=Jv.bind(null,i,s,u),s.then(i,i))}function Bd(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Wd(i,s,u,h,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=an(-1,1),s.tag=2,Pn(u,s))),u.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var Hd,ql,Vd,qd;Hd=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ql=function(){},Vd=function(i,s,u,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,Qn(Jt.current);var m=null;switch(u){case"input":p=ja(i,p),h=ja(i,h),m=[];break;case"select":p=E({},p,{value:void 0}),h=E({},h,{value:void 0}),m=[];break;case"textarea":p=Da(i,p),h=Da(i,h),m=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Vs)}Ia(u,h);var w;u=null;for(I in p)if(!h.hasOwnProperty(I)&&p.hasOwnProperty(I)&&p[I]!=null)if(I==="style"){var T=p[I];for(w in T)T.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?m||(m=[]):(m=m||[]).push(I,null));for(I in h){var O=h[I];if(T=p!=null?p[I]:void 0,h.hasOwnProperty(I)&&O!==T&&(O!=null||T!=null))if(I==="style")if(T){for(w in T)!T.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in O)O.hasOwnProperty(w)&&T[w]!==O[w]&&(u||(u={}),u[w]=O[w])}else u||(m||(m=[]),m.push(I,u)),u=O;else I==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,T=T?T.__html:void 0,O!=null&&T!==O&&(m=m||[]).push(I,O)):I==="children"?typeof O!="string"&&typeof O!="number"||(m=m||[]).push(I,""+O):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(o.hasOwnProperty(I)?(O!=null&&I==="onScroll"&&Ne("scroll",i),m||T===O||(m=[])):(m=m||[]).push(I,O))}u&&(m=m||[]).push("style",u);var I=m;(s.updateQueue=I)&&(s.flags|=4)}},qd=function(i,s,u,h){u!==h&&(s.flags|=4)};function Vi(i,s){if(!Le)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function st(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function Lv(i,s,u){var h=s.pendingProps;switch(Rl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return dt(s.type)&&Ks(),st(s),null;case 3:return h=s.stateNode,$r(),De(ht),De(nt),Ll(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Ii(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ut!==null&&(lu(Ut),Ut=null))),ql(i,s),st(s),null;case 5:Ml(s);var p=Qn(zi.current);if(u=s.type,i!==null&&s.stateNode!=null)Vd(i,s,u,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return st(s),null}if(i=Qn(Jt.current),Ii(s)){h=s.stateNode,u=s.type;var m=s.memoizedProps;switch(h[Yt]=s,h[Di]=m,i=(s.mode&1)!==0,u){case"dialog":Ne("cancel",h),Ne("close",h);break;case"iframe":case"object":case"embed":Ne("load",h);break;case"video":case"audio":for(p=0;p<ji.length;p++)Ne(ji[p],h);break;case"source":Ne("error",h);break;case"img":case"image":case"link":Ne("error",h),Ne("load",h);break;case"details":Ne("toggle",h);break;case"input":Bc(h,m),Ne("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!m.multiple},Ne("invalid",h);break;case"textarea":Vc(h,m),Ne("invalid",h)}Ia(u,m),p=null;for(var w in m)if(m.hasOwnProperty(w)){var T=m[w];w==="children"?typeof T=="string"?h.textContent!==T&&(Hs(h.textContent,T,i),p=["children",T]):typeof T=="number"&&h.textContent!==""+T&&(Hs(h.textContent,T,i),p=["children",""+T]):o.hasOwnProperty(w)&&T!=null&&w==="onScroll"&&Ne("scroll",h)}switch(u){case"input":_r(h),Hc(h,m,!0);break;case"textarea":_r(h),Kc(h);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(h.onclick=Vs)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Yc(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=w.createElement(u,{is:h.is}):(i=w.createElement(u),u==="select"&&(w=i,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):i=w.createElementNS(i,u),i[Yt]=s,i[Di]=h,Hd(i,s,!1,!1),s.stateNode=i;e:{switch(w=La(u,h),u){case"dialog":Ne("cancel",i),Ne("close",i),p=h;break;case"iframe":case"object":case"embed":Ne("load",i),p=h;break;case"video":case"audio":for(p=0;p<ji.length;p++)Ne(ji[p],i);p=h;break;case"source":Ne("error",i),p=h;break;case"img":case"image":case"link":Ne("error",i),Ne("load",i),p=h;break;case"details":Ne("toggle",i),p=h;break;case"input":Bc(i,h),p=ja(i,h),Ne("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=E({},h,{value:void 0}),Ne("invalid",i);break;case"textarea":Vc(i,h),p=Da(i,h),Ne("invalid",i);break;default:p=h}Ia(u,p),T=p;for(m in T)if(T.hasOwnProperty(m)){var O=T[m];m==="style"?Qc(i,O):m==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Gc(i,O)):m==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&di(i,O):typeof O=="number"&&di(i,""+O):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?O!=null&&m==="onScroll"&&Ne("scroll",i):O!=null&&j(i,m,O,w))}switch(u){case"input":_r(i),Hc(i,h,!1);break;case"textarea":_r(i),Kc(i);break;case"option":h.value!=null&&i.setAttribute("value",""+be(h.value));break;case"select":i.multiple=!!h.multiple,m=h.value,m!=null?wr(i,!!h.multiple,m,!1):h.defaultValue!=null&&wr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Vs)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return st(s),null;case 6:if(i&&s.stateNode!=null)qd(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(u=Qn(zi.current),Qn(Jt.current),Ii(s)){if(h=s.stateNode,u=s.memoizedProps,h[Yt]=s,(m=h.nodeValue!==u)&&(i=xt,i!==null))switch(w=(i.mode&1)!==0,i.tag){case 3:Hs(h.nodeValue,u,w);break;case 5:i.memoizedProps[void 0]!==!0&&Hs(h.nodeValue,u,w)}m&&(s.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Yt]=s,s.stateNode=h}return st(s),null;case 13:if(De(Fe),h=s.memoizedState,Le&&ft!==null&&(s.mode&1)!==0&&(s.flags&128)===0){for(h=ft;h;)h=rn(h.nextSibling);return Lr(),s.flags|=98560,s}if(h!==null&&h.dehydrated!==null){if(h=Ii(s),i===null){if(!h)throw Error(t(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(t(317));h[Yt]=s}else Lr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;return st(s),null}return Ut!==null&&(lu(Ut),Ut=null),(s.flags&128)!==0?(s.lanes=u,s):(h=h!==null,u=!1,i===null?Ii(s):u=i.memoizedState!==null,h&&!u&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Fe.current&1)!==0?Ke===0&&(Ke=3):hu())),s.updateQueue!==null&&(s.flags|=4),st(s),null);case 4:return $r(),ql(i,s),i===null&&Ai(s.stateNode.containerInfo),st(s),null;case 10:return kl(s.type._context),st(s),null;case 17:return dt(s.type)&&Ks(),st(s),null;case 19:if(De(Fe),m=s.memoizedState,m===null)return st(s),null;if(h=(s.flags&128)!==0,w=m.rendering,w===null)if(h)Vi(m,!1);else{if(Ke!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(w=io(i),w!==null){for(s.flags|=128,Vi(m,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=u,u=s.child;u!==null;)m=u,i=h,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=i,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,i=w.dependencies,m.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return je(Fe,Fe.current&1|2),s.child}i=i.sibling}m.tail!==null&&Ue()>Wr&&(s.flags|=128,h=!0,Vi(m,!1),s.lanes=4194304)}else{if(!h)if(i=io(w),i!==null){if(s.flags|=128,h=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),Vi(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Le)return st(s),null}else 2*Ue()-m.renderingStartTime>Wr&&u!==1073741824&&(s.flags|=128,h=!0,Vi(m,!1),s.lanes=4194304);m.isBackwards?(w.sibling=s.child,s.child=w):(u=m.last,u!==null?u.sibling=w:s.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ue(),s.sibling=null,u=Fe.current,je(Fe,h?u&1|2:u&1),s):(st(s),null);case 22:case 23:return cu(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(kt&1073741824)!==0&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}var Fv=M.ReactCurrentOwner,St=!1;function ut(i,s,u,h){s.child=i===null?_d(s,null,u,h):Fr(s,i.child,u,h)}function Kd(i,s,u,h,p){u=u.render;var m=s.ref;return Dr(s,p),h=$l(i,s,u,h,m,p),u=zl(),i!==null&&!St?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,hn(i,s,p)):(Le&&u&&Pl(s),s.flags|=1,ut(i,s,h,p),s.child)}function Yd(i,s,u,h,p){if(i===null){var m=u.type;return typeof m=="function"&&!du(m)&&m.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=m,Gd(i,s,m,h,p)):(i=Oo(u.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,(i.lanes&p)===0){var w=m.memoizedProps;if(u=u.compare,u=u!==null?u:Pi,u(w,h)&&i.ref===s.ref)return hn(i,s,p)}return s.flags|=1,i=Dn(m,h),i.ref=s.ref,i.return=s,s.child=i}function Gd(i,s,u,h,p){if(i!==null&&Pi(i.memoizedProps,h)&&i.ref===s.ref)if(St=!1,(i.lanes&p)!==0)(i.flags&131072)!==0&&(St=!0);else return s.lanes=i.lanes,hn(i,s,p);return Kl(i,s,u,h,p)}function Jd(i,s,u){var h=s.pendingProps,p=h.children,m=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null},je(Ur,kt),kt|=u;else if((u&1073741824)!==0)s.memoizedState={baseLanes:0,cachePool:null},h=m!==null?m.baseLanes:u,je(Ur,kt),kt|=h;else return i=m!==null?m.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null},s.updateQueue=null,je(Ur,kt),kt|=i,null;else m!==null?(h=m.baseLanes|u,s.memoizedState=null):h=u,je(Ur,kt),kt|=h;return ut(i,s,p,u),s.child}function Qd(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Kl(i,s,u,h,p){var m=dt(u)?Yn:nt.current;return m=Ar(s,m),Dr(s,p),u=$l(i,s,u,h,m,p),h=zl(),i!==null&&!St?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,hn(i,s,p)):(Le&&h&&Pl(s),s.flags|=1,ut(i,s,u,p),s.child)}function Xd(i,s,u,h,p){if(dt(u)){var m=!0;Ys(s)}else m=!1;if(Dr(s,p),s.stateNode===null)i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),hd(s,u,h),Ol(s,u,h,p),h=!0;else if(i===null){var w=s.stateNode,T=s.memoizedProps;w.props=T;var O=w.context,I=u.contextType;typeof I=="object"&&I!==null?I=Ct(I):(I=dt(u)?Yn:nt.current,I=Ar(s,I));var z=u.getDerivedStateFromProps,re=typeof z=="function"||typeof w.getSnapshotBeforeUpdate=="function";re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==h||O!==I)&&dd(s,w,h,I),On=!1;var W=s.memoizedState;w.state=W,Zs(s,h,w,p),O=s.memoizedState,T!==h||W!==O||ht.current||On?(typeof z=="function"&&(Cl(s,u,z,h),O=s.memoizedState),(T=On||cd(s,u,T,h,W,O,I))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=O),w.props=h,w.state=O,w.context=I,h=T):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,od(i,s),T=s.memoizedProps,I=s.type===s.elementType?T:zt(s.type,T),w.props=I,re=s.pendingProps,W=w.context,O=u.contextType,typeof O=="object"&&O!==null?O=Ct(O):(O=dt(u)?Yn:nt.current,O=Ar(s,O));var J=u.getDerivedStateFromProps;(z=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==re||W!==O)&&dd(s,w,h,O),On=!1,W=s.memoizedState,w.state=W,Zs(s,h,w,p);var H=s.memoizedState;T!==re||W!==H||ht.current||On?(typeof J=="function"&&(Cl(s,u,J,h),H=s.memoizedState),(I=On||cd(s,u,I,h,W,H,O)||!1)?(z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,H,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,H,O)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=H),w.props=h,w.state=H,w.context=O,h=I):(typeof w.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),h=!1)}return Yl(i,s,u,h,m,p)}function Yl(i,s,u,h,p,m){Qd(i,s);var w=(s.flags&128)!==0;if(!h&&!w)return p&&id(s,u,!1),hn(i,s,m);h=s.stateNode,Fv.current=s;var T=w&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&w?(s.child=Fr(s,i.child,null,m),s.child=Fr(s,null,T,m)):ut(i,s,T,m),s.memoizedState=h.state,p&&id(s,u,!0),s.child}function Zd(i){var s=i.stateNode;s.pendingContext?nd(i,s.pendingContext,s.pendingContext!==s.context):s.context&&nd(i,s.context,!1),Dl(i,s.containerInfo)}function ef(i,s,u,h,p){return Lr(),Nl(p),s.flags|=256,ut(i,s,u,h),s.child}var fo={dehydrated:null,treeContext:null,retryLane:0};function po(i){return{baseLanes:i,cachePool:null}}function tf(i,s,u){var h=s.pendingProps,p=Fe.current,m=!1,w=(s.flags&128)!==0,T;if((T=w)||(T=i!==null&&i.memoizedState===null?!1:(p&2)!==0),T?(m=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),je(Fe,p&1),i===null)return Al(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(p=h.children,i=h.fallback,m?(h=s.mode,m=s.child,p={mode:"hidden",children:p},(h&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=p):m=Po(p,h,0,null),i=rr(i,h,u,null),m.return=s,i.return=s,m.sibling=i,s.child=m,s.child.memoizedState=po(u),s.memoizedState=fo,i):Gl(s,p));if(p=i.memoizedState,p!==null){if(T=p.dehydrated,T!==null){if(w)return s.flags&256?(s.flags&=-257,go(i,s,u,Error(t(422)))):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(m=h.fallback,p=s.mode,h=Po({mode:"visible",children:h.children},p,0,null),m=rr(m,p,u,null),m.flags|=2,h.return=s,m.return=s,h.sibling=m,s.child=h,(s.mode&1)!==0&&Fr(s,i.child,null,u),s.child.memoizedState=po(u),s.memoizedState=fo,m);if((s.mode&1)===0)s=go(i,s,u,null);else if(T.data==="$!")s=go(i,s,u,Error(t(419)));else if(h=(u&i.childLanes)!==0,St||h){if(h=We,h!==null){switch(u&-u){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}h=(m&(h.suspendedLanes|u))!==0?0:m,h!==0&&h!==p.retryLane&&(p.retryLane=h,At(i,h,-1))}hu(),s=go(i,s,u,Error(t(421)))}else T.data==="$?"?(s.flags|=128,s.child=i.child,s=Qv.bind(null,i),T._reactRetry=s,s=null):(u=p.treeContext,ft=rn(T.nextSibling),xt=s,Le=!0,Ut=null,u!==null&&(Ot[Pt++]=ln,Ot[Pt++]=un,Ot[Pt++]=Gn,ln=u.id,un=u.overflow,Gn=s),s=Gl(s,s.pendingProps.children),s.flags|=4096);return s}return m?(h=rf(i,s,h.children,h.fallback,u),m=s.child,p=i.child.memoizedState,m.memoizedState=p===null?po(u):{baseLanes:p.baseLanes|u,cachePool:null},m.childLanes=i.childLanes&~u,s.memoizedState=fo,h):(u=nf(i,s,h.children,u),s.memoizedState=null,u)}return m?(h=rf(i,s,h.children,h.fallback,u),m=s.child,p=i.child.memoizedState,m.memoizedState=p===null?po(u):{baseLanes:p.baseLanes|u,cachePool:null},m.childLanes=i.childLanes&~u,s.memoizedState=fo,h):(u=nf(i,s,h.children,u),s.memoizedState=null,u)}function Gl(i,s){return s=Po({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function nf(i,s,u,h){var p=i.child;return i=p.sibling,u=Dn(p,{mode:"visible",children:u}),(s.mode&1)===0&&(u.lanes=h),u.return=s,u.sibling=null,i!==null&&(h=s.deletions,h===null?(s.deletions=[i],s.flags|=16):h.push(i)),s.child=u}function rf(i,s,u,h,p){var m=s.mode;i=i.child;var w=i.sibling,T={mode:"hidden",children:u};return(m&1)===0&&s.child!==i?(u=s.child,u.childLanes=0,u.pendingProps=T,s.deletions=null):(u=Dn(i,T),u.subtreeFlags=i.subtreeFlags&14680064),w!==null?h=Dn(w,h):(h=rr(h,m,p,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,h}function go(i,s,u,h){return h!==null&&Nl(h),Fr(s,i.child,null,u),i=Gl(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function sf(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),El(i.return,s,u)}function Jl(i,s,u,h,p){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:p}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=h,m.tail=u,m.tailMode=p)}function of(i,s,u){var h=s.pendingProps,p=h.revealOrder,m=h.tail;if(ut(i,s,h.children,u),h=Fe.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&sf(i,u,s);else if(i.tag===19)sf(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(je(Fe,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&io(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),Jl(s,!1,p,u,m);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&io(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}Jl(s,!0,u,null,m);break;case"together":Jl(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hn(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Br|=s.lanes,(u&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,u=Dn(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Dn(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function $v(i,s,u){switch(s.tag){case 3:Zd(s),Lr();break;case 5:wd(s);break;case 1:dt(s.type)&&Ys(s);break;case 4:Dl(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;je(Js,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(je(Fe,Fe.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?tf(i,s,u):(je(Fe,Fe.current&1),i=hn(i,s,u),i!==null?i.sibling:null);je(Fe,Fe.current&1);break;case 19:if(h=(u&s.childLanes)!==0,(i.flags&128)!==0){if(h)return of(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),je(Fe,Fe.current),h)break;return null;case 22:case 23:return s.lanes=0,Jd(i,s,u)}return hn(i,s,u)}function zv(i,s){switch(Rl(s),s.tag){case 1:return dt(s.type)&&Ks(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return $r(),De(ht),De(nt),Ll(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Ml(s),null;case 13:if(De(Fe),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Lr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return De(Fe),null;case 4:return $r(),null;case 10:return kl(s.type._context),null;case 22:case 23:return cu(),null;case 24:return null;default:return null}}var mo=!1,Zn=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,G=null;function yo(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){mt(i,s,h)}else u.current=null}function Ql(i,s,u){try{u()}catch(h){mt(i,s,h)}}var af=!1;function Bv(i,s){if(i=zh(),al(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var p=h.anchorOffset,m=h.focusNode;h=h.focusOffset;try{u.nodeType,m.nodeType}catch{u=null;break e}var w=0,T=-1,O=-1,I=0,z=0,re=i,W=null;t:for(;;){for(var J;re!==u||p!==0&&re.nodeType!==3||(T=w+p),re!==m||h!==0&&re.nodeType!==3||(O=w+h),re.nodeType===3&&(w+=re.nodeValue.length),(J=re.firstChild)!==null;)W=re,re=J;for(;;){if(re===i)break t;if(W===u&&++I===p&&(T=w),W===m&&++z===h&&(O=w),(J=re.nextSibling)!==null)break;re=W,W=re.parentNode}re=J}u=T===-1||O===-1?null:{start:T,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(gl={focusedElem:i,selectionRange:u},G=s;G!==null;)if(s=G,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,G=i;else for(;G!==null;){s=G;try{var H=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var fe=H.memoizedProps,Me=H.memoizedState,A=s.stateNode,P=A.getSnapshotBeforeUpdate(s.elementType===s.type?fe:zt(s.type,fe),Me);A.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var N=s.stateNode.containerInfo;if(N.nodeType===1)N.textContent="";else if(N.nodeType===9){var U=N.body;U!=null&&(U.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){mt(s,s.return,Z)}if(i=s.sibling,i!==null){i.return=s.return,G=i;break}G=s.return}return H=af,af=!1,H}function qi(i,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var m=p.destroy;p.destroy=void 0,m!==void 0&&Ql(s,u,m)}p=p.next}while(p!==h)}}function vo(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function Xl(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function lf(i,s,u){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Os,s)}catch{}switch(s.tag){case 0:case 11:case 14:case 15:if(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null)){var h=i=i.next;do{var p=h,m=p.destroy;p=p.tag,m!==void 0&&((p&2)!==0||(p&4)!==0)&&Ql(s,u,m),h=h.next}while(h!==i)}break;case 1:if(yo(s,u),i=s.stateNode,typeof i.componentWillUnmount=="function")try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(w){mt(s,u,w)}break;case 5:yo(s,u);break;case 4:ff(i,s,u)}}function uf(i){var s=i.alternate;s!==null&&(i.alternate=null,uf(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Yt],delete s[Di],delete s[_l],delete s[Ev],delete s[Tv])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function cf(i){return i.tag===5||i.tag===3||i.tag===4}function hf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||cf(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function df(i){e:{for(var s=i.return;s!==null;){if(cf(s))break e;s=s.return}throw Error(t(160))}var u=s;switch(u.tag){case 5:s=u.stateNode,u.flags&32&&(di(s,""),u.flags&=-33),u=hf(i),eu(i,u,s);break;case 3:case 4:s=u.stateNode.containerInfo,u=hf(i),Zl(i,u,s);break;default:throw Error(t(161))}}function Zl(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Vs));else if(h!==4&&(i=i.child,i!==null))for(Zl(i,s,u),i=i.sibling;i!==null;)Zl(i,s,u),i=i.sibling}function eu(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(eu(i,s,u),i=i.sibling;i!==null;)eu(i,s,u),i=i.sibling}function ff(i,s,u){for(var h=s,p=!1,m,w;;){if(!p){p=h.return;e:for(;;){if(p===null)throw Error(t(160));switch(m=p.stateNode,p.tag){case 5:w=!1;break e;case 3:m=m.containerInfo,w=!0;break e;case 4:m=m.containerInfo,w=!0;break e}p=p.return}p=!0}if(h.tag===5||h.tag===6){e:for(var T=i,O=h,I=u,z=O;;)if(lf(T,z,I),z.child!==null&&z.tag!==4)z.child.return=z,z=z.child;else{if(z===O)break e;for(;z.sibling===null;){if(z.return===null||z.return===O)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}w?(T=m,O=h.stateNode,T.nodeType===8?T.parentNode.removeChild(O):T.removeChild(O)):m.removeChild(h.stateNode)}else if(h.tag===18)w?(T=m,O=h.stateNode,T.nodeType===8?vl(T.parentNode,O):T.nodeType===1&&vl(T,O),Si(T)):vl(m,h.stateNode);else if(h.tag===4){if(h.child!==null){m=h.stateNode.containerInfo,w=!0,h.child.return=h,h=h.child;continue}}else if(lf(i,h,u),h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return,h.tag===4&&(p=!1)}h.sibling.return=h.return,h=h.sibling}}function tu(i,s){switch(s.tag){case 0:case 11:case 14:case 15:qi(3,s,s.return),vo(3,s),qi(5,s,s.return);return;case 1:return;case 5:var u=s.stateNode;if(u!=null){var h=s.memoizedProps,p=i!==null?i.memoizedProps:h;i=s.type;var m=s.updateQueue;if(s.updateQueue=null,m!==null){for(i==="input"&&h.type==="radio"&&h.name!=null&&Wc(u,h),La(i,p),s=La(i,h),p=0;p<m.length;p+=2){var w=m[p],T=m[p+1];w==="style"?Qc(u,T):w==="dangerouslySetInnerHTML"?Gc(u,T):w==="children"?di(u,T):j(u,w,T,s)}switch(i){case"input":Aa(u,h);break;case"textarea":qc(u,h);break;case"select":i=u._wrapperState.wasMultiple,u._wrapperState.wasMultiple=!!h.multiple,m=h.value,m!=null?wr(u,!!h.multiple,m,!1):i!==!!h.multiple&&(h.defaultValue!=null?wr(u,!!h.multiple,h.defaultValue,!0):wr(u,!!h.multiple,h.multiple?[]:"",!1))}u[Di]=h}}return;case 6:if(s.stateNode===null)throw Error(t(162));s.stateNode.nodeValue=s.memoizedProps;return;case 3:i!==null&&i.memoizedState.isDehydrated&&Si(s.stateNode.containerInfo);return;case 12:return;case 13:pf(s);return;case 19:pf(s);return;case 17:return}throw Error(t(163))}function pf(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Uv),s.forEach(function(h){var p=Xv.bind(null,i,h);u.has(h)||(u.add(h),h.then(p,p))})}}function Wv(i,s){for(G=s;G!==null;){s=G;var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var p=u[h];try{ff(i,p,s);var m=p.alternate;m!==null&&(m.return=null),p.return=null}catch(ue){mt(p,s,ue)}}if(u=s.child,(s.subtreeFlags&12854)!==0&&u!==null)u.return=s,G=u;else for(;G!==null;){s=G;try{var w=s.flags;if(w&32&&di(s.stateNode,""),w&512){var T=s.alternate;if(T!==null){var O=T.ref;O!==null&&(typeof O=="function"?O(null):O.current=null)}}if(w&8192)switch(s.tag){case 13:if(s.memoizedState!==null){var I=s.alternate;(I===null||I.memoizedState===null)&&(iu=Ue())}break;case 22:var z=s.memoizedState!==null,re=s.alternate,W=re!==null&&re.memoizedState!==null;u=s;e:{h=u,p=z;for(var J=null,H=h;;){if(H.tag===5){if(J===null){J=H;var fe=H.stateNode;if(p){var Me=fe.style;typeof Me.setProperty=="function"?Me.setProperty("display","none","important"):Me.display="none"}else{var A=H.stateNode,P=H.memoizedProps.style,N=P!=null&&P.hasOwnProperty("display")?P.display:null;A.style.display=Jc("display",N)}}}else if(H.tag===6)J===null&&(H.stateNode.nodeValue=p?"":H.memoizedProps);else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===h)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===h)break;for(;H.sibling===null;){if(H.return===null||H.return===h)break e;J===H&&(J=null),H=H.return}J===H&&(J=null),H.sibling.return=H.return,H=H.sibling}}if(z&&!W&&(u.mode&1)!==0){G=u;for(var U=u.child;U!==null;){for(u=G=U;G!==null;){h=G;var Z=h.child;switch(h.tag){case 0:case 11:case 14:case 15:qi(4,h,h.return);break;case 1:yo(h,h.return);var se=h.stateNode;if(typeof se.componentWillUnmount=="function"){var le=h.return;try{se.props=h.memoizedProps,se.state=h.memoizedState,se.componentWillUnmount()}catch(ue){mt(h,le,ue)}}break;case 5:yo(h,h.return);break;case 22:if(h.memoizedState!==null){yf(u);continue}}Z!==null?(Z.return=h,G=Z):yf(u)}U=U.sibling}}}switch(w&4102){case 2:df(s),s.flags&=-3;break;case 6:df(s),s.flags&=-3,tu(s.alternate,s);break;case 4096:s.flags&=-4097;break;case 4100:s.flags&=-4097,tu(s.alternate,s);break;case 4:tu(s.alternate,s)}}catch(ue){mt(s,s.return,ue)}if(u=s.sibling,u!==null){u.return=s.return,G=u;break}G=s.return}}}function Hv(i,s,u){G=i,gf(i)}function gf(i,s,u){for(var h=(i.mode&1)!==0;G!==null;){var p=G,m=p.child;if(p.tag===22&&h){var w=p.memoizedState!==null||mo;if(!w){var T=p.alternate,O=T!==null&&T.memoizedState!==null||Zn;T=mo;var I=Zn;if(mo=w,(Zn=O)&&!I)for(G=p;G!==null;)w=G,O=w.child,w.tag===22&&w.memoizedState!==null?vf(p):O!==null?(O.return=w,G=O):vf(p);for(;m!==null;)G=m,gf(m),m=m.sibling;G=p,mo=T,Zn=I}mf(i)}else(p.subtreeFlags&8772)!==0&&m!==null?(m.return=p,G=m):mf(i)}}function mf(i){for(;G!==null;){var s=G;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Zn||vo(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Zn)if(u===null)h.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:zt(s.type,u.memoizedProps);h.componentDidUpdate(p,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&ld(s,m,h);break;case 3:var w=s.updateQueue;if(w!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}ld(s,w,u)}break;case 5:var T=s.stateNode;if(u===null&&s.flags&4){u=T;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var I=s.alternate;if(I!==null){var z=I.memoizedState;if(z!==null){var re=z.dehydrated;re!==null&&Si(re)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(t(163))}Zn||s.flags&512&&Xl(s)}catch(W){mt(s,s.return,W)}}if(s===i){G=null;break}if(u=s.sibling,u!==null){u.return=s.return,G=u;break}G=s.return}}function yf(i){for(;G!==null;){var s=G;if(s===i){G=null;break}var u=s.sibling;if(u!==null){u.return=s.return,G=u;break}G=s.return}}function vf(i){for(;G!==null;){var s=G;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{vo(4,s)}catch(O){mt(s,u,O)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(O){mt(s,p,O)}}var m=s.return;try{Xl(s)}catch(O){mt(s,m,O)}break;case 5:var w=s.return;try{Xl(s)}catch(O){mt(s,w,O)}}}catch(O){mt(s,s.return,O)}if(s===i){G=null;break}var T=s.sibling;if(T!==null){T.return=s.return,G=T;break}G=s.return}}var Vv=Math.ceil,_o=M.ReactCurrentDispatcher,nu=M.ReactCurrentOwner,jt=M.ReactCurrentBatchConfig,xe=0,We=null,He=null,et=0,kt=0,Ur=En(0),Ke=0,Ki=null,Br=0,wo=0,ru=0,Yi=null,pt=null,iu=0,Wr=1/0,bo=!1,su=null,Rn=null,xo=!1,jn=null,So=0,Gi=0,ou=null,ko=-1,Eo=0;function ct(){return(xe&6)!==0?Ue():ko!==-1?ko:ko=Ue()}function An(i){return(i.mode&1)===0?1:(xe&2)!==0&&et!==0?et&-et:Ov.transition!==null?(Eo===0&&(i=Ps,Ps<<=1,(Ps&4194240)===0&&(Ps=64),Eo=i),Eo):(i=Ce,i!==0||(i=window.event,i=i===void 0?16:wh(i.type)),i)}function At(i,s,u){if(50<Gi)throw Gi=0,ou=null,Error(t(185));var h=To(i,s);return h===null?null:(vi(h,s,u),((xe&2)===0||h!==We)&&(h===We&&((xe&2)===0&&(wo|=s),Ke===4&&Nn(h,et)),gt(h,u),s===1&&xe===0&&(i.mode&1)===0&&(Wr=Ue()+500,Gs&&Cn())),h)}function To(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}function gt(i,s){var u=i.callbackNode;Oy(i,s);var h=js(i,i===We?et:0);if(h===0)u!==null&&uh(u),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(u!=null&&uh(u),s===1)i.tag===0?Cv(wf.bind(null,i)):sd(wf.bind(null,i)),Sv(function(){xe===0&&Cn()}),u=null;else{switch(dh(h)){case 1:u=Ha;break;case 4:u=ch;break;case 16:u=Cs;break;case 536870912:u=hh;break;default:u=Cs}u=Of(u,_f.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function _f(i,s){if(ko=-1,Eo=0,(xe&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Hr()&&i.callbackNode!==u)return null;var h=js(i,i===We?et:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=Co(i,h);else{s=h;var p=xe;xe|=2;var m=xf();(We!==i||et!==s)&&(Wr=Ue()+500,tr(i,s));do try{Yv();break}catch(T){bf(i,T)}while(!0);Sl(),_o.current=m,xe=p,He!==null?s=0:(We=null,et=0,s=Ke)}if(s!==0){if(s===2&&(p=Va(i),p!==0&&(h=p,s=au(i,p))),s===1)throw u=Ki,tr(i,0),Nn(i,h),gt(i,Ue()),u;if(s===6)Nn(i,h);else{if(p=i.current.alternate,(h&30)===0&&!qv(p)&&(s=Co(i,h),s===2&&(m=Va(i),m!==0&&(h=m,s=au(i,m))),s===1))throw u=Ki,tr(i,0),Nn(i,h),gt(i,Ue()),u;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:nr(i,pt);break;case 3:if(Nn(i,h),(h&130023424)===h&&(s=iu+500-Ue(),10<s)){if(js(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){ct(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=yl(nr.bind(null,i,pt),s);break}nr(i,pt);break;case 4:if(Nn(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var w=31-$t(h);m=1<<w,w=s[w],w>p&&(p=w),h&=~m}if(h=p,h=Ue()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Vv(h/1960))-h,10<h){i.timeoutHandle=yl(nr.bind(null,i,pt),h);break}nr(i,pt);break;case 5:nr(i,pt);break;default:throw Error(t(329))}}}return gt(i,Ue()),i.callbackNode===u?_f.bind(null,i):null}function au(i,s){var u=Yi;return i.current.memoizedState.isDehydrated&&(tr(i,s).flags|=256),i=Co(i,s),i!==2&&(s=pt,pt=u,s!==null&&lu(s)),i}function lu(i){pt===null?pt=i:pt.push.apply(pt,i)}function qv(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var p=u[h],m=p.getSnapshot;p=p.value;try{if(!Kt(m(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Nn(i,s){for(s&=~ru,s&=~wo,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-$t(s),h=1<<u;i[u]=-1,s&=~h}}function wf(i){if((xe&6)!==0)throw Error(t(327));Hr();var s=js(i,0);if((s&1)===0)return gt(i,Ue()),null;var u=Co(i,s);if(i.tag!==0&&u===2){var h=Va(i);h!==0&&(s=h,u=au(i,h))}if(u===1)throw u=Ki,tr(i,0),Nn(i,s),gt(i,Ue()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,nr(i,pt),gt(i,Ue()),null}function uu(i,s){var u=xe;xe|=1;try{return i(s)}finally{xe=u,xe===0&&(Wr=Ue()+500,Gs&&Cn())}}function er(i){jn!==null&&jn.tag===0&&(xe&6)===0&&Hr();var s=xe;xe|=1;var u=jt.transition,h=Ce;try{if(jt.transition=null,Ce=1,i)return i()}finally{Ce=h,jt.transition=u,xe=s,(xe&6)===0&&Cn()}}function cu(){kt=Ur.current,De(Ur)}function tr(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,xv(u)),He!==null)for(u=He.return;u!==null;){var h=u;switch(Rl(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ks();break;case 3:$r(),De(ht),De(nt),Ll();break;case 5:Ml(h);break;case 4:$r();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:kl(h.type._context);break;case 22:case 23:cu()}u=u.return}if(We=i,He=i=Dn(i.current,null),et=kt=s,Ke=0,Ki=null,ru=wo=Br=0,pt=Yi=null,Gt!==null){for(s=0;s<Gt.length;s++)if(u=Gt[s],h=u.interleaved,h!==null){u.interleaved=null;var p=h.next,m=u.pending;if(m!==null){var w=m.next;m.next=p,h.next=w}u.pending=h}Gt=null}return i}function bf(i,s){do{var u=He;try{if(Sl(),so.current=ho,oo){for(var h=ze.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}oo=!1}if(zr=0,Qe=rt=ze=null,Ui=!1,Bi=0,nu.current=null,u===null||u.return===null){Ke=1,Ki=s,He=null;break}e:{var m=i,w=u.return,T=u,O=s;if(s=et,T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var I=O,z=T,re=z.tag;if((z.mode&1)===0&&(re===0||re===11||re===15)){var W=z.alternate;W?(z.updateQueue=W.updateQueue,z.memoizedState=W.memoizedState,z.lanes=W.lanes):(z.updateQueue=null,z.memoizedState=null)}var J=Bd(w);if(J!==null){J.flags&=-257,Wd(J,w,T,m,s),J.mode&1&&Ud(m,I,s),s=J,O=I;var H=s.updateQueue;if(H===null){var fe=new Set;fe.add(O),s.updateQueue=fe}else H.add(O);break e}else{if((s&1)===0){Ud(m,I,s),hu();break e}O=Error(t(426))}}else if(Le&&T.mode&1){var Me=Bd(w);if(Me!==null){(Me.flags&65536)===0&&(Me.flags|=256),Wd(Me,w,T,m,s),Nl(O);break e}}m=O,Ke!==4&&(Ke=2),Yi===null?Yi=[m]:Yi.push(m),O=Hl(O,T),T=w;do{switch(T.tag){case 3:T.flags|=65536,s&=-s,T.lanes|=s;var A=$d(T,O,s);ad(T,A);break e;case 1:m=O;var P=T.type,N=T.stateNode;if((T.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Rn===null||!Rn.has(N)))){T.flags|=65536,s&=-s,T.lanes|=s;var U=zd(T,m,s);ad(T,U);break e}}T=T.return}while(T!==null)}kf(u)}catch(Z){s=Z,He===u&&u!==null&&(He=u=u.return);continue}break}while(!0)}function xf(){var i=_o.current;return _o.current=ho,i===null?ho:i}function hu(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),We===null||(Br&268435455)===0&&(wo&268435455)===0||Nn(We,et)}function Co(i,s){var u=xe;xe|=2;var h=xf();We===i&&et===s||tr(i,s);do try{Kv();break}catch(p){bf(i,p)}while(!0);if(Sl(),xe=u,_o.current=h,He!==null)throw Error(t(261));return We=null,et=0,Ke}function Kv(){for(;He!==null;)Sf(He)}function Yv(){for(;He!==null&&!_y();)Sf(He)}function Sf(i){var s=Cf(i.alternate,i,kt);i.memoizedProps=i.pendingProps,s===null?kf(i):He=s,nu.current=null}function kf(i){var s=i;do{var u=s.alternate;if(i=s.return,(s.flags&32768)===0){if(u=Lv(u,s,kt),u!==null){He=u;return}}else{if(u=zv(u,s),u!==null){u.flags&=32767,He=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ke=6,He=null;return}}if(s=s.sibling,s!==null){He=s;return}He=s=i}while(s!==null);Ke===0&&(Ke=5)}function nr(i,s){var u=Ce,h=jt.transition;try{jt.transition=null,Ce=1,Gv(i,s,u)}finally{jt.transition=h,Ce=u}return null}function Gv(i,s,u){do Hr();while(jn!==null);if((xe&6)!==0)throw Error(t(327));var h=i.finishedWork,p=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var m=h.lanes|h.childLanes;if(Py(i,m),i===We&&(He=We=null,et=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||xo||(xo=!0,Of(Cs,function(){return Hr(),null})),m=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||m){m=jt.transition,jt.transition=null;var w=Ce;Ce=1;var T=xe;xe|=4,nu.current=null,Bv(i,h),Wv(i,h),gv(gl),gl=null,i.current=h,Hv(h),wy(),xe=T,Ce=w,jt.transition=m}else i.current=h;if(xo&&(xo=!1,jn=i,So=p),m=i.pendingLanes,m===0&&(Rn=null),Sy(h.stateNode),gt(i,Ue()),s!==null)for(u=i.onRecoverableError,h=0;h<s.length;h++)u(s[h]);if(bo)throw bo=!1,i=su,su=null,i;return(So&1)!==0&&i.tag!==0&&Hr(),m=i.pendingLanes,(m&1)!==0?i===ou?Gi++:(Gi=0,ou=i):Gi=0,Cn(),null}function Hr(){if(jn!==null){var i=dh(So),s=jt.transition,u=Ce;try{if(jt.transition=null,Ce=16>i?16:i,jn===null)var h=!1;else{if(i=jn,jn=null,So=0,(xe&6)!==0)throw Error(t(331));var p=xe;for(xe|=4,G=i.current;G!==null;){var m=G,w=m.child;if((G.flags&16)!==0){var T=m.deletions;if(T!==null){for(var O=0;O<T.length;O++){var I=T[O];for(G=I;G!==null;){var z=G;switch(z.tag){case 0:case 11:case 15:qi(8,z,m)}var re=z.child;if(re!==null)re.return=z,G=re;else for(;G!==null;){z=G;var W=z.sibling,J=z.return;if(uf(z),z===I){G=null;break}if(W!==null){W.return=J,G=W;break}G=J}}}var H=m.alternate;if(H!==null){var fe=H.child;if(fe!==null){H.child=null;do{var Me=fe.sibling;fe.sibling=null,fe=Me}while(fe!==null)}}G=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,G=w;else e:for(;G!==null;){if(m=G,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:qi(9,m,m.return)}var A=m.sibling;if(A!==null){A.return=m.return,G=A;break e}G=m.return}}var P=i.current;for(G=P;G!==null;){w=G;var N=w.child;if((w.subtreeFlags&2064)!==0&&N!==null)N.return=w,G=N;else e:for(w=P;G!==null;){if(T=G,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:vo(9,T)}}catch(Z){mt(T,T.return,Z)}if(T===w){G=null;break e}var U=T.sibling;if(U!==null){U.return=T.return,G=U;break e}G=T.return}}if(xe=p,Cn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Os,i)}catch{}h=!0}return h}finally{Ce=u,jt.transition=s}}return!1}function Ef(i,s,u){s=Hl(u,s),s=$d(i,s,1),Pn(i,s),s=ct(),i=To(i,1),i!==null&&(vi(i,1,s),gt(i,s))}function mt(i,s,u){if(i.tag===3)Ef(i,i,u);else for(;s!==null;){if(s.tag===3){Ef(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Rn===null||!Rn.has(h))){i=Hl(u,i),i=zd(s,i,1),Pn(s,i),i=ct(),s=To(s,1),s!==null&&(vi(s,1,i),gt(s,i));break}}s=s.return}}function Jv(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),s=ct(),i.pingedLanes|=i.suspendedLanes&u,We===i&&(et&u)===u&&(Ke===4||Ke===3&&(et&130023424)===et&&500>Ue()-iu?tr(i,0):ru|=u),gt(i,s)}function Tf(i,s){s===0&&((i.mode&1)===0?s=1:(s=Rs,Rs<<=1,(Rs&130023424)===0&&(Rs=4194304)));var u=ct();i=To(i,s),i!==null&&(vi(i,s,u),gt(i,u))}function Qv(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Tf(i,u)}function Xv(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Tf(i,u)}var Cf;Cf=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||ht.current)St=!0;else{if((i.lanes&u)===0&&(s.flags&128)===0)return St=!1,$v(i,s,u);St=(i.flags&131072)!==0}else St=!1,Le&&(s.flags&1048576)!==0&&fd(s,no,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps;var p=Ar(s,nt.current);Dr(s,u),p=$l(null,s,h,i,p,u);var m=zl();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,dt(h)?(m=!0,Ys(s)):m=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Tl(s),p.updater=eo,s.stateNode=p,p._reactInternals=s,Ol(s,h,i,u),s=Yl(null,s,h,!0,m,u)):(s.tag=0,Le&&m&&Pl(s),ut(null,s,p,u),s=s.child),s;case 16:h=s.elementType;e:{switch(i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=e0(h),i=zt(h,i),p){case 0:s=Kl(null,s,h,i,u);break e;case 1:s=Xd(null,s,h,i,u);break e;case 11:s=Kd(null,s,h,i,u);break e;case 14:s=Yd(null,s,h,zt(h.type,i),u);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:zt(h,p),Kl(i,s,h,p,u);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:zt(h,p),Xd(i,s,h,p,u);case 3:e:{if(Zd(s),i===null)throw Error(t(387));h=s.pendingProps,m=s.memoizedState,p=m.element,od(i,s),Zs(s,h,null,u);var w=s.memoizedState;if(h=w.element,m.isDehydrated)if(m={element:h,isDehydrated:!1,cache:w.cache,transitions:w.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){p=Error(t(423)),s=ef(i,s,h,u,p);break e}else if(h!==p){p=Error(t(424)),s=ef(i,s,h,u,p);break e}else for(ft=rn(s.stateNode.containerInfo.firstChild),xt=s,Le=!0,Ut=null,u=_d(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Lr(),h===p){s=hn(i,s,u);break e}ut(i,s,h,u)}s=s.child}return s;case 5:return wd(s),i===null&&Al(s),h=s.type,p=s.pendingProps,m=i!==null?i.memoizedProps:null,w=p.children,ml(h,p)?w=null:m!==null&&ml(h,m)&&(s.flags|=32),Qd(i,s),ut(i,s,w,u),s.child;case 6:return i===null&&Al(s),null;case 13:return tf(i,s,u);case 4:return Dl(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Fr(s,null,h,u):ut(i,s,h,u),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:zt(h,p),Kd(i,s,h,p,u);case 7:return ut(i,s,s.pendingProps,u),s.child;case 8:return ut(i,s,s.pendingProps.children,u),s.child;case 12:return ut(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,m=s.memoizedProps,w=p.value,je(Js,h._currentValue),h._currentValue=w,m!==null)if(Kt(m.value,w)){if(m.children===p.children&&!ht.current){s=hn(i,s,u);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var T=m.dependencies;if(T!==null){w=m.child;for(var O=T.firstContext;O!==null;){if(O.context===h){if(m.tag===1){O=an(-1,u&-u),O.tag=2;var I=m.updateQueue;if(I!==null){I=I.shared;var z=I.pending;z===null?O.next=O:(O.next=z.next,z.next=O),I.pending=O}}m.lanes|=u,O=m.alternate,O!==null&&(O.lanes|=u),El(m.return,u,s),T.lanes|=u;break}O=O.next}}else if(m.tag===10)w=m.type===s.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(t(341));w.lanes|=u,T=w.alternate,T!==null&&(T.lanes|=u),El(w,u,s),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}ut(i,s,p.children,u),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,Dr(s,u),p=Ct(p),h=h(p),s.flags|=1,ut(i,s,h,u),s.child;case 14:return h=s.type,p=zt(h,s.pendingProps),p=zt(h.type,p),Yd(i,s,h,p,u);case 15:return Gd(i,s,s.type,s.pendingProps,u);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:zt(h,p),i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2),s.tag=1,dt(h)?(i=!0,Ys(s)):i=!1,Dr(s,u),hd(s,h,p),Ol(s,h,p,u),Yl(null,s,h,!0,i,u);case 19:return of(i,s,u);case 22:return Jd(i,s,u)}throw Error(t(156,s.tag))};function Of(i,s){return lh(i,s)}function Zv(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(i,s,u,h){return new Zv(i,s,u,h)}function du(i){return i=i.prototype,!(!i||!i.isReactComponent)}function e0(i){if(typeof i=="function")return du(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ne)return 11;if(i===pe)return 14}return 2}function Dn(i,s){var u=i.alternate;return u===null?(u=Nt(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Oo(i,s,u,h,p,m){var w=2;if(h=i,typeof i=="function")du(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case B:return rr(u.children,p,m,s);case K:w=8,p|=8;break;case L:return i=Nt(12,u,s,p|2),i.elementType=L,i.lanes=m,i;case de:return i=Nt(13,u,s,p),i.elementType=de,i.lanes=m,i;case _e:return i=Nt(19,u,s,p),i.elementType=_e,i.lanes=m,i;case ge:return Po(u,p,m,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:w=10;break e;case ee:w=9;break e;case ne:w=11;break e;case pe:w=14;break e;case me:w=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Nt(w,u,s,p),s.elementType=i,s.type=h,s.lanes=m,s}function rr(i,s,u,h){return i=Nt(7,i,h,s),i.lanes=u,i}function Po(i,s,u,h){return i=Nt(22,i,h,s),i.elementType=ge,i.lanes=u,i.stateNode={},i}function fu(i,s,u){return i=Nt(6,i,null,s),i.lanes=u,i}function pu(i,s,u){return s=Nt(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function t0(i,s,u,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qa(0),this.expirationTimes=qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function gu(i,s,u,h,p,m,w,T,O){return i=new t0(i,s,u,T,O),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Nt(3,null,null,s),i.current=m,m.stateNode=i,m.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null},Tl(m),i}function n0(i,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:h==null?null:""+h,children:i,containerInfo:s,implementation:u}}function Pf(i){if(!i)return Tn;i=i._reactInternals;e:{if(qn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(dt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(dt(u))return rd(i,u,s)}return s}function Rf(i,s,u,h,p,m,w,T,O){return i=gu(u,h,!0,i,p,m,w,T,O),i.context=Pf(null),u=i.current,h=ct(),p=An(u),m=an(h,p),m.callback=s??null,Pn(u,m),i.current.lanes=p,vi(i,p,h),gt(i,h),i}function Ro(i,s,u,h){var p=s.current,m=ct(),w=An(p);return u=Pf(u),s.context===null?s.context=u:s.pendingContext=u,s=an(m,w),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),Pn(p,s),i=At(p,w,m),i!==null&&Xs(i,p,w),w}function jo(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function jf(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function mu(i,s){jf(i,s),(i=i.alternate)&&jf(i,s)}function r0(){return null}var Af=typeof reportError=="function"?reportError:function(i){console.error(i)};function yu(i){this._internalRoot=i}Ao.prototype.render=yu.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Ro(i,s,null,null)},Ao.prototype.unmount=yu.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;er(function(){Ro(null,i,null,null)}),s[sn]=null}};function Ao(i){this._internalRoot=i}Ao.prototype.unstable_scheduleHydration=function(i){if(i){var s=gh();i={blockedOn:null,target:i,priority:s};for(var u=0;u<xn.length&&s!==0&&s<xn[u].priority;u++);xn.splice(u,0,i),u===0&&vh(i)}};function vu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function No(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function i0(i,s,u,h,p){if(p){if(typeof h=="function"){var m=h;h=function(){var I=jo(w);m.call(I)}}var w=Rf(s,h,i,0,null,!1,!1,"",Nf);return i._reactRootContainer=w,i[sn]=w.current,Ai(i.nodeType===8?i.parentNode:i),er(),w}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var T=h;h=function(){var I=jo(O);T.call(I)}}var O=gu(i,0,!1,null,null,!1,!1,"",Nf);return i._reactRootContainer=O,i[sn]=O.current,Ai(i.nodeType===8?i.parentNode:i),er(function(){Ro(s,O,u,h)}),O}function Do(i,s,u,h,p){var m=u._reactRootContainer;if(m){var w=m;if(typeof p=="function"){var T=p;p=function(){var O=jo(w);T.call(O)}}Ro(s,w,i,p)}else w=i0(u,s,i,p,h);return jo(w)}fh=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=yi(s.pendingLanes);u!==0&&(Ka(s,u|1),gt(s,Ue()),(xe&6)===0&&(Wr=Ue()+500,Cn()))}break;case 13:var h=ct();er(function(){return At(i,1,h)}),mu(i,1)}},Ya=function(i){if(i.tag===13){var s=ct();At(i,134217728,s),mu(i,134217728)}},ph=function(i){if(i.tag===13){var s=ct(),u=An(i);At(i,u,s),mu(i,u)}},gh=function(){return Ce},mh=function(i,s){var u=Ce;try{return Ce=i,s()}finally{Ce=u}},za=function(i,s,u){switch(s){case"input":if(Aa(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var p=qs(h);if(!p)throw Error(t(90));Uc(h),Aa(h,p)}}}break;case"textarea":qc(i,u);break;case"select":s=u.value,s!=null&&wr(i,!!u.multiple,s,!1)}},th=uu,nh=er;var s0={usingClientEntryPoint:!1,Events:[Mi,Rr,qs,Zc,eh,uu]},Ji={findFiberByHostInstance:Kn,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},o0={bundleType:Ji.bundleType,version:Ji.version,rendererPackageName:Ji.rendererPackageName,rendererConfig:Ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=oh(i),i===null?null:i.stateNode},findFiberByHostInstance:Ji.findFiberByHostInstance||r0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{Os=Mo.inject(o0),qt=Mo}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0,yt.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(s))throw Error(t(200));return n0(i,s,null,u)},yt.createRoot=function(i,s){if(!vu(i))throw Error(t(299));var u=!1,h="",p=Af;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=gu(i,1,!1,null,null,u,!1,h,p),i[sn]=s.current,Ai(i.nodeType===8?i.parentNode:i),new yu(s)},yt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=oh(s),i=i===null?null:i.stateNode,i},yt.flushSync=function(i){return er(i)},yt.hydrate=function(i,s,u){if(!No(s))throw Error(t(200));return Do(null,i,s,!0,u)},yt.hydrateRoot=function(i,s,u){if(!vu(i))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,p=!1,m="",w=Af;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),s=Rf(s,null,i,1,u??null,p,!1,m,w),i[sn]=s.current,Ai(i),h)for(i=0;i<h.length;i++)u=h[i],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new Ao(s)},yt.render=function(i,s,u){if(!No(s))throw Error(t(200));return Do(null,i,s,!1,u)},yt.unmountComponentAtNode=function(i){if(!No(i))throw Error(t(40));return i._reactRootContainer?(er(function(){Do(null,null,i,!1,function(){i._reactRootContainer=null,i[sn]=null})}),!0):!1},yt.unstable_batchedUpdates=uu,yt.unstable_renderSubtreeIntoContainer=function(i,s,u,h){if(!No(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Do(i,s,u,!1,h)},yt.version="18.0.0-fc46dba67-20220329",yt}var Uf;function _0(){if(Uf)return bu.exports;Uf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bu.exports=v0(),bu.exports}var w0=_0();const b0=fc(w0);function Rg({selectedDate:n,onSelectDate:e,minDate:t}){const[r,o]=X.useState(!1),[a,l]=X.useState(new Date),c=X.useRef(null);X.useEffect(()=>{const L=Y=>{c.current&&!c.current.contains(Y.target)&&o(!1)};return r&&document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[r]);const d=L=>{if(!L)return"Select date";const[Y,ee,ne]=L.split("-").map(Number);return new Date(Y,ee-1,ne).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},f=L=>{const Y=L.getFullYear(),ee=L.getMonth(),ne=new Date(Y,ee,1),_e=new Date(Y,ee+1,0).getDate(),pe=ne.getDay();return{daysInMonth:_e,startingDayOfWeek:pe,year:Y,month:ee}},{daysInMonth:g,startingDayOfWeek:y,year:v,month:_}=f(a),b=()=>{l(new Date(a.getFullYear(),a.getMonth()-1))},S=()=>{l(new Date(a.getFullYear(),a.getMonth()+1))},k=L=>{const Y=a.getFullYear(),ee=String(a.getMonth()+1).padStart(2,"0"),ne=String(L).padStart(2,"0"),de=`${Y}-${ee}-${ne}`;e(de),o(!1)},C=L=>{if(!t)return!1;const Y=new Date(v,_,L),[ee,ne,de]=t.split("-").map(Number),_e=new Date(ee,ne-1,de);return Y<_e},R=L=>{if(!n)return!1;const[Y,ee,ne]=n.split("-").map(Number);return v===Y&&_===ee-1&&L===ne},j=L=>{const Y=new Date;return v===Y.getFullYear()&&_===Y.getMonth()&&L===Y.getDate()},M=[],F=42,$=new Date(v,_,0).getDate();for(let L=y-1;L>=0;L--)M.push({day:$-L,isCurrentMonth:!1,isNextMonth:!1});for(let L=1;L<=g;L++)M.push({day:L,isCurrentMonth:!0,isNextMonth:!1});const B=F-M.length;for(let L=1;L<=B;L++)M.push({day:L,isCurrentMonth:!1,isNextMonth:!0});const K=["January","February","March","April","May","June","July","August","September","October","November","December"];return x.jsxs("div",{className:"calendar-picker-wrapper",ref:c,children:[x.jsxs("button",{type:"button",className:"calendar-trigger",onClick:()=>o(!r),children:[x.jsx("span",{className:"calendar-icon",children:""}),x.jsx("span",{className:"calendar-display-date",children:d(n)}),x.jsx("span",{className:"calendar-arrow",children:r?"":""})]}),r&&x.jsxs("div",{className:"calendar-dropdown",children:[x.jsxs("div",{className:"calendar-header",children:[x.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:b,children:""}),x.jsxs("div",{className:"calendar-month-year",children:[K[_]," ",v]}),x.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:S,children:""})]}),x.jsx("div",{className:"calendar-weekdays",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(L=>x.jsx("div",{className:"calendar-weekday",children:L},L))}),x.jsx("div",{className:"calendar-days-grid",children:M.map((L,Y)=>x.jsx("button",{type:"button",className:`calendar-day ${L.isCurrentMonth?"":"other-month"} ${R(L.day)&&L.isCurrentMonth?"selected":""} ${j(L.day)&&L.isCurrentMonth?"today":""} ${C(L.day)&&L.isCurrentMonth?"disabled":""}`,onClick:()=>L.isCurrentMonth&&!C(L.day)&&k(L.day),disabled:!L.isCurrentMonth||C(L.day),children:L.day},Y))})]})]})}function jg({selectedCategory:n,onSelectCategory:e}){const[t,r]=X.useState(!1),[o,a]=X.useState(""),[l,c]=X.useState(!1),d=X.useRef(null),f=[{value:"",label:"No Category"},{value:"Work",label:"Work"},{value:"Personal",label:"Personal"},{value:"Coding",label:"Coding"},{value:"Shopping",label:"Shopping"},{value:"Health",label:"Health"},{value:"Hydration",label:"Hydration"},{value:"Food",label:"Food"},{value:"Finance",label:"Finance"},{value:"Education",label:"Education"},{value:"Relationship",label:"Relationship"},{value:"Travel",label:"Travel"},{value:"Home",label:"Home"},{value:"Social",label:"Social"}];X.useEffect(()=>{const b=S=>{d.current&&!d.current.contains(S.target)&&(r(!1),c(!1),a(""))};return t&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[t]);const g=b=>{e(b),r(!1),c(!1),a("")},y=()=>{o.trim()&&(e(o.trim()),r(!1),c(!1),a(""))},v=b=>{b.key==="Enter"?y():b.key==="Escape"&&(c(!1),a(""))},_=n||"Category (optional)";return f.some(b=>b.value===n),x.jsxs("div",{className:"category-picker-wrapper",ref:d,children:[x.jsxs("button",{type:"button",className:"category-trigger",onClick:()=>r(!t),children:[x.jsx("span",{className:"category-icon",children:""}),x.jsx("span",{className:"category-display-text",children:_}),x.jsx("span",{className:"category-arrow",children:t?"":""})]}),t&&x.jsx("div",{className:"category-dropdown",children:l?x.jsxs("div",{className:"category-custom-input-wrapper",children:[x.jsx("input",{type:"text",className:"category-custom-input",placeholder:"Enter custom category...",value:o,onChange:b=>a(b.target.value),onKeyDown:v,autoFocus:!0}),x.jsxs("div",{className:"category-custom-actions",children:[x.jsx("button",{type:"button",className:"category-custom-save",onClick:y,children:"Save"}),x.jsx("button",{type:"button",className:"category-custom-cancel",onClick:()=>{c(!1),a("")},children:"Cancel"})]})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"category-list",children:f.map(b=>x.jsxs("button",{type:"button",className:`category-option ${n===b.value?"selected":""}`,onClick:()=>g(b.value),children:[x.jsx("span",{className:"category-check",children:n===b.value?"":""}),x.jsx("span",{className:"category-label",children:b.label})]},b.value))}),x.jsx("div",{className:"category-divider"}),x.jsxs("button",{type:"button",className:"category-custom-btn",onClick:()=>c(!0),children:[x.jsx("span",{className:"category-plus",children:"+"}),x.jsx("span",{children:"Custom Category"})]})]})})]})}function Bf({addTask:n}){const[e,t]=X.useState(""),[r,o]=X.useState("medium"),[a,l]=X.useState(""),[c,d]=X.useState(""),[f,g]=X.useState(""),[y,v]=X.useState("15"),_=()=>{const S=new Date,k=S.getFullYear(),C=String(S.getMonth()+1).padStart(2,"0"),R=String(S.getDate()).padStart(2,"0");return`${k}-${C}-${R}`},b=S=>{S.preventDefault(),e.trim()&&(n({text:e,priority:r,dueDate:a,dueTime:c,category:f.trim(),reminderMinutes:y?parseInt(y):null}),t(""),o("medium"),l(""),d(""),g(""),v("15"))};return x.jsxs("form",{className:"todo-form",onSubmit:b,children:[x.jsx("div",{className:"form-row",children:x.jsx("input",{type:"text",className:"todo-input",placeholder:"Add a new task...",value:e,onChange:S=>t(S.target.value),required:!0})}),x.jsxs("div",{className:"form-row form-options",children:[x.jsxs("select",{className:"todo-select priority-select",value:r,onChange:S=>o(S.target.value),children:[x.jsx("option",{value:"low",children:"Low Priority"}),x.jsx("option",{value:"medium",children:"Medium Priority"}),x.jsx("option",{value:"high",children:"High Priority"})]}),x.jsx(Rg,{selectedDate:a,onSelectDate:l,minDate:_()}),x.jsx("input",{type:"time",className:"todo-time",value:c,onChange:S=>d(S.target.value),placeholder:"Time"}),x.jsx(jg,{selectedCategory:f,onSelectCategory:g}),x.jsxs("select",{className:"todo-select reminder-select",value:y,onChange:S=>v(S.target.value),children:[x.jsx("option",{value:"",children:"No Reminder"}),x.jsx("option",{value:"5",children:"5 min before"}),x.jsx("option",{value:"15",children:"15 min before"}),x.jsx("option",{value:"30",children:"30 min before"}),x.jsx("option",{value:"60",children:"1 hour before"}),x.jsx("option",{value:"1440",children:"1 day before"})]}),x.jsx("button",{type:"submit",className:"todo-button",children:"Add Task"})]})]})}function ra({task:n,toggleComplete:e,deleteTask:t,editTask:r}){const[o,a]=X.useState(!1),[l,c]=X.useState(n.text),[d,f]=X.useState(n.priority||"medium"),[g,y]=X.useState(n.dueDate||""),[v,_]=X.useState(n.dueTime||""),[b,S]=X.useState(n.category||""),[k,C]=X.useState(n.reminderMinutes||""),R=()=>{l.trim()&&(r(n.id,{text:l,priority:d,dueDate:g,dueTime:v,category:b.trim(),reminderMinutes:k?parseInt(k):null}),a(!1))},j=()=>{c(n.text),f(n.priority||"medium"),y(n.dueDate||""),_(n.dueTime||""),S(n.category||""),C(n.reminderMinutes||""),a(!1)},M=()=>`priority-${n.priority||"medium"}`,F=()=>{if(!n.dueDate||n.completed)return!1;const L=new Date,[Y,ee,ne]=n.dueDate.split("-").map(Number),de=new Date(Y,ee-1,ne);if(n.dueTime){const[_e,pe]=n.dueTime.split(":");de.setHours(parseInt(_e),parseInt(pe),0,0)}return de<L},$=L=>{if(!L)return"";const[Y,ee,ne]=L.split("-").map(Number);return new Date(Y,ee-1,ne).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},B=L=>{if(!L)return"";const[Y,ee]=L.split(":"),ne=parseInt(Y),de=ne>=12?"PM":"AM";return`${ne%12||12}:${ee} ${de}`},K=L=>L?L<60?`${L} min before`:L===60?"1 hour before":L===1440?"1 day before":`${Math.floor(L/60)} hours before`:"";return x.jsx("div",{className:`todo-item ${n.completed?"completed":""} ${M()} ${F()?"overdue":""}`,children:o?x.jsxs("div",{className:"todo-edit",children:[x.jsx("input",{type:"text",className:"todo-edit-input",value:l,onChange:L=>c(L.target.value),onKeyPress:L=>L.key==="Enter"&&R()}),x.jsxs("div",{className:"edit-options",children:[x.jsxs("select",{className:"todo-select-edit",value:d,onChange:L=>f(L.target.value),children:[x.jsx("option",{value:"low",children:"Low"}),x.jsx("option",{value:"medium",children:"Medium"}),x.jsx("option",{value:"high",children:"High"})]}),x.jsx(Rg,{selectedDate:g,onSelectDate:y,minDate:""}),x.jsx("input",{type:"time",className:"todo-time-edit",value:v,onChange:L=>_(L.target.value)}),x.jsx(jg,{selectedCategory:b,onSelectCategory:S}),x.jsxs("select",{className:"todo-select-edit",value:k,onChange:L=>C(L.target.value),children:[x.jsx("option",{value:"",children:"No Reminder"}),x.jsx("option",{value:"5",children:"5 min before"}),x.jsx("option",{value:"15",children:"15 min before"}),x.jsx("option",{value:"30",children:"30 min before"}),x.jsx("option",{value:"60",children:"1 hour before"}),x.jsx("option",{value:"1440",children:"1 day before"})]})]}),x.jsxs("div",{className:"todo-edit-actions",children:[x.jsx("button",{className:"btn-save",onClick:R,children:"Save"}),x.jsx("button",{className:"btn-cancel",onClick:j,children:"Cancel"})]})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"todo-content",children:[x.jsx("input",{type:"checkbox",className:"todo-checkbox",checked:n.completed,onChange:()=>e(n.id)}),x.jsxs("div",{className:"todo-details",children:[x.jsxs("div",{className:"todo-text-row",children:[x.jsx("span",{className:"todo-text",children:n.text}),x.jsx("span",{className:`priority-badge priority-badge-${n.priority||"medium"}`,children:(n.priority||"medium").toUpperCase()})]}),x.jsxs("div",{className:"todo-meta",children:[n.category&&x.jsx("span",{className:"category-tag",children:n.category}),n.dueDate&&x.jsxs("span",{className:`due-date ${F()?"overdue-text":""}`,children:["Due: ",$(n.dueDate),n.dueTime&&` at ${B(n.dueTime)}`,F()&&" "]}),n.reminderMinutes&&!n.completed&&x.jsxs("span",{className:"reminder-badge",children:[" ",K(n.reminderMinutes)]})]})]})]}),x.jsxs("div",{className:"todo-actions",children:[x.jsx("button",{className:"btn-edit",onClick:()=>a(!0),disabled:n.completed,children:"Edit"}),x.jsx("button",{className:"btn-delete",onClick:()=>t(n.id),children:"Delete"})]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function bs(n){return n+.5|0}const $n=(n,e,t)=>Math.max(Math.min(n,t),e);function rs(n){return $n(bs(n*2.55),0,255)}function Bn(n){return $n(bs(n*255),0,255)}function mn(n){return $n(bs(n/2.55)/100,0,1)}function Wf(n){return $n(bs(n*100),0,100)}const Dt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vu=[..."0123456789ABCDEF"],x0=n=>Vu[n&15],S0=n=>Vu[(n&240)>>4]+Vu[n&15],Io=n=>(n&240)>>4===(n&15),k0=n=>Io(n.r)&&Io(n.g)&&Io(n.b)&&Io(n.a);function E0(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Dt[n[1]]*17,g:255&Dt[n[2]]*17,b:255&Dt[n[3]]*17,a:e===5?Dt[n[4]]*17:255}:(e===7||e===9)&&(t={r:Dt[n[1]]<<4|Dt[n[2]],g:Dt[n[3]]<<4|Dt[n[4]],b:Dt[n[5]]<<4|Dt[n[6]],a:e===9?Dt[n[7]]<<4|Dt[n[8]]:255})),t}const T0=(n,e)=>n<255?e(n):"";function C0(n){var e=k0(n)?x0:S0;return n?"#"+e(n.r)+e(n.g)+e(n.b)+T0(n.a,e):void 0}const O0=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ag(n,e,t){const r=e*Math.min(t,1-t),o=(a,l=(a+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function P0(n,e,t){const r=(o,a=(o+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function R0(n,e,t){const r=Ag(n,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)r[o]*=1-e-t,r[o]+=e;return r}function j0(n,e,t,r,o){return n===o?(e-t)/r+(e<t?6:0):e===o?(t-n)/r+2:(n-e)/r+4}function gc(n){const t=n.r/255,r=n.g/255,o=n.b/255,a=Math.max(t,r,o),l=Math.min(t,r,o),c=(a+l)/2;let d,f,g;return a!==l&&(g=a-l,f=c>.5?g/(2-a-l):g/(a+l),d=j0(t,r,o,g,a),d=d*60+.5),[d|0,f||0,c]}function mc(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Bn)}function yc(n,e,t){return mc(Ag,n,e,t)}function A0(n,e,t){return mc(R0,n,e,t)}function N0(n,e,t){return mc(P0,n,e,t)}function Ng(n){return(n%360+360)%360}function D0(n){const e=O0.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?rs(+e[5]):Bn(+e[5]));const o=Ng(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=A0(o,a,l):e[1]==="hsv"?r=N0(o,a,l):r=yc(o,a,l),{r:r[0],g:r[1],b:r[2],a:t}}function M0(n,e){var t=gc(n);t[0]=Ng(t[0]+e),t=yc(t),n.r=t[0],n.g=t[1],n.b=t[2]}function I0(n){if(!n)return;const e=gc(n),t=e[0],r=Wf(e[1]),o=Wf(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${o}%, ${mn(n.a)})`:`hsl(${t}, ${r}%, ${o}%)`}const Hf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function L0(){const n={},e=Object.keys(Vf),t=Object.keys(Hf);let r,o,a,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],o=0;o<t.length;o++)a=t[o],c=c.replace(a,Hf[a]);a=parseInt(Vf[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let Lo;function F0(n){Lo||(Lo=L0(),Lo.transparent=[0,0,0,0]);const e=Lo[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const $0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function z0(n){const e=$0.exec(n);let t=255,r,o,a;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?rs(l):$n(l*255,0,255)}return r=+e[1],o=+e[3],a=+e[5],r=255&(e[2]?rs(r):$n(r,0,255)),o=255&(e[4]?rs(o):$n(o,0,255)),a=255&(e[6]?rs(a):$n(a,0,255)),{r,g:o,b:a,a:t}}}function U0(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${mn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ku=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Vr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function B0(n,e,t){const r=Vr(mn(n.r)),o=Vr(mn(n.g)),a=Vr(mn(n.b));return{r:Bn(ku(r+t*(Vr(mn(e.r))-r))),g:Bn(ku(o+t*(Vr(mn(e.g))-o))),b:Bn(ku(a+t*(Vr(mn(e.b))-a))),a:n.a+t*(e.a-n.a)}}function Fo(n,e,t){if(n){let r=gc(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=yc(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Dg(n,e){return n&&Object.assign(e||{},n)}function qf(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Bn(n[3]))):(e=Dg(n,{r:0,g:0,b:0,a:1}),e.a=Bn(e.a)),e}function W0(n){return n.charAt(0)==="r"?z0(n):D0(n)}class fs{constructor(e){if(e instanceof fs)return e;const t=typeof e;let r;t==="object"?r=qf(e):t==="string"&&(r=E0(e)||F0(e)||W0(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Dg(this._rgb);return e&&(e.a=mn(e.a)),e}set rgb(e){this._rgb=qf(e)}rgbString(){return this._valid?U0(this._rgb):void 0}hexString(){return this._valid?C0(this._rgb):void 0}hslString(){return this._valid?I0(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,o=e.rgb;let a;const l=t===a?.5:t,c=2*l-1,d=r.a-o.a,f=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;a=1-f,r.r=255&f*r.r+a*o.r+.5,r.g=255&f*r.g+a*o.g+.5,r.b=255&f*r.b+a*o.b+.5,r.a=l*r.a+(1-l)*o.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=B0(this._rgb,e._rgb,t)),this}clone(){return new fs(this.rgb)}alpha(e){return this._rgb.a=Bn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=bs(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fo(this._rgb,2,e),this}darken(e){return Fo(this._rgb,2,-e),this}saturate(e){return Fo(this._rgb,1,e),this}desaturate(e){return Fo(this._rgb,1,-e),this}rotate(e){return M0(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function dn(){}const H0=(()=>{let n=0;return()=>n++})();function Re(n){return n==null}function Ge(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ke(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Lt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Xt(n,e){return Lt(n)?n:e}function Se(n,e){return typeof n>"u"?e:n}const V0=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Mg=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ie(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Oe(n,e,t,r){let o,a,l;if(Ge(n))for(a=n.length,o=0;o<a;o++)e.call(t,n[o],o);else if(ke(n))for(l=Object.keys(n),a=l.length,o=0;o<a;o++)e.call(t,n[l[o]],l[o])}function ua(n,e){let t,r,o,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(o=n[t],a=e[t],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function ca(n){if(Ge(n))return n.map(ca);if(ke(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let o=0;for(;o<r;++o)e[t[o]]=ca(n[t[o]]);return e}return n}function Ig(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function q0(n,e,t,r){if(!Ig(n))return;const o=e[n],a=t[n];ke(o)&&ke(a)?ps(o,a,r):e[n]=ca(a)}function ps(n,e,t){const r=Ge(e)?e:[e],o=r.length;if(!ke(n))return n;t=t||{};const a=t.merger||q0;let l;for(let c=0;c<o;++c){if(l=r[c],!ke(l))continue;const d=Object.keys(l);for(let f=0,g=d.length;f<g;++f)a(d[f],n,l,t)}return n}function ls(n,e){return ps(n,e,{merger:K0})}function K0(n,e,t){if(!Ig(n))return;const r=e[n],o=t[n];ke(r)&&ke(o)?ls(r,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ca(o))}const Kf={"":n=>n,x:n=>n.x,y:n=>n.y};function Y0(n){const e=n.split("."),t=[];let r="";for(const o of e)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function G0(n){const e=Y0(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function yr(n,e){return(Kf[e]||(Kf[e]=G0(e)))(n)}function vc(n){return n.charAt(0).toUpperCase()+n.slice(1)}const gs=n=>typeof n<"u",Hn=n=>typeof n=="function",Yf=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function J0(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Pe=Math.PI,qe=2*Pe,ha=Number.POSITIVE_INFINITY,Q0=Pe/180,Je=Pe/2,ir=Pe/4,Gf=Pe*2/3,Lg=Math.log10,Wn=Math.sign;function ia(n,e,t){return Math.abs(n-e)<t}function Jf(n){const e=Math.round(n);n=ia(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Lg(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function X0(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((o,a)=>o-a).pop(),e}function Z0(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function da(n){return!Z0(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function e_(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function t_(n,e,t){let r,o,a;for(r=0,o=n.length;r<o;r++)a=n[r][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function yn(n){return n*(Pe/180)}function n_(n){return n*(180/Pe)}function Qf(n){if(!Lt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Fg(n,e){const t=e.x-n.x,r=e.y-n.y,o=Math.sqrt(t*t+r*r);let a=Math.atan2(r,t);return a<-.5*Pe&&(a+=qe),{angle:a,distance:o}}function r_(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function nn(n){return(n%qe+qe)%qe}function fa(n,e,t,r){const o=nn(n),a=nn(e),l=nn(t),c=nn(a-o),d=nn(l-o),f=nn(o-a),g=nn(o-l);return o===a||o===l||r&&a===l||c>d&&f<g}function wt(n,e,t){return Math.max(e,Math.min(t,n))}function i_(n){return wt(n,-32768,32767)}function pr(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function _c(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,o=0,a;for(;r-o>1;)a=o+r>>1,t(a)?o=a:r=a;return{lo:o,hi:r}}const qu=(n,e,t,r)=>_c(n,t,r?o=>{const a=n[o][e];return a<t||a===t&&n[o+1][e]===t}:o=>n[o][e]<t),s_=(n,e,t)=>_c(n,t,r=>n[r][e]>=t);function o_(n,e,t){let r=0,o=n.length;for(;r<o&&n[r]<e;)r++;for(;o>r&&n[o-1]>t;)o--;return r>0||o<n.length?n.slice(r,o):n}const $g=["push","pop","shift","splice","unshift"];function a_(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$g.forEach(t=>{const r="_onData"+vc(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...a)}),l}})})}function Xf(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,o=r.indexOf(e);o!==-1&&r.splice(o,1),!(r.length>0)&&($g.forEach(a=>{delete n[a]}),delete n._chartjs)}function zg(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Ug=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Bg(n,e){let t=[],r=!1;return function(...o){t=o,r||(r=!0,Ug.call(window,()=>{r=!1,n.apply(e,t)}))}}function l_(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const wc=n=>n==="start"?"left":n==="end"?"right":"center",at=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,u_=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,$o=n=>n===0||n===1,Zf=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*qe/t)),ep=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*qe/t)+1,us={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Je)+1,easeOutSine:n=>Math.sin(n*Je),easeInOutSine:n=>-.5*(Math.cos(Pe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>$o(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>$o(n)?n:Zf(n,.075,.3),easeOutElastic:n=>$o(n)?n:ep(n,.075,.3),easeInOutElastic(n){return $o(n)?n:n<.5?.5*Zf(n*2,.1125,.45):.5+.5*ep(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-us.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?us.easeInBounce(n*2)*.5:us.easeOutBounce(n*2-1)*.5+.5};function Wg(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function tp(n){return Wg(n)?n:new fs(n)}function Eu(n){return Wg(n)?n:new fs(n).saturate(.5).darken(.1).hexString()}const c_=["x","y","borderWidth","radius","tension"],h_=["color","borderColor","backgroundColor"];function d_(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:h_},numbers:{type:"number",properties:c_}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function f_(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const np=new Map;function p_(n,e){e=e||{};const t=n+JSON.stringify(e);let r=np.get(t);return r||(r=new Intl.NumberFormat(n,e),np.set(t,r)),r}function bc(n,e,t){return p_(e,t).format(n)}const g_={values(n){return Ge(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let o,a=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(o="scientific"),a=m_(n,t)}const l=Lg(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),bc(n,r,d)}};function m_(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Hg={formatters:g_};function y_(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vr=Object.create(null),Ku=Object.create(null);function cs(n,e){if(!e)return n;const t=e.split(".");for(let r=0,o=t.length;r<o;++r){const a=t[r];n=n[a]||(n[a]=Object.create(null))}return n}function Tu(n,e,t){return typeof e=="string"?ps(cs(n,e),t):ps(cs(n,""),e)}class v_{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>Eu(o.backgroundColor),this.hoverBorderColor=(r,o)=>Eu(o.borderColor),this.hoverColor=(r,o)=>Eu(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Tu(this,e,t)}get(e){return cs(this,e)}describe(e,t){return Tu(Ku,e,t)}override(e,t){return Tu(vr,e,t)}route(e,t,r,o){const a=cs(this,e),l=cs(this,r),c="_"+t;Object.defineProperties(a,{[c]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[c],f=l[o];return ke(d)?Object.assign({},f,d):Se(d,f)},set(d){this[c]=d}}})}apply(e){e.forEach(t=>t(this))}}var Be=new v_({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[d_,f_,y_]);function __(n){return!n||Re(n.size)||Re(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function rp(n,e,t,r,o){let a=e[o];return a||(a=e[o]=n.measureText(o).width,t.push(o)),a>r&&(r=a),r}function sr(n,e,t){const r=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*r)/r+o}function ip(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function sp(n,e,t,r){Vg(n,e,t,r,null)}function Vg(n,e,t,r,o){let a,l,c,d,f,g,y,v;const _=e.pointStyle,b=e.rotation,S=e.radius;let k=(b||0)*Q0;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(k),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),_){default:o?n.ellipse(t,r,o/2,S,0,0,qe):n.arc(t,r,S,0,qe),n.closePath();break;case"triangle":g=o?o/2:S,n.moveTo(t+Math.sin(k)*g,r-Math.cos(k)*S),k+=Gf,n.lineTo(t+Math.sin(k)*g,r-Math.cos(k)*S),k+=Gf,n.lineTo(t+Math.sin(k)*g,r-Math.cos(k)*S),n.closePath();break;case"rectRounded":f=S*.516,d=S-f,l=Math.cos(k+ir)*d,y=Math.cos(k+ir)*(o?o/2-f:d),c=Math.sin(k+ir)*d,v=Math.sin(k+ir)*(o?o/2-f:d),n.arc(t-y,r-c,f,k-Pe,k-Je),n.arc(t+v,r-l,f,k-Je,k),n.arc(t+y,r+c,f,k,k+Je),n.arc(t-v,r+l,f,k+Je,k+Pe),n.closePath();break;case"rect":if(!b){d=Math.SQRT1_2*S,g=o?o/2:d,n.rect(t-g,r-d,2*g,2*d);break}k+=ir;case"rectRot":y=Math.cos(k)*(o?o/2:S),l=Math.cos(k)*S,c=Math.sin(k)*S,v=Math.sin(k)*(o?o/2:S),n.moveTo(t-y,r-c),n.lineTo(t+v,r-l),n.lineTo(t+y,r+c),n.lineTo(t-v,r+l),n.closePath();break;case"crossRot":k+=ir;case"cross":y=Math.cos(k)*(o?o/2:S),l=Math.cos(k)*S,c=Math.sin(k)*S,v=Math.sin(k)*(o?o/2:S),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"star":y=Math.cos(k)*(o?o/2:S),l=Math.cos(k)*S,c=Math.sin(k)*S,v=Math.sin(k)*(o?o/2:S),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l),k+=ir,y=Math.cos(k)*(o?o/2:S),l=Math.cos(k)*S,c=Math.sin(k)*S,v=Math.sin(k)*(o?o/2:S),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"line":l=o?o/2:Math.cos(k)*S,c=Math.sin(k)*S,n.moveTo(t-l,r-c),n.lineTo(t+l,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(k)*(o?o/2:S),r+Math.sin(k)*S);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function qg(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function xc(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Sc(n){n.restore()}function w_(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Re(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function b_(n,e,t,r,o){if(o.strikethrough||o.underline){const a=n.measureText(r),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,d=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,g=o.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(l,g),n.lineTo(c,g),n.stroke()}}function x_(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function ms(n,e,t,r,o,a={}){const l=Ge(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let d,f;for(n.save(),n.font=o.string,w_(n,a),d=0;d<l.length;++d)f=l[d],a.backdrop&&x_(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Re(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,r,a.maxWidth)),n.fillText(f,t,r,a.maxWidth),b_(n,t,r,f,a),r+=Number(o.lineHeight);n.restore()}function pa(n,e){const{x:t,y:r,w:o,h:a,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*Pe,Pe,!0),n.lineTo(t,r+a-l.bottomLeft),n.arc(t+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,Pe,Je,!0),n.lineTo(t+o-l.bottomRight,r+a),n.arc(t+o-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Je,0,!0),n.lineTo(t+o,r+l.topRight),n.arc(t+o-l.topRight,r+l.topRight,l.topRight,0,-Je,!0),n.lineTo(t+l.topLeft,r)}const S_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,k_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function E_(n,e){const t=(""+n).match(S_);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const T_=n=>+n||0;function kc(n,e){const t={},r=ke(e),o=r?Object.keys(e):e,a=ke(n)?r?l=>Se(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of o)t[l]=T_(a(l));return t}function Kg(n){return kc(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ti(n){return kc(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ft(n){const e=Kg(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function lt(n,e){n=n||{},e=e||Be.font;let t=Se(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Se(n.style,e.style);r&&!(""+r).match(k_)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:Se(n.family,e.family),lineHeight:E_(Se(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Se(n.weight,e.weight),string:""};return o.string=__(o),o}function zo(n,e,t,r){let o,a,l;for(o=0,a=n.length;o<a;++o)if(l=n[o],l!==void 0&&l!==void 0)return l}function C_(n,e,t){const{min:r,max:o}=n,a=Mg(e,(o-r)/2),l=(c,d)=>t&&c===0?0:c+d;return{min:l(r,-Math.abs(a)),max:l(o,a)}}function ai(n,e){return Object.assign(Object.create(n),e)}function Ec(n,e=[""],t,r,o=()=>n[0]){const a=t||n;typeof r>"u"&&(r=Qg("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:o,override:c=>Ec([c,...n],e,a,r)};return new Proxy(l,{deleteProperty(c,d){return delete c[d],delete c._keys,delete n[0][d],!0},get(c,d){return Gg(c,d,()=>M_(d,e,n,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,d){return ap(c).includes(d)},ownKeys(c){return ap(c)},set(c,d,f){const g=c._storage||(c._storage=o());return c[d]=g[d]=f,delete c._keys,!0}})}function si(n,e,t,r){const o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Yg(n,r),setContext:a=>si(n,a,t,r),override:a=>si(n.override(a),e,t,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return Gg(a,l,()=>P_(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function Yg(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:r,isScriptable:Hn(t)?t:()=>t,isIndexable:Hn(r)?r:()=>r}}const O_=(n,e)=>n?n+vc(e):e,Tc=(n,e)=>ke(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Gg(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function P_(n,e,t){const{_proxy:r,_context:o,_subProxy:a,_descriptors:l}=n;let c=r[e];return Hn(c)&&l.isScriptable(e)&&(c=R_(e,c,n,t)),Ge(c)&&c.length&&(c=j_(e,c,n,l.isIndexable)),Tc(e,c)&&(c=si(c,o,a&&a[e],l)),c}function R_(n,e,t,r){const{_proxy:o,_context:a,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let d=e(a,l||r);return c.delete(n),Tc(n,d)&&(d=Cc(o._scopes,o,n,d)),d}function j_(n,e,t,r){const{_proxy:o,_context:a,_subProxy:l,_descriptors:c}=t;if(typeof a.index<"u"&&r(n))return e[a.index%e.length];if(ke(e[0])){const d=e,f=o._scopes.filter(g=>g!==d);e=[];for(const g of d){const y=Cc(f,o,n,g);e.push(si(y,a,l&&l[n],c))}}return e}function Jg(n,e,t){return Hn(n)?n(e,t):n}const A_=(n,e)=>n===!0?e:typeof n=="string"?yr(e,n):void 0;function N_(n,e,t,r,o){for(const a of e){const l=A_(t,a);if(l){n.add(l);const c=Jg(l._fallback,t,o);if(typeof c<"u"&&c!==t&&c!==r)return c}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Cc(n,e,t,r){const o=e._rootScopes,a=Jg(e._fallback,t,r),l=[...n,...o],c=new Set;c.add(r);let d=op(c,l,t,a||t,r);return d===null||typeof a<"u"&&a!==t&&(d=op(c,l,a,d,r),d===null)?!1:Ec(Array.from(c),[""],o,a,()=>D_(e,t,r))}function op(n,e,t,r,o){for(;t;)t=N_(n,e,t,r,o);return t}function D_(n,e,t){const r=n._getTarget();e in r||(r[e]={});const o=r[e];return Ge(o)&&ke(t)?t:o||{}}function M_(n,e,t,r){let o;for(const a of e)if(o=Qg(O_(a,n),t),typeof o<"u")return Tc(n,o)?Cc(t,r,n,o):o}function Qg(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function ap(n){let e=n._keys;return e||(e=n._keys=I_(n._scopes)),e}function I_(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(r);return Array.from(e)}function Oc(){return typeof window<"u"&&typeof document<"u"}function Pc(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ga(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const ka=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function L_(n,e){return ka(n).getPropertyValue(e)}const F_=["top","right","bottom","left"];function mr(n,e,t){const r={};t=t?"-"+t:"";for(let o=0;o<4;o++){const a=F_[o];r[a]=parseFloat(n[e+"-"+a+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const $_=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function z_(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:o,offsetY:a}=r;let l=!1,c,d;if($_(o,a,n.target))c=o,d=a;else{const f=e.getBoundingClientRect();c=r.clientX-f.left,d=r.clientY-f.top,l=!0}return{x:c,y:d,box:l}}function ur(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,o=ka(t),a=o.boxSizing==="border-box",l=mr(o,"padding"),c=mr(o,"border","width"),{x:d,y:f,box:g}=z_(n,t),y=l.left+(g&&c.left),v=l.top+(g&&c.top);let{width:_,height:b}=e;return a&&(_-=l.width+c.width,b-=l.height+c.height),{x:Math.round((d-y)/_*t.width/r),y:Math.round((f-v)/b*t.height/r)}}function U_(n,e,t){let r,o;if(e===void 0||t===void 0){const a=n&&Pc(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),c=ka(a),d=mr(c,"border","width"),f=mr(c,"padding");e=l.width-f.width-d.width,t=l.height-f.height-d.height,r=ga(c.maxWidth,a,"clientWidth"),o=ga(c.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:r||ha,maxHeight:o||ha}}const zn=n=>Math.round(n*10)/10;function B_(n,e,t,r){const o=ka(n),a=mr(o,"margin"),l=ga(o.maxWidth,n,"clientWidth")||ha,c=ga(o.maxHeight,n,"clientHeight")||ha,d=U_(n,e,t);let{width:f,height:g}=d;if(o.boxSizing==="content-box"){const v=mr(o,"border","width"),_=mr(o,"padding");f-=_.width+v.width,g-=_.height+v.height}return f=Math.max(0,f-a.width),g=Math.max(0,r?f/r:g-a.height),f=zn(Math.min(f,l,d.maxWidth)),g=zn(Math.min(g,c,d.maxHeight)),f&&!g&&(g=zn(f/2)),(e!==void 0||t!==void 0)&&r&&d.height&&g>d.height&&(g=d.height,f=zn(Math.floor(g*r))),{width:f,height:g}}function lp(n,e,t){const r=e||1,o=zn(n.height*r),a=zn(n.width*r);n.height=zn(n.height),n.width=zn(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==o||l.width!==a?(n.currentDevicePixelRatio=r,l.height=o,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const W_=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Oc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function up(n,e){const t=L_(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const H_=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},V_=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ni(n,e,t){return n?H_(e,t):V_()}function Xg(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Zg(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Uo(n,e,t){return n.options.clip?n[t]:e[t]}function q_(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Uo(t,e,"left"),right:Uo(t,e,"right"),top:Uo(r,e,"top"),bottom:Uo(r,e,"bottom")}:e}function K_(n,e){const t=e._clip;if(t.disabled)return!1;const r=q_(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Y_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,o){const a=t.listeners[o],l=t.duration;a.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Ug.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,c=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(o.draw(),this._notify(o,r,e,"progress")),a.length||(r.running=!1,this._notify(o,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var fn=new Y_;const cp="transparent",G_={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=tp(n||cp),o=r.valid&&tp(e||cp);return o&&o.valid?o.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class J_{constructor(e,t,r,o){const a=t[r];o=zo([e.to,o,a,e.from]);const l=zo([e.from,a,o]);this._active=!0,this._fn=e.fn||G_[e.type||typeof l],this._easing=us[e.easing]||us.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const o=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=zo([e.to,t,o,e.from]),this._from=zo([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,o=this._prop,a=this._from,l=this._loop,c=this._to;let d;if(this._active=a!==c&&(l||t<r),!this._active){this._target[o]=c,this._notify(!0);return}if(t<0){this._target[o]=a;return}d=t/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[o]=this._fn(a,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][t]()}}class em{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ke(e))return;const t=Object.keys(Be.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const a=e[o];if(!ke(a))return;const l={};for(const c of t)l[c]=a[c];(Ge(a.properties)&&a.properties||[o]).forEach(c=>{(c===o||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,t){const r=t.options,o=X_(e,r);if(!o)return[];const a=this._createAnimations(o,r);return r.$shared&&Q_(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,o=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){o.push(...this._animateOptions(e,t));continue}const g=t[f];let y=a[f];const v=r.get(f);if(y)if(v&&y.active()){y.update(v,g,c);continue}else y.cancel();if(!v||!v.duration){e[f]=g;continue}a[f]=y=new J_(v,e,f,g),o.push(y)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return fn.add(this._chart,r),!0}}function Q_(n,e){const t=[],r=Object.keys(e);for(let o=0;o<r.length;o++){const a=n[r[o]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function X_(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function hp(n,e){const t=n&&n.options||{},r=t.reverse,o=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:r?a:o,end:r?o:a}}function Z_(n,e,t){if(t===!1)return!1;const r=hp(n,t),o=hp(e,t);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function ew(n){let e,t,r,o;return ke(n)?(e=n.top,t=n.right,r=n.bottom,o=n.left):e=t=r=o=n,{top:e,right:t,bottom:r,left:o,disabled:n===!1}}function tm(n,e){const t=[],r=n._getSortedDatasetMetas(e);let o,a;for(o=0,a=r.length;o<a;++o)t.push(r[o].index);return t}function dp(n,e,t,r={}){const o=n.keys,a=r.mode==="single";let l,c,d,f;if(e===null)return;let g=!1;for(l=0,c=o.length;l<c;++l){if(d=+o[l],d===t){if(g=!0,r.all)continue;break}f=n.values[d],Lt(f)&&(a||e===0||Wn(e)===Wn(f))&&(e+=f)}return!g&&!r.all?0:e}function tw(n,e){const{iScale:t,vScale:r}=e,o=t.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let d,f,g;for(d=0,f=l.length;d<f;++d)g=l[d],c[d]={[o]:g,[a]:n[g]};return c}function Cu(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function nw(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function rw(n){const{min:e,max:t,minDefined:r,maxDefined:o}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function iw(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function fp(n,e,t,r){for(const o of e.getMatchingVisibleMetas(r).reverse()){const a=n[o.index];if(t&&a>0||!t&&a<0)return o.index}return null}function pp(n,e){const{chart:t,_cachedMeta:r}=n,o=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:c}=r,d=a.axis,f=l.axis,g=nw(a,l,r),y=e.length;let v;for(let _=0;_<y;++_){const b=e[_],{[d]:S,[f]:k}=b,C=b._stacks||(b._stacks={});v=C[f]=iw(o,g,S),v[c]=k,v._top=fp(v,l,!0,r.type),v._bottom=fp(v,l,!1,r.type);const R=v._visualValues||(v._visualValues={});R[c]=k}}function Ou(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function sw(n,e){return ai(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ow(n,e,t){return ai(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Xi(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const o of e){const a=o._stacks;if(!a||a[r]===void 0||a[r][t]===void 0)return;delete a[r][t],a[r]._visualValues!==void 0&&a[r]._visualValues[t]!==void 0&&delete a[r]._visualValues[t]}}}const Pu=n=>n==="reset"||n==="none",gp=(n,e)=>e?n:Object.assign({},n),aw=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:tm(t,!0),values:null};class ri{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Cu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Xi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),o=(y,v,_,b)=>y==="x"?v:y==="r"?b:_,a=t.xAxisID=Se(r.xAxisID,Ou(e,"x")),l=t.yAxisID=Se(r.yAxisID,Ou(e,"y")),c=t.rAxisID=Se(r.rAxisID,Ou(e,"r")),d=t.indexAxis,f=t.iAxisID=o(d,a,l,c),g=t.vAxisID=o(d,l,a,c);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Xf(this._data,this),e._stacked&&Xi(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(ke(t)){const o=this._cachedMeta;this._data=tw(t,o)}else if(r!==t){if(r){Xf(r,this);const o=this._cachedMeta;Xi(o),o._parsed=[]}t&&Object.isExtensible(t)&&a_(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const a=t._stacked;t._stacked=Cu(t.vScale,t),t.stack!==r.stack&&(o=!0,Xi(t),t.stack=r.stack),this._resyncElements(e),(o||a!==t._stacked)&&(pp(this,t._parsed),t._stacked=Cu(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:l}=r,c=a.axis;let d=e===0&&t===o.length?!0:r._sorted,f=e>0&&r._parsed[e-1],g,y,v;if(this._parsing===!1)r._parsed=o,r._sorted=!0,v=o;else{Ge(o[e])?v=this.parseArrayData(r,o,e,t):ke(o[e])?v=this.parseObjectData(r,o,e,t):v=this.parsePrimitiveData(r,o,e,t);const _=()=>y[c]===null||f&&y[c]<f[c];for(g=0;g<t;++g)r._parsed[g+e]=y=v[g],d&&(_()&&(d=!1),f=y);r._sorted=d}l&&pp(this,v)}parsePrimitiveData(e,t,r,o){const{iScale:a,vScale:l}=e,c=a.axis,d=l.axis,f=a.getLabels(),g=a===l,y=new Array(o);let v,_,b;for(v=0,_=o;v<_;++v)b=v+r,y[v]={[c]:g||a.parse(f[b],b),[d]:l.parse(t[b],b)};return y}parseArrayData(e,t,r,o){const{xScale:a,yScale:l}=e,c=new Array(o);let d,f,g,y;for(d=0,f=o;d<f;++d)g=d+r,y=t[g],c[d]={x:a.parse(y[0],g),y:l.parse(y[1],g)};return c}parseObjectData(e,t,r,o){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,f=new Array(o);let g,y,v,_;for(g=0,y=o;g<y;++g)v=g+r,_=t[v],f[g]={x:a.parse(yr(_,c),v),y:l.parse(yr(_,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const o=this.chart,a=this._cachedMeta,l=t[e.axis],c={keys:tm(o,!0),values:t._stacks[e.axis]._visualValues};return dp(c,l,a.index,{mode:r})}updateRangeFromParsed(e,t,r,o){const a=r[t.axis];let l=a===null?NaN:a;const c=o&&r._stacks[t.axis];o&&c&&(o.values=c,l=dp(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,l=o.length,c=this._getOtherScale(e),d=aw(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=rw(c);let v,_;function b(){_=o[v];const S=_[c.axis];return!Lt(_[e.axis])||g>S||y<S}for(v=0;v<l&&!(!b()&&(this.updateRangeFromParsed(f,e,_,d),a));++v);if(a){for(v=l-1;v>=0;--v)if(!b()){this.updateRangeFromParsed(f,e,_,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let o,a,l;for(o=0,a=t.length;o<a;++o)l=t[o][e.axis],Lt(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,o=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=ew(Se(this.options.clip,Z_(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,o=r.data||[],a=t.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||o.length-c,f=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,a,c,d),g=c;g<c+d;++g){const y=o[g];y.hidden||(y.active&&f?l.push(y):y.draw(e,a))}for(g=0;g<l.length;++g)l[g].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=ow(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=sw(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const o=t==="active",a=this._cachedDataOpts,l=e+"-"+t,c=a[l],d=this.enableOptionSharing&&gs(r);if(c)return gp(c,d);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),g),_=Object.keys(Be.elements[e]),b=()=>this.getContext(r,o,t),S=f.resolveNamedOptions(v,_,b,y);return S.$shared&&(S.$shared=d,a[l]=Object.freeze(gp(S,d))),S}_resolveAnimations(e,t,r){const o=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,c=a[l];if(c)return c;let d;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),v=g.getOptionScopes(this.getDataset(),y);d=g.createResolver(v,this.getContext(e,r,t))}const f=new em(o,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Pu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),o=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(t,a)||a!==o;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:l}}updateElement(e,t,r,o){Pu(o)?Object.assign(e,r):this._resolveAnimations(t,o).update(e,r)}updateSharedOptions(e,t,r){e&&!Pu(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,o){e.active=o;const a=this.getStyle(t,o);this._resolveAnimations(t,r,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[c,d,f]of this._syncList)this[c](d,f);this._syncList=[];const o=r.length,a=t.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,t,r=!0){const o=this._cachedMeta,a=o.data,l=e+t;let c;const d=f=>{for(f.length+=t,c=f.length-1;c>=l;c--)f[c]=f[c-t]};for(d(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&d(o._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,o){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,t);r._stacked&&Xi(r,o)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,o]=e;this[t](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ce(ri,"defaults",{}),ce(ri,"datasetElementType",null),ce(ri,"dataElementType",null);function lw(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let o=0,a=t.length;o<a;o++)r=r.concat(t[o].controller.getAllParsedValues(n));n._cache.$bar=zg(r.sort((o,a)=>o-a))}return n._cache.$bar}function uw(n){const e=n.iScale,t=lw(e,n.type);let r=e._length,o,a,l,c;const d=()=>{l===32767||l===-32768||(gs(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(o=0,a=t.length;o<a;++o)l=e.getPixelForValue(t[o]),d();for(c=void 0,o=0,a=e.ticks.length;o<a;++o)l=e.getPixelForTick(o),d();return r}function cw(n,e,t,r){const o=t.barThickness;let a,l;return Re(o)?(a=e.min*t.categoryPercentage,l=t.barPercentage):(a=o*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[n]-a/2}}function hw(n,e,t,r){const o=e.pixels,a=o[n];let l=n>0?o[n-1]:null,c=n<o.length-1?o[n+1]:null;const d=t.categoryPercentage;l===null&&(l=a-(c===null?e.end-e.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*d;return{chunk:Math.abs(c-l)/2*d/r,ratio:t.barPercentage,start:f}}function dw(n,e,t,r){const o=t.parse(n[0],r),a=t.parse(n[1],r),l=Math.min(o,a),c=Math.max(o,a);let d=l,f=c;Math.abs(l)>Math.abs(c)&&(d=c,f=l),e[t.axis]=f,e._custom={barStart:d,barEnd:f,start:o,end:a,min:l,max:c}}function nm(n,e,t,r){return Ge(n)?dw(n,e,t,r):e[t.axis]=t.parse(n,r),e}function mp(n,e,t,r){const o=n.iScale,a=n.vScale,l=o.getLabels(),c=o===a,d=[];let f,g,y,v;for(f=t,g=t+r;f<g;++f)v=e[f],y={},y[o.axis]=c||o.parse(l[f],f),d.push(nm(v,y,a,f));return d}function Ru(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function fw(n,e,t){return n!==0?Wn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function pw(n){let e,t,r,o,a;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(o="end",a="start"):(o="start",a="end"),{start:t,end:r,reverse:e,top:o,bottom:a}}function gw(n,e,t,r){let o=e.borderSkipped;const a={};if(!o){n.borderSkipped=a;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:d,top:f,bottom:g}=pw(n);o==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?o=f:(t._bottom||0)===r?o=g:(a[yp(g,l,c,d)]=!0,o=f)),a[yp(o,l,c,d)]=!0,n.borderSkipped=a}function yp(n,e,t,r){return r?(n=mw(n,e,t),n=vp(n,t,e)):n=vp(n,e,t),n}function mw(n,e,t){return n===e?t:n===t?e:n}function vp(n,e,t){return n==="start"?e:n==="end"?t:n}function yw(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class sa extends ri{parsePrimitiveData(e,t,r,o){return mp(e,t,r,o)}parseArrayData(e,t,r,o){return mp(e,t,r,o)}parseObjectData(e,t,r,o){const{iScale:a,vScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,f=a.axis==="x"?c:d,g=l.axis==="x"?c:d,y=[];let v,_,b,S;for(v=r,_=r+o;v<_;++v)S=t[v],b={},b[a.axis]=a.parse(yr(S,f),v),y.push(nm(yr(S,g),b,l,v));return y}updateRangeFromParsed(e,t,r,o){super.updateRangeFromParsed(e,t,r,o);const a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:o}=t,a=this.getParsed(e),l=a._custom,c=Ru(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,o){const a=o==="reset",{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),f=c.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,o);for(let _=t;_<t+r;_++){const b=this.getParsed(_),S=a||Re(b[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(_),k=this._calculateBarIndexPixels(_,g),C=(b._stacks||{})[c.axis],R={horizontal:f,base:S.base,enableBorderRadius:!C||Ru(b._custom)||l===C._top||l===C._bottom,x:f?S.head:k.center,y:f?k.center:S.head,height:f?k.size:Math.abs(S.size),width:f?Math.abs(S.size):k.size};v&&(R.options=y||this.resolveDataElementOptions(_,e[_].active?"active":o));const j=R.options||e[_].options;gw(R,j,C,l),yw(R,j,g.ratio),this.updateElement(e[_],_,R,o)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),a=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(t),d=c&&c[r.axis],f=g=>{const y=g._parsed.find(_=>_[r.axis]===d),v=y&&y[g.vScale.axis];if(Re(v)||isNaN(v))return!0};for(const g of o)if(!(t!==void 0&&f(g))&&((a===!1||l.indexOf(g.stack)===-1||a===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Se(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const o=this._getStacks(e,r),a=t!==void 0?o.indexOf(t):-1;return a===-1?o.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,o=[];let a,l;for(a=0,l=t.data.length;a<l;++a)o.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const c=e.barThickness;return{min:c||uw(t),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:o},options:{base:a,minBarLength:l}}=this,c=a||0,d=this.getParsed(e),f=d._custom,g=Ru(f);let y=d[t.axis],v=0,_=r?this.applyStack(t,d,r):y,b,S;_!==y&&(v=_-y,_=y),g&&(y=f.barStart,_=f.barEnd-f.barStart,y!==0&&Wn(y)!==Wn(f.barEnd)&&(v=0),v+=y);const k=!Re(a)&&!g?a:v;let C=t.getPixelForValue(k);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(v+_):b=C,S=b-C,Math.abs(S)<l){S=fw(S,t,c)*l,y===c&&(C-=S/2);const R=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),M=Math.min(R,j),F=Math.max(R,j);C=Math.max(Math.min(C,F),M),b=C+S,r&&!g&&(d._stacks[t.axis]._visualValues[o]=t.getValueForPixel(b)-t.getValueForPixel(C))}if(C===t.getPixelForValue(c)){const R=Wn(S)*t.getLineWidthForValue(c)/2;C+=R,S-=R}return{size:S,base:C,head:b,center:b+S/2}}_calculateBarIndexPixels(e,t){const r=t.scale,o=this.options,a=o.skipNull,l=Se(o.maxBarThickness,1/0);let c,d;const f=this._getAxisCount();if(t.grouped){const g=a?this._getStackCount(e):t.stackCount,y=o.barThickness==="flex"?hw(e,t,o,g*f):cw(e,t,o,g*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Se(v,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+_;c=y.start+y.chunk*b+y.chunk/2,d=Math.min(l,y.chunk*y.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),d=Math.min(l,t.min*t.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,o=r.length;let a=0;for(;a<o;++a)this.getParsed(a)[t.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}ce(sa,"id","bar"),ce(sa,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ce(sa,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function vw(n,e,t){let r=1,o=1,a=0,l=0;if(e<qe){const c=n,d=c+e,f=Math.cos(c),g=Math.sin(c),y=Math.cos(d),v=Math.sin(d),_=(j,M,F)=>fa(j,c,d,!0)?1:Math.max(M,M*t,F,F*t),b=(j,M,F)=>fa(j,c,d,!0)?-1:Math.min(M,M*t,F,F*t),S=_(0,f,y),k=_(Je,g,v),C=b(Pe,f,y),R=b(Pe+Je,g,v);r=(S-C)/2,o=(k-R)/2,a=-(S+C)/2,l=-(k+R)/2}return{ratioX:r,ratioY:o,offsetX:a,offsetY:l}}class ei extends ri{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let a=d=>+r[d];if(ke(r[e])){const{key:d="value"}=this._parsing;a=f=>+yr(r[f],d)}let l,c;for(l=e,c=e+t;l<c;++l)o._parsed[l]=a(l)}}_getRotation(){return yn(this.options.rotation-90)}_getCircumference(){return yn(this.options.circumference)}_getRotationExtents(){let e=qe,t=-qe;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,a=o._getRotation(),l=o._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,o=this._cachedMeta,a=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(V0(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:_,offsetX:b,offsetY:S}=vw(y,g,d),k=(r.width-l)/v,C=(r.height-l)/_,R=Math.max(Math.min(k,C)/2,0),j=Mg(this.options.radius,R),M=Math.max(j*d,0),F=(j-M)/this._getVisibleDatasetWeightTotal();this.offsetX=b*j,this.offsetY=S*j,o.total=this.calculateTotal(),this.outerRadius=j-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,o=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*a/qe)}updateElements(e,t,r,o){const a=o==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,g=(c.left+c.right)/2,y=(c.top+c.bottom)/2,v=a&&f.animateScale,_=v?0:this.innerRadius,b=v?0:this.outerRadius,{sharedOptions:S,includeOptions:k}=this._getSharedOptions(t,o);let C=this._getRotation(),R;for(R=0;R<t;++R)C+=this._circumference(R,a);for(R=t;R<t+r;++R){const j=this._circumference(R,a),M=e[R],F={x:g+this.offsetX,y:y+this.offsetY,startAngle:C,endAngle:C+j,circumference:j,outerRadius:b,innerRadius:_};k&&(F.options=S||this.resolveDataElementOptions(R,M.active?"active":o)),C+=j,this.updateElement(M,R,F,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,o;for(o=0;o<t.length;o++){const a=e._parsed[o];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?qe*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,o=r.data.labels||[],a=bc(t._parsed[e],r.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let o,a,l,c,d;if(!e){for(o=0,a=r.data.datasets.length;o<a;++o)if(r.isDatasetVisible(o)){l=r.getDatasetMeta(o),e=l.data,c=l.controller;break}}if(!e)return 0;for(o=0,a=e.length;o<a;++o)d=c.resolveDataElementOptions(o),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,o=e.length;r<o;++r){const a=this.resolveDataElementOptions(r);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Se(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ce(ei,"id","doughnut"),ce(ei,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ce(ei,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ce(ei,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:o,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,f)=>{const y=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:y.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(f),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:o,pointStyle:r,borderRadius:l&&(c||y.borderRadius),index:f}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Yu extends ei{}ce(Yu,"id","pie"),ce(Yu,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function or(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Rc{constructor(e){ce(this,"options");this.options=e||{}}static override(e){Object.assign(Rc.prototype,e)}init(){}formats(){return or()}parse(){return or()}format(){return or()}add(){return or()}diff(){return or()}startOf(){return or()}endOf(){return or()}}var _w={_date:Rc};function ww(n,e,t,r){const{controller:o,data:a,_sorted:l}=n,c=o._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const f=c._reversePixels?s_:qu;if(r){if(o._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const v=f(a,e,t-y),_=f(a,e,t+y);return{lo:v.lo,hi:_.hi}}}}else{const g=f(a,e,t);if(d){const{vScale:y}=o._cachedMeta,{_parsed:v}=n,_=v.slice(0,g.lo+1).reverse().findIndex(S=>!Re(S[y.axis]));g.lo-=Math.max(0,_);const b=v.slice(g.hi).findIndex(S=>!Re(S[y.axis]));g.hi+=Math.max(0,b)}return g}}return{lo:0,hi:a.length-1}}function Ea(n,e,t,r,o){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,d=a.length;c<d;++c){const{index:f,data:g}=a[c],{lo:y,hi:v}=ww(a[c],e,l,o);for(let _=y;_<=v;++_){const b=g[_];b.skip||r(b,f,_)}}}function bw(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,o){const a=e?Math.abs(r.x-o.x):0,l=t?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function ju(n,e,t,r,o){const a=[];return!o&&!n.isPointInArea(e)||Ea(n,t,e,function(c,d,f){!o&&!qg(c,n.chartArea,0)||c.inRange(e.x,e.y,r)&&a.push({element:c,datasetIndex:d,index:f})},!0),a}function xw(n,e,t,r){let o=[];function a(l,c,d){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],r),{angle:y}=Fg(l,{x:e.x,y:e.y});fa(y,f,g)&&o.push({element:l,datasetIndex:c,index:d})}return Ea(n,t,e,a),o}function Sw(n,e,t,r,o,a){let l=[];const c=bw(t);let d=Number.POSITIVE_INFINITY;function f(g,y,v){const _=g.inRange(e.x,e.y,o);if(r&&!_)return;const b=g.getCenterPoint(o);if(!(!!a||n.isPointInArea(b))&&!_)return;const k=c(e,b);k<d?(l=[{element:g,datasetIndex:y,index:v}],d=k):k===d&&l.push({element:g,datasetIndex:y,index:v})}return Ea(n,t,e,f),l}function Au(n,e,t,r,o,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!r?xw(n,e,t,o):Sw(n,e,t,r,o,a)}function _p(n,e,t,r,o){const a=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return Ea(n,t,e,(d,f,g)=>{d[l]&&d[l](e[t],o)&&(a.push({element:d,datasetIndex:f,index:g}),c=c||d.inRange(e.x,e.y,o))}),r&&!c?[]:a}var kw={modes:{index(n,e,t,r){const o=ur(e,n),a=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?ju(n,o,a,r,l):Au(n,o,a,!1,r,l),d=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=c[0].index,y=f.data[g];y&&!y.skip&&d.push({element:y,datasetIndex:f.index,index:g})}),d):[]},dataset(n,e,t,r){const o=ur(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?ju(n,o,a,r,l):Au(n,o,a,!1,r,l);if(c.length>0){const d=c[0].datasetIndex,f=n.getDatasetMeta(d).data;c=[];for(let g=0;g<f.length;++g)c.push({element:f[g],datasetIndex:d,index:g})}return c},point(n,e,t,r){const o=ur(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return ju(n,o,a,r,l)},nearest(n,e,t,r){const o=ur(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Au(n,o,a,t.intersect,r,l)},x(n,e,t,r){const o=ur(e,n);return _p(n,o,"x",t.intersect,r)},y(n,e,t,r){const o=ur(e,n);return _p(n,o,"y",t.intersect,r)}}};const rm=["left","top","right","bottom"];function Zi(n,e){return n.filter(t=>t.pos===e)}function wp(n,e){return n.filter(t=>rm.indexOf(t.pos)===-1&&t.box.axis===e)}function es(n,e){return n.sort((t,r)=>{const o=e?r:t,a=e?t:r;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function Ew(n){const e=[];let t,r,o,a,l,c;for(t=0,r=(n||[]).length;t<r;++t)o=n[t],{position:a,options:{stack:l,stackWeight:c=1}}=o,e.push({index:t,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:c});return e}function Tw(n){const e={};for(const t of n){const{stack:r,pos:o,stackWeight:a}=t;if(!r||!rm.includes(o))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function Cw(n,e){const t=Tw(n),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:d}=c.box,f=t[c.stack],g=f&&c.stackWeight/f.weight;c.horizontal?(c.width=g?g*r:d&&e.availableWidth,c.height=o):(c.width=r,c.height=g?g*o:d&&e.availableHeight)}return t}function Ow(n){const e=Ew(n),t=es(e.filter(f=>f.box.fullSize),!0),r=es(Zi(e,"left"),!0),o=es(Zi(e,"right")),a=es(Zi(e,"top"),!0),l=es(Zi(e,"bottom")),c=wp(e,"x"),d=wp(e,"y");return{fullSize:t,leftAndTop:r.concat(a),rightAndBottom:o.concat(d).concat(l).concat(c),chartArea:Zi(e,"chartArea"),vertical:r.concat(o).concat(d),horizontal:a.concat(l).concat(c)}}function bp(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function im(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Pw(n,e,t,r){const{pos:o,box:a}=t,l=n.maxPadding;if(!ke(o)){t.size&&(n[o]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?a.height:a.width),t.size=y.size/y.count,n[o]+=t.size}a.getPadding&&im(l,a.getPadding());const c=Math.max(0,e.outerWidth-bp(l,n,"left","right")),d=Math.max(0,e.outerHeight-bp(l,n,"top","bottom")),f=c!==n.w,g=d!==n.h;return n.w=c,n.h=d,t.horizontal?{same:f,other:g}:{same:g,other:f}}function Rw(n){const e=n.maxPadding;function t(r){const o=Math.max(e[r]-n[r],0);return n[r]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function jw(n,e){const t=e.maxPadding;function r(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return r(n?["left","right"]:["top","bottom"])}function is(n,e,t,r){const o=[];let a,l,c,d,f,g;for(a=0,l=n.length,f=0;a<l;++a){c=n[a],d=c.box,d.update(c.width||e.w,c.height||e.h,jw(c.horizontal,e));const{same:y,other:v}=Pw(e,t,c,r);f|=y&&o.length,g=g||v,d.fullSize||o.push(c)}return f&&is(o,e,t,r)||g}function Bo(n,e,t,r,o){n.top=t,n.left=e,n.right=e+r,n.bottom=t+o,n.width=r,n.height=o}function xp(n,e,t,r){const o=t.padding;let{x:a,y:l}=e;for(const c of n){const d=c.box,f=r[c.stack]||{placed:0,weight:1},g=c.stackWeight/f.weight||1;if(c.horizontal){const y=e.w*g,v=f.size||d.height;gs(f.start)&&(l=f.start),d.fullSize?Bo(d,o.left,l,t.outerWidth-o.right-o.left,v):Bo(d,e.left+f.placed,l,y,v),f.start=l,f.placed+=y,l=d.bottom}else{const y=e.h*g,v=f.size||d.width;gs(f.start)&&(a=f.start),d.fullSize?Bo(d,a,o.top,v,t.outerHeight-o.bottom-o.top):Bo(d,a,e.top+f.placed,v,y),f.start=a,f.placed+=y,a=d.right}}e.x=a,e.y=l}var It={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const o=Ft(n.options.layout.padding),a=Math.max(e-o.width,0),l=Math.max(t-o.height,0),c=Ow(n.boxes),d=c.vertical,f=c.horizontal;Oe(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const g=d.reduce((S,k)=>k.box.options&&k.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),v=Object.assign({},o);im(v,Ft(r));const _=Object.assign({maxPadding:v,w:a,h:l,x:o.left,y:o.top},o),b=Cw(d.concat(f),y);is(c.fullSize,_,y,b),is(d,_,y,b),is(f,_,y,b)&&is(d,_,y,b),Rw(_),xp(c.leftAndTop,_,y,b),_.x+=_.w,_.y+=_.h,xp(c.rightAndBottom,_,y,b),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Oe(c.chartArea,S=>{const k=S.box;Object.assign(k,n.chartArea),k.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class sm{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,o){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):r)}}isAttached(e){return!0}updateConfig(e){}}class Aw extends sm{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const oa="$chartjs",Nw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Sp=n=>n===null||n==="";function Dw(n,e){const t=n.style,r=n.getAttribute("height"),o=n.getAttribute("width");if(n[oa]={initial:{height:r,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Sp(o)){const a=up(n,"width");a!==void 0&&(n.width=a)}if(Sp(r))if(n.style.height==="")n.height=n.width/(e||2);else{const a=up(n,"height");a!==void 0&&(n.height=a)}return n}const om=W_?{passive:!0}:!1;function Mw(n,e,t){n&&n.addEventListener(e,t,om)}function Iw(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,om)}function Lw(n,e){const t=Nw[n.type]||n.type,{x:r,y:o}=ur(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:o!==void 0?o:null}}function ma(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Fw(n,e,t){const r=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||ma(c.addedNodes,r),l=l&&!ma(c.removedNodes,r);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function $w(n,e,t){const r=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||ma(c.removedNodes,r),l=l&&!ma(c.addedNodes,r);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const ys=new Map;let kp=0;function am(){const n=window.devicePixelRatio;n!==kp&&(kp=n,ys.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function zw(n,e){ys.size||window.addEventListener("resize",am),ys.set(n,e)}function Uw(n){ys.delete(n),ys.size||window.removeEventListener("resize",am)}function Bw(n,e,t){const r=n.canvas,o=r&&Pc(r);if(!o)return;const a=Bg((c,d)=>{const f=o.clientWidth;t(c,d),f<o.clientWidth&&t()},window),l=new ResizeObserver(c=>{const d=c[0],f=d.contentRect.width,g=d.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(o),zw(n,a),l}function Nu(n,e,t){t&&t.disconnect(),e==="resize"&&Uw(n)}function Ww(n,e,t){const r=n.canvas,o=Bg(a=>{n.ctx!==null&&t(Lw(a,n))},n);return Mw(r,e,o),o}class Hw extends sm{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Dw(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[oa])return!1;const r=t[oa].initial;["height","width"].forEach(a=>{const l=r[a];Re(l)?t.removeAttribute(a):t.setAttribute(a,l)});const o=r.style||{};return Object.keys(o).forEach(a=>{t.style[a]=o[a]}),t.width=t.width,delete t[oa],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),l={attach:Fw,detach:$w,resize:Bw}[t]||Ww;o[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),o=r[t];if(!o)return;({attach:Nu,detach:Nu,resize:Nu}[t]||Iw)(e,t,o),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,o){return B_(e,t,r,o)}isAttached(e){const t=e&&Pc(e);return!!(t&&t.isConnected)}}function Vw(n){return!Oc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Aw:Hw}class vn{constructor(){ce(this,"x");ce(this,"y");ce(this,"active",!1);ce(this,"options");ce(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return da(this.x)&&da(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const o={};return e.forEach(a=>{o[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),o}}ce(vn,"defaults",{}),ce(vn,"defaultRoutes");function qw(n,e){const t=n.options.ticks,r=Kw(n),o=Math.min(t.maxTicksLimit||r,r),a=t.major.enabled?Gw(e):[],l=a.length,c=a[0],d=a[l-1],f=[];if(l>o)return Jw(e,f,a,l/o),f;const g=Yw(a,e,o);if(l>0){let y,v;const _=l>1?Math.round((d-c)/(l-1)):null;for(Wo(e,f,g,Re(_)?0:c-_,c),y=0,v=l-1;y<v;y++)Wo(e,f,g,a[y],a[y+1]);return Wo(e,f,g,d,Re(_)?e.length:d+_),f}return Wo(e,f,g),f}function Kw(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(r,o))}function Yw(n,e,t){const r=Qw(n),o=e.length/t;if(!r)return Math.max(o,1);const a=X0(r);for(let l=0,c=a.length-1;l<c;l++){const d=a[l];if(d>o)return d}return Math.max(o,1)}function Gw(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function Jw(n,e,t,r){let o=0,a=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(e.push(n[l]),o++,a=t[o*r])}function Wo(n,e,t,r,o){const a=Se(r,0),l=Math.min(Se(o,n.length),n.length);let c=0,d,f,g;for(t=Math.ceil(t),o&&(d=o-r,t=d/Math.floor(d/t)),g=a;g<0;)c++,g=Math.round(a+c*t);for(f=Math.max(a,0);f<l;f++)f===g&&(e.push(n[f]),c++,g=Math.round(a+c*t))}function Qw(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const Xw=n=>n==="left"?"right":n==="right"?"left":n,Ep=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Tp=(n,e)=>Math.min(e||n,n);function Cp(n,e){const t=[],r=n.length/e,o=n.length;let a=0;for(;a<o;a+=r)t.push(n[Math.floor(a)]);return t}function Zw(n,e,t){const r=n.ticks.length,o=Math.min(e,r-1),a=n._startPixel,l=n._endPixel,c=1e-6;let d=n.getPixelForTick(o),f;if(!(t&&(r===1?f=Math.max(d-a,l-d):e===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(o-1))/2,d+=o<e?f:-f,d<a-c||d>l+c)))return d}function eb(n,e){Oe(n,t=>{const r=t.gc,o=r.length/2;let a;if(o>e){for(a=0;a<o;++a)delete t.data[r[a]];r.splice(0,o)}})}function ts(n){return n.drawTicks?n.tickLength:0}function Op(n,e){if(!n.display)return 0;const t=lt(n.font,e),r=Ft(n.padding);return(Ge(n.text)?n.text.length:1)*t.lineHeight+r.height}function tb(n,e){return ai(n,{scale:e,type:"scale"})}function nb(n,e,t){return ai(n,{tick:t,index:e,type:"tick"})}function rb(n,e,t){let r=wc(n);return(t&&e!=="right"||!t&&e==="right")&&(r=Xw(r)),r}function ib(n,e,t,r){const{top:o,left:a,bottom:l,right:c,chart:d}=n,{chartArea:f,scales:g}=d;let y=0,v,_,b;const S=l-o,k=c-a;if(n.isHorizontal()){if(_=at(r,a,c),ke(t)){const C=Object.keys(t)[0],R=t[C];b=g[C].getPixelForValue(R)+S-e}else t==="center"?b=(f.bottom+f.top)/2+S-e:b=Ep(n,t,e);v=c-a}else{if(ke(t)){const C=Object.keys(t)[0],R=t[C];_=g[C].getPixelForValue(R)-k+e}else t==="center"?_=(f.left+f.right)/2-k+e:_=Ep(n,t,e);b=at(r,l,o),y=t==="left"?-Je:Je}return{titleX:_,titleY:b,maxWidth:v,rotation:y}}class li extends vn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:o}=this;return e=Xt(e,Number.POSITIVE_INFINITY),t=Xt(t,Number.NEGATIVE_INFINITY),r=Xt(r,Number.POSITIVE_INFINITY),o=Xt(o,Number.NEGATIVE_INFINITY),{min:Xt(e,r),max:Xt(t,o),minDefined:Lt(e),maxDefined:Lt(t)}}getMinMax(e){let{min:t,max:r,minDefined:o,maxDefined:a}=this.getUserBounds(),l;if(o&&a)return{min:t,max:r};const c=this.getMatchingVisibleMetas();for(let d=0,f=c.length;d<f;++d)l=c[d].controller.getMinMax(this,e),o||(t=Math.min(t,l.min)),a||(r=Math.max(r,l.max));return t=a&&t>r?r:t,r=o&&t>r?t:r,{min:Xt(t,Xt(r,t)),max:Xt(r,Xt(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ie(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:o,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=C_(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?Cp(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=qw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ie(this.options.afterUpdate,[this])}beforeSetDimensions(){Ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ie(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ie(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,o,a;for(r=0,o=e.length;r<o;r++)a=e[r],a.label=Ie(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Tp(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,a=t.maxRotation;let l=o,c,d,f;if(!this._isVisible()||!t.display||o>=a||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,v=g.highest.height,_=wt(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/r:_/(r-1),y+6>c&&(c=_/(r-(e.offset?.5:1)),d=this.maxHeight-ts(e.grid)-t.padding-Op(e.title,this.chart.options.font),f=Math.sqrt(y*y+v*v),l=n_(Math.min(Math.asin(wt((g.highest.height+6)/c,-1,1)),Math.asin(wt(d/f,-1,1))-Math.asin(wt(v/f,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ie(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ie(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:o,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const d=Op(o,t.options.font);if(c?(e.width=this.maxWidth,e.height=ts(a)+d):(e.height=this.maxHeight,e.width=ts(a)+d),r.display&&this.ticks.length){const{first:f,last:g,widest:y,highest:v}=this._getLabelSizes(),_=r.padding*2,b=yn(this.labelRotation),S=Math.cos(b),k=Math.sin(b);if(c){const C=r.mirror?0:k*y.width+S*v.height;e.height=Math.min(this.maxHeight,e.height+C+_)}else{const C=r.mirror?0:S*y.width+k*v.height;e.width=Math.min(this.maxWidth,e.width+C+_)}this._calculatePadding(f,g,k,S)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,o){const{ticks:{align:a,padding:l},position:c}=this.options,d=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;d?f?(v=o*e.width,_=r*t.height):(v=r*e.height,_=o*t.width):a==="start"?_=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,_=t.width/2),this.paddingLeft=Math.max((v-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-y+l)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;a==="start"?(g=0,y=e.height):a==="end"&&(g=t.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ie(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Re(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Cp(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:o,_longestTextCache:a}=this,l=[],c=[],d=Math.floor(t/Tp(t,r));let f=0,g=0,y,v,_,b,S,k,C,R,j,M,F;for(y=0;y<t;y+=d){if(b=e[y].label,S=this._resolveTickFontOptions(y),o.font=k=S.string,C=a[k]=a[k]||{data:{},gc:[]},R=S.lineHeight,j=M=0,!Re(b)&&!Ge(b))j=rp(o,C.data,C.gc,j,b),M=R;else if(Ge(b))for(v=0,_=b.length;v<_;++v)F=b[v],!Re(F)&&!Ge(F)&&(j=rp(o,C.data,C.gc,j,F),M+=R);l.push(j),c.push(M),f=Math.max(j,f),g=Math.max(M,g)}eb(a,t);const $=l.indexOf(f),B=c.indexOf(g),K=L=>({width:l[L]||0,height:c[L]||0});return{first:K(0),last:K(t-1),widest:K($),highest:K(B),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return i_(this._alignToPixels?sr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=nb(this.getContext(),e,r))}return this.$context||(this.$context=tb(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=yn(this.labelRotation),r=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>c*o?c/r:d/o:d*o<c*r?d/r:c/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,o=this.options,{grid:a,position:l,border:c}=o,d=a.offset,f=this.isHorizontal(),y=this.ticks.length+(d?1:0),v=ts(a),_=[],b=c.setContext(this.getContext()),S=b.display?b.width:0,k=S/2,C=function(me){return sr(r,me,S)};let R,j,M,F,$,B,K,L,Y,ee,ne,de;if(l==="top")R=C(this.bottom),B=this.bottom-v,L=R-k,ee=C(e.top)+k,de=e.bottom;else if(l==="bottom")R=C(this.top),ee=e.top,de=C(e.bottom)-k,B=R+k,L=this.top+v;else if(l==="left")R=C(this.right),$=this.right-v,K=R-k,Y=C(e.left)+k,ne=e.right;else if(l==="right")R=C(this.left),Y=e.left,ne=C(e.right)-k,$=R+k,K=this.left+v;else if(t==="x"){if(l==="center")R=C((e.top+e.bottom)/2+.5);else if(ke(l)){const me=Object.keys(l)[0],ge=l[me];R=C(this.chart.scales[me].getPixelForValue(ge))}ee=e.top,de=e.bottom,B=R+k,L=B+v}else if(t==="y"){if(l==="center")R=C((e.left+e.right)/2);else if(ke(l)){const me=Object.keys(l)[0],ge=l[me];R=C(this.chart.scales[me].getPixelForValue(ge))}$=R-k,K=$-v,Y=e.left,ne=e.right}const _e=Se(o.ticks.maxTicksLimit,y),pe=Math.max(1,Math.ceil(y/_e));for(j=0;j<y;j+=pe){const me=this.getContext(j),ge=a.setContext(me),V=c.setContext(me),Q=ge.lineWidth,E=ge.color,D=V.dash||[],q=V.dashOffset,te=ge.tickWidth,oe=ge.tickColor,we=ge.tickBorderDash||[],ye=ge.tickBorderDashOffset;M=Zw(this,j,d),M!==void 0&&(F=sr(r,M,Q),f?$=K=Y=ne=F:B=L=ee=de=F,_.push({tx1:$,ty1:B,tx2:K,ty2:L,x1:Y,y1:ee,x2:ne,y2:de,width:Q,color:E,borderDash:D,borderDashOffset:q,tickWidth:te,tickColor:oe,tickBorderDash:we,tickBorderDashOffset:ye}))}return this._ticksLength=y,this._borderValue=R,_}_computeLabelItems(e){const t=this.axis,r=this.options,{position:o,ticks:a}=r,l=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:f,padding:g,mirror:y}=a,v=ts(r.grid),_=v+g,b=y?-g:_,S=-yn(this.labelRotation),k=[];let C,R,j,M,F,$,B,K,L,Y,ee,ne,de="middle";if(o==="top")$=this.bottom-b,B=this._getXAxisLabelAlignment();else if(o==="bottom")$=this.top+b,B=this._getXAxisLabelAlignment();else if(o==="left"){const pe=this._getYAxisLabelAlignment(v);B=pe.textAlign,F=pe.x}else if(o==="right"){const pe=this._getYAxisLabelAlignment(v);B=pe.textAlign,F=pe.x}else if(t==="x"){if(o==="center")$=(e.top+e.bottom)/2+_;else if(ke(o)){const pe=Object.keys(o)[0],me=o[pe];$=this.chart.scales[pe].getPixelForValue(me)+_}B=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")F=(e.left+e.right)/2-_;else if(ke(o)){const pe=Object.keys(o)[0],me=o[pe];F=this.chart.scales[pe].getPixelForValue(me)}B=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?de="top":d==="end"&&(de="bottom"));const _e=this._getLabelSizes();for(C=0,R=c.length;C<R;++C){j=c[C],M=j.label;const pe=a.setContext(this.getContext(C));K=this.getPixelForTick(C)+a.labelOffset,L=this._resolveTickFontOptions(C),Y=L.lineHeight,ee=Ge(M)?M.length:1;const me=ee/2,ge=pe.color,V=pe.textStrokeColor,Q=pe.textStrokeWidth;let E=B;l?(F=K,B==="inner"&&(C===R-1?E=this.options.reverse?"left":"right":C===0?E=this.options.reverse?"right":"left":E="center"),o==="top"?f==="near"||S!==0?ne=-ee*Y+Y/2:f==="center"?ne=-_e.highest.height/2-me*Y+Y:ne=-_e.highest.height+Y/2:f==="near"||S!==0?ne=Y/2:f==="center"?ne=_e.highest.height/2-me*Y:ne=_e.highest.height-ee*Y,y&&(ne*=-1),S!==0&&!pe.showLabelBackdrop&&(F+=Y/2*Math.sin(S))):($=K,ne=(1-ee)*Y/2);let D;if(pe.showLabelBackdrop){const q=Ft(pe.backdropPadding),te=_e.heights[C],oe=_e.widths[C];let we=ne-q.top,ye=0-q.left;switch(de){case"middle":we-=te/2;break;case"bottom":we-=te;break}switch(B){case"center":ye-=oe/2;break;case"right":ye-=oe;break;case"inner":C===R-1?ye-=oe:C>0&&(ye-=oe/2);break}D={left:ye,top:we,width:oe+q.width,height:te+q.height,color:pe.backdropColor}}k.push({label:M,font:L,textOffset:ne,options:{rotation:S,color:ge,strokeColor:V,strokeWidth:Q,textAlign:E,textBaseline:de,translation:[F,$],backdrop:D}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-yn(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:o,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,d=l.widest.width;let f,g;return t==="left"?o?(g=this.right+a,r==="near"?f="left":r==="center"?(f="center",g+=d/2):(f="right",g+=d)):(g=this.right-c,r==="near"?f="right":r==="center"?(f="center",g-=d/2):(f="left",g=this.left)):t==="right"?o?(g=this.left+a,r==="near"?f="right":r==="center"?(f="center",g-=d/2):(f="left",g-=d)):(g=this.left+c,r==="near"?f="left":r==="center"?(f="center",g+=d/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:o,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,o,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(a=>a.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(d,f,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(a=0,l=o.length;a<l;++a){const d=o[a];t.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:o}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const c=o.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,g,y,v;this.isHorizontal()?(f=sr(e,this.left,l)-l/2,g=sr(e,this.right,c)+c/2,y=v=d):(y=sr(e,this.top,l)-l/2,v=sr(e,this.bottom,c)+c/2,f=g=d),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,y),t.lineTo(g,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&xc(r,o);const a=this.getLabelItems(e);for(const l of a){const c=l.options,d=l.font,f=l.label,g=l.textOffset;ms(r,f,0,g,d,c)}o&&Sc(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:o}}=this;if(!r.display)return;const a=lt(r.font),l=Ft(r.padding),c=r.align;let d=a.lineHeight/2;t==="bottom"||t==="center"||ke(t)?(d+=l.bottom,Ge(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:f,titleY:g,maxWidth:y,rotation:v}=ib(this,d,t,c);ms(e,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:v,textAlign:rb(c,t,o),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Se(e.grid&&e.grid.z,-1),o=Se(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==li.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let a,l;for(a=0,l=t.length;a<l;++a){const c=t[a];c[r]===this.id&&(!e||c.type===e)&&o.push(c)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return lt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ho{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;ab(t)&&(r=this.register(t));const o=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,sb(e,l,r),this.override&&Be.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,o=this.scope;r in t&&delete t[r],o&&r in Be[o]&&(delete Be[o][r],this.override&&delete vr[r])}}function sb(n,e,t){const r=ps(Object.create(null),[t?Be.get(t):{},Be.get(e),n.defaults]);Be.set(e,r),n.defaultRoutes&&ob(e,n.defaultRoutes),n.descriptors&&Be.describe(e,n.descriptors)}function ob(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),o=r.pop(),a=[n].concat(r).join("."),l=e[t].split("."),c=l.pop(),d=l.join(".");Be.route(a,o,d,c)})}function ab(n){return"id"in n&&"defaults"in n}class lb{constructor(){this.controllers=new Ho(ri,"datasets",!0),this.elements=new Ho(vn,"elements"),this.plugins=new Ho(Object,"plugins"),this.scales=new Ho(li,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(o=>{const a=r||this._getRegistryForType(o);r||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):Oe(o,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,r){const o=vc(e);Ie(r["before"+o],[],r),t[e](r),Ie(r["after"+o],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return o}}var tn=new lb;class ub{constructor(){this._init=void 0}notify(e,t,r,o){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(a,e,t,r);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,r,o){o=o||{};for(const a of e){const l=a.plugin,c=l[r],d=[t,o,a.options];if(Ie(c,d,l)===!1&&o.cancelable)return!1}return!0}invalidate(){Re(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,o=Se(r.options&&r.options.plugins,{}),a=cb(r);return o===!1&&!t?[]:db(e,a,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,o=(a,l)=>a.filter(c=>!l.some(d=>c.plugin.id===d.plugin.id));this._notify(o(t,r),e,"stop"),this._notify(o(r,t),e,"start")}}function cb(n){const e={},t=[],r=Object.keys(tn.plugins.items);for(let a=0;a<r.length;a++)t.push(tn.getPlugin(r[a]));const o=n.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function hb(n,e){return!e&&n===!1?null:n===!0?{}:n}function db(n,{plugins:e,localIds:t},r,o){const a=[],l=n.getContext();for(const c of e){const d=c.id,f=hb(r[d],o);f!==null&&a.push({plugin:c,options:fb(n.config,{plugin:c,local:t[d]},f,l)})}return a}function fb(n,{plugin:e,local:t},r,o){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(r,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gu(n,e){const t=Be.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function pb(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function gb(n,e){return n===e?"_index_":"_value_"}function Pp(n){if(n==="x"||n==="y"||n==="r")return n}function mb(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ju(n,...e){if(Pp(n))return n;for(const t of e){const r=t.axis||mb(t.position)||n.length>1&&Pp(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Rp(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function yb(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Rp(n,"x",t[0])||Rp(n,"y",t[0])}return{}}function vb(n,e){const t=vr[n.type]||{scales:{}},r=e.scales||{},o=Gu(n.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!ke(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Ju(l,c,yb(l,n),Be.scales[c.type]),f=gb(d,o),g=t.scales||{};a[l]=ls(Object.create(null),[{axis:d},c,g[d],g[f]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,d=l.indexAxis||Gu(c,e),g=(vr[c]||{}).scales||{};Object.keys(g).forEach(y=>{const v=pb(y,d),_=l[v+"AxisID"]||v;a[_]=a[_]||Object.create(null),ls(a[_],[{axis:v},r[_],g[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];ls(c,[Be.scales[c.type],Be.scale])}),a}function lm(n){const e=n.options||(n.options={});e.plugins=Se(e.plugins,{}),e.scales=vb(n,e)}function um(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function _b(n){return n=n||{},n.data=um(n.data),lm(n),n}const jp=new Map,cm=new Set;function Vo(n,e){let t=jp.get(n);return t||(t=e(),jp.set(n,t),cm.add(t)),t}const ns=(n,e,t)=>{const r=yr(e,t);r!==void 0&&n.add(r)};class wb{constructor(e){this._config=_b(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=um(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),lm(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Vo(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Vo(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Vo(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let o=r.get(e);return(!o||t)&&(o=new Map,r.set(e,o)),o}getOptionScopes(e,t,r){const{options:o,type:a}=this,l=this._cachedScopes(e,r),c=l.get(t);if(c)return c;const d=new Set;t.forEach(g=>{e&&(d.add(e),g.forEach(y=>ns(d,e,y))),g.forEach(y=>ns(d,o,y)),g.forEach(y=>ns(d,vr[a]||{},y)),g.forEach(y=>ns(d,Be,y)),g.forEach(y=>ns(d,Ku,y))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),cm.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,vr[t]||{},Be.datasets[t]||{},{type:t},Be,Ku]}resolveNamedOptions(e,t,r,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=Ap(this._resolverCache,e,o);let d=l;if(xb(l,t)){a.$shared=!1,r=Hn(r)?r():r;const f=this.createResolver(e,r,c);d=si(l,r,f)}for(const f of t)a[f]=d[f];return a}createResolver(e,t,r=[""],o){const{resolver:a}=Ap(this._resolverCache,e,r);return ke(t)?si(a,t,void 0,o):a}}function Ap(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const o=t.join();let a=r.get(o);return a||(a={resolver:Ec(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},r.set(o,a)),a}const bb=n=>ke(n)&&Object.getOwnPropertyNames(n).some(e=>Hn(n[e]));function xb(n,e){const{isScriptable:t,isIndexable:r}=Yg(n);for(const o of e){const a=t(o),l=r(o),c=(l||a)&&n[o];if(a&&(Hn(c)||bb(c))||l&&Ge(c))return!0}return!1}var Sb="4.5.1";const kb=["top","bottom","left","right","chartArea"];function Np(n,e){return n==="top"||n==="bottom"||kb.indexOf(n)===-1&&e==="x"}function Dp(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Mp(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ie(t&&t.onComplete,[n],e)}function Eb(n){const e=n.chart,t=e.options.animation;Ie(t&&t.onProgress,[n],e)}function hm(n){return Oc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const aa={},Ip=n=>{const e=hm(n);return Object.values(aa).filter(t=>t.canvas===e).pop()};function Tb(n,e,t){const r=Object.keys(n);for(const o of r){const a=+o;if(a>=e){const l=n[o];delete n[o],(t>0||a>e)&&(n[a+t]=l)}}}function Cb(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Ln;let Ta=(Ln=class{static register(...e){tn.add(...e),Lp()}static unregister(...e){tn.remove(...e),Lp()}constructor(e,t){const r=this.config=new wb(t),o=hm(e),a=Ip(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Vw(o)),this.platform.updateConfig(r);const c=this.platform.acquireContext(o,l.aspectRatio),d=c&&c.canvas,f=d&&d.height,g=d&&d.width;if(this.id=H0(),this.ctx=c,this.canvas=d,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ub,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=l_(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],aa[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}fn.listen(this,"complete",Mp),fn.listen(this,"progress",Eb),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:o,_aspectRatio:a}=this;return Re(e)?t&&a?a:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return tn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ip(this.canvas,this.ctx),this}stop(){return fn.stop(this),this}resize(e,t){fn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,o=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,t,a),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,lp(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Ie(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Oe(t,(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,o=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const c=t[l],d=Ju(l,c),f=d==="r",g=d==="x";return{options:c,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Oe(a,l=>{const c=l.options,d=c.id,f=Ju(d,c),g=Se(c.type,l.dtype);(c.position===void 0||Np(c.position,f)!==Np(l.dposition))&&(c.position=l.dposition),o[d]=!0;let y=null;if(d in r&&r[d].type===g)y=r[d];else{const v=tn.getScale(g);y=new v({id:d,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(c,e)}),Oe(o,(l,c)=>{l||delete r[c]}),Oe(r,l=>{It.configure(this,l,l.options),It.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((o,a)=>o.index-a.index),r>t){for(let o=t;o<r;++o)this._destroyDatasetMeta(o);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Dp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,o)=>{t.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=t.length;r<o;r++){const a=t[r];let l=this.getDatasetMeta(r);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=a.indexAxis||Gu(c,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=tn.getController(c),{datasetElementType:f,dataElementType:g}=Be.datasets[c];Object.assign(d,{dataElementType:tn.getElement(g),datasetElementType:f&&tn.getElement(f)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Oe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:y}=this.getDatasetMeta(f),v=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),o||Oe(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Dp("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Oe(this.scales,e=>{It.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Yf(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:a}of t){const l=r==="_removeElements"?-a:a;Tb(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),o=r(0);for(let a=1;a<t;a++)if(!Yf(o,r(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Oe(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Hn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fn.has(this)?this.attached&&!fn.running(this)&&fn.start(this):(this.draw(),Mp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let o,a;for(o=0,a=t.length;o<a;++o){const l=t[o];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=K_(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&xc(t,o),e.controller.draw(),o&&Sc(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return qg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,o){const a=kw.modes[t];return typeof a=="function"?a(this,e,r,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let o=r.filter(a=>a&&a._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=ai(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const o=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,o);gs(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),fn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ip(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete aa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},o=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Oe(this.options.events,a=>r(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},o=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},a=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const c=()=>{o("attach",c),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),r("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){Oe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Oe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const o=r?"set":"remove";let a,l,c,d;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){l=e[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!ua(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const o=this.options.hover,a=(d,f)=>d.filter(g=>!f.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=a(t,e),c=r?e:a(e,t);l.length&&this.updateHoverStyle(l,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:o=[],options:a}=this,l=t,c=this._getActiveElements(e,o,r,l),d=J0(e),f=Cb(e,this._lastEvent,r,d);r&&(this._lastEvent=null,Ie(a.onHover,[e,c,this],this),d&&Ie(a.onClick,[e,c,this],this));const g=!ua(c,o);return(g||t)&&(this._active=c,this._updateHoverStyles(c,o,t)),this._lastEvent=f,g}_getActiveElements(e,t,r,o){if(e.type==="mouseout")return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}},ce(Ln,"defaults",Be),ce(Ln,"instances",aa),ce(Ln,"overrides",vr),ce(Ln,"registry",tn),ce(Ln,"version",Sb),ce(Ln,"getChart",Ip),Ln);function Lp(){return Oe(Ta.instances,n=>n._plugins.invalidate())}function Ob(n,e,t){const{startAngle:r,x:o,y:a,outerRadius:l,innerRadius:c,options:d}=e,{borderWidth:f,borderJoinStyle:g}=d,y=Math.min(f/l,nn(r-t));if(n.beginPath(),n.arc(o,a,l-f/2,r+y/2,t-y/2),c>0){const v=Math.min(f/c,nn(r-t));n.arc(o,a,c+f/2,t-v/2,r+v/2,!0)}else{const v=Math.min(f/2,l*nn(r-t));if(g==="round")n.arc(o,a,v,t-Pe/2,r+Pe/2,!0);else if(g==="bevel"){const _=2*v*v,b=-_*Math.cos(t+Pe/2)+o,S=-_*Math.sin(t+Pe/2)+a,k=_*Math.cos(r+Pe/2)+o,C=_*Math.sin(r+Pe/2)+a;n.lineTo(b,S),n.lineTo(k,C)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Pb(n,e,t){const{startAngle:r,pixelMargin:o,x:a,y:l,outerRadius:c,innerRadius:d}=e;let f=o/c;n.beginPath(),n.arc(a,l,c,r-f,t+f),d>o?(f=o/d,n.arc(a,l,d,t+f,r-f,!0)):n.arc(a,l,o,t+Je,r-Je),n.closePath(),n.clip()}function Rb(n){return kc(n,["outerStart","outerEnd","innerStart","innerEnd"])}function jb(n,e,t,r){const o=Rb(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,r*e/2),c=d=>{const f=(t-Math.min(a,d))*r/2;return wt(d,0,Math.min(a,f))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:wt(o.innerStart,0,l),innerEnd:wt(o.innerEnd,0,l)}}function qr(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function ya(n,e,t,r,o,a){const{x:l,y:c,startAngle:d,pixelMargin:f,innerRadius:g}=e,y=Math.max(e.outerRadius+r+t-f,0),v=g>0?g+r+t+f:0;let _=0;const b=o-d;if(r){const pe=g>0?g-r:0,me=y>0?y-r:0,ge=(pe+me)/2,V=ge!==0?b*ge/(ge+r):b;_=(b-V)/2}const S=Math.max(.001,b*y-t/Pe)/y,k=(b-S)/2,C=d+k+_,R=o-k-_,{outerStart:j,outerEnd:M,innerStart:F,innerEnd:$}=jb(e,v,y,R-C),B=y-j,K=y-M,L=C+j/B,Y=R-M/K,ee=v+F,ne=v+$,de=C+F/ee,_e=R-$/ne;if(n.beginPath(),a){const pe=(L+Y)/2;if(n.arc(l,c,y,L,pe),n.arc(l,c,y,pe,Y),M>0){const Q=qr(K,Y,l,c);n.arc(Q.x,Q.y,M,Y,R+Je)}const me=qr(ne,R,l,c);if(n.lineTo(me.x,me.y),$>0){const Q=qr(ne,_e,l,c);n.arc(Q.x,Q.y,$,R+Je,_e+Math.PI)}const ge=(R-$/v+(C+F/v))/2;if(n.arc(l,c,v,R-$/v,ge,!0),n.arc(l,c,v,ge,C+F/v,!0),F>0){const Q=qr(ee,de,l,c);n.arc(Q.x,Q.y,F,de+Math.PI,C-Je)}const V=qr(B,C,l,c);if(n.lineTo(V.x,V.y),j>0){const Q=qr(B,L,l,c);n.arc(Q.x,Q.y,j,C-Je,L)}}else{n.moveTo(l,c);const pe=Math.cos(L)*y+l,me=Math.sin(L)*y+c;n.lineTo(pe,me);const ge=Math.cos(Y)*y+l,V=Math.sin(Y)*y+c;n.lineTo(ge,V)}n.closePath()}function Ab(n,e,t,r,o){const{fullCircles:a,startAngle:l,circumference:c}=e;let d=e.endAngle;if(a){ya(n,e,t,r,d,o);for(let f=0;f<a;++f)n.fill();isNaN(c)||(d=l+(c%qe||qe))}return ya(n,e,t,r,d,o),n.fill(),d}function Nb(n,e,t,r,o){const{fullCircles:a,startAngle:l,circumference:c,options:d}=e,{borderWidth:f,borderJoinStyle:g,borderDash:y,borderDashOffset:v,borderRadius:_}=d,b=d.borderAlign==="inner";if(!f)return;n.setLineDash(y||[]),n.lineDashOffset=v,b?(n.lineWidth=f*2,n.lineJoin=g||"round"):(n.lineWidth=f,n.lineJoin=g||"bevel");let S=e.endAngle;if(a){ya(n,e,t,r,S,o);for(let k=0;k<a;++k)n.stroke();isNaN(c)||(S=l+(c%qe||qe))}b&&Pb(n,e,S),d.selfJoin&&S-l>=Pe&&_===0&&g!=="miter"&&Ob(n,e,S),a||(ya(n,e,t,r,S,o),n.stroke())}class ss extends vn{constructor(t){super();ce(this,"circumference");ce(this,"endAngle");ce(this,"fullCircles");ce(this,"innerRadius");ce(this,"outerRadius");ce(this,"pixelMargin");ce(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,o){const a=this.getProps(["x","y"],o),{angle:l,distance:c}=Fg(a,{x:t,y:r}),{startAngle:d,endAngle:f,innerRadius:g,outerRadius:y,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),_=(this.options.spacing+this.options.borderWidth)/2,b=Se(v,f-d),S=fa(l,d,f)&&d!==f,k=b>=qe||S,C=pr(c,g+_,y+_);return k&&C}getCenterPoint(t){const{x:r,y:o,startAngle:a,endAngle:l,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,y=(a+l)/2,v=(c+d+g+f)/2;return{x:r+Math.cos(y)*v,y:o+Math.sin(y)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:o}=this,a=(r.offset||0)/4,l=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=o>qe?Math.floor(o/qe):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*a,Math.sin(d)*a);const f=1-Math.sin(Math.min(Pe,o||0)),g=a*f;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,Ab(t,this,g,l,c),Nb(t,this,g,l,c),t.restore()}}ce(ss,"id","arc"),ce(ss,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ce(ss,"defaultRoutes",{backgroundColor:"backgroundColor"}),ce(ss,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function dm(n,e){const{x:t,y:r,base:o,width:a,height:l}=n.getProps(["x","y","base","width","height"],e);let c,d,f,g,y;return n.horizontal?(y=l/2,c=Math.min(t,o),d=Math.max(t,o),f=r-y,g=r+y):(y=a/2,c=t-y,d=t+y,f=Math.min(r,o),g=Math.max(r,o)),{left:c,top:f,right:d,bottom:g}}function Un(n,e,t,r){return n?0:wt(e,t,r)}function Db(n,e,t){const r=n.options.borderWidth,o=n.borderSkipped,a=Kg(r);return{t:Un(o.top,a.top,0,t),r:Un(o.right,a.right,0,e),b:Un(o.bottom,a.bottom,0,t),l:Un(o.left,a.left,0,e)}}function Mb(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,a=ti(o),l=Math.min(e,t),c=n.borderSkipped,d=r||ke(o);return{topLeft:Un(!d||c.top||c.left,a.topLeft,0,l),topRight:Un(!d||c.top||c.right,a.topRight,0,l),bottomLeft:Un(!d||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:Un(!d||c.bottom||c.right,a.bottomRight,0,l)}}function Ib(n){const e=dm(n),t=e.right-e.left,r=e.bottom-e.top,o=Db(n,t/2,r/2),a=Mb(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:a},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function Du(n,e,t,r){const o=e===null,a=t===null,c=n&&!(o&&a)&&dm(n,r);return c&&(o||pr(e,c.left,c.right))&&(a||pr(t,c.top,c.bottom))}function Lb(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Fb(n,e){n.rect(e.x,e.y,e.w,e.h)}function Mu(n,e,t={}){const r=n.x!==t.x?-e:0,o=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-r,l=(n.y+n.h!==t.y+t.h?e:0)-o;return{x:n.x+r,y:n.y+o,w:n.w+a,h:n.h+l,radius:n.radius}}class la extends vn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:o}}=this,{inner:a,outer:l}=Ib(this),c=Lb(l.radius)?pa:Fb;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),c(e,Mu(l,t,a)),e.clip(),c(e,Mu(a,-t,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,Mu(a,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,r){return Du(this,e,t,r)}inXRange(e,t){return Du(this,e,null,t)}inYRange(e,t){return Du(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+o)/2:t,y:a?r:(r+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ce(la,"id","bar"),ce(la,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ce(la,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Fp=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},$b=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class $p extends vn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ie(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,o)=>e.sort(r,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,o=lt(r.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=Fp(r,a);let f,g;t.font=o.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,c,d)+10):(g=this.maxHeight,f=this._fitCols(l,o,c,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,o){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],g=o+c;let y=e;a.textAlign="left",a.textBaseline="middle";let v=-1,_=-g;return this.legendItems.forEach((b,S)=>{const k=r+t/2+a.measureText(b.text).width;(S===0||f[f.length-1]+k+2*c>l)&&(y+=g,f[f.length-(S>0?0:1)]=0,_+=g,v++),d[S]={left:0,top:_,row:v,width:k,height:o},f[f.length-1]+=k+c}),y}_fitCols(e,t,r,o){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let y=c,v=0,_=0,b=0,S=0;return this.legendItems.forEach((k,C)=>{const{itemWidth:R,itemHeight:j}=zb(r,t,a,k,o);C>0&&_+j+2*c>g&&(y+=v+c,f.push({width:v,height:_}),b+=v+c,S++,v=_=0),d[C]={left:b,top:_,col:S,width:R,height:j},v=Math.max(v,R),_+=j+c}),y+=v,f.push({width:v,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:o},rtl:a}}=this,l=ni(a,this.left,this.width);if(this.isHorizontal()){let c=0,d=at(r,this.left+o,this.right-this.lineWidths[c]);for(const f of t)c!==f.row&&(c=f.row,d=at(r,this.left+o,this.right-this.lineWidths[c])),f.top+=this.top+e+o,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+o}else{let c=0,d=at(r,this.top+e+o,this.bottom-this.columnSizes[c].height);for(const f of t)f.col!==c&&(c=f.col,d=at(r,this.top+e+o,this.bottom-this.columnSizes[c].height)),f.top=d,f.left+=this.left+o,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;xc(e,this),this._draw(),Sc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:o}=this,{align:a,labels:l}=e,c=Be.color,d=ni(e.rtl,this.left,this.width),f=lt(l.font),{padding:g}=l,y=f.size,v=y/2;let _;this.drawTitle(),o.textAlign=d.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=f.string;const{boxWidth:b,boxHeight:S,itemHeight:k}=Fp(l,y),C=function($,B,K){if(isNaN(b)||b<=0||isNaN(S)||S<0)return;o.save();const L=Se(K.lineWidth,1);if(o.fillStyle=Se(K.fillStyle,c),o.lineCap=Se(K.lineCap,"butt"),o.lineDashOffset=Se(K.lineDashOffset,0),o.lineJoin=Se(K.lineJoin,"miter"),o.lineWidth=L,o.strokeStyle=Se(K.strokeStyle,c),o.setLineDash(Se(K.lineDash,[])),l.usePointStyle){const Y={radius:S*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:L},ee=d.xPlus($,b/2),ne=B+v;Vg(o,Y,ee,ne,l.pointStyleWidth&&b)}else{const Y=B+Math.max((y-S)/2,0),ee=d.leftForLtr($,b),ne=ti(K.borderRadius);o.beginPath(),Object.values(ne).some(de=>de!==0)?pa(o,{x:ee,y:Y,w:b,h:S,radius:ne}):o.rect(ee,Y,b,S),o.fill(),L!==0&&o.stroke()}o.restore()},R=function($,B,K){ms(o,K.text,$,B+k/2,f,{strikethrough:K.hidden,textAlign:d.textAlign(K.textAlign)})},j=this.isHorizontal(),M=this._computeTitleHeight();j?_={x:at(a,this.left+g,this.right-r[0]),y:this.top+g+M,line:0}:_={x:this.left+g,y:at(a,this.top+M+g,this.bottom-t[0].height),line:0},Xg(this.ctx,e.textDirection);const F=k+g;this.legendItems.forEach(($,B)=>{o.strokeStyle=$.fontColor,o.fillStyle=$.fontColor;const K=o.measureText($.text).width,L=d.textAlign($.textAlign||($.textAlign=l.textAlign)),Y=b+v+K;let ee=_.x,ne=_.y;d.setWidth(this.width),j?B>0&&ee+Y+g>this.right&&(ne=_.y+=F,_.line++,ee=_.x=at(a,this.left+g,this.right-r[_.line])):B>0&&ne+F>this.bottom&&(ee=_.x=ee+t[_.line].width+g,_.line++,ne=_.y=at(a,this.top+M+g,this.bottom-t[_.line].height));const de=d.x(ee);if(C(de,ne,$),ee=u_(L,ee+b+v,j?ee+Y:this.right,e.rtl),R(d.x(ee),ne,$),j)_.x+=Y+g;else if(typeof $.text!="string"){const _e=f.lineHeight;_.y+=fm($,_e)+g}else _.y+=F}),Zg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=lt(t.font),o=Ft(t.padding);if(!t.display)return;const a=ni(e.rtl,this.left,this.width),l=this.ctx,c=t.position,d=r.size/2,f=o.top+d;let g,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+f,y=at(e.align,y,this.right-v);else{const b=this.columnSizes.reduce((S,k)=>Math.max(S,k.height),0);g=f+at(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const _=at(c,y,y+v);l.textAlign=a.textAlign(wc(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,ms(l,t.text,_,g,r)}_computeTitleHeight(){const e=this.options.title,t=lt(e.font),r=Ft(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,o,a;if(pr(e,this.left,this.right)&&pr(t,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(o=a[r],pr(e,o.left,o.left+o.width)&&pr(t,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!Wb(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,a=$b(o,r);o&&!a&&Ie(t.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!a&&Ie(t.onHover,[e,r,this],this)}else r&&Ie(t.onClick,[e,r,this],this)}}function zb(n,e,t,r,o){const a=Ub(r,n,e,t),l=Bb(o,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function Ub(n,e,t,r){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+r.measureText(o).width}function Bb(n,e,t){let r=n;return typeof e.text!="string"&&(r=fm(e,t)),r}function fm(n,e){const t=n.text?n.text.length:0;return e*t}function Wb(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Hb={id:"legend",_element:$p,start(n,e,t){const r=n.legend=new $p({ctx:n.ctx,options:t,chart:n});It.configure(n,r,t),It.addBox(n,r)},stop(n){It.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;It.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,o=t.chart;o.isDatasetVisible(r)?(o.hide(r),e.hidden=!0):(o.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:o,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),g=Ft(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:o||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class pm extends vn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const o=Ge(r.text)?r.text.length:1;this._padding=Ft(r.padding);const a=o*lt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:o,right:a,options:l}=this,c=l.align;let d=0,f,g,y;return this.isHorizontal()?(g=at(c,r,a),y=t+e,f=a-r):(l.position==="left"?(g=r+e,y=at(c,o,t),d=Pe*-.5):(g=a-e,y=at(c,t,o),d=Pe*.5),f=o-t),{titleX:g,titleY:y,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=lt(t.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:d,rotation:f}=this._drawArgs(a);ms(e,t.text,0,0,r,{color:t.color,maxWidth:d,rotation:f,textAlign:wc(t.align),textBaseline:"middle",translation:[l,c]})}}function Vb(n,e){const t=new pm({ctx:n.ctx,options:e,chart:n});It.configure(n,t,e),It.addBox(n,t),n.titleBlock=t}var qb={id:"title",_element:pm,start(n,e,t){Vb(n,t)},stop(n){const e=n.titleBlock;It.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;It.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const os={average(n){if(!n.length)return!1;let e,t,r=new Set,o=0,a=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();r.add(d.x),o+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((c,d)=>c+d)/r.size,y:o/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,o=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const d=n[a].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),g=r_(e,f);g<o&&(o=g,c=d)}}if(c){const d=c.tooltipPosition();t=d.x,r=d.y}return{x:t,y:r}}};function en(n,e){return e&&(Ge(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function pn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Kb(n,e){const{element:t,datasetIndex:r,index:o}=e,a=n.getDatasetMeta(r).controller,{label:l,value:c}=a.getLabelAndValue(o);return{chart:n,label:l,parsed:a.getParsed(o),raw:n.data.datasets[r].data[o],formattedValue:c,dataset:a.getDataset(),dataIndex:o,datasetIndex:r,element:t}}function zp(n,e){const t=n.chart.ctx,{body:r,footer:o,title:a}=n,{boxWidth:l,boxHeight:c}=e,d=lt(e.bodyFont),f=lt(e.titleFont),g=lt(e.footerFont),y=a.length,v=o.length,_=r.length,b=Ft(e.padding);let S=b.height,k=0,C=r.reduce((M,F)=>M+F.before.length+F.lines.length+F.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,y&&(S+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),C){const M=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;S+=_*M+(C-_)*d.lineHeight+(C-1)*e.bodySpacing}v&&(S+=e.footerMarginTop+v*g.lineHeight+(v-1)*e.footerSpacing);let R=0;const j=function(M){k=Math.max(k,t.measureText(M).width+R)};return t.save(),t.font=f.string,Oe(n.title,j),t.font=d.string,Oe(n.beforeBody.concat(n.afterBody),j),R=e.displayColors?l+2+e.boxPadding:0,Oe(r,M=>{Oe(M.before,j),Oe(M.lines,j),Oe(M.after,j)}),R=0,t.font=g.string,Oe(n.footer,j),t.restore(),k+=b.width,{width:k,height:S}}function Yb(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Gb(n,e,t,r){const{x:o,width:a}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&o+a+l>e.width||n==="right"&&o-a-l<0)return!0}function Jb(n,e,t,r){const{x:o,width:a}=t,{width:l,chartArea:{left:c,right:d}}=n;let f="center";return r==="center"?f=o<=(c+d)/2?"left":"right":o<=a/2?f="left":o>=l-a/2&&(f="right"),Gb(f,n,e,t)&&(f="center"),f}function Up(n,e,t){const r=t.yAlign||e.yAlign||Yb(n,t);return{xAlign:t.xAlign||e.xAlign||Jb(n,e,t,r),yAlign:r}}function Qb(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function Xb(n,e,t){let{y:r,height:o}=n;return e==="top"?r+=t:e==="bottom"?r-=o+t:r-=o/2,r}function Bp(n,e,t,r){const{caretSize:o,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:d}=t,f=o+a,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:_}=ti(l);let b=Qb(e,c);const S=Xb(e,d,f);return d==="center"?c==="left"?b+=f:c==="right"&&(b-=f):c==="left"?b-=Math.max(g,v)+o:c==="right"&&(b+=Math.max(y,_)+o),{x:wt(b,0,r.width-e.width),y:wt(S,0,r.height-e.height)}}function qo(n,e,t){const r=Ft(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Wp(n){return en([],pn(n))}function Zb(n,e,t){return ai(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Hp(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const gm={beforeTitle:dn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:dn,beforeBody:dn,beforeLabel:dn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Re(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:dn,afterBody:dn,beforeFooter:dn,footer:dn,afterFooter:dn};function vt(n,e,t,r){const o=n[e].call(t,r);return typeof o>"u"?gm[e].call(t,r):o}class Qu extends vn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&t.options.animation&&r.animations,a=new em(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Zb(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,o=vt(r,"beforeTitle",this,e),a=vt(r,"title",this,e),l=vt(r,"afterTitle",this,e);let c=[];return c=en(c,pn(o)),c=en(c,pn(a)),c=en(c,pn(l)),c}getBeforeBody(e,t){return Wp(vt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,o=[];return Oe(e,a=>{const l={before:[],lines:[],after:[]},c=Hp(r,a);en(l.before,pn(vt(c,"beforeLabel",this,a))),en(l.lines,vt(c,"label",this,a)),en(l.after,pn(vt(c,"afterLabel",this,a))),o.push(l)}),o}getAfterBody(e,t){return Wp(vt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,o=vt(r,"beforeFooter",this,e),a=vt(r,"footer",this,e),l=vt(r,"afterFooter",this,e);let c=[];return c=en(c,pn(o)),c=en(c,pn(a)),c=en(c,pn(l)),c}_createItems(e){const t=this._active,r=this.chart.data,o=[],a=[],l=[];let c=[],d,f;for(d=0,f=t.length;d<f;++d)c.push(Kb(this.chart,t[d]));return e.filter&&(c=c.filter((g,y,v)=>e.filter(g,y,v,r))),e.itemSort&&(c=c.sort((g,y)=>e.itemSort(g,y,r))),Oe(c,g=>{const y=Hp(e.callbacks,g);o.push(vt(y,"labelColor",this,g)),a.push(vt(y,"labelPointStyle",this,g)),l.push(vt(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const r=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const c=os[r.position].call(this,o,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=zp(this,r),f=Object.assign({},c,d),g=Up(this.chart,r,f),y=Bp(r,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,o){const a=this.getCaretPosition(e,r,o);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:y}=ti(c),{x:v,y:_}=e,{width:b,height:S}=t;let k,C,R,j,M,F;return a==="center"?(M=_+S/2,o==="left"?(k=v,C=k-l,j=M+l,F=M-l):(k=v+b,C=k+l,j=M-l,F=M+l),R=k):(o==="left"?C=v+Math.max(d,g)+l:o==="right"?C=v+b-Math.max(f,y)-l:C=this.caretX,a==="top"?(j=_,M=j-l,k=C-l,R=C+l):(j=_+S,M=j+l,k=C+l,R=C-l),F=j),{x1:k,x2:C,x3:R,y1:j,y2:M,y3:F}}drawTitle(e,t,r){const o=this.title,a=o.length;let l,c,d;if(a){const f=ni(r.rtl,this.x,this.width);for(e.x=qo(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=lt(r.titleFont),c=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,d=0;d<a;++d)t.fillText(o[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,d+1===a&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,t,r,o,a){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:d,boxWidth:f}=a,g=lt(a.bodyFont),y=qo(this,"left",a),v=o.x(y),_=d<g.lineHeight?(g.lineHeight-d)/2:0,b=t.y+_;if(a.usePointStyle){const S={radius:Math.min(f,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=o.leftForLtr(v,f)+f/2,C=b+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,sp(e,S,k,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,sp(e,S,k,C)}else{e.lineWidth=ke(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=o.leftForLtr(v,f),k=o.leftForLtr(o.xPlus(v,1),f-2),C=ti(l.borderRadius);Object.values(C).some(R=>R!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,pa(e,{x:S,y:b,w:f,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),pa(e,{x:k,y:b+1,w:f-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(S,b,f,d),e.strokeRect(S,b,f,d),e.fillStyle=l.backgroundColor,e.fillRect(k,b+1,f-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:f,boxPadding:g}=r,y=lt(r.bodyFont);let v=y.lineHeight,_=0;const b=ni(r.rtl,this.x,this.width),S=function(K){t.fillText(K,b.x(e.x+_),e.y+v/2),e.y+=v+a},k=b.textAlign(l);let C,R,j,M,F,$,B;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=qo(this,k,r),t.fillStyle=r.bodyColor,Oe(this.beforeBody,S),_=c&&k!=="right"?l==="center"?f/2+g:f+2+g:0,M=0,$=o.length;M<$;++M){for(C=o[M],R=this.labelTextColors[M],t.fillStyle=R,Oe(C.before,S),j=C.lines,c&&j.length&&(this._drawColorBox(t,e,M,b,r),v=Math.max(y.lineHeight,d)),F=0,B=j.length;F<B;++F)S(j[F]),v=y.lineHeight;Oe(C.after,S)}_=0,v=y.lineHeight,Oe(this.afterBody,S),e.y-=a}drawFooter(e,t,r){const o=this.footer,a=o.length;let l,c;if(a){const d=ni(r.rtl,this.x,this.width);for(e.x=qo(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=d.textAlign(r.footerAlign),t.textBaseline="middle",l=lt(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,c=0;c<a;++c)t.fillText(o[c],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,o){const{xAlign:a,yAlign:l}=this,{x:c,y:d}=e,{width:f,height:g}=r,{topLeft:y,topRight:v,bottomLeft:_,bottomRight:b}=ti(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(c+y,d),l==="top"&&this.drawCaret(e,t,r,o),t.lineTo(c+f-v,d),t.quadraticCurveTo(c+f,d,c+f,d+v),l==="center"&&a==="right"&&this.drawCaret(e,t,r,o),t.lineTo(c+f,d+g-b),t.quadraticCurveTo(c+f,d+g,c+f-b,d+g),l==="bottom"&&this.drawCaret(e,t,r,o),t.lineTo(c+_,d+g),t.quadraticCurveTo(c,d+g,c,d+g-_),l==="center"&&a==="left"&&this.drawCaret(e,t,r,o),t.lineTo(c,d+y),t.quadraticCurveTo(c,d,c+y,d),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){const l=os[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=zp(this,e),d=Object.assign({},l,this._size),f=Up(t,e,d),g=Bp(e,d,f,t);(o._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Ft(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,o,t),Xg(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Zg(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,o=e.map(({datasetIndex:c,index:d})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[d],index:d}}),a=!ua(r,o),l=this._positionChanged(o,t);(a||l)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,r),c=this._positionChanged(l,e),d=t||!ua(l,a)||c;return d&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,r,o){const a=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:o,options:a}=this,l=os[a.position].call(this,e,t);return l!==!1&&(r!==l.x||o!==l.y)}}ce(Qu,"positioners",os);var ex={id:"tooltip",_element:Qu,positioners:os,afterInit(n,e,t){t&&(n.tooltip=new Qu({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const tx=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function nx(n,e,t,r){const o=n.indexOf(e);if(o===-1)return tx(n,e,t,r);const a=n.lastIndexOf(e);return o!==a?t:o}const rx=(n,e)=>n===null?null:wt(Math.round(n),0,e);function Vp(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Xu extends li{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:o,label:a}of t)r[o]===a&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Re(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:nx(r,e,Se(t,e),this._addedLabels),rx(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,o=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)o.push({value:l});return o}getLabelForValue(e){return Vp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ce(Xu,"id","category"),ce(Xu,"defaults",{ticks:{callback:Vp}});function ix(n,e){const t=[],{bounds:o,step:a,min:l,max:c,precision:d,count:f,maxTicks:g,maxDigits:y,includeBounds:v}=n,_=a||1,b=g-1,{min:S,max:k}=e,C=!Re(l),R=!Re(c),j=!Re(f),M=(k-S)/(y+1);let F=Jf((k-S)/b/_)*_,$,B,K,L;if(F<1e-14&&!C&&!R)return[{value:S},{value:k}];L=Math.ceil(k/F)-Math.floor(S/F),L>b&&(F=Jf(L*F/b/_)*_),Re(d)||($=Math.pow(10,d),F=Math.ceil(F*$)/$),o==="ticks"?(B=Math.floor(S/F)*F,K=Math.ceil(k/F)*F):(B=S,K=k),C&&R&&a&&e_((c-l)/a,F/1e3)?(L=Math.round(Math.min((c-l)/F,g)),F=(c-l)/L,B=l,K=c):j?(B=C?l:B,K=R?c:K,L=f-1,F=(K-B)/L):(L=(K-B)/F,ia(L,Math.round(L),F/1e3)?L=Math.round(L):L=Math.ceil(L));const Y=Math.max(Qf(F),Qf(B));$=Math.pow(10,Re(d)?Y:d),B=Math.round(B*$)/$,K=Math.round(K*$)/$;let ee=0;for(C&&(v&&B!==l?(t.push({value:l}),B<l&&ee++,ia(Math.round((B+ee*F)*$)/$,l,qp(l,M,n))&&ee++):B<l&&ee++);ee<L;++ee){const ne=Math.round((B+ee*F)*$)/$;if(R&&ne>c)break;t.push({value:ne})}return R&&v&&K!==c?t.length&&ia(t[t.length-1].value,c,qp(c,M,n))?t[t.length-1].value=c:t.push({value:c}):(!R||K===c)&&t.push({value:K}),t}function qp(n,e,{horizontal:t,minRotation:r}){const o=yn(r),a=(t?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class sx extends li{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Re(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:a}=this;const l=d=>o=t?o:d,c=d=>a=r?a:d;if(e){const d=Wn(o),f=Wn(a);d<0&&f<0?c(0):d>0&&f>0&&l(0)}if(o===a){let d=a===0?1:Math.abs(a*.05);c(a+d),e||l(o-d)}this.min=o,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=ix(o,a);return e.bounds==="ticks"&&t_(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const o=(r-t)/Math.max(e.length-1,1)/2;t-=o,r+=o}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return bc(e,this.chart.options.locale,this.options.ticks.format)}}class Zu extends sx{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Lt(e)?e:0,this.max=Lt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=yn(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ce(Zu,"id","linear"),ce(Zu,"defaults",{ticks:{callback:Hg.formatters.numeric}});const Ca={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_t=Object.keys(Ca);function Kp(n,e){return n-e}function Yp(n,e){if(Re(e))return null;const t=n._adapter,{parser:r,round:o,isoWeekday:a}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Lt(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(o&&(l=o==="week"&&(da(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,o)),+l)}function Gp(n,e,t,r){const o=_t.length;for(let a=_t.indexOf(n);a<o-1;++a){const l=Ca[_t[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=r)return _t[a]}return _t[o-1]}function ox(n,e,t,r,o){for(let a=_t.length-1;a>=_t.indexOf(t);a--){const l=_t[a];if(Ca[l].common&&n._adapter.diff(o,r,l)>=e-1)return l}return _t[t?_t.indexOf(t):0]}function ax(n){for(let e=_t.indexOf(n)+1,t=_t.length;e<t;++e)if(Ca[_t[e]].common)return _t[e]}function Jp(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:o}=_c(t,e),a=t[r]>=e?t[r]:t[o];n[a]=!0}}function lx(n,e,t,r){const o=n._adapter,a=+o.startOf(e[0].value,r),l=e[e.length-1].value;let c,d;for(c=a;c<=l;c=+o.add(c,1,r))d=t[c],d>=0&&(e[d].major=!0);return e}function Qp(n,e,t){const r=[],o={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],o[c]=l,r.push({value:c,major:!1});return a===0||!t?r:lx(n,r,o,t)}class va extends li{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),o=this._adapter=new _w._date(e.adapters.date);o.init(t),ls(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Yp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(o=Math.min(o,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),o=Lt(o)&&!isNaN(o)?o:+t.startOf(Date.now(),r),a=Lt(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,l=this.max,c=o_(o,a,l);return this._unit=t.unit||(r.autoSkip?Gp(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):ox(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ax(this._unit),this.initOffsets(o),e.reverse&&c.reverse(),Qp(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,o,a;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=wt(t,0,l),r=wt(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,o=this.options,a=o.time,l=a.unit||Gp(a.minUnit,t,r,this._getLabelCapacity(t)),c=Se(o.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,f=da(d)||d===!0,g={};let y=t,v,_;if(f&&(y=+e.startOf(y,"isoWeek",d)),y=+e.startOf(y,f?"day":l),e.diff(r,t,l)>1e5*c)throw new Error(t+" and "+r+" are too far apart with stepSize of "+c+" "+l);const b=o.ticks.source==="data"&&this.getDataTimestamps();for(v=y,_=0;v<r;v=+e.add(v,c,l),_++)Jp(g,v,b);return(v===r||o.bounds==="ticks"||_===1)&&Jp(g,v,b),Object.keys(g).sort(Kp).map(S=>+S)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,a=this._unit,l=t||o[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,o){const a=this.options,l=a.ticks.callback;if(l)return Ie(l,[e,t,r],this);const c=a.time.displayFormats,d=this._unit,f=this._majorUnit,g=d&&c[d],y=f&&c[f],v=r[t],_=f&&y&&v&&v.major;return this._adapter.format(e,o||(_?y:g))}generateTickLabels(e){let t,r,o;for(t=0,r=e.length;t<r;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,o=yn(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(o),l=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:r*a+c*l,h:r*l+c*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,o=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,Qp(this,[e],this._majorUnit),o),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,r=o.length;t<r;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const o=this.getLabels();for(t=0,r=o.length;t<r;++t)e.push(Yp(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zg(e.sort(Kp))}}ce(va,"id","time"),ce(va,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ko(n,e,t){let r=0,o=n.length-1,a,l,c,d;t?(e>=n[r].pos&&e<=n[o].pos&&({lo:r,hi:o}=qu(n,"pos",e)),{pos:a,time:c}=n[r],{pos:l,time:d}=n[o]):(e>=n[r].time&&e<=n[o].time&&({lo:r,hi:o}=qu(n,"time",e)),{time:a,pos:c}=n[r],{time:l,pos:d}=n[o]);const f=l-a;return f?c+(d-c)*(e-a)/f:c}class Xp extends va{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ko(t,this.min),this._tableRange=Ko(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,o=[],a=[];let l,c,d,f,g;for(l=0,c=e.length;l<c;++l)f=e[l],f>=t&&f<=r&&o.push(f);if(o.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,c=o.length;l<c;++l)g=o[l+1],d=o[l-1],f=o[l],Math.round((g+d)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((o,a)=>o-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Ko(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Ko(this._table,r*this._tableRange+this._minPos,!0)}}ce(Xp,"id","timeseries"),ce(Xp,"defaults",va.defaults);const mm="label";function Zp(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function ux(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function ym(n,e){n.labels=e}function vm(n,e,t=mm){const r=[];n.datasets=e.map(o=>{const a=n.datasets.find(l=>l[t]===o[t]);return!a||!o.data||r.includes(a)?{...o}:(r.push(a),Object.assign(a,o),a)})}function cx(n,e=mm){const t={labels:[],datasets:[]};return ym(t,n.labels),vm(t,n.datasets,e),t}function hx(n,e){const{height:t=150,width:r=300,redraw:o=!1,datasetIdKey:a,type:l,data:c,options:d,plugins:f=[],fallbackContent:g,updateMode:y,...v}=n,_=X.useRef(null),b=X.useRef(null),S=()=>{_.current&&(b.current=new Ta(_.current,{type:l,data:cx(c,a),options:d&&{...d},plugins:f}),Zp(e,b.current))},k=()=>{Zp(e,null),b.current&&(b.current.destroy(),b.current=null)};return X.useEffect(()=>{!o&&b.current&&d&&ux(b.current,d)},[o,d]),X.useEffect(()=>{!o&&b.current&&ym(b.current.config.data,c.labels)},[o,c.labels]),X.useEffect(()=>{!o&&b.current&&c.datasets&&vm(b.current.config.data,c.datasets,a)},[o,c.datasets]),X.useEffect(()=>{b.current&&(o?(k(),setTimeout(S)):b.current.update(y))},[o,d,c.labels,c.datasets,y]),X.useEffect(()=>{b.current&&(k(),setTimeout(S))},[l]),X.useEffect(()=>(S(),()=>k()),[]),x.jsx("canvas",{ref:_,role:"img",height:t,width:r,...v,children:g})}const dx=X.forwardRef(hx);function jc(n,e){return Ta.register(e),X.forwardRef((t,r)=>x.jsx(dx,{...t,ref:r,type:n}))}const fx=jc("bar",sa),px=jc("doughnut",ei),gx=jc("pie",Yu);Ta.register(ss,Xu,Zu,la,qb,ex,Hb);function mx({tasks:n}){const e=n.length,t=n.filter(R=>R.completed).length,r=e-t,o=e>0?Math.round(t/e*100):0,a=n.filter(R=>R.priority==="high"&&!R.completed).length,l=n.filter(R=>R.priority==="medium"&&!R.completed).length,c=n.filter(R=>R.priority==="low"&&!R.completed).length,d=n.filter(R=>{if(!R.dueDate||R.completed)return!1;const[j,M,F]=R.dueDate.split("-").map(Number);return new Date(j,M-1,F)<new Date}).length,f={};n.forEach(R=>{R.category&&!R.completed&&(f[R.category]=(f[R.category]||0)+1)});const g=new Date,y=new Date(g.getTime()+10080*60*1e3),v=n.filter(R=>{if(!R.dueDate||R.completed)return!1;const[j,M,F]=R.dueDate.split("-").map(Number),$=new Date(j,M-1,F);return $>=g&&$<=y}).length,_={labels:["Completed","Active"],datasets:[{data:[t,r],backgroundColor:["#51cf66","#667eea"],borderColor:["#40c057","#5568d3"],borderWidth:2}]},b={labels:["High","Medium","Low"],datasets:[{label:"Active Tasks by Priority",data:[a,l,c],backgroundColor:["#ff6b6b","#ffd43b","#51cf66"],borderColor:["#ee5a5a","#fcc419","#40c057"],borderWidth:2}]},S={labels:Object.keys(f).length>0?Object.keys(f):["No Categories"],datasets:[{data:Object.keys(f).length>0?Object.values(f):[1],backgroundColor:["#667eea","#764ba2","#f093fb","#4facfe","#43e97b","#fa709a"],borderWidth:2}]},k={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}}},C={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return x.jsxs("div",{className:"dashboard",children:[x.jsx("h2",{className:"dashboard-title",children:"Dashboard"}),x.jsxs("div",{className:"stats-grid",children:[x.jsxs("div",{className:"stat-card",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsxs("div",{className:"stat-info",children:[x.jsx("div",{className:"stat-value",children:e}),x.jsx("div",{className:"stat-label",children:"Total Tasks"})]})]}),x.jsxs("div",{className:"stat-card",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsxs("div",{className:"stat-info",children:[x.jsx("div",{className:"stat-value",children:t}),x.jsx("div",{className:"stat-label",children:"Completed"})]})]}),x.jsxs("div",{className:"stat-card",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsxs("div",{className:"stat-info",children:[x.jsx("div",{className:"stat-value",children:r}),x.jsx("div",{className:"stat-label",children:"Active"})]})]}),x.jsxs("div",{className:"stat-card",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsxs("div",{className:"stat-info",children:[x.jsxs("div",{className:"stat-value",children:[o,"%"]}),x.jsx("div",{className:"stat-label",children:"Completion Rate"})]})]}),x.jsxs("div",{className:"stat-card alert",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsxs("div",{className:"stat-info",children:[x.jsx("div",{className:"stat-value",children:d}),x.jsx("div",{className:"stat-label",children:"Overdue"})]})]}),x.jsxs("div",{className:"stat-card info",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsxs("div",{className:"stat-info",children:[x.jsx("div",{className:"stat-value",children:v}),x.jsx("div",{className:"stat-label",children:"Due This Week"})]})]})]}),x.jsxs("div",{className:"charts-grid",children:[x.jsxs("div",{className:"chart-container",children:[x.jsx("h3",{className:"chart-title",children:"Task Completion"}),e>0?x.jsx(gx,{data:_,options:k}):x.jsx("p",{className:"no-data",children:"No tasks to display"})]}),x.jsxs("div",{className:"chart-container",children:[x.jsx("h3",{className:"chart-title",children:"Active Tasks by Priority"}),r>0?x.jsx(fx,{data:b,options:C}):x.jsx("p",{className:"no-data",children:"No active tasks"})]}),x.jsxs("div",{className:"chart-container",children:[x.jsx("h3",{className:"chart-title",children:"Active Tasks by Category"}),Object.keys(f).length>0?x.jsx(px,{data:S,options:k}):x.jsx("p",{className:"no-data",children:"No categorized tasks"})]})]})]})}function yx({tasks:n,toggleComplete:e,deleteTask:t,editTask:r}){const o=new Date,a=new Date(o.getFullYear(),o.getMonth(),o.getDate()),l=b=>{if(!b.dueDate)return null;const[S,k,C]=b.dueDate.split("-").map(Number);return new Date(S,k-1,C)},c=n.filter(b=>b.completed||!b.dueDate?!1:l(b)<a),d=n.filter(b=>b.completed||!b.dueDate?!1:l(b).getTime()===a.getTime()),f=n.filter(b=>!b.completed||!b.dueDate?!1:l(b).getTime()===a.getTime()),g=d.length+f.length,y=f.length,v=g>0?Math.round(y/g*100):0,_=()=>{const b={weekday:"long",month:"long",day:"numeric"};return a.toLocaleDateString("en-US",b)};return x.jsxs("div",{className:"today-view",children:[x.jsxs("div",{className:"today-header",children:[x.jsxs("div",{className:"today-title-section",children:[x.jsx("h2",{className:"today-title",children:"Today"}),x.jsx("p",{className:"today-date",children:_()})]}),g>0&&x.jsxs("div",{className:"today-progress",children:[x.jsxs("div",{className:"progress-circle",children:[x.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:[x.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#e0e0e0",strokeWidth:"4"}),x.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#4CAF50",strokeWidth:"4",strokeDasharray:`${2*Math.PI*24}`,strokeDashoffset:`${2*Math.PI*24*(1-v/100)}`,transform:"rotate(-90 30 30)",strokeLinecap:"round"})]}),x.jsxs("span",{className:"progress-text",children:[v,"%"]})]}),x.jsxs("div",{className:"progress-details",children:[x.jsx("p",{className:"progress-label",children:"Progress"}),x.jsxs("p",{className:"progress-count",children:[y," of ",g]})]})]})]}),c.length>0&&x.jsxs("div",{className:"task-section overdue-section",children:[x.jsx("div",{className:"section-header",children:x.jsxs("h3",{className:"section-title overdue-title",children:[x.jsx("span",{className:"overdue-icon",children:""}),"Overdue",x.jsx("span",{className:"task-count-badge overdue-badge",children:c.length})]})}),x.jsx("div",{className:"task-list",children:c.map(b=>x.jsx(ra,{task:b,toggleComplete:e,deleteTask:t,editTask:r,isOverdue:!0},b.id))})]}),x.jsxs("div",{className:"task-section today-tasks-section",children:[x.jsx("div",{className:"section-header",children:x.jsxs("h3",{className:"section-title",children:["Tasks for Today",d.length>0&&x.jsx("span",{className:"task-count-badge",children:d.length})]})}),d.length===0&&c.length===0?x.jsxs("div",{className:"empty-today",children:[x.jsx("div",{className:"empty-today-icon",children:""}),x.jsx("h3",{className:"empty-today-title",children:"All clear!"}),x.jsx("p",{className:"empty-today-message",children:"No tasks scheduled for today. Enjoy your day!"})]}):d.length===0?x.jsx("div",{className:"empty-state-small",children:x.jsx("p",{children:"No tasks scheduled for today"})}):x.jsx("div",{className:"task-list",children:d.map(b=>x.jsx(ra,{task:b,toggleComplete:e,deleteTask:t,editTask:r},b.id))})]}),f.length>0&&x.jsxs("div",{className:"task-section completed-section",children:[x.jsx("div",{className:"section-header",children:x.jsxs("h3",{className:"section-title completed-title",children:[x.jsx("span",{className:"completed-icon",children:""}),"Completed",x.jsx("span",{className:"task-count-badge completed-badge",children:f.length})]})}),x.jsx("div",{className:"task-list",children:f.map(b=>x.jsx(ra,{task:b,toggleComplete:e,deleteTask:t,editTask:r},b.id))})]})]})}function vx({onComplete:n,addTask:e}){const[t,r]=X.useState(["","",""]),o=["Do laundry","Plan a trip to...","Call back...","Buy birthday gift for...","Schedule dentist appointment","Prepare weekly meal plan","Review monthly budget","Organize workspace"],a=(f,g)=>{const y=[...t];y[f]=g,r(y)},l=f=>{const g=t.findIndex(y=>y==="");if(g!==-1){const y=[...t];y[g]=f,r(y)}},c=()=>{t.forEach(f=>{f.trim()&&e({text:f.trim(),priority:"medium",dueDate:"",dueTime:"",category:"",reminderMinutes:null})}),localStorage.setItem("hasCompletedOnboarding","true"),n()},d=()=>{localStorage.setItem("hasCompletedOnboarding","true"),n()};return x.jsx("div",{className:"onboarding-overlay",children:x.jsxs("div",{className:"onboarding-container",children:[x.jsx("button",{className:"skip-button",onClick:d,children:"Skip"}),x.jsx("h1",{className:"onboarding-title",children:"Add your first tasks"}),x.jsx("div",{className:"onboarding-inputs",children:t.map((f,g)=>x.jsx("input",{type:"text",className:`onboarding-input ${g===0?"focused":""}`,placeholder:g===0?"Do laundry":g===1?"Plan a trip to":"Call back",value:f,onChange:y=>a(g,y.target.value)},g))}),x.jsx("div",{className:"suggested-tasks",children:o.slice(0,4).map((f,g)=>x.jsxs("button",{className:"suggested-task-btn",onClick:()=>l(f),children:[x.jsx("span",{className:"plus-icon",children:"+"}),f]},g))}),x.jsx("button",{className:"continue-button",onClick:c,children:"Continue"})]})})}const eg=["Be so good no one can ignore you","Focus on being productive instead of busy","The secret of getting ahead is getting started","Small progress is still progress","Today is a great day to accomplish something","Make each day your masterpiece","The harder you work, the luckier you get","Success is the sum of small efforts repeated daily","Dream big, start small, act now","Your limitationit's only your imagination","Great things never come from comfort zones","Don't stop when you're tired. Stop when you're done","Wake up with determination. Go to bed with satisfaction","Do something today that your future self will thank you for","Little things make big days"];function _x({userName:n}){const[e,t]=X.useState(""),[r,o]=X.useState("");X.useEffect(()=>{const l=()=>{const f=new Date().getHours();let g="";f>=5&&f<12?g="Good Morning":f>=12&&f<17?g="Good Afternoon":f>=17&&f<22?g="Good Evening":g="Good Night",t(g)},c=()=>{const f=Math.floor(Math.random()*eg.length);o(eg[f])};l(),c();const d=setInterval(l,6e4);return()=>clearInterval(d)},[]);const a=n||"STEVE ARMSTRONG";return x.jsxs("div",{className:"greeting-section",children:[x.jsxs("h1",{className:"greeting-text",children:[e,", ",a]}),x.jsx("p",{className:"motivational-quote",children:r})]})}var ec=function(n,e){return ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},ec(n,e)};function _m(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ec(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _a=function(){return _a=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_a.apply(this,arguments)};function ui(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function wm(n,e,t,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(l=n[c])&&(a=(o<3?l(a):o>3?l(e,t,a):l(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a}function bm(n,e){return function(t,r){e(t,r,n)}}function xm(n,e,t,r,o,a){function l(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!e&&n?r.static?n:n.prototype:null,g=e||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),y,v=!1,_=t.length-1;_>=0;_--){var b={};for(var S in r)b[S]=S==="access"?{}:r[S];for(var S in r.access)b.access[S]=r.access[S];b.addInitializer=function(C){if(v)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(C||null))};var k=(0,t[_])(c==="accessor"?{get:g.get,set:g.set}:g[d],b);if(c==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(y=l(k.get))&&(g.get=y),(y=l(k.set))&&(g.set=y),(y=l(k.init))&&o.unshift(y)}else(y=l(k))&&(c==="field"?o.unshift(y):g[d]=y)}f&&Object.defineProperty(f,r.name,g),v=!0}function Sm(n,e,t){for(var r=arguments.length>2,o=0;o<e.length;o++)t=r?e[o].call(n,t):e[o].call(n);return r?t:void 0}function km(n){return typeof n=="symbol"?n:"".concat(n)}function Em(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Tm(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ie(n,e,t,r){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(c,d)}f((r=r.apply(n,e||[])).next())})}function Cm(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(g){return d([f,g])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(t=0)),t;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(g){f=[6,g],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Oa=Object.create?(function(n,e,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,o)}):(function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]});function Om(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Oa(e,n,t)}function wa(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ac(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],l;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(c){l={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return a}function Pm(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Ac(arguments[e]));return n}function Rm(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var a=arguments[e],l=0,c=a.length;l<c;l++,o++)r[o]=a[l];return r}function jm(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function oi(n){return this instanceof oi?(this.v=n,this):new oi(n)}function Am(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(_){return function(b){return Promise.resolve(b).then(_,y)}}function c(_,b){r[_]&&(o[_]=function(S){return new Promise(function(k,C){a.push([_,S,k,C])>1||d(_,S)})},b&&(o[_]=b(o[_])))}function d(_,b){try{f(r[_](b))}catch(S){v(a[0][3],S)}}function f(_){_.value instanceof oi?Promise.resolve(_.value.v).then(g,y):v(a[0][2],_)}function g(_){d("next",_)}function y(_){d("throw",_)}function v(_,b){_(b),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Nm(n){var e,t;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,a){e[o]=n[o]?function(l){return(t=!t)?{value:oi(n[o](l)),done:!1}:a?a(l):l}:a}}function Dm(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof wa=="function"?wa(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(l){return new Promise(function(c,d){l=n[a](l),o(c,d,l.done,l.value)})}}function o(a,l,c,d){Promise.resolve(d).then(function(f){a({value:f,done:c})},l)}}function Mm(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var wx=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},tc=function(n){return tc=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},tc(n)};function Im(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=tc(n),r=0;r<t.length;r++)t[r]!=="default"&&Oa(e,n,t[r]);return wx(e,n),e}function Lm(n){return n&&n.__esModule?n:{default:n}}function Fm(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function $m(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t}function zm(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Um(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}var bx=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Bm(n){function e(a){n.error=n.hasError?new bx(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var t,r=0;function o(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(o);if(t.dispose){var a=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(a).then(o,function(l){return e(l),o()})}else r|=1}catch(l){e(l)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function Wm(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,o,a,l){return r?e?".jsx":".js":o&&(!a||!l)?t:o+a+"."+l.toLowerCase()+"js"}):n}const xx={__extends:_m,__assign:_a,__rest:ui,__decorate:wm,__param:bm,__esDecorate:xm,__runInitializers:Sm,__propKey:km,__setFunctionName:Em,__metadata:Tm,__awaiter:ie,__generator:Cm,__createBinding:Oa,__exportStar:Om,__values:wa,__read:Ac,__spread:Pm,__spreadArrays:Rm,__spreadArray:jm,__await:oi,__asyncGenerator:Am,__asyncDelegator:Nm,__asyncValues:Dm,__makeTemplateObject:Mm,__importStar:Im,__importDefault:Lm,__classPrivateFieldGet:Fm,__classPrivateFieldSet:$m,__classPrivateFieldIn:zm,__addDisposableResource:Um,__disposeResources:Bm,__rewriteRelativeImportExtension:Wm},Sx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Um,get __assign(){return _a},__asyncDelegator:Nm,__asyncGenerator:Am,__asyncValues:Dm,__await:oi,__awaiter:ie,__classPrivateFieldGet:Fm,__classPrivateFieldIn:zm,__classPrivateFieldSet:$m,__createBinding:Oa,__decorate:wm,__disposeResources:Bm,__esDecorate:xm,__exportStar:Om,__extends:_m,__generator:Cm,__importDefault:Lm,__importStar:Im,__makeTemplateObject:Mm,__metadata:Tm,__param:bm,__propKey:km,__read:Ac,__rest:ui,__rewriteRelativeImportExtension:Wm,__runInitializers:Sm,__setFunctionName:Em,__spread:Pm,__spreadArray:jm,__spreadArrays:Rm,__values:wa,default:xx},Symbol.toStringTag,{value:"Module"})),kx=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Nc extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Ex extends Nc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tg extends Nc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ng extends Nc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(nc||(nc={}));class Tx{constructor(e,{headers:t={},customFetch:r,region:o=nc.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=kx(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ie(this,arguments,void 0,function*(t,r={}){var o;let a,l;try{const{headers:c,method:d,body:f,signal:g,timeout:y}=r;let v={},{region:_}=r;_||(_=this.region);const b=new URL(`${this.url}/${t}`);_&&_!=="any"&&(v["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let S;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(v["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(v["Content-Type"]="application/json",S=JSON.stringify(f)):S=f;let k=g;y&&(l=new AbortController,a=setTimeout(()=>l.abort(),y),g?(k=l.signal,g.addEventListener("abort",()=>l.abort())):k=l.signal);const C=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:S,signal:k}).catch(F=>{throw new Ex(F)}),R=C.headers.get("x-relay-error");if(R&&R==="true")throw new tg(C);if(!C.ok)throw new ng(C);let j=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),M;return j==="application/json"?M=yield C.json():j==="application/octet-stream"||j==="application/pdf"?M=yield C.blob():j==="text/event-stream"?M=C:j==="multipart/form-data"?M=yield C.formData():M=yield C.text(),{data:M,error:null,response:C}}catch(c){return{data:null,error:c,response:c instanceof ng||c instanceof tg?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var ot={};const ci=h0(Sx);var Yo={},Go={},Jo={},Qo={},Xo={},Zo={},rg;function Hm(){if(rg)return Zo;rg=1,Object.defineProperty(Zo,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Zo.default=n,Zo}var ig;function Vm(){if(ig)return Xo;ig=1,Object.defineProperty(Xo,"__esModule",{value:!0});const e=ci.__importDefault(Hm());class t{constructor(o){var a,l;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(l=o.isMaybeSingle)!==null&&l!==void 0?l:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,g,y,v;let _=null,b=null,S=null,k=d.status,C=d.statusText;if(d.ok){if(this.method!=="HEAD"){const F=await d.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=F:b=JSON.parse(F))}const j=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),M=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");j&&M&&M.length>1&&(S=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,k=406,C="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const j=await d.text();try{_=JSON.parse(j),Array.isArray(_)&&d.status===404&&(b=[],_=null,k=200,C="OK")}catch{d.status===404&&j===""?(k=204,C="No Content"):_={message:j}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,k=200,C="OK"),_&&this.shouldThrowOnError)throw new e.default(_)}return{error:_,data:b,count:S,status:k,statusText:C}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,g,y;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(g=d==null?void 0:d.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=d==null?void 0:d.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,a)}returns(){return this}overrideTypes(){return this}}return Xo.default=t,Xo}var sg;function qm(){if(sg)return Qo;sg=1,Object.defineProperty(Qo,"__esModule",{value:!0});const e=ci.__importDefault(Vm());class t extends e.default{select(o){let a=!1;const l=(o??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${o}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${o}`),this}range(o,a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this.url.searchParams.set(f,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var g;const y=[o?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${y};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Qo.default=t,Qo}var og;function Dc(){if(og)return Jo;og=1,Object.defineProperty(Jo,"__esModule",{value:!0});const e=ci.__importDefault(qm()),t=new RegExp("[,()]");class r extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const g=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${g}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return Jo.default=r,Jo}var ag;function Km(){if(ag)return Go;ag=1,Object.defineProperty(Go,"__esModule",{value:!0});const e=ci.__importDefault(Dc());class t{constructor(o,{headers:a={},schema:l,fetch:c}){this.url=o,this.headers=new Headers(a),this.schema=l,this.fetch=c}select(o,a){const{head:l=!1,count:c}=a??{},d=l?"HEAD":"GET";let f=!1;const g=(o??"*").split("").map(y=>/\s/.test(y)&&!f?"":(y==='"'&&(f=!f),y)).join("");return this.url.searchParams.set("select",g),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var f;const g="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:a}={}){var l;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var a;const l="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Go.default=t,Go}var lg;function Cx(){if(lg)return Yo;lg=1,Object.defineProperty(Yo,"__esModule",{value:!0});const n=ci,e=n.__importDefault(Km()),t=n.__importDefault(Dc());class r{constructor(a,{headers:l={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:c=!1,get:d=!1,count:f}={}){var g;let y;const v=new URL(`${this.url}/rpc/${a}`);let _;c||d?(y=c?"HEAD":"GET",Object.entries(l).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{v.searchParams.append(S,k)})):(y="POST",_=l);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new t.default({method:y,url:v,headers:b,schema:this.schemaName,body:_,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Yo.default=r,Yo}var ug;function Ox(){if(ug)return ot;ug=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const n=ci,e=n.__importDefault(Cx());ot.PostgrestClient=e.default;const t=n.__importDefault(Km());ot.PostgrestQueryBuilder=t.default;const r=n.__importDefault(Dc());ot.PostgrestFilterBuilder=r.default;const o=n.__importDefault(qm());ot.PostgrestTransformBuilder=o.default;const a=n.__importDefault(Vm());ot.PostgrestBuilder=a.default;const l=n.__importDefault(Hm());return ot.PostgrestError=l.default,ot.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:l.default},ot}var Ym=Ox();const Gm=fc(Ym),Px=c0({__proto__:null,default:Gm},[Ym]),{PostgrestClient:Rx,PostgrestQueryBuilder:Gk,PostgrestFilterBuilder:Jk,PostgrestTransformBuilder:Qk,PostgrestBuilder:Xk,PostgrestError:Zk}=Gm||Px;class jx{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ax="2.81.1",Nx=`realtime-js/${Ax}`,Jm="1.0.0",Dx="2.0.0",cg=Jm,rc=1e4,Mx=1e3,Ix=100;var hr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(hr||(hr={}));var Ye;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ye||(Ye={}));var Mt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Mt||(Mt={}));var ic;(function(n){n.websocket="websocket"})(ic||(ic={}));var dr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(dr||(dr={}));class Lx{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:t,ref:r,event:o,topic:a,payload:l}=e,c=this.META_LENGTH+t.length+r.length+a.length+o.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(d),g=0;f.setUint8(g++,this.KINDS.push),f.setUint8(g++,t.length),f.setUint8(g++,r.length),f.setUint8(g++,a.length),f.setUint8(g++,o.length),Array.from(t,v=>f.setUint8(g++,v.charCodeAt(0))),Array.from(r,v=>f.setUint8(g++,v.charCodeAt(0))),Array.from(a,v=>f.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>f.setUint8(g++,v.charCodeAt(0)));var y=new Uint8Array(d.byteLength+l.byteLength);return y.set(new Uint8Array(d),0),y.set(new Uint8Array(l),d.byteLength),y.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const{join_ref:o,ref:a,topic:l}=e,c=e.payload.event,d=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+a.length+l.length+c.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(g),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,o.length),y.setUint8(v++,a.length),y.setUint8(v++,l.length),y.setUint8(v++,c.length),y.setUint8(v++,this.BINARY_ENCODING),Array.from(o,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(l,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(c,b=>y.setUint8(v++,b.charCodeAt(0)));var _=new Uint8Array(g.byteLength+d.byteLength);return _.set(new Uint8Array(g),0),_.set(new Uint8Array(d),g.byteLength),_.buffer}_encodeJsonUserBroadcastPush(e){var t,r;const{join_ref:o,ref:a,topic:l}=e,c=e.payload.event,d=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},g=new TextEncoder().encode(JSON.stringify(d)).buffer,y=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+a.length+l.length+c.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let _=new DataView(v),b=0;_.setUint8(b++,this.KINDS.userBroadcastPush),_.setUint8(b++,o.length),_.setUint8(b++,a.length),_.setUint8(b++,l.length),_.setUint8(b++,c.length),_.setUint8(b++,this.JSON_ENCODING),Array.from(o,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(a,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(l,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(c,k=>_.setUint8(b++,k.charCodeAt(0)));var S=new Uint8Array(v.byteLength+g.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(g),v.byteLength),S.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,a,l,c,d]=r;return t({join_ref:o,ref:a,topic:l,event:c,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,t,o);case this.KINDS.reply:return this._decodeReply(e,t,o);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,o);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,o)}}_decodePush(e,t,r){const o=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const d=r.decode(e.slice(c,c+o));c=c+o;const f=r.decode(e.slice(c,c+a));c=c+a;const g=r.decode(e.slice(c,c+l));c=c+l;const y=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{join_ref:d,ref:null,topic:f,event:g,payload:y}}_decodeReply(e,t,r){const o=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+this.META_LENGTH;const f=r.decode(e.slice(d,d+o));d=d+o;const g=r.decode(e.slice(d,d+a));d=d+a;const y=r.decode(e.slice(d,d+l));d=d+l;const v=r.decode(e.slice(d,d+c));d=d+c;const _=JSON.parse(r.decode(e.slice(d,e.byteLength))),b={status:v,response:_};return{join_ref:f,ref:g,topic:y,event:Mt.reply,payload:b}}_decodeBroadcast(e,t,r){const o=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{join_ref:null,ref:null,topic:c,event:d,payload:f}}_decodeUserBroadcast(e,t,r){const o=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+o));d=d+o;const g=r.decode(e.slice(d,d+a));d=d+a;const y=r.decode(e.slice(d,d+l));d=d+l;const v=e.slice(d,e.byteLength),_=c===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,b={type:this.BROADCAST,event:g,payload:_};return l>0&&(b.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:b}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}}class Qm{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ae||(Ae={}));const hg=(n,e,t={})=>{var r;const o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=Fx(l,n,e,o),a),{}):{}},Fx=(n,e,t,r)=>{const o=e.find(c=>c.name===n),a=o==null?void 0:o.type,l=t[n];return a&&!r.includes(a)?Xm(a,l):sc(l)},Xm=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Bx(e,t)}switch(n){case Ae.bool:return $x(e);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return zx(e);case Ae.json:case Ae.jsonb:return Ux(e);case Ae.timestamp:return Wx(e);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return sc(e);default:return sc(e)}},sc=n=>n,$x=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},zx=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Ux=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Bx=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Xm(e,c))}return n},Wx=n=>typeof n=="string"?n.replace(" ","T"):n,Zm=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Iu{constructor(e,t,r={},o=rc){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(dg||(dg={}));class hs{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hs.syncState(this.state,o,a,l),this.pendingDiffs.forEach(d=>{this.state=hs.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=hs.syncDiff(this.state,o,a,l),c())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const a=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(a,(f,g)=>{l[f]||(d[f]=g)}),this.map(l,(f,g)=>{const y=a[f];if(y){const v=g.map(k=>k.presence_ref),_=y.map(k=>k.presence_ref),b=g.filter(k=>_.indexOf(k.presence_ref)<0),S=y.filter(k=>v.indexOf(k.presence_ref)<0);b.length>0&&(c[f]=b),S.length>0&&(d[f]=S)}else c[f]=g}),this.syncDiff(a,{joins:c,leaves:d},r,o)}static syncDiff(e,t,r,o){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(c,d)=>{var f;const g=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),g.length>0){const y=e[c].map(_=>_.presence_ref),v=g.filter(_=>y.indexOf(_.presence_ref)<0);e[c].unshift(...v)}r(c,g,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const g=d.map(y=>y.presence_ref);f=f.filter(y=>g.indexOf(y.presence_ref)<0),e[c]=f,o(c,f,d),f.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return"metas"in o?t[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(fg||(fg={}));var ds;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ds||(ds={}));var gn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class Mc{constructor(e,t={config:{}},r){var o,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Iu(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new Qm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new hs(this),this.broadcastEndpointURL=Zm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[ds.PRESENCE]&&this.bindings[ds.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(gn.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket.setAuth(),_===void 0){e==null||e(gn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,C=[];for(let R=0;R<k;R++){const j=S[R],{filter:{event:M,schema:F,table:$,filter:B}}=j,K=_&&_[R];if(K&&K.event===M&&K.schema===F&&K.table===$&&K.filter===B)C.push(Object.assign(Object.assign({},j),{id:K.id}));else{this.unsubscribe(),this.state=Ye.errored,e==null||e(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(gn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ye.errored,e==null||e(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Ye.joined&&e===ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ye.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Iu(this,Mt.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Iu(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ix){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:g}=Mt;if(r&&[c,d,f,g].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var b,S,k;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(S=_.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var b,S,k,C,R,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const M=_.id,F=(b=_.filter)===null||b===void 0?void 0:b.event;return M&&((S=t.ids)===null||S===void 0?void 0:S.includes(M))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const M=(R=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return M==="*"||M===((j=t==null?void 0:t.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:S,table:k,commit_timestamp:C,type:R,errors:j}=b;v=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:C,eventType:R,new:{},old:{},errors:j}),this._getPayloadRecords(b))}_.callback(v,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),a={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Mc.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mt.close,{},e)}_onError(e){this._on(Mt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=hg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=hg(e.columns,e.old_record)),t}}const Lu=()=>{},ea={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hx=[1e3,2e3,5e3,1e4],Vx=1e4,qx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kx{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rc,this.transport=null,this.heartbeatIntervalMs=ea.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lu,this.ref=0,this.reconnectTimer=null,this.vsn=cg,this.logger=Lu,this.conn=null,this.sendBuffer=[],this.serializer=new Lx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ic.websocket}`,this.httpEndpoint=Zm(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hr.connecting:return dr.Connecting;case hr.open:return dr.Open;case hr.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new Mc(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:o,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${r} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Mx,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},ea.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:l}=t,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${o} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(o,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===hr.open||this.conn.readyState===hr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([qx],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:Nx};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Mt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Qm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ea.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,a,l,c,d,f,g,y,v,_;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:rc,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:ea.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Lu,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:cg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(b=>Hx[b-1]||Vx),this.vsn){case Jm:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((b,S)=>S(JSON.stringify(b))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:((b,S)=>S(JSON.parse(b)));break;case Dx:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ic extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function $e(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Yx extends Ic{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oc extends Ic{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Lc=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Gx=()=>Response,ac=n=>{if(Array.isArray(n))return n.map(t=>ac(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=ac(r)}),e},Jx=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Fu=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Qx=(n,e,t)=>ie(void 0,void 0,void 0,function*(){const r=yield Gx();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(o=>{const a=n.status||500,l=(o==null?void 0:o.statusCode)||a+"";e(new Yx(Fu(o),a,l))}).catch(o=>{e(new oc(Fu(o),o))}):e(new oc(Fu(n),n))}),Xx=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?o:(Jx(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function xs(n,e,t,r,o,a){return ie(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,Xx(e,r,o,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Qx(d,c,r))})})}function vs(n,e,t,r){return ie(this,void 0,void 0,function*(){return xs(n,"GET",e,t,r)})}function Ht(n,e,t,r,o){return ie(this,void 0,void 0,function*(){return xs(n,"POST",e,r,o,t)})}function lc(n,e,t,r,o){return ie(this,void 0,void 0,function*(){return xs(n,"PUT",e,r,o,t)})}function Zx(n,e,t,r){return ie(this,void 0,void 0,function*(){return xs(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Fc(n,e,t,r,o){return ie(this,void 0,void 0,function*(){return xs(n,"DELETE",e,r,o,t)})}class eS{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}})}}var ey;class tS{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ey]="BlobDownloadBuilder",this.promise=null}asStream(){return new eS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}})}}ey=Symbol.toStringTag;const nS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rS{constructor(e,t={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Lc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,o){return ie(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},pg),o);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),o!=null&&o.headers&&(c=Object.assign(Object.assign({},c),o.headers));const f=this._removeEmptyFolders(t),g=this._getFinalPath(f),y=yield(e=="PUT"?lc:Ht)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}upload(e,t,r){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return ie(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:pg.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const y=yield lc(this.fetch,c.toString(),d,{headers:g});return{data:{path:a,fullPath:y.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if($e(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return ie(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const a=yield Ht(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new Ic("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}update(e,t,r){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return ie(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}copy(e,t,r){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return ie(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Ht(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return ie(this,void 0,void 0,function*(){try{const o=yield Ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}download(e,t){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=a?`?${a}`:"",c=this._getFinalPath(e),d=()=>vs(this.fetch,`${this.url}/${o}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new tS(d,this.shouldThrowOnError)}info(e){return ie(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield vs(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ac(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}exists(e){return ie(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Zx(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r)&&r instanceof oc){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&o.push(a);const c=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&o.push(d);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}list(e,t,r){return ie(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},nS),t),{prefix:e||""});return{data:yield Ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}listV2(e,t){return ie(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ht(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ty="2.81.1",ny={"X-Client-Info":`storage-js/${ty}`};class iS{constructor(e,t={},r,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ny),t),this.fetch=Lc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield vs(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}createBucket(e){return ie(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return ie(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class sS{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ny),t),this.fetch=Lc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const r=t.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield vs(this.fetch,o,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}const $c={"X-Client-Info":`storage-js/${ty}`,"Content-Type":"application/json"};class ry extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Et(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class $u extends ry{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oS extends ry{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var gg;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gg||(gg={}));const zc=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),aS=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},mg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),lS=(n,e,t)=>ie(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const o=n.status||500,a=n;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new $u(mg(l),o,c))}).catch(()=>{const l=o+"",c=a.statusText||`HTTP ${o} error`;e(new $u(c,o,l))});else{const l=o+"",c=a.statusText||`HTTP ${o} error`;e(new $u(c,o,l))}}else e(new oS(mg(n),n))}),uS=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(aS(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t)):o};function cS(n,e,t,r,o,a){return ie(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,uS(e,r,o,a)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>lS(d,c,r))})})}function Tt(n,e,t,r,o){return ie(this,void 0,void 0,function*(){return cS(n,"POST",e,r,o,t)})}class hS{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$c),t),this.fetch=zc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}getIndex(e,t){return ie(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}listIndexes(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return ie(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}}class dS{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$c),t),this.fetch=zc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}getVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}listVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Tt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}queryVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}deleteVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}}class fS{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$c),t),this.fetch=zc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}listBuckets(){return ie(this,arguments,void 0,function*(e={}){try{return{data:yield Tt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Tt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Et(t))return{data:null,error:t};throw t}})}}class pS extends fS{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new gS(this.url,this.headers,e,this.fetch)}}class gS extends hS{constructor(e,t,r,o){super(e,t,o),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new mS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class mS extends dS{constructor(e,t,r,o,a){super(e,t,a),this.vectorBucketName=r,this.indexName=o}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class yS extends iS{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new rS(this.url,this.headers,e,this.fetch)}get vectors(){return new pS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sS(this.url+"/iceberg",this.headers,this.fetch)}}const vS="2.81.1";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const _S={"X-Client-Info":`supabase-js-${as}/${vS}`},wS={headers:_S},bS={schema:"public"},xS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SS={},kS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),ES=()=>Headers,TS=(n,e,t)=>{const r=kS(t),o=ES();return async(a,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:n;let f=new o(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:f}))}};function CS(n){return n.endsWith("/")?n:n+"/"}function OS(n,e){var t,r;const{db:o,auth:a,realtime:l,global:c}=n,{db:d,auth:f,realtime:g,global:y}=e,v={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},g),l),storage:{},global:Object.assign(Object.assign(Object.assign({},y),c),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function PS(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const iy="2.81.1",Xr=30*1e3,uc=3,zu=uc*Xr,RS="http://localhost:9999",jS="supabase.auth.token",AS={"X-Client-Info":`gotrue-js/${iy}`},cc="X-Supabase-Api-Version",sy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DS=600*1e3;class _s extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ae(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class MS extends _s{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function IS(n){return ae(n)&&n.name==="AuthApiError"}class fr extends _s{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Vn extends _s{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class Bt extends Vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LS(n){return ae(n)&&n.name==="AuthSessionMissingError"}class Kr extends Vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ta extends Vn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class na extends Vn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FS(n){return ae(n)&&n.name==="AuthImplicitGrantRedirectError"}class yg extends Vn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hc extends Vn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Uu(n){return ae(n)&&n.name==="AuthRetryableFetchError"}class vg extends Vn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class dc extends Vn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_g=` 	
\r=`.split(""),$S=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<_g.length;e+=1)n[_g[e].charCodeAt(0)]=-2;for(let e=0;e<ba.length;e+=1)n[ba[e].charCodeAt(0)]=e;return n})();function wg(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ba[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ba[r]),e.queuedBits-=6}}function oy(n,e,t){const r=$S[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function bg(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{BS(l,r,t)};for(let l=0;l<n.length;l+=1)oy(n.charCodeAt(l),o,a);return e.join("")}function zS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function US(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}zS(r,e)}}function BS(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ii(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)oy(n.charCodeAt(o),t,r);return new Uint8Array(e)}function WS(n){const e=[];return US(n,t=>e.push(t)),new Uint8Array(e)}function gr(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>wg(o,t,r)),wg(null,t,r),e.join("")}function HS(n){return Math.round(Date.now()/1e3)+n}function VS(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",ar={tested:!1,writable:!1},ay=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ar.tested)return ar.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ar.tested=!0,ar.writable=!0}catch{ar.tested=!0,ar.writable=!1}return ar.writable};function qS(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}const ly=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),KS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Zr=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},lr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},In=async(n,e)=>{await n.removeItem(e)};class Pa{constructor(){this.promise=new Pa.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Pa.promiseConstructor=Promise;function Bu(n){const e=n.split(".");if(e.length!==3)throw new dc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!NS.test(e[r]))throw new dc("JWT not in base64url format");return{header:JSON.parse(bg(e[0])),payload:JSON.parse(bg(e[1])),signature:ii(e[2]),raw:{header:e[0],payload:e[1]}}}async function YS(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function GS(n,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function JS(n){return("0"+n.toString(16)).substr(-2)}function QS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let a=0;a<56;a++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,JS).join("")}async function XS(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function ZS(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await XS(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yr(n,e,t=!1){const r=QS();let o=r;t&&(o+="/PASSWORD_RECOVERY"),await Zr(n,`${e}-code-verifier`,o);const a=await ZS(r);return[a,r===a?"plain":"s256"]}const ek=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tk(n){const e=n.headers.get(cc);if(!e||!e.match(ek))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nk(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function rk(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ik=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gr(n){if(!ik.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wu(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sk(n,e){return new Proxy(n,{get:(t,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,o)}})}function xg(n){return JSON.parse(JSON.stringify(n))}const cr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ok=[502,503,504];async function Sg(n){var e;if(!KS(n))throw new hc(cr(n),0);if(ok.includes(n.status))throw new hc(cr(n),n.status);let t;try{t=await n.json()}catch(a){throw new fr(cr(a),a)}let r;const o=tk(n);if(o&&o.getTime()>=sy["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new vg(cr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Bt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new vg(cr(t),n.status,t.weak_password.reasons);throw new MS(cr(t),n.status||500,r)}const ak=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function he(n,e,t,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[cc]||(a[cc]=sy["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await lk(n,e,t+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function lk(n,e,t,r,o,a){const l=ak(e,r,o,a);let c;try{c=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new hc(cr(d),0)}if(c.ok||await Sg(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await Sg(d)}}function Wt(n){var e;let t=null;hk(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=HS(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function kg(n){const e=Wt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Fn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function uk(n){return{data:n,error:null}}function ck(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:a}=n,l=ui(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function Eg(n){return n}function hk(n){return n.access_token&&n.refresh_token&&n.expires_in}const Hu=["global","local","others"];class dk{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=ly(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Hu[0]){if(Hu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hu.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Fn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=ui(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:ck,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ae(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fn})}catch(t){if(ae(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Eg});if(g.error)throw g.error;const y=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);f[`${k}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ae(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Gr(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fn})}catch(t){if(ae(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Gr(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Fn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Gr(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Fn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Gr(e.userId);try{const{data:t,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Gr(e.userId),Gr(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,o,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Eg});if(g.error)throw g.error;const y=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);f[`${k}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ae(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ae(t))return{data:null,error:t};throw t}}}function Tg(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Jr={debug:!!(globalThis&&ay()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fk extends uy{}async function pk(n,e,t){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fk(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Jr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function gk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cy(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function mk(n){return parseInt(n,16)}function yk(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function vk(n){var e;const{chainId:t,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:g,uri:y,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=cy(n.address),b=g?`${g}://${r}`:r,S=n.statement?`${n.statement}
`:"",k=`${b} wants you to sign in with your Ethereum account:
${_}

${S}`;let C=`URI: ${y}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),c&&(C+=`
Not Before: ${c.toISOString()}`),d&&(C+=`
Request ID: ${d}`),f){let R=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);R+=`
- ${j}`}C+=R}return`${k}
${C}`}class Ve extends Error{constructor({message:e,code:t,cause:r,name:o}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class xa extends Ve{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function _k({error:n,options:e}){var t,r,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ve({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(hy(l)){if(a.rp.id!==l)return new Ve({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function wk({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ve({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(hy(r)){if(t.rpId!==r)return new Ve({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class bk{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const xk=new bk;function Sk(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,o=ui(n,["challenge","user","excludeCredentials"]),a=ii(e).buffer,l=Object.assign(Object.assign({},t),{id:ii(t.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:ii(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function kk(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=ui(n,["challenge","allowCredentials"]),o=ii(e).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:ii(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Ek(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:gr(new Uint8Array(n.response.attestationObject)),clientDataJSON:gr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Tk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:gr(new Uint8Array(o.authenticatorData)),clientDataJSON:gr(new Uint8Array(o.clientDataJSON)),signature:gr(new Uint8Array(o.signature)),userHandle:o.userHandle?gr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hy(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Cg(){var n,e;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Ck(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",e)}:{data:null,error:new xa("Empty credential response",e)}}catch(e){return{data:null,error:_k({error:e,options:n})}}}async function Ok(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",e)}:{data:null,error:new xa("Empty credential response",e)}}catch(e){return{data:null,error:wk({error:e,options:n})}}}const Pk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Rk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sa(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of n)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(t(l))r[a]=l;else if(e(l)){const c=r[a];e(c)?r[a]=Sa(c,l):r[a]=Sa(l)}else r[a]=l}return r}function jk(n,e){return Sa(Pk,n,e||{})}function Ak(n,e){return Sa(Rk,n,e||{})}class Nk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:o},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const d=o??xk.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=jk(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:g,error:y}=await Ck({publicKey:f,signal:d});return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const f=Ak(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:g,error:y}=await Ok(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(l){return ae(l)?{data:null,error:l}:{data:null,error:new fr("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new _s("rpId is required for WebAuthn authentication")};try{if(!Cg())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:o},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ae(l)?{data:null,error:l}:{data:null,error:new fr("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new _s("rpId is required for WebAuthn registration")};try{if(!Cg())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:o},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ae(l)?{data:null,error:l}:{data:null,error:new fr("Unexpected error in register",l)}}}}gk();const Dk={url:RS,storageKey:jS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Og(n,e,t){return await t()}const Qr={};class ws{get jwks(){var e,t;return(t=(e=Qr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Qr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Dk),e);if(this.storageKey=a.storageKey,this.instanceID=(t=ws.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,ws.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&tt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ly(a.fetch),this.lock=a.lock||Og,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=pk:this.lock=Og,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Nk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ay()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(tt()&&(t=qS(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FS(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ae(t)?this._returnResult({error:t}):this._returnResult({error:new fr("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Wt}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,o;try{let a;if("email"in e){const{email:g,password:y,options:v}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await Yr(this.storage,this.storageKey)),a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:y,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:b},xform:Wt})}else if("phone"in e){const{phone:g,password:y,options:v}=e;a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Wt})}else throw new ta("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:kg})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:kg})}else throw new ta("You must provide either an email or phone number and a password");const{data:r,error:o}=t;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const a=new Kr;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,o,a,l,c,d,f,g,y,v;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:S,wallet:k,statement:C,options:R}=e;let j;if(tt())if(typeof k=="object")j=k;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")j=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=k}const M=new URL((t=R==null?void 0:R.url)!==null&&t!==void 0?t:window.location.href),F=await j.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=cy(F[0]);let B=(r=R==null?void 0:R.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const L=await j.request({method:"eth_chainId"});B=mk(L)}const K={domain:M.host,address:$,statement:C,uri:M.href,version:"1",chainId:B,nonce:(o=R==null?void 0:R.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=R==null?void 0:R.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=R==null?void 0:R.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=R==null?void 0:R.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=R==null?void 0:R.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=R==null?void 0:R.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=vk(K),b=await j.request({method:"personal_sign",params:[yk(_),$]})}try{const{data:S,error:k}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:b},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Wt});if(k)throw k;if(!S||!S.session||!S.user){const C=new Kr;return this._returnResult({data:{user:null,session:null},error:C})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:k})}catch(S){if(ae(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,r,o,a,l,c,d,f,g,y,v,_;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:k,wallet:C,statement:R,options:j}=e;let M;if(tt())if(typeof C=="object")M=C;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))M=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const F=new URL((t=j==null?void 0:j.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in M&&M.signIn){const $=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),R?{statement:R}:null));let B;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")B=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)B=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)b=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),S=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${F.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j==null?void 0:j.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((y=(g=j==null?void 0:j.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...j.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const $=await M.signMessage(new TextEncoder().encode(b),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=$}}try{const{data:k,error:C}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:gr(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Wt});if(C)throw C;if(!k||!k.session||!k.user){const R=new Kr;return this._returnResult({data:{user:null,session:null},error:R})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(ae(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const t=await lr(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(t??"").split("/");try{const{data:a,error:l}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Wt});if(await In(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new Kr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(ae(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:a,nonce:l}=e,c=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Wt}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const g=new Kr;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,o,a,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Yr(this.storage,this.storageKey));const{error:y}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:g}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new ta("You must provide either an email or phone number.")}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var t,r;try{let o,a;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Wt});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var t,r,o,a,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Yr(this.storage,this.storageKey));const f=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:uk});return!((a=f.data)===null||a===void 0)&&a.url&&tt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(ae(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Bt;const{error:o}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:l}=await he(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:l,error:c}=await he(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new ta("You must provide either an email or phone number and a type")}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<zu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await lr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Wu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=sk(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fn}):await this._useSession(async t=>{var r,o,a;const{data:l,error:c}=t;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Fn})})}catch(t){if(ae(t))return LS(t)&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new Bt;const l=o.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Yr(this.storage,this.storageKey));const{data:f,error:g}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Fn});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bt;const t=Date.now()/1e3;let r=t,o=!0,a=null;const{payload:l}=Bu(e.access_token);if(l.exp&&(r=l.exp,o=r<=t),o){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(ae(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Bt;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!tt())throw new na("No browser detected.");if(e.error||e.error_description||e.error_code)throw new na(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new na("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yg("No code detected.");const{data:R,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!a||!c||!l||!f)throw new na("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(c);let v=g+y;d&&(v=parseInt(d));const _=v-g;_*1e3<=Xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const b=v-y;g-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,g):g-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,g);const{data:S,error:k}=await this._getUser(a);if(k)throw k;const C={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await lr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return this._returnResult({error:a});const l=(r=o.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(IS(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=VS(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Yr(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ae(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:o}=await this._useSession(async a=>{var l,c,d,f,g;const{data:y,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return tt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ae(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:o,data:{session:a}}=t;if(o)throw o;const{options:l,provider:c,token:d,access_token:f,nonce:g}=e,y=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wt}),{data:v,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Kr}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:a,error:l}=t;if(l)throw l;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await GS(async o=>(o>0&&await YS(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(o,a)=>{const l=200*Math.pow(2,o);return a&&Uu(a)&&Date.now()+l-r<Xr})}catch(r){if(this._debug(t,"error",r),ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),tt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await lr(this.storage,this.storageKey);if(o&&this.userStorage){let l=await lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await Zr(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Wu()}else if(o&&!o.user&&!o.user){const l=await lr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(o.user=l.user,await In(this.storage,this.storageKey+"-user"),await Zr(this.storage,this.storageKey,o)):o.user=Wu()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zu;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${zu}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),Uu(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(o.access_token);!c&&(l!=null&&l.user)?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Pa;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Bt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),ae(a)){const l={data:null,error:a};return Uu(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Zr(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const a=xg(o);await Zr(this.storage,this.storageKey,a)}else{const o=xg(t);await Zr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await In(this.storage,this.storageKey),await In(this.storage,this.storageKey+"-code-verifier"),await In(this.storage,this.storageKey+"-user"),this.userStorage&&await In(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Xr}ms, refresh threshold is ${uc} ticks`),o<=uc&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof uy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Yr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;return a?this._returnResult({data:null,error:a}):await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await he(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ek(e.webauthn.credential_response):Tk(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Sk(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:kk(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Bu(r.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;return o?this._returnResult({data:null,error:o}):r?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Bt});const l=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&tt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Bt});const l=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&tt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+DS>o)return r;const{data:a,error:l}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:_,error:b}=await this.getSession();if(b||!_.session)return this._returnResult({data:null,error:b});r=_.session.access_token}const{header:o,payload:a,signature:l,raw:{header:c,payload:d}}=Bu(r);t!=null&&t.allowExpired||nk(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:o,signature:l},error:null}}const g=rk(o.alg),y=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,l,WS(`${c}.${d}`)))throw new dc("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}}ws.nextInstanceID={};const Mk=ws;class Ik extends Mk{constructor(e){super(e)}}class Lk{constructor(e,t,r){var o,a,l;this.supabaseUrl=e,this.supabaseKey=t;const c=PS(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:bS,realtime:SS,auth:Object.assign(Object.assign({},xS),{storageKey:d}),global:wS},g=OS(r??{},f);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=TS(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Rx(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new yS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Tx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:a,storageKey:l,flowType:c,lock:d,debug:f,throwOnError:g},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ik({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:a,flowType:c,lock:d,debug:f,throwOnError:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Kx(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fk=(n,e,t)=>new Lk(n,e,t);function $k(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$k()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zk="https://nylvcqjzczvfkjjbeoef.supabase.co",Uk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55bHZjcWp6Y3p2ZmtqamJlb2VmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODI0NzgsImV4cCI6MjA3ODQ1ODQ3OH0.1UAbbef2icdl8SNsvDNdQUV_49J_BQLB0vfpOcK6r-8",Vt=Fk(zk,Uk);class Bk{async getCurrentUser(){try{const{data:{user:e}}=await Vt.auth.getUser();return e}catch(e){return console.error("Error getting current user:",e),null}}async signOut(){try{const{error:e}=await Vt.auth.signOut();if(e)throw e;return!0}catch(e){throw console.error("Error signing out:",e),e}}getAuthStateChangeListener(e){return Vt.auth.onAuthStateChange((t,r)=>{e(t,r)})}async fetchTasks(e){if(!e)return[];try{const{data:t,error:r}=await Vt.from("tasks").select("*").eq("user_email",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){return console.error("Error fetching tasks:",t),[]}}async createTask(e,t){if(!t)throw new Error("User email required");try{const{data:r,error:o}=await Vt.from("tasks").insert([{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate,due_time:e.dueTime,category:e.category,reminder_minutes:e.reminderMinutes,calendar_event_id:e.calendarEventId}]).select().single();if(o)throw o;return r}catch(r){throw console.error("Error creating task:",r),r}}async updateTask(e,t,r){if(!r)throw new Error("User email required");try{const{data:o,error:a}=await Vt.from("tasks").update({text:t.text,completed:t.completed,priority:t.priority,due_date:t.dueDate,due_time:t.dueTime,category:t.category,reminder_minutes:t.reminderMinutes,calendar_event_id:t.calendarEventId}).eq("id",e).eq("user_email",r).select().single();if(a)throw a;return o}catch(o){throw console.error("Error updating task:",o),o}}async deleteTask(e,t){if(!t)throw new Error("User email required");try{const{error:r}=await Vt.from("tasks").delete().eq("id",e).eq("user_email",t);if(r)throw r;return!0}catch(r){throw console.error("Error deleting task:",r),r}}async deleteCompletedTasks(e){if(!e)throw new Error("User email required");try{const{error:t}=await Vt.from("tasks").delete().eq("user_email",e).eq("completed",!0);if(t)throw t;return!0}catch(t){throw console.error("Error deleting completed tasks:",t),t}}convertToAppFormat(e){return{id:e.id,text:e.text,completed:e.completed,priority:e.priority,dueDate:e.due_date,dueTime:e.due_time,category:e.category,reminderMinutes:e.reminder_minutes,calendarEventId:e.calendar_event_id}}convertToDbFormat(e,t){return{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate,due_time:e.dueTime,category:e.category,reminder_minutes:e.reminderMinutes,calendar_event_id:e.calendarEventId}}}const Zt=new Bk;function Wk({onSignInSuccess:n,onSwitchToSignUp:e,onSwitchToReset:t}){const[r,o]=X.useState({email:"",password:""}),[a,l]=X.useState(""),[c,d]=X.useState(!1),f=()=>r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.password?!0:(l("Please enter your password"),!1):(l("Please enter a valid email address"),!1):(l("Please enter your email"),!1),g=async v=>{if(v.preventDefault(),l(""),!!f()){d(!0);try{const{data:_,error:b}=await Vt.auth.signInWithPassword({email:r.email,password:r.password});if(b)throw b;o({email:"",password:""}),n&&n(_.user)}catch(_){console.error("Error signing in:",_),_.message.includes("Email not confirmed")?l("Please verify your email before signing in. Check your inbox for the verification link."):_.message.includes("Invalid login credentials")?l("Invalid email or password. Please try again."):l(_.message||"Failed to sign in. Please try again.")}finally{d(!1)}}},y=v=>{o({...r,[v.target.name]:v.target.value}),l("")};return x.jsx("div",{className:"auth-overlay",children:x.jsx("div",{className:"auth-container",children:x.jsxs("div",{className:"auth-content",children:[x.jsx("h1",{className:"auth-title",children:"Welcome Back"}),x.jsx("p",{className:"auth-subtitle",children:"Sign in to access your tasks from anywhere"}),x.jsxs("form",{onSubmit:g,className:"auth-form",children:[x.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:r.email,onChange:y,disabled:c,autoFocus:!0}),x.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password",value:r.password,onChange:y,disabled:c}),a&&x.jsx("p",{className:"auth-error",children:a}),x.jsx("button",{type:"button",className:"forgot-password-link",onClick:t,disabled:c,children:"Forgot password?"}),x.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:c,children:c?"Signing In...":"Sign In"})]}),x.jsx("div",{className:"auth-footer",children:x.jsxs("p",{className:"auth-switch",children:["Don't have an account?"," ",x.jsx("button",{className:"auth-link",onClick:e,disabled:c,children:"Sign Up"})]})})]})})})}function Hk({onSignUpSuccess:n,onSwitchToSignIn:e}){const[t,r]=X.useState({name:"",email:"",password:"",confirmPassword:""}),[o,a]=X.useState(""),[l,c]=X.useState(!1),[d,f]=X.useState(!1),g=()=>t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?t.password?t.password.length<6?(a("Password must be at least 6 characters"),!1):t.password!==t.confirmPassword?(a("Passwords do not match"),!1):!0:(a("Please enter a password"),!1):(a("Please enter a valid email address"),!1):(a("Please enter your email"),!1),y=async _=>{if(_.preventDefault(),a(""),!!g()){c(!0);try{const{error:b}=await Vt.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name||t.email.split("@")[0]},emailRedirectTo:`${window.location.origin}/react-todo-app`}});if(b)throw b;f(!0),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{n&&n()},3e3)}catch(b){console.error("Error signing up:",b),a(b.message||"Failed to sign up. Please try again.")}finally{c(!1)}}},v=_=>{r({...t,[_.target.name]:_.target.value}),a("")};return d?x.jsx("div",{className:"auth-overlay",children:x.jsx("div",{className:"auth-container",children:x.jsx("div",{className:"auth-content",children:x.jsxs("div",{className:"verification-success",children:[x.jsx("div",{className:"success-icon",children:""}),x.jsx("h2",{className:"auth-title",children:"Check Your Email"}),x.jsxs("p",{className:"verification-message",children:["We've sent a verification link to ",x.jsx("strong",{children:t.email})]}),x.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to verify your account and start using the app."}),x.jsx("button",{className:"auth-button secondary-button",onClick:e,children:"Back to Sign In"})]})})})}):x.jsx("div",{className:"auth-overlay",children:x.jsx("div",{className:"auth-container",children:x.jsxs("div",{className:"auth-content",children:[x.jsx("h1",{className:"auth-title",children:"Create Account"}),x.jsx("p",{className:"auth-subtitle",children:"Sign up to sync your tasks across all devices"}),x.jsxs("form",{onSubmit:y,className:"auth-form",children:[x.jsx("input",{type:"text",name:"name",className:"auth-input",placeholder:"Your name (optional)",value:t.name,onChange:v,disabled:l}),x.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:t.email,onChange:v,disabled:l,autoFocus:!0}),x.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password (min 6 characters)",value:t.password,onChange:v,disabled:l}),x.jsx("input",{type:"password",name:"confirmPassword",className:"auth-input",placeholder:"Confirm password",value:t.confirmPassword,onChange:v,disabled:l}),o&&x.jsx("p",{className:"auth-error",children:o}),x.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:l,children:l?"Creating Account...":"Sign Up"})]}),x.jsx("div",{className:"auth-footer",children:x.jsxs("p",{className:"auth-switch",children:["Already have an account?"," ",x.jsx("button",{className:"auth-link",onClick:e,disabled:l,children:"Sign In"})]})}),x.jsx("p",{className:"auth-privacy-note",children:"By signing up, you agree to receive verification emails. We don't send spam or share your data."})]})})})}function Vk({onBackToSignIn:n}){const[e,t]=X.useState(""),[r,o]=X.useState(""),[a,l]=X.useState(!1),[c,d]=X.useState(!1),f=()=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!0:(o("Please enter a valid email address"),!1):(o("Please enter your email"),!1),g=async y=>{if(y.preventDefault(),o(""),!!f()){l(!0);try{const{error:v}=await Vt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/react-todo-app`});if(v)throw v;d(!0),t("")}catch(v){console.error("Error sending reset email:",v),o(v.message||"Failed to send reset email. Please try again.")}finally{l(!1)}}};return c?x.jsx("div",{className:"auth-overlay",children:x.jsx("div",{className:"auth-container",children:x.jsx("div",{className:"auth-content",children:x.jsxs("div",{className:"verification-success",children:[x.jsx("div",{className:"success-icon",children:""}),x.jsx("h2",{className:"auth-title",children:"Check Your Email"}),x.jsx("p",{className:"verification-message",children:"We've sent a password reset link to your email."}),x.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to reset your password."}),x.jsx("button",{className:"auth-button secondary-button",onClick:n,children:"Back to Sign In"})]})})})}):x.jsx("div",{className:"auth-overlay",children:x.jsx("div",{className:"auth-container",children:x.jsxs("div",{className:"auth-content",children:[x.jsx("h1",{className:"auth-title",children:"Reset Password"}),x.jsx("p",{className:"auth-subtitle",children:"Enter your email and we'll send you a link to reset your password"}),x.jsxs("form",{onSubmit:g,className:"auth-form",children:[x.jsx("input",{type:"email",className:"auth-input",placeholder:"your@email.com",value:e,onChange:y=>{t(y.target.value),o("")},disabled:a,autoFocus:!0}),r&&x.jsx("p",{className:"auth-error",children:r}),x.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),x.jsx("div",{className:"auth-footer",children:x.jsxs("p",{className:"auth-switch",children:["Remember your password?"," ",x.jsx("button",{className:"auth-link",onClick:n,disabled:a,children:"Sign In"})]})})]})})})}function Pg({addTask:n}){const[e,t]=X.useState(!0),r=[{text:"Drink water",category:"Hydration",priority:"low",icon:""},{text:"Make coffee",category:"Food",priority:"low",icon:""},{text:"Cook meal",category:"Food",priority:"medium",icon:""},{text:"Meal prep",category:"Food",priority:"medium",icon:""},{text:"Exercise",category:"Health",priority:"medium",icon:""},{text:"Meditate",category:"Health",priority:"low",icon:""},{text:"Take vitamins",category:"Health",priority:"low",icon:""},{text:"Code for 1 hour",category:"Coding",priority:"high",icon:""},{text:"Pray",category:"Personal",priority:"medium",icon:""},{text:"Read for 30 min",category:"Personal",priority:"low",icon:""},{text:"Journal",category:"Personal",priority:"low",icon:""},{text:"Clean room",category:"Home",priority:"medium",icon:""},{text:"Do laundry",category:"Home",priority:"low",icon:""},{text:"Study",category:"Education",priority:"high",icon:""}],o=()=>{const l=new Date,c=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");return`${c}-${d}-${f}`},a=l=>{n({text:`${l.icon} ${l.text}`,priority:l.priority,category:l.category,dueDate:o(),dueTime:"",reminderMinutes:null})};return x.jsxs("div",{className:"quick-add-section",children:[x.jsxs("div",{className:"quick-add-header",children:[x.jsxs("h3",{className:"quick-add-title",children:[x.jsx("span",{className:"quick-add-icon",children:""}),"Quick Add"]}),x.jsx("button",{type:"button",className:"quick-add-toggle",onClick:()=>t(!e),children:e?"":""})]}),e&&x.jsx("div",{className:"quick-add-grid",children:r.map((l,c)=>x.jsxs("button",{type:"button",className:`quick-add-task priority-${l.priority}`,onClick:()=>a(l),children:[x.jsx("span",{className:"quick-task-icon",children:l.icon}),x.jsx("span",{className:"quick-task-text",children:l.text})]},c))})]})}function qk(){const[n,e]=X.useState([]),[t,r]=X.useState("all"),[o,a]=X.useState(""),[l,c]=X.useState(!1),[d,f]=X.useState("today"),[g,y]=X.useState("default"),[v,_]=X.useState(!1),[b,S]=X.useState("signin"),[k,C]=X.useState(null),[R,j]=X.useState(!0),[M,F]=X.useState(""),[$,B]=X.useState(""),K=X.useRef(new Set);X.useEffect(()=>{"Notification"in window&&(y(Notification.permission),Notification.permission==="default"&&Notification.requestPermission().then(E=>{y(E)}))},[]),X.useEffect(()=>{Zt.getCurrentUser().then(D=>{var q;D&&(C(D),B(D.email),F(((q=D.user_metadata)==null?void 0:q.name)||D.email.split("@")[0])),j(!1)});const{data:E}=Zt.getAuthStateChangeListener((D,q)=>{var te;D==="SIGNED_IN"&&(q!=null&&q.user)?(C(q.user),B(q.user.email),F(((te=q.user.user_metadata)==null?void 0:te.name)||q.user.email.split("@")[0])):D==="SIGNED_OUT"&&(C(null),B(""),F(""),e([]))});return()=>{E!=null&&E.subscription&&E.subscription.unsubscribe()}},[]),X.useEffect(()=>{(async()=>{const D=localStorage.getItem("darkMode");D&&c(JSON.parse(D)),k&&(localStorage.getItem(`hasCompletedOnboarding_${k.id}`)||_(!0))})()},[k]),X.useEffect(()=>{(async()=>{if($){const q=(await Zt.fetchTasks($)).map(te=>Zt.convertToAppFormat(te));e(q)}})()},[$]),X.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(l))},[l]),X.useEffect(()=>{const E=()=>{const q=new Date;n.forEach(te=>{if(te.completed||!te.dueDate||!te.reminderMinutes)return;const oe=`${te.id}-${te.reminderMinutes}`;if(K.current.has(oe))return;const[we,ye,Te]=te.dueDate.split("-").map(Number),be=new Date(we,ye-1,Te);if(te.dueTime){const[Ra,_r]=te.dueTime.split(":");be.setHours(parseInt(Ra),parseInt(_r),0,0)}else be.setHours(23,59,59,999);const Ze=new Date(be.getTime()-te.reminderMinutes*60*1e3);q>=Ze&&q<new Date(Ze.getTime()+6e4)&&(L(te),K.current.add(oe))})};E();const D=setInterval(E,6e4);return()=>clearInterval(D)},[n,g]);const L=E=>{if(g==="granted"){const D=new Notification("Task Reminder",{body:`${E.text}${E.dueTime?` at ${E.dueTime}`:""}`,icon:"",badge:"",tag:`task-${E.id}`,requireInteraction:!0});D.onclick=()=>{window.focus(),D.close()}}},Y=async E=>{const D={id:Date.now(),text:E.text,completed:!1,priority:E.priority||"medium",dueDate:E.dueDate||"",dueTime:E.dueTime||"",category:E.category||"",reminderMinutes:E.reminderMinutes||null};if($)try{await Zt.createTask(D,$)}catch(q){console.error("Failed to save task to Supabase:",q)}e([D,...n])},ee=async E=>{const D=n.find(te=>te.id===E);if(!D)return;const q={...D,completed:!D.completed};if($)try{await Zt.updateTask(E,q,$)}catch(te){console.error("Failed to update task in Supabase:",te)}e(n.map(te=>te.id===E?q:te))},ne=async E=>{if($)try{await Zt.deleteTask(E,$)}catch(D){console.error("Failed to delete task from Supabase:",D)}e(n.filter(D=>D.id!==E))},de=async(E,D)=>{const te={...n.find(oe=>oe.id===E),...D};if($)try{await Zt.updateTask(E,te,$)}catch(oe){console.error("Failed to update task in Supabase:",oe)}e(n.map(oe=>oe.id===E?te:oe))},_e=async()=>{if($)try{await Zt.deleteCompletedTasks($)}catch(E){console.error("Failed to delete completed tasks from Supabase:",E)}e(n.filter(E=>!E.completed))},pe=()=>{k&&localStorage.setItem(`hasCompletedOnboarding_${k.id}`,"true"),_(!1)},me=async()=>{try{await Zt.signOut()}catch(E){console.error("Error signing out:",E)}},V=(()=>{let E=n;switch(t){case"active":E=E.filter(D=>!D.completed);break;case"completed":E=E.filter(D=>D.completed);break}return o.trim()&&(E=E.filter(D=>D.text.toLowerCase().includes(o.toLowerCase())||D.category&&D.category.toLowerCase().includes(o.toLowerCase()))),E})(),Q=n.filter(E=>!E.completed).length;return R?x.jsx("div",{className:`todo-app ${l?"dark-mode":""}`,children:x.jsxs("div",{className:"auth-loading",children:[x.jsx("div",{className:"loading-spinner"}),x.jsx("p",{children:"Loading..."})]})}):k?x.jsxs("div",{className:`todo-app ${l?"dark-mode":""}`,children:[v&&x.jsx(vx,{onComplete:pe,addTask:Y}),x.jsxs("div",{className:"todo-container",children:[x.jsxs("div",{className:"header",children:[x.jsx("div",{className:"header-left",children:x.jsx("h1",{className:"todo-title",children:"ToDo App"})}),x.jsxs("div",{className:"header-controls",children:[x.jsxs("div",{className:"user-info",children:[x.jsx("span",{className:"user-avatar",children:M.charAt(0).toUpperCase()}),x.jsx("span",{className:"user-name",children:M})]}),x.jsx("button",{className:"dark-mode-toggle",onClick:()=>c(!l),title:l?"Light Mode":"Dark Mode",children:l?"":""}),x.jsx("button",{className:"sign-out-button",onClick:me,title:"Sign Out",children:"Sign Out"}),x.jsxs("div",{className:"view-switcher",children:[x.jsx("button",{className:d==="today"?"view-btn active":"view-btn",onClick:()=>f("today"),children:"Today"}),x.jsx("button",{className:d==="tasks"?"view-btn active":"view-btn",onClick:()=>f("tasks"),children:"All Tasks"}),x.jsx("button",{className:d==="dashboard"?"view-btn active":"view-btn",onClick:()=>f("dashboard"),children:"Dashboard"})]})]})]}),d!=="today"&&x.jsx(_x,{userName:M}),d==="today"?x.jsxs(x.Fragment,{children:[x.jsx(Pg,{addTask:Y}),x.jsx(Bf,{addTask:Y}),x.jsx(yx,{tasks:n,toggleComplete:ee,deleteTask:ne,editTask:de})]}):d==="tasks"?x.jsxs(x.Fragment,{children:[x.jsx(Pg,{addTask:Y}),x.jsx(Bf,{addTask:Y}),x.jsx("div",{className:"search-filter-container",children:x.jsx("input",{type:"text",className:"search-input",placeholder:"Search tasks...",value:o,onChange:E=>a(E.target.value)})}),x.jsxs("div",{className:"filter-buttons",children:[x.jsx("button",{className:t==="all"?"filter-btn active":"filter-btn",onClick:()=>r("all"),children:"All"}),x.jsx("button",{className:t==="active"?"filter-btn active":"filter-btn",onClick:()=>r("active"),children:"Active"}),x.jsx("button",{className:t==="completed"?"filter-btn active":"filter-btn",onClick:()=>r("completed"),children:"Completed"})]}),x.jsx("div",{className:"todo-list",children:V.length===0?x.jsx("p",{className:"empty-state",children:o?"No tasks match your search.":t==="completed"?"No completed tasks yet!":t==="active"?"No active tasks! Add one above.":"No tasks yet! Add your first task above."}):V.map(E=>x.jsx(ra,{task:E,toggleComplete:ee,deleteTask:ne,editTask:de},E.id))}),n.length>0&&x.jsxs("div",{className:"todo-footer",children:[x.jsxs("span",{className:"task-count",children:[Q," ",Q===1?"task":"tasks"," remaining"]}),n.some(E=>E.completed)&&x.jsx("button",{className:"clear-completed",onClick:_e,children:"Clear Completed"})]})]}):x.jsx(mx,{tasks:n})]})]}):b==="signup"?x.jsx(Hk,{onSignUpSuccess:()=>S("signin"),onSwitchToSignIn:()=>S("signin")}):b==="reset"?x.jsx(Vk,{onBackToSignIn:()=>S("signin")}):x.jsx(Wk,{onSignInSuccess:()=>{},onSwitchToSignUp:()=>S("signup"),onSwitchToReset:()=>S("reset")})}b0.render(x.jsx(g0.StrictMode,{children:x.jsx(qk,{})}),document.getElementById("root"));
